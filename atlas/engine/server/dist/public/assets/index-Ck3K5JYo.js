var V1=e=>{throw TypeError(e)};var og=(e,n,r)=>n.has(e)||V1("Cannot "+r);var H=(e,n,r)=>(og(e,n,"read from private field"),r?r.call(e):n.get(e)),Fe=(e,n,r)=>n.has(e)?V1("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),Ne=(e,n,r,o)=>(og(e,n,"write to private field"),o?o.call(e,r):n.set(e,r),r),tt=(e,n,r)=>(og(e,n,"access private method"),r);var sf=(e,n,r,o)=>({set _(i){Ne(e,n,i,r)},get _(){return H(e,n,o)}});function hI(e,n){for(var r=0;r<n.length;r++){const o=n[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(o,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X_={exports:{}},Ip={},Q_={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),pI=Symbol.for("react.portal"),mI=Symbol.for("react.fragment"),gI=Symbol.for("react.strict_mode"),yI=Symbol.for("react.profiler"),xI=Symbol.for("react.provider"),vI=Symbol.for("react.context"),wI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),SI=Symbol.for("react.memo"),kI=Symbol.for("react.lazy"),W1=Symbol.iterator;function _I(e){return e===null||typeof e!="object"?null:(e=W1&&e[W1]||e["@@iterator"],typeof e=="function"?e:null)}var J_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z_=Object.assign,eN={};function hc(e,n,r){this.props=e,this.context=n,this.refs=eN,this.updater=r||J_}hc.prototype.isReactComponent={};hc.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};hc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tN(){}tN.prototype=hc.prototype;function Y0(e,n,r){this.props=e,this.context=n,this.refs=eN,this.updater=r||J_}var X0=Y0.prototype=new tN;X0.constructor=Y0;Z_(X0,hc.prototype);X0.isPureReactComponent=!0;var q1=Array.isArray,nN=Object.prototype.hasOwnProperty,Q0={current:null},rN={key:!0,ref:!0,__self:!0,__source:!0};function oN(e,n,r){var o,i={},s=null,a=null;if(n!=null)for(o in n.ref!==void 0&&(a=n.ref),n.key!==void 0&&(s=""+n.key),n)nN.call(n,o)&&!rN.hasOwnProperty(o)&&(i[o]=n[o]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps,l)i[o]===void 0&&(i[o]=l[o]);return{$$typeof:_d,type:e,key:s,ref:a,props:i,_owner:Q0.current}}function NI(e,n){return{$$typeof:_d,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function J0(e){return typeof e=="object"&&e!==null&&e.$$typeof===_d}function CI(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var G1=/\/+/g;function ig(e,n){return typeof e=="object"&&e!==null&&e.key!=null?CI(""+e.key):n.toString(36)}function Xf(e,n,r,o,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _d:case pI:a=!0}}if(a)return a=e,i=i(a),e=o===""?"."+ig(a,0):o,q1(i)?(r="",e!=null&&(r=e.replace(G1,"$&/")+"/"),Xf(i,n,r,"",function(u){return u})):i!=null&&(J0(i)&&(i=NI(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(G1,"$&/")+"/")+e)),n.push(i)),1;if(a=0,o=o===""?".":o+":",q1(e))for(var l=0;l<e.length;l++){s=e[l];var c=o+ig(s,l);a+=Xf(s,n,r,c,i)}else if(c=_I(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=o+ig(s,l++),a+=Xf(s,n,r,c,i);else if(s==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return a}function af(e,n,r){if(e==null)return e;var o=[],i=0;return Xf(e,o,"","",function(s){return n.call(r,s,i++)}),o}function EI(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Kn={current:null},Qf={transition:null},jI={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:Q0};function iN(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:af,forEach:function(e,n,r){af(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return af(e,function(){n++}),n},toArray:function(e){return af(e,function(n){return n})||[]},only:function(e){if(!J0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=hc;at.Fragment=mI;at.Profiler=yI;at.PureComponent=Y0;at.StrictMode=gI;at.Suspense=bI;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;at.act=iN;at.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Z_({},e.props),i=e.key,s=e.ref,a=e._owner;if(n!=null){if(n.ref!==void 0&&(s=n.ref,a=Q0.current),n.key!==void 0&&(i=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)nN.call(n,c)&&!rN.hasOwnProperty(c)&&(o[c]=n[c]===void 0&&l!==void 0?l[c]:n[c])}var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:_d,type:e.type,key:i,ref:s,props:o,_owner:a}};at.createContext=function(e){return e={$$typeof:vI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xI,_context:e},e.Consumer=e};at.createElement=oN;at.createFactory=function(e){var n=oN.bind(null,e);return n.type=e,n};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:wI,render:e}};at.isValidElement=J0;at.lazy=function(e){return{$$typeof:kI,_payload:{_status:-1,_result:e},_init:EI}};at.memo=function(e,n){return{$$typeof:SI,type:e,compare:n===void 0?null:n}};at.startTransition=function(e){var n=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=n}};at.unstable_act=iN;at.useCallback=function(e,n){return Kn.current.useCallback(e,n)};at.useContext=function(e){return Kn.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return Kn.current.useDeferredValue(e)};at.useEffect=function(e,n){return Kn.current.useEffect(e,n)};at.useId=function(){return Kn.current.useId()};at.useImperativeHandle=function(e,n,r){return Kn.current.useImperativeHandle(e,n,r)};at.useInsertionEffect=function(e,n){return Kn.current.useInsertionEffect(e,n)};at.useLayoutEffect=function(e,n){return Kn.current.useLayoutEffect(e,n)};at.useMemo=function(e,n){return Kn.current.useMemo(e,n)};at.useReducer=function(e,n,r){return Kn.current.useReducer(e,n,r)};at.useRef=function(e){return Kn.current.useRef(e)};at.useState=function(e){return Kn.current.useState(e)};at.useSyncExternalStore=function(e,n,r){return Kn.current.useSyncExternalStore(e,n,r)};at.useTransition=function(){return Kn.current.useTransition()};at.version="18.3.1";Q_.exports=at;var g=Q_.exports;const B=fc(g),Z0=hI({__proto__:null,default:B},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI=g,AI=Symbol.for("react.element"),PI=Symbol.for("react.fragment"),MI=Object.prototype.hasOwnProperty,RI=TI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,II={key:!0,ref:!0,__self:!0,__source:!0};function sN(e,n,r){var o,i={},s=null,a=null;r!==void 0&&(s=""+r),n.key!==void 0&&(s=""+n.key),n.ref!==void 0&&(a=n.ref);for(o in n)MI.call(n,o)&&!II.hasOwnProperty(o)&&(i[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)i[o]===void 0&&(i[o]=n[o]);return{$$typeof:AI,type:e,key:s,ref:a,props:i,_owner:RI.current}}Ip.Fragment=PI;Ip.jsx=sN;Ip.jsxs=sN;X_.exports=Ip;var d=X_.exports,aN={exports:{}},Mr={},lN={exports:{}},cN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n($,R){var T=$.length;$.push(R);e:for(;0<T;){var D=T-1>>>1,z=$[D];if(0<i(z,R))$[D]=R,$[T]=z,T=D;else break e}}function r($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var R=$[0],T=$.pop();if(T!==R){$[0]=T;e:for(var D=0,z=$.length,M=z>>>1;D<M;){var G=2*(D+1)-1,ee=$[G],re=G+1,Y=$[re];if(0>i(ee,T))re<z&&0>i(Y,ee)?($[D]=Y,$[re]=T,D=re):($[D]=ee,$[G]=T,D=G);else if(re<z&&0>i(Y,T))$[D]=Y,$[re]=T,D=re;else break e}}return R}function i($,R){var T=$.sortIndex-R.sortIndex;return T!==0?T:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var R=r(u);R!==null;){if(R.callback===null)o(u);else if(R.startTime<=$)o(u),R.sortIndex=R.expirationTime,n(c,R);else break;R=r(u)}}function k($){if(x=!1,S($),!v)if(r(c)!==null)v=!0,L(_);else{var R=r(u);R!==null&&W(k,R.startTime-$)}}function _($,R){v=!1,x&&(x=!1,y(j),j=-1),p=!0;var T=m;try{for(S(R),f=r(c);f!==null&&(!(f.expirationTime>R)||$&&!I());){var D=f.callback;if(typeof D=="function"){f.callback=null,m=f.priorityLevel;var z=D(f.expirationTime<=R);R=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&o(c),S(R)}else o(c);f=r(c)}if(f!==null)var M=!0;else{var G=r(u);G!==null&&W(k,G.startTime-R),M=!1}return M}finally{f=null,m=T,p=!1}}var N=!1,C=null,j=-1,A=5,E=-1;function I(){return!(e.unstable_now()-E<A)}function O(){if(C!==null){var $=e.unstable_now();E=$;var R=!0;try{R=C(!0,$)}finally{R?U():(N=!1,C=null)}}else N=!1}var U;if(typeof w=="function")U=function(){w(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=O,U=function(){F.postMessage(null)}}else U=function(){b(O,0)};function L($){C=$,N||(N=!0,U())}function W($,R){j=b(function(){$(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(_))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var T=m;m=R;try{return $()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var T=m;m=$;try{return R()}finally{m=T}},e.unstable_scheduleCallback=function($,R,T){var D=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,$={id:h++,callback:R,priorityLevel:$,startTime:T,expirationTime:z,sortIndex:-1},T>D?($.sortIndex=T,n(u,$),r(c)===null&&$===r(u)&&(x?(y(j),j=-1):x=!0,W(k,T-D))):($.sortIndex=z,n(c,$),v||p||(v=!0,L(_))),$},e.unstable_shouldYield=I,e.unstable_wrapCallback=function($){var R=m;return function(){var T=m;m=R;try{return $.apply(this,arguments)}finally{m=T}}}})(cN);lN.exports=cN;var OI=lN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI=g,Ar=OI;function he(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uN=new Set,Ou={};function Pa(e,n){Hl(e,n),Hl(e+"Capture",n)}function Hl(e,n){for(Ou[e]=n,e=0;e<n.length;e++)uN.add(n[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,LI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K1={},Y1={};function $I(e){return Ay.call(Y1,e)?!0:Ay.call(K1,e)?!1:LI.test(e)?Y1[e]=!0:(K1[e]=!0,!1)}function zI(e,n,r,o){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FI(e,n,r,o){if(n===null||typeof n>"u"||zI(e,n,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Yn(e,n,r,o,i,s,a){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=a}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Yn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];En[n]=new Yn(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Yn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Yn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Yn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Yn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Yn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Yn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Yn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ev,tv);En[n]=new Yn(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ev,tv);En[n]=new Yn(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ev,tv);En[n]=new Yn(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Yn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Yn(e,1,!1,e.toLowerCase(),null,!0,!0)});function nv(e,n,r,o){var i=En.hasOwnProperty(n)?En[n]:null;(i!==null?i.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(FI(n,r,i,o)&&(r=null),o||i===null?$I(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(n=i.attributeName,o=i.attributeNamespace,r===null?e.removeAttribute(n):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,o?e.setAttributeNS(o,n,r):e.setAttribute(n,r))))}var Ai=DI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lf=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),dN=Symbol.for("react.provider"),fN=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),hN=Symbol.for("react.offscreen"),X1=Symbol.iterator;function Pc(e){return e===null||typeof e!="object"?null:(e=X1&&e[X1]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,sg;function ru(e){if(sg===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);sg=n&&n[1]||""}return`
`+sg+e}var ag=!1;function lg(e,n){if(!e||ag)return"";ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var o=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){o=u}e.call(n.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=o.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ag=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ru(e):""}function UI(e){switch(e.tag){case 5:return ru(e.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return e=lg(e.type,!1),e;case 11:return e=lg(e.type.render,!1),e;case 1:return e=lg(e.type,!0),e;default:return""}}function Iy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nl:return"Fragment";case tl:return"Portal";case Py:return"Profiler";case rv:return"StrictMode";case My:return"Suspense";case Ry:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fN:return(e.displayName||"Context")+".Consumer";case dN:return(e._context.displayName||"Context")+".Provider";case ov:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iv:return n=e.displayName||null,n!==null?n:Iy(e.type)||"Memo";case Vi:n=e._payload,e=e._init;try{return Iy(e(n))}catch{}}return null}function BI(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(n);case 8:return n===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pN(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function HI(e){var n=pN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(a){o=""+a,s.call(this,a)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cf(e){e._valueTracker||(e._valueTracker=HI(e))}function mN(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=pN(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function kh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oy(e,n){var r=n.checked;return Bt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q1(e,n){var r=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;r=Cs(n.value!=null?n.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function gN(e,n){n=n.checked,n!=null&&nv(e,"checked",n,!1)}function Dy(e,n){gN(e,n);var r=Cs(n.value),o=n.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ly(e,n.type,r):n.hasOwnProperty("defaultValue")&&Ly(e,n.type,Cs(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function J1(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ly(e,n,r){(n!=="number"||kh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ou=Array.isArray;function gl(e,n,r,o){if(e=e.options,n){n={};for(var i=0;i<r.length;i++)n["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=n.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Cs(r),n=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}n!==null||e[i].disabled||(n=e[i])}n!==null&&(n.selected=!0)}}function $y(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(he(91));return Bt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z1(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(he(92));if(ou(r)){if(1<r.length)throw Error(he(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:Cs(r)}}function yN(e,n){var r=Cs(n.value),o=Cs(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function eb(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function xN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zy(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?xN(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uf,vN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,o,i){MSApp.execUnsafeLocalFunction(function(){return e(n,r,o,i)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(uf=uf||document.createElement("div"),uf.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=uf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Du(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VI=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(e){VI.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),yu[n]=yu[e]})});function wN(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||yu.hasOwnProperty(e)&&yu[e]?(""+n).trim():n+"px"}function bN(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var o=r.indexOf("--")===0,i=wN(r,n[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,i):e[r]=i}}var WI=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fy(e,n){if(n){if(WI[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(he(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(he(61))}if(n.style!=null&&typeof n.style!="object")throw Error(he(62))}}function Uy(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=null;function sv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hy=null,yl=null,xl=null;function tb(e){if(e=Ed(e)){if(typeof Hy!="function")throw Error(he(280));var n=e.stateNode;n&&(n=zp(n),Hy(e.stateNode,e.type,n))}}function SN(e){yl?xl?xl.push(e):xl=[e]:yl=e}function kN(){if(yl){var e=yl,n=xl;if(xl=yl=null,tb(e),n)for(e=0;e<n.length;e++)tb(n[e])}}function _N(e,n){return e(n)}function NN(){}var cg=!1;function CN(e,n,r){if(cg)return e(n,r);cg=!0;try{return _N(e,n,r)}finally{cg=!1,(yl!==null||xl!==null)&&(NN(),kN())}}function Lu(e,n){var r=e.stateNode;if(r===null)return null;var o=zp(r);if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,n,typeof r));return r}var Vy=!1;if(bi)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Vy=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Vy=!1}function qI(e,n,r,o,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{n.apply(r,u)}catch(h){this.onError(h)}}var xu=!1,_h=null,Nh=!1,Wy=null,GI={onError:function(e){xu=!0,_h=e}};function KI(e,n,r,o,i,s,a,l,c){xu=!1,_h=null,qI.apply(GI,arguments)}function YI(e,n,r,o,i,s,a,l,c){if(KI.apply(this,arguments),xu){if(xu){var u=_h;xu=!1,_h=null}else throw Error(he(198));Nh||(Nh=!0,Wy=u)}}function Ma(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function EN(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function nb(e){if(Ma(e)!==e)throw Error(he(188))}function XI(e){var n=e.alternate;if(!n){if(n=Ma(e),n===null)throw Error(he(188));return n!==e?null:e}for(var r=e,o=n;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(o=i.return,o!==null){r=o;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return nb(i),e;if(s===o)return nb(i),n;s=s.sibling}throw Error(he(188))}if(r.return!==o.return)r=i,o=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,o=s;break}if(l===o){a=!0,o=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,o=i;break}if(l===o){a=!0,o=s,r=i;break}l=l.sibling}if(!a)throw Error(he(189))}}if(r.alternate!==o)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:n}function jN(e){return e=XI(e),e!==null?TN(e):null}function TN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=TN(e);if(n!==null)return n;e=e.sibling}return null}var AN=Ar.unstable_scheduleCallback,rb=Ar.unstable_cancelCallback,QI=Ar.unstable_shouldYield,JI=Ar.unstable_requestPaint,Xt=Ar.unstable_now,ZI=Ar.unstable_getCurrentPriorityLevel,av=Ar.unstable_ImmediatePriority,PN=Ar.unstable_UserBlockingPriority,Ch=Ar.unstable_NormalPriority,e4=Ar.unstable_LowPriority,MN=Ar.unstable_IdlePriority,Op=null,Bo=null;function t4(e){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(Op,e,void 0,(e.current.flags&128)===128)}catch{}}var xo=Math.clz32?Math.clz32:o4,n4=Math.log,r4=Math.LN2;function o4(e){return e>>>=0,e===0?32:31-(n4(e)/r4|0)|0}var df=64,ff=4194304;function iu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Eh(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?o=iu(l):(s&=a,s!==0&&(o=iu(s)))}else a=r&~i,a!==0?o=iu(a):s!==0&&(o=iu(s));if(o===0)return 0;if(n!==0&&n!==o&&!(n&i)&&(i=o&-o,s=n&-n,i>=s||i===16&&(s&4194240)!==0))return n;if(o&4&&(o|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)r=31-xo(n),i=1<<r,o|=e[r],n&=~i;return o}function i4(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-xo(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&o)&&(i[a]=i4(l,n)):c<=n&&(e.expiredLanes|=l),s&=~l}}function qy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RN(){var e=df;return df<<=1,!(df&4194240)&&(df=64),e}function ug(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Nd(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-xo(n),e[n]=r}function a4(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-xo(r),s=1<<i;n[i]=0,o[i]=-1,e[i]=-1,r&=~s}}function lv(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-xo(r),i=1<<o;i&n|e[o]&n&&(e[o]|=n),r&=~i}}var St=0;function IN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ON,cv,DN,LN,$N,Gy=!1,hf=[],ds=null,fs=null,hs=null,$u=new Map,zu=new Map,Ki=[],l4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ob(e,n){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":$u.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(n.pointerId)}}function Rc(e,n,r,o,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:s,targetContainers:[i]},n!==null&&(n=Ed(n),n!==null&&cv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,i!==null&&n.indexOf(i)===-1&&n.push(i),e)}function c4(e,n,r,o,i){switch(n){case"focusin":return ds=Rc(ds,e,n,r,o,i),!0;case"dragenter":return fs=Rc(fs,e,n,r,o,i),!0;case"mouseover":return hs=Rc(hs,e,n,r,o,i),!0;case"pointerover":var s=i.pointerId;return $u.set(s,Rc($u.get(s)||null,e,n,r,o,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,Rc(zu.get(s)||null,e,n,r,o,i)),!0}return!1}function zN(e){var n=Qs(e.target);if(n!==null){var r=Ma(n);if(r!==null){if(n=r.tag,n===13){if(n=EN(r),n!==null){e.blockedOn=n,$N(e.priority,function(){DN(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jf(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ky(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);By=o,r.target.dispatchEvent(o),By=null}else return n=Ed(r),n!==null&&cv(n),e.blockedOn=r,!1;n.shift()}return!0}function ib(e,n,r){Jf(e)&&r.delete(n)}function u4(){Gy=!1,ds!==null&&Jf(ds)&&(ds=null),fs!==null&&Jf(fs)&&(fs=null),hs!==null&&Jf(hs)&&(hs=null),$u.forEach(ib),zu.forEach(ib)}function Ic(e,n){e.blockedOn===n&&(e.blockedOn=null,Gy||(Gy=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,u4)))}function Fu(e){function n(i){return Ic(i,e)}if(0<hf.length){Ic(hf[0],e);for(var r=1;r<hf.length;r++){var o=hf[r];o.blockedOn===e&&(o.blockedOn=null)}}for(ds!==null&&Ic(ds,e),fs!==null&&Ic(fs,e),hs!==null&&Ic(hs,e),$u.forEach(n),zu.forEach(n),r=0;r<Ki.length;r++)o=Ki[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Ki.length&&(r=Ki[0],r.blockedOn===null);)zN(r),r.blockedOn===null&&Ki.shift()}var vl=Ai.ReactCurrentBatchConfig,jh=!0;function d4(e,n,r,o){var i=St,s=vl.transition;vl.transition=null;try{St=1,uv(e,n,r,o)}finally{St=i,vl.transition=s}}function f4(e,n,r,o){var i=St,s=vl.transition;vl.transition=null;try{St=4,uv(e,n,r,o)}finally{St=i,vl.transition=s}}function uv(e,n,r,o){if(jh){var i=Ky(e,n,r,o);if(i===null)wg(e,n,o,Th,r),ob(e,o);else if(c4(i,e,n,r,o))o.stopPropagation();else if(ob(e,o),n&4&&-1<l4.indexOf(e)){for(;i!==null;){var s=Ed(i);if(s!==null&&ON(s),s=Ky(e,n,r,o),s===null&&wg(e,n,o,Th,r),s===i)break;i=s}i!==null&&o.stopPropagation()}else wg(e,n,o,null,r)}}var Th=null;function Ky(e,n,r,o){if(Th=null,e=sv(o),e=Qs(e),e!==null)if(n=Ma(e),n===null)e=null;else if(r=n.tag,r===13){if(e=EN(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Th=e,null}function FN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZI()){case av:return 1;case PN:return 4;case Ch:case e4:return 16;case MN:return 536870912;default:return 16}default:return 16}}var as=null,dv=null,Zf=null;function UN(){if(Zf)return Zf;var e,n=dv,r=n.length,o,i="value"in as?as.value:as.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(o=1;o<=a&&n[r-o]===i[s-o];o++);return Zf=i.slice(e,1<o?1-o:void 0)}function eh(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function pf(){return!0}function sb(){return!1}function Rr(e){function n(r,o,i,s,a){this._reactName=r,this._targetInst=i,this.type=o,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pf:sb,this.isPropagationStopped=sb,this}return Bt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),n}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Rr(pc),Cd=Bt({},pc,{view:0,detail:0}),h4=Rr(Cd),dg,fg,Oc,Dp=Bt({},Cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oc&&(Oc&&e.type==="mousemove"?(dg=e.screenX-Oc.screenX,fg=e.screenY-Oc.screenY):fg=dg=0,Oc=e),dg)},movementY:function(e){return"movementY"in e?e.movementY:fg}}),ab=Rr(Dp),p4=Bt({},Dp,{dataTransfer:0}),m4=Rr(p4),g4=Bt({},Cd,{relatedTarget:0}),hg=Rr(g4),y4=Bt({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),x4=Rr(y4),v4=Bt({},pc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w4=Rr(v4),b4=Bt({},pc,{data:0}),lb=Rr(b4),S4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N4(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_4[e])?!!n[e]:!1}function hv(){return N4}var C4=Bt({},Cd,{key:function(e){if(e.key){var n=S4[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=eh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(e){return e.type==="keypress"?eh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E4=Rr(C4),j4=Bt({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Rr(j4),T4=Bt({},Cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),A4=Rr(T4),P4=Bt({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),M4=Rr(P4),R4=Bt({},Dp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I4=Rr(R4),O4=[9,13,27,32],pv=bi&&"CompositionEvent"in window,vu=null;bi&&"documentMode"in document&&(vu=document.documentMode);var D4=bi&&"TextEvent"in window&&!vu,BN=bi&&(!pv||vu&&8<vu&&11>=vu),ub=" ",db=!1;function HN(e,n){switch(e){case"keyup":return O4.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function L4(e,n){switch(e){case"compositionend":return VN(n);case"keypress":return n.which!==32?null:(db=!0,ub);case"textInput":return e=n.data,e===ub&&db?null:e;default:return null}}function $4(e,n){if(rl)return e==="compositionend"||!pv&&HN(e,n)?(e=UN(),Zf=dv=as=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return BN&&n.locale!=="ko"?null:n.data;default:return null}}var z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!z4[e.type]:n==="textarea"}function WN(e,n,r,o){SN(o),n=Ah(n,"onChange"),0<n.length&&(r=new fv("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var wu=null,Uu=null;function F4(e){nC(e,0)}function Lp(e){var n=sl(e);if(mN(n))return e}function U4(e,n){if(e==="change")return n}var qN=!1;if(bi){var pg;if(bi){var mg="oninput"in document;if(!mg){var hb=document.createElement("div");hb.setAttribute("oninput","return;"),mg=typeof hb.oninput=="function"}pg=mg}else pg=!1;qN=pg&&(!document.documentMode||9<document.documentMode)}function pb(){wu&&(wu.detachEvent("onpropertychange",GN),Uu=wu=null)}function GN(e){if(e.propertyName==="value"&&Lp(Uu)){var n=[];WN(n,Uu,e,sv(e)),CN(F4,n)}}function B4(e,n,r){e==="focusin"?(pb(),wu=n,Uu=r,wu.attachEvent("onpropertychange",GN)):e==="focusout"&&pb()}function H4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lp(Uu)}function V4(e,n){if(e==="click")return Lp(n)}function W4(e,n){if(e==="input"||e==="change")return Lp(n)}function q4(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ko=typeof Object.is=="function"?Object.is:q4;function Bu(e,n){if(ko(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var i=r[o];if(!Ay.call(n,i)||!ko(e[i],n[i]))return!1}return!0}function mb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gb(e,n){var r=mb(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mb(r)}}function KN(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?KN(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function YN(){for(var e=window,n=kh();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=kh(e.document)}return n}function mv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function G4(e){var n=YN(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&KN(r.ownerDocument.documentElement,r)){if(o!==null&&mv(r)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(o.start,i);o=o.end===void 0?s:Math.min(o.end,i),!e.extend&&s>o&&(i=o,o=s,s=i),i=gb(r,s);var a=gb(r,o);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),e.removeAllRanges(),s>o?(e.addRange(n),e.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K4=bi&&"documentMode"in document&&11>=document.documentMode,ol=null,Yy=null,bu=null,Xy=!1;function yb(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xy||ol==null||ol!==kh(o)||(o=ol,"selectionStart"in o&&mv(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bu&&Bu(bu,o)||(bu=o,o=Ah(Yy,"onSelect"),0<o.length&&(n=new fv("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ol)))}function mf(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var il={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},gg={},XN={};bi&&(XN=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function $p(e){if(gg[e])return gg[e];if(!il[e])return e;var n=il[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in XN)return gg[e]=n[r];return e}var QN=$p("animationend"),JN=$p("animationiteration"),ZN=$p("animationstart"),eC=$p("transitionend"),tC=new Map,xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,n){tC.set(e,n),Pa(n,[e])}for(var yg=0;yg<xb.length;yg++){var xg=xb[yg],Y4=xg.toLowerCase(),X4=xg[0].toUpperCase()+xg.slice(1);Ms(Y4,"on"+X4)}Ms(QN,"onAnimationEnd");Ms(JN,"onAnimationIteration");Ms(ZN,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(eC,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q4=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function vb(e,n,r){var o=e.type||"unknown-event";e.currentTarget=r,YI(o,n,void 0,e),e.currentTarget=null}function nC(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],i=o.event;o=o.listeners;e:{var s=void 0;if(n)for(var a=o.length-1;0<=a;a--){var l=o[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;vb(i,l,u),s=c}else for(a=0;a<o.length;a++){if(l=o[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;vb(i,l,u),s=c}}}if(Nh)throw e=Wy,Nh=!1,Wy=null,e}function Mt(e,n){var r=n[tx];r===void 0&&(r=n[tx]=new Set);var o=e+"__bubble";r.has(o)||(rC(n,e,2,!1),r.add(o))}function vg(e,n,r){var o=0;n&&(o|=4),rC(r,e,o,n)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[gf]){e[gf]=!0,uN.forEach(function(r){r!=="selectionchange"&&(Q4.has(r)||vg(r,!1,e),vg(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gf]||(n[gf]=!0,vg("selectionchange",!1,n))}}function rC(e,n,r,o){switch(FN(n)){case 1:var i=d4;break;case 4:i=f4;break;default:i=uv}r=i.bind(null,n,r,e),i=void 0,!Vy||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(n,r,{capture:!0,passive:i}):e.addEventListener(n,r,!0):i!==void 0?e.addEventListener(n,r,{passive:i}):e.addEventListener(n,r,!1)}function wg(e,n,r,o,i){var s=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var l=o.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Qs(l),a===null)return;if(c=a.tag,c===5||c===6){o=s=a;continue e}l=l.parentNode}}o=o.return}CN(function(){var u=s,h=sv(r),f=[];e:{var m=tC.get(e);if(m!==void 0){var p=fv,v=e;switch(e){case"keypress":if(eh(r)===0)break e;case"keydown":case"keyup":p=E4;break;case"focusin":v="focus",p=hg;break;case"focusout":v="blur",p=hg;break;case"beforeblur":case"afterblur":p=hg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=m4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A4;break;case QN:case JN:case ZN:p=x4;break;case eC:p=M4;break;case"scroll":p=h4;break;case"wheel":p=I4;break;case"copy":case"cut":case"paste":p=w4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cb}var x=(n&4)!==0,b=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,y!==null&&(k=Lu(w,y),k!=null&&x.push(Vu(w,k,S)))),b)break;w=w.return}0<x.length&&(m=new p(m,v,null,r,h),f.push({event:m,listeners:x}))}}if(!(n&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==By&&(v=r.relatedTarget||r.fromElement)&&(Qs(v)||v[Si]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Qs(v):null,v!==null&&(b=Ma(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=ab,k="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=cb,k="onPointerLeave",y="onPointerEnter",w="pointer"),b=p==null?m:sl(p),S=v==null?m:sl(v),m=new x(k,w+"leave",p,r,h),m.target=b,m.relatedTarget=S,k=null,Qs(h)===u&&(x=new x(y,w+"enter",v,r,h),x.target=S,x.relatedTarget=b,k=x),b=k,p&&v)t:{for(x=p,y=v,w=0,S=x;S;S=Fa(S))w++;for(S=0,k=y;k;k=Fa(k))S++;for(;0<w-S;)x=Fa(x),w--;for(;0<S-w;)y=Fa(y),S--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Fa(x),y=Fa(y)}x=null}else x=null;p!==null&&wb(f,m,p,x,!1),v!==null&&b!==null&&wb(f,b,v,x,!0)}}e:{if(m=u?sl(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=U4;else if(fb(m))if(qN)_=W4;else{_=H4;var N=B4}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=V4);if(_&&(_=_(e,u))){WN(f,_,r,h);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ly(m,"number",m.value)}switch(N=u?sl(u):window,e){case"focusin":(fb(N)||N.contentEditable==="true")&&(ol=N,Yy=u,bu=null);break;case"focusout":bu=Yy=ol=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,yb(f,r,h);break;case"selectionchange":if(K4)break;case"keydown":case"keyup":yb(f,r,h)}var C;if(pv)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else rl?HN(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(BN&&r.locale!=="ko"&&(rl||j!=="onCompositionStart"?j==="onCompositionEnd"&&rl&&(C=UN()):(as=h,dv="value"in as?as.value:as.textContent,rl=!0)),N=Ah(u,j),0<N.length&&(j=new lb(j,e,null,r,h),f.push({event:j,listeners:N}),C?j.data=C:(C=VN(r),C!==null&&(j.data=C)))),(C=D4?L4(e,r):$4(e,r))&&(u=Ah(u,"onBeforeInput"),0<u.length&&(h=new lb("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=C))}nC(f,n)})}function Vu(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ah(e,n){for(var r=n+"Capture",o=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lu(e,r),s!=null&&o.unshift(Vu(e,s,i)),s=Lu(e,n),s!=null&&o.push(Vu(e,s,i))),e=e.return}return o}function Fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wb(e,n,r,o,i){for(var s=n._reactName,a=[];r!==null&&r!==o;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===o)break;l.tag===5&&u!==null&&(l=u,i?(c=Lu(r,s),c!=null&&a.unshift(Vu(r,c,l))):i||(c=Lu(r,s),c!=null&&a.push(Vu(r,c,l)))),r=r.return}a.length!==0&&e.push({event:n,listeners:a})}var J4=/\r\n?/g,Z4=/\u0000|\uFFFD/g;function bb(e){return(typeof e=="string"?e:""+e).replace(J4,`
`).replace(Z4,"")}function yf(e,n,r){if(n=bb(n),bb(e)!==n&&r)throw Error(he(425))}function Ph(){}var Qy=null,Jy=null;function Zy(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ex=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(e){return Sb.resolve(null).then(e).catch(nO)}:ex;function nO(e){setTimeout(function(){throw e})}function bg(e,n){var r=n,o=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(o===0){e.removeChild(i),Fu(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=i}while(r);Fu(n)}function ps(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function kb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var mc=Math.random().toString(36).slice(2),$o="__reactFiber$"+mc,Wu="__reactProps$"+mc,Si="__reactContainer$"+mc,tx="__reactEvents$"+mc,rO="__reactListeners$"+mc,oO="__reactHandles$"+mc;function Qs(e){var n=e[$o];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Si]||r[$o]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=kb(e);e!==null;){if(r=e[$o])return r;e=kb(e)}return n}e=r,r=e.parentNode}return null}function Ed(e){return e=e[$o]||e[Si],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function zp(e){return e[Wu]||null}var nx=[],al=-1;function Rs(e){return{current:e}}function It(e){0>al||(e.current=nx[al],nx[al]=null,al--)}function jt(e,n){al++,nx[al]=e.current,e.current=n}var Es={},Ln=Rs(Es),fr=Rs(!1),ga=Es;function Vl(e,n){var r=e.type.contextTypes;if(!r)return Es;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=n[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function hr(e){return e=e.childContextTypes,e!=null}function Mh(){It(fr),It(Ln)}function _b(e,n,r){if(Ln.current!==Es)throw Error(he(168));jt(Ln,n),jt(fr,r)}function oC(e,n,r){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var i in o)if(!(i in n))throw Error(he(108,BI(e)||"Unknown",i));return Bt({},r,o)}function Rh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,ga=Ln.current,jt(Ln,e),jt(fr,fr.current),!0}function Nb(e,n,r){var o=e.stateNode;if(!o)throw Error(he(169));r?(e=oC(e,n,ga),o.__reactInternalMemoizedMergedChildContext=e,It(fr),It(Ln),jt(Ln,e)):It(fr),jt(fr,r)}var di=null,Fp=!1,Sg=!1;function iC(e){di===null?di=[e]:di.push(e)}function iO(e){Fp=!0,iC(e)}function Is(){if(!Sg&&di!==null){Sg=!0;var e=0,n=St;try{var r=di;for(St=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}di=null,Fp=!1}catch(i){throw di!==null&&(di=di.slice(e+1)),AN(av,Is),i}finally{St=n,Sg=!1}}return null}var ll=[],cl=0,Ih=null,Oh=0,Br=[],Hr=0,ya=null,mi=1,gi="";function Ws(e,n){ll[cl++]=Oh,ll[cl++]=Ih,Ih=e,Oh=n}function sC(e,n,r){Br[Hr++]=mi,Br[Hr++]=gi,Br[Hr++]=ya,ya=e;var o=mi;e=gi;var i=32-xo(o)-1;o&=~(1<<i),r+=1;var s=32-xo(n)+i;if(30<s){var a=i-i%5;s=(o&(1<<a)-1).toString(32),o>>=a,i-=a,mi=1<<32-xo(n)+i|r<<i|o,gi=s+e}else mi=1<<s|r<<i|o,gi=e}function gv(e){e.return!==null&&(Ws(e,1),sC(e,1,0))}function yv(e){for(;e===Ih;)Ih=ll[--cl],ll[cl]=null,Oh=ll[--cl],ll[cl]=null;for(;e===ya;)ya=Br[--Hr],Br[Hr]=null,gi=Br[--Hr],Br[Hr]=null,mi=Br[--Hr],Br[Hr]=null}var Er=null,Nr=null,Dt=!1,po=null;function aC(e,n){var r=Kr(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Cb(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Er=e,Nr=ps(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Er=e,Nr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=ya!==null?{id:mi,overflow:gi}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=Kr(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Er=e,Nr=null,!0):!1;default:return!1}}function rx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ox(e){if(Dt){var n=Nr;if(n){var r=n;if(!Cb(e,n)){if(rx(e))throw Error(he(418));n=ps(r.nextSibling);var o=Er;n&&Cb(e,n)?aC(o,r):(e.flags=e.flags&-4097|2,Dt=!1,Er=e)}}else{if(rx(e))throw Error(he(418));e.flags=e.flags&-4097|2,Dt=!1,Er=e}}}function Eb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function xf(e){if(e!==Er)return!1;if(!Dt)return Eb(e),Dt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Zy(e.type,e.memoizedProps)),n&&(n=Nr)){if(rx(e))throw lC(),Error(he(418));for(;n;)aC(e,n),n=ps(n.nextSibling)}if(Eb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Nr=ps(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Nr=null}}else Nr=Er?ps(e.stateNode.nextSibling):null;return!0}function lC(){for(var e=Nr;e;)e=ps(e.nextSibling)}function Wl(){Nr=Er=null,Dt=!1}function xv(e){po===null?po=[e]:po.push(e)}var sO=Ai.ReactCurrentBatchConfig;function Dc(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var o=r.stateNode}if(!o)throw Error(he(147,e));var i=o,s=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===s?n.ref:(n=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},n._stringRef=s,n)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function vf(e,n){throw e=Object.prototype.toString.call(n),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function jb(e){var n=e._init;return n(e._payload)}function cC(e){function n(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)n(y,w),w=w.sibling;return null}function o(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=xs(y,w),y.index=0,y.sibling=null,y}function s(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,S,k){return w===null||w.tag!==6?(w=Tg(S,y.mode,k),w.return=y,w):(w=i(w,S),w.return=y,w)}function c(y,w,S,k){var _=S.type;return _===nl?h(y,w,S.props.children,k,S.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vi&&jb(_)===w.type)?(k=i(w,S.props),k.ref=Dc(y,w,S),k.return=y,k):(k=ah(S.type,S.key,S.props,null,y.mode,k),k.ref=Dc(y,w,S),k.return=y,k)}function u(y,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ag(S,y.mode,k),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function h(y,w,S,k,_){return w===null||w.tag!==7?(w=fa(S,y.mode,k,_),w.return=y,w):(w=i(w,S),w.return=y,w)}function f(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tg(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lf:return S=ah(w.type,w.key,w.props,null,y.mode,S),S.ref=Dc(y,null,w),S.return=y,S;case tl:return w=Ag(w,y.mode,S),w.return=y,w;case Vi:var k=w._init;return f(y,k(w._payload),S)}if(ou(w)||Pc(w))return w=fa(w,y.mode,S,null),w.return=y,w;vf(y,w)}return null}function m(y,w,S,k){var _=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return _!==null?null:l(y,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lf:return S.key===_?c(y,w,S,k):null;case tl:return S.key===_?u(y,w,S,k):null;case Vi:return _=S._init,m(y,w,_(S._payload),k)}if(ou(S)||Pc(S))return _!==null?null:h(y,w,S,k,null);vf(y,S)}return null}function p(y,w,S,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(S)||null,l(w,y,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lf:return y=y.get(k.key===null?S:k.key)||null,c(w,y,k,_);case tl:return y=y.get(k.key===null?S:k.key)||null,u(w,y,k,_);case Vi:var N=k._init;return p(y,w,S,N(k._payload),_)}if(ou(k)||Pc(k))return y=y.get(S)||null,h(w,y,k,_,null);vf(w,k)}return null}function v(y,w,S,k){for(var _=null,N=null,C=w,j=w=0,A=null;C!==null&&j<S.length;j++){C.index>j?(A=C,C=null):A=C.sibling;var E=m(y,C,S[j],k);if(E===null){C===null&&(C=A);break}e&&C&&E.alternate===null&&n(y,C),w=s(E,w,j),N===null?_=E:N.sibling=E,N=E,C=A}if(j===S.length)return r(y,C),Dt&&Ws(y,j),_;if(C===null){for(;j<S.length;j++)C=f(y,S[j],k),C!==null&&(w=s(C,w,j),N===null?_=C:N.sibling=C,N=C);return Dt&&Ws(y,j),_}for(C=o(y,C);j<S.length;j++)A=p(C,y,j,S[j],k),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?j:A.key),w=s(A,w,j),N===null?_=A:N.sibling=A,N=A);return e&&C.forEach(function(I){return n(y,I)}),Dt&&Ws(y,j),_}function x(y,w,S,k){var _=Pc(S);if(typeof _!="function")throw Error(he(150));if(S=_.call(S),S==null)throw Error(he(151));for(var N=_=null,C=w,j=w=0,A=null,E=S.next();C!==null&&!E.done;j++,E=S.next()){C.index>j?(A=C,C=null):A=C.sibling;var I=m(y,C,E.value,k);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&n(y,C),w=s(I,w,j),N===null?_=I:N.sibling=I,N=I,C=A}if(E.done)return r(y,C),Dt&&Ws(y,j),_;if(C===null){for(;!E.done;j++,E=S.next())E=f(y,E.value,k),E!==null&&(w=s(E,w,j),N===null?_=E:N.sibling=E,N=E);return Dt&&Ws(y,j),_}for(C=o(y,C);!E.done;j++,E=S.next())E=p(C,y,j,E.value,k),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?j:E.key),w=s(E,w,j),N===null?_=E:N.sibling=E,N=E);return e&&C.forEach(function(O){return n(y,O)}),Dt&&Ws(y,j),_}function b(y,w,S,k){if(typeof S=="object"&&S!==null&&S.type===nl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case lf:e:{for(var _=S.key,N=w;N!==null;){if(N.key===_){if(_=S.type,_===nl){if(N.tag===7){r(y,N.sibling),w=i(N,S.props.children),w.return=y,y=w;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vi&&jb(_)===N.type){r(y,N.sibling),w=i(N,S.props),w.ref=Dc(y,N,S),w.return=y,y=w;break e}r(y,N);break}else n(y,N);N=N.sibling}S.type===nl?(w=fa(S.props.children,y.mode,k,S.key),w.return=y,y=w):(k=ah(S.type,S.key,S.props,null,y.mode,k),k.ref=Dc(y,w,S),k.return=y,y=k)}return a(y);case tl:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(y,w.sibling),w=i(w,S.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else n(y,w);w=w.sibling}w=Ag(S,y.mode,k),w.return=y,y=w}return a(y);case Vi:return N=S._init,b(y,w,N(S._payload),k)}if(ou(S))return v(y,w,S,k);if(Pc(S))return x(y,w,S,k);vf(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,S),w.return=y,y=w):(r(y,w),w=Tg(S,y.mode,k),w.return=y,y=w),a(y)):r(y,w)}return b}var ql=cC(!0),uC=cC(!1),Dh=Rs(null),Lh=null,ul=null,vv=null;function wv(){vv=ul=Lh=null}function bv(e){var n=Dh.current;It(Dh),e._currentValue=n}function ix(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function wl(e,n){Lh=e,vv=ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ur=!0),e.firstContext=null)}function Zr(e){var n=e._currentValue;if(vv!==e)if(e={context:e,memoizedValue:n,next:null},ul===null){if(Lh===null)throw Error(he(308));ul=e,Lh.dependencies={lanes:0,firstContext:e}}else ul=ul.next=e;return n}var Js=null;function Sv(e){Js===null?Js=[e]:Js.push(e)}function dC(e,n,r,o){var i=n.interleaved;return i===null?(r.next=r,Sv(n)):(r.next=i.next,i.next=r),n.interleaved=r,ki(e,o)}function ki(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wi=!1;function kv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fC(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function ms(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,pt&2){var i=o.pending;return i===null?n.next=n:(n.next=i.next,i.next=n),o.pending=n,ki(e,r)}return i=o.interleaved,i===null?(n.next=n,Sv(o)):(n.next=i.next,i.next=n),o.interleaved=n,ki(e,r)}function th(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lv(e,r)}}function Tb(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=n:s=s.next=n}else i=s=n;r={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function $h(e,n,r,o){var i=e.updateQueue;Wi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,h=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((o&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(m=n,p=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(p,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(p,f,m):v,m==null)break e;f=Bt({},f,m);break e;case 2:Wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,n=i.shared.interleaved,n!==null){i=n;do a|=i.lane,i=i.next;while(i!==n)}else s===null&&(i.shared.lanes=0);va|=a,e.lanes=a,e.memoizedState=f}}function Ab(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],i=o.callback;if(i!==null){if(o.callback=null,o=r,typeof i!="function")throw Error(he(191,i));i.call(o)}}}var jd={},Ho=Rs(jd),qu=Rs(jd),Gu=Rs(jd);function Zs(e){if(e===jd)throw Error(he(174));return e}function _v(e,n){switch(jt(Gu,n),jt(qu,e),jt(Ho,jd),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:zy(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=zy(n,e)}It(Ho),jt(Ho,n)}function Gl(){It(Ho),It(qu),It(Gu)}function hC(e){Zs(Gu.current);var n=Zs(Ho.current),r=zy(n,e.type);n!==r&&(jt(qu,e),jt(Ho,r))}function Nv(e){qu.current===e&&(It(Ho),It(qu))}var Ft=Rs(0);function zh(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var kg=[];function Cv(){for(var e=0;e<kg.length;e++)kg[e]._workInProgressVersionPrimary=null;kg.length=0}var nh=Ai.ReactCurrentDispatcher,_g=Ai.ReactCurrentBatchConfig,xa=0,Ut=null,hn=null,vn=null,Fh=!1,Su=!1,Ku=0,aO=0;function An(){throw Error(he(321))}function Ev(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ko(e[r],n[r]))return!1;return!0}function jv(e,n,r,o,i,s){if(xa=s,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,nh.current=e===null||e.memoizedState===null?dO:fO,e=r(o,i),Su){s=0;do{if(Su=!1,Ku=0,25<=s)throw Error(he(301));s+=1,vn=hn=null,n.updateQueue=null,nh.current=hO,e=r(o,i)}while(Su)}if(nh.current=Uh,n=hn!==null&&hn.next!==null,xa=0,vn=hn=Ut=null,Fh=!1,n)throw Error(he(300));return e}function Tv(){var e=Ku!==0;return Ku=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ut.memoizedState=vn=e:vn=vn.next=e,vn}function eo(){if(hn===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=hn.next;var n=vn===null?Ut.memoizedState:vn.next;if(n!==null)vn=n,hn=e;else{if(e===null)throw Error(he(310));hn=e,e={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},vn===null?Ut.memoizedState=vn=e:vn=vn.next=e}return vn}function Yu(e,n){return typeof n=="function"?n(e):n}function Ng(e){var n=eo(),r=n.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var o=hn,i=o.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}o.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,o=o.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((xa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=o):c=c.next=f,Ut.lanes|=h,va|=h}u=u.next}while(u!==null&&u!==s);c===null?a=o:c.next=l,ko(o,n.memoizedState)||(ur=!0),n.memoizedState=o,n.baseState=a,n.baseQueue=c,r.lastRenderedState=o}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ut.lanes|=s,va|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Cg(e){var n=eo(),r=n.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var o=r.dispatch,i=r.pending,s=n.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ko(s,n.memoizedState)||(ur=!0),n.memoizedState=s,n.baseQueue===null&&(n.baseState=s),r.lastRenderedState=s}return[s,o]}function pC(){}function mC(e,n){var r=Ut,o=eo(),i=n(),s=!ko(o.memoizedState,i);if(s&&(o.memoizedState=i,ur=!0),o=o.queue,Av(xC.bind(null,r,o,e),[e]),o.getSnapshot!==n||s||vn!==null&&vn.memoizedState.tag&1){if(r.flags|=2048,Xu(9,yC.bind(null,r,o,i,n),void 0,null),wn===null)throw Error(he(349));xa&30||gC(r,n,i)}return i}function gC(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ut.updateQueue,n===null?(n={lastEffect:null,stores:null},Ut.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function yC(e,n,r,o){n.value=r,n.getSnapshot=o,vC(n)&&wC(e)}function xC(e,n,r){return r(function(){vC(n)&&wC(e)})}function vC(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ko(e,r)}catch{return!0}}function wC(e){var n=ki(e,1);n!==null&&vo(n,e,1,-1)}function Pb(e){var n=Mo();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:e},n.queue=e,e=e.dispatch=uO.bind(null,Ut,e),[n.memoizedState,e]}function Xu(e,n,r,o){return e={tag:e,create:n,destroy:r,deps:o,next:null},n=Ut.updateQueue,n===null?(n={lastEffect:null,stores:null},Ut.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e)),e}function bC(){return eo().memoizedState}function rh(e,n,r,o){var i=Mo();Ut.flags|=e,i.memoizedState=Xu(1|n,r,void 0,o===void 0?null:o)}function Up(e,n,r,o){var i=eo();o=o===void 0?null:o;var s=void 0;if(hn!==null){var a=hn.memoizedState;if(s=a.destroy,o!==null&&Ev(o,a.deps)){i.memoizedState=Xu(n,r,s,o);return}}Ut.flags|=e,i.memoizedState=Xu(1|n,r,s,o)}function Mb(e,n){return rh(8390656,8,e,n)}function Av(e,n){return Up(2048,8,e,n)}function SC(e,n){return Up(4,2,e,n)}function kC(e,n){return Up(4,4,e,n)}function _C(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function NC(e,n,r){return r=r!=null?r.concat([e]):null,Up(4,4,_C.bind(null,n,e),r)}function Pv(){}function CC(e,n){var r=eo();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&Ev(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function EC(e,n){var r=eo();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&Ev(n,o[1])?o[0]:(e=e(),r.memoizedState=[e,n],e)}function jC(e,n,r){return xa&21?(ko(r,n)||(r=RN(),Ut.lanes|=r,va|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ur=!0),e.memoizedState=r)}function lO(e,n){var r=St;St=r!==0&&4>r?r:4,e(!0);var o=_g.transition;_g.transition={};try{e(!1),n()}finally{St=r,_g.transition=o}}function TC(){return eo().memoizedState}function cO(e,n,r){var o=ys(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},AC(e))PC(n,r);else if(r=dC(e,n,r,o),r!==null){var i=Gn();vo(r,e,o,i),MC(r,n,o)}}function uO(e,n,r){var o=ys(e),i={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(AC(e))PC(n,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=n.lastRenderedReducer,s!==null))try{var a=n.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,ko(l,a)){var c=n.interleaved;c===null?(i.next=i,Sv(n)):(i.next=c.next,c.next=i),n.interleaved=i;return}}catch{}finally{}r=dC(e,n,i,o),r!==null&&(i=Gn(),vo(r,e,o,i),MC(r,n,o))}}function AC(e){var n=e.alternate;return e===Ut||n!==null&&n===Ut}function PC(e,n){Su=Fh=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function MC(e,n,r){if(r&4194240){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,lv(e,r)}}var Uh={readContext:Zr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},dO={readContext:Zr,useCallback:function(e,n){return Mo().memoizedState=[e,n===void 0?null:n],e},useContext:Zr,useEffect:Mb,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,rh(4194308,4,_C.bind(null,n,e),r)},useLayoutEffect:function(e,n){return rh(4194308,4,e,n)},useInsertionEffect:function(e,n){return rh(4,2,e,n)},useMemo:function(e,n){var r=Mo();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var o=Mo();return n=r!==void 0?r(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=cO.bind(null,Ut,e),[o.memoizedState,e]},useRef:function(e){var n=Mo();return e={current:e},n.memoizedState=e},useState:Pb,useDebugValue:Pv,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=Pb(!1),n=e[0];return e=lO.bind(null,e[1]),Mo().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var o=Ut,i=Mo();if(Dt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=n(),wn===null)throw Error(he(349));xa&30||gC(o,n,r)}i.memoizedState=r;var s={value:r,getSnapshot:n};return i.queue=s,Mb(xC.bind(null,o,s,e),[e]),o.flags|=2048,Xu(9,yC.bind(null,o,s,r,n),void 0,null),r},useId:function(){var e=Mo(),n=wn.identifierPrefix;if(Dt){var r=gi,o=mi;r=(o&~(1<<32-xo(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=aO++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},fO={readContext:Zr,useCallback:CC,useContext:Zr,useEffect:Av,useImperativeHandle:NC,useInsertionEffect:SC,useLayoutEffect:kC,useMemo:EC,useReducer:Ng,useRef:bC,useState:function(){return Ng(Yu)},useDebugValue:Pv,useDeferredValue:function(e){var n=eo();return jC(n,hn.memoizedState,e)},useTransition:function(){var e=Ng(Yu)[0],n=eo().memoizedState;return[e,n]},useMutableSource:pC,useSyncExternalStore:mC,useId:TC,unstable_isNewReconciler:!1},hO={readContext:Zr,useCallback:CC,useContext:Zr,useEffect:Av,useImperativeHandle:NC,useInsertionEffect:SC,useLayoutEffect:kC,useMemo:EC,useReducer:Cg,useRef:bC,useState:function(){return Cg(Yu)},useDebugValue:Pv,useDeferredValue:function(e){var n=eo();return hn===null?n.memoizedState=e:jC(n,hn.memoizedState,e)},useTransition:function(){var e=Cg(Yu)[0],n=eo().memoizedState;return[e,n]},useMutableSource:pC,useSyncExternalStore:mC,useId:TC,unstable_isNewReconciler:!1};function co(e,n){if(e&&e.defaultProps){n=Bt({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function sx(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:Bt({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bp={isMounted:function(e){return(e=e._reactInternals)?Ma(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Gn(),i=ys(e),s=xi(o,i);s.payload=n,r!=null&&(s.callback=r),n=ms(e,s,i),n!==null&&(vo(n,e,i,o),th(n,e,i))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Gn(),i=ys(e),s=xi(o,i);s.tag=1,s.payload=n,r!=null&&(s.callback=r),n=ms(e,s,i),n!==null&&(vo(n,e,i,o),th(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Gn(),o=ys(e),i=xi(r,o);i.tag=2,n!=null&&(i.callback=n),n=ms(e,i,o),n!==null&&(vo(n,e,o,r),th(n,e,o))}};function Rb(e,n,r,o,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,a):n.prototype&&n.prototype.isPureReactComponent?!Bu(r,o)||!Bu(i,s):!0}function RC(e,n,r){var o=!1,i=Es,s=n.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=hr(n)?ga:Ln.current,o=n.contextTypes,s=(o=o!=null)?Vl(e,i):Es),n=new n(r,s),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Bp,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),n}function Ib(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Bp.enqueueReplaceState(n,n.state,null)}function ax(e,n,r,o){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},kv(e);var s=n.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=hr(n)?ga:Ln.current,i.context=Vl(e,s)),i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(sx(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(n=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),n!==i.state&&Bp.enqueueReplaceState(i,i.state,null),$h(e,r,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kl(e,n){try{var r="",o=n;do r+=UI(o),o=o.return;while(o);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:n,stack:i,digest:null}}function Eg(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function lx(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var pO=typeof WeakMap=="function"?WeakMap:Map;function IC(e,n,r){r=xi(-1,r),r.tag=3,r.payload={element:null};var o=n.value;return r.callback=function(){Hh||(Hh=!0,xx=o),lx(e,n)},r}function OC(e,n,r){r=xi(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=n.value;r.payload=function(){return o(i)},r.callback=function(){lx(e,n)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){lx(e,n),typeof o!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var a=n.stack;this.componentDidCatch(n.value,{componentStack:a!==null?a:""})}),r}function Ob(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new pO;var i=new Set;o.set(n,i)}else i=o.get(n),i===void 0&&(i=new Set,o.set(n,i));i.has(r)||(i.add(r),e=jO.bind(null,e,n,r),n.then(e,e))}function Db(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Lb(e,n,r,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=xi(-1,1),n.tag=2,ms(r,n,1))),r.lanes|=1),e)}var mO=Ai.ReactCurrentOwner,ur=!1;function Bn(e,n,r,o){n.child=e===null?uC(n,null,r,o):ql(n,e.child,r,o)}function $b(e,n,r,o,i){r=r.render;var s=n.ref;return wl(n,i),o=jv(e,n,r,o,s,i),r=Tv(),e!==null&&!ur?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,_i(e,n,i)):(Dt&&r&&gv(n),n.flags|=1,Bn(e,n,o,i),n.child)}function zb(e,n,r,o,i){if(e===null){var s=r.type;return typeof s=="function"&&!zv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=s,DC(e,n,s,o,i)):(e=ah(r.type,null,o,n,n.mode,i),e.ref=n.ref,e.return=n,n.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bu,r(a,o)&&e.ref===n.ref)return _i(e,n,i)}return n.flags|=1,e=xs(s,o),e.ref=n.ref,e.return=n,n.child=e}function DC(e,n,r,o,i){if(e!==null){var s=e.memoizedProps;if(Bu(s,o)&&e.ref===n.ref)if(ur=!1,n.pendingProps=o=s,(e.lanes&i)!==0)e.flags&131072&&(ur=!0);else return n.lanes=e.lanes,_i(e,n,i)}return cx(e,n,r,o,i)}function LC(e,n,r){var o=n.pendingProps,i=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(fl,kr),kr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,jt(fl,kr),kr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:r,jt(fl,kr),kr|=o}else s!==null?(o=s.baseLanes|r,n.memoizedState=null):o=r,jt(fl,kr),kr|=o;return Bn(e,n,i,r),n.child}function $C(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function cx(e,n,r,o,i){var s=hr(r)?ga:Ln.current;return s=Vl(n,s),wl(n,i),r=jv(e,n,r,o,s,i),o=Tv(),e!==null&&!ur?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,_i(e,n,i)):(Dt&&o&&gv(n),n.flags|=1,Bn(e,n,r,i),n.child)}function Fb(e,n,r,o,i){if(hr(r)){var s=!0;Rh(n)}else s=!1;if(wl(n,i),n.stateNode===null)oh(e,n),RC(n,r,o),ax(n,r,o,i),o=!0;else if(e===null){var a=n.stateNode,l=n.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=hr(r)?ga:Ln.current,u=Vl(n,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==o||c!==u)&&Ib(n,a,o,u),Wi=!1;var m=n.memoizedState;a.state=m,$h(n,o,a,i),c=n.memoizedState,l!==o||m!==c||fr.current||Wi?(typeof h=="function"&&(sx(n,r,h,o),c=n.memoizedState),(l=Wi||Rb(n,r,l,o,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(n.flags|=4194308)):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=c),a.props=o,a.state=c,a.context=u,o=l):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{a=n.stateNode,fC(e,n),l=n.memoizedProps,u=n.type===n.elementType?l:co(n.type,l),a.props=u,f=n.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zr(c):(c=hr(r)?ga:Ln.current,c=Vl(n,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ib(n,a,o,c),Wi=!1,m=n.memoizedState,a.state=m,$h(n,o,a,i);var v=n.memoizedState;l!==f||m!==v||fr.current||Wi?(typeof p=="function"&&(sx(n,r,p,o),v=n.memoizedState),(u=Wi||Rb(n,r,u,o,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,v,c)),typeof a.componentDidUpdate=="function"&&(n.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=v),a.props=o,a.state=v,a.context=c,o=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),o=!1)}return ux(e,n,r,o,s,i)}function ux(e,n,r,o,i,s){$C(e,n);var a=(n.flags&128)!==0;if(!o&&!a)return i&&Nb(n,r,!1),_i(e,n,s);o=n.stateNode,mO.current=n;var l=a&&typeof r.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&a?(n.child=ql(n,e.child,null,s),n.child=ql(n,null,l,s)):Bn(e,n,l,s),n.memoizedState=o.state,i&&Nb(n,r,!0),n.child}function zC(e){var n=e.stateNode;n.pendingContext?_b(e,n.pendingContext,n.pendingContext!==n.context):n.context&&_b(e,n.context,!1),_v(e,n.containerInfo)}function Ub(e,n,r,o,i){return Wl(),xv(i),n.flags|=256,Bn(e,n,r,o),n.child}var dx={dehydrated:null,treeContext:null,retryLane:0};function fx(e){return{baseLanes:e,cachePool:null,transitions:null}}function FC(e,n,r){var o=n.pendingProps,i=Ft.current,s=!1,a=(n.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),jt(Ft,i&1),e===null)return ox(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(a=o.children,e=o.fallback,s?(o=n.mode,s=n.child,a={mode:"hidden",children:a},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Wp(a,o,0,null),e=fa(e,o,r,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=fx(r),n.memoizedState=dx,e):Mv(n,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return gO(e,n,a,o,l,i,r);if(s){s=o.fallback,a=n.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&n.child!==i?(o=n.child,o.childLanes=0,o.pendingProps=c,n.deletions=null):(o=xs(i,c),o.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xs(l,s):(s=fa(s,a,r,null),s.flags|=2),s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,a=e.child.memoizedState,a=a===null?fx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,n.memoizedState=dx,o}return s=e.child,e=s.sibling,o=xs(s,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=r),o.return=n,o.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=o,n.memoizedState=null,o}function Mv(e,n){return n=Wp({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function wf(e,n,r,o){return o!==null&&xv(o),ql(n,e.child,null,r),e=Mv(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gO(e,n,r,o,i,s,a){if(r)return n.flags&256?(n.flags&=-257,o=Eg(Error(he(422))),wf(e,n,a,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(s=o.fallback,i=n.mode,o=Wp({mode:"visible",children:o.children},i,0,null),s=fa(s,i,a,null),s.flags|=2,o.return=n,s.return=n,o.sibling=s,n.child=o,n.mode&1&&ql(n,e.child,null,a),n.child.memoizedState=fx(a),n.memoizedState=dx,s);if(!(n.mode&1))return wf(e,n,a,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var l=o.dgst;return o=l,s=Error(he(419)),o=Eg(s,o,void 0),wf(e,n,a,o)}if(l=(a&e.childLanes)!==0,ur||l){if(o=wn,o!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(e,i),vo(o,e,i,-1))}return $v(),o=Eg(Error(he(421))),wf(e,n,a,o)}return i.data==="$?"?(n.flags|=128,n.child=e.child,n=TO.bind(null,e),i._reactRetry=n,null):(e=s.treeContext,Nr=ps(i.nextSibling),Er=n,Dt=!0,po=null,e!==null&&(Br[Hr++]=mi,Br[Hr++]=gi,Br[Hr++]=ya,mi=e.id,gi=e.overflow,ya=n),n=Mv(n,o.children),n.flags|=4096,n)}function Bb(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ix(e.return,n,r)}function jg(e,n,r,o,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:i}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=r,s.tailMode=i)}function UC(e,n,r){var o=n.pendingProps,i=o.revealOrder,s=o.tail;if(Bn(e,n,o.children,r),o=Ft.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bb(e,r,n);else if(e.tag===19)Bb(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(jt(Ft,o),!(n.mode&1))n.memoizedState=null;else switch(i){case"forwards":for(r=n.child,i=null;r!==null;)e=r.alternate,e!==null&&zh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=n.child,n.child=null):(i=r.sibling,r.sibling=null),jg(n,!1,i,r,s);break;case"backwards":for(r=null,i=n.child,n.child=null;i!==null;){if(e=i.alternate,e!==null&&zh(e)===null){n.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jg(n,!0,r,null,s);break;case"together":jg(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oh(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function _i(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),va|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(he(153));if(n.child!==null){for(e=n.child,r=xs(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=xs(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function yO(e,n,r){switch(n.tag){case 3:zC(n),Wl();break;case 5:hC(n);break;case 1:hr(n.type)&&Rh(n);break;case 4:_v(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,i=n.memoizedProps.value;jt(Dh,o._currentValue),o._currentValue=i;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(jt(Ft,Ft.current&1),n.flags|=128,null):r&n.child.childLanes?FC(e,n,r):(jt(Ft,Ft.current&1),e=_i(e,n,r),e!==null?e.sibling:null);jt(Ft,Ft.current&1);break;case 19:if(o=(r&n.childLanes)!==0,e.flags&128){if(o)return UC(e,n,r);n.flags|=128}if(i=n.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jt(Ft,Ft.current),o)break;return null;case 22:case 23:return n.lanes=0,LC(e,n,r)}return _i(e,n,r)}var BC,hx,HC,VC;BC=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hx=function(){};HC=function(e,n,r,o){var i=e.memoizedProps;if(i!==o){e=n.stateNode,Zs(Ho.current);var s=null;switch(r){case"input":i=Oy(e,i),o=Oy(e,o),s=[];break;case"select":i=Bt({},i,{value:void 0}),o=Bt({},o,{value:void 0}),s=[];break;case"textarea":i=$y(e,i),o=$y(e,o),s=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ph)}Fy(r,o);var a;r=null;for(u in i)if(!o.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ou.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in o){var c=o[u];if(l=i!=null?i[u]:void 0,o.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ou.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(n.updateQueue=u)&&(n.flags|=4)}};VC=function(e,n,r,o){r!==o&&(n.flags|=4)};function Lc(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Pn(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function xO(e,n,r){var o=n.pendingProps;switch(yv(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(n),null;case 1:return hr(n.type)&&Mh(),Pn(n),null;case 3:return o=n.stateNode,Gl(),It(fr),It(Ln),Cv(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(xf(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,po!==null&&(bx(po),po=null))),hx(e,n),Pn(n),null;case 5:Nv(n);var i=Zs(Gu.current);if(r=n.type,e!==null&&n.stateNode!=null)HC(e,n,r,o,i),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(he(166));return Pn(n),null}if(e=Zs(Ho.current),xf(n)){o=n.stateNode,r=n.type;var s=n.memoizedProps;switch(o[$o]=n,o[Wu]=s,e=(n.mode&1)!==0,r){case"dialog":Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":case"embed":Mt("load",o);break;case"video":case"audio":for(i=0;i<su.length;i++)Mt(su[i],o);break;case"source":Mt("error",o);break;case"img":case"image":case"link":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"input":Q1(o,s),Mt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},Mt("invalid",o);break;case"textarea":Z1(o,s),Mt("invalid",o)}Fy(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?o.textContent!==l&&(s.suppressHydrationWarning!==!0&&yf(o.textContent,l,e),i=["children",l]):typeof l=="number"&&o.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yf(o.textContent,l,e),i=["children",""+l]):Ou.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Mt("scroll",o)}switch(r){case"input":cf(o),J1(o,s,!0);break;case"textarea":cf(o),eb(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=Ph)}o=i,n.updateQueue=o,o!==null&&(n.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=a.createElement(r,{is:o.is}):(e=a.createElement(r),r==="select"&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,r),e[$o]=n,e[Wu]=o,BC(e,n,!1,!1),n.stateNode=e;e:{switch(a=Uy(r,o),r){case"dialog":Mt("cancel",e),Mt("close",e),i=o;break;case"iframe":case"object":case"embed":Mt("load",e),i=o;break;case"video":case"audio":for(i=0;i<su.length;i++)Mt(su[i],e);i=o;break;case"source":Mt("error",e),i=o;break;case"img":case"image":case"link":Mt("error",e),Mt("load",e),i=o;break;case"details":Mt("toggle",e),i=o;break;case"input":Q1(e,o),i=Oy(e,o),Mt("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=Bt({},o,{value:void 0}),Mt("invalid",e);break;case"textarea":Z1(e,o),i=$y(e,o),Mt("invalid",e);break;default:i=o}Fy(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?bN(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vN(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Du(e,c):typeof c=="number"&&Du(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ou.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Mt("scroll",e):c!=null&&nv(e,s,c,a))}switch(r){case"input":cf(e),J1(e,o,!1);break;case"textarea":cf(e),eb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Cs(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?gl(e,!!o.multiple,s,!1):o.defaultValue!=null&&gl(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ph)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pn(n),null;case 6:if(e&&n.stateNode!=null)VC(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(he(166));if(r=Zs(Gu.current),Zs(Ho.current),xf(n)){if(o=n.stateNode,r=n.memoizedProps,o[$o]=n,(s=o.nodeValue!==r)&&(e=Er,e!==null))switch(e.tag){case 3:yf(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yf(o.nodeValue,r,(e.mode&1)!==0)}s&&(n.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[$o]=n,n.stateNode=o}return Pn(n),null;case 13:if(It(Ft),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&Nr!==null&&n.mode&1&&!(n.flags&128))lC(),Wl(),n.flags|=98560,s=!1;else if(s=xf(n),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(he(318));if(s=n.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[$o]=n}else Wl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pn(n),s=!1}else po!==null&&(bx(po),po=null),s=!0;if(!s)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||Ft.current&1?mn===0&&(mn=3):$v())),n.updateQueue!==null&&(n.flags|=4),Pn(n),null);case 4:return Gl(),hx(e,n),e===null&&Hu(n.stateNode.containerInfo),Pn(n),null;case 10:return bv(n.type._context),Pn(n),null;case 17:return hr(n.type)&&Mh(),Pn(n),null;case 19:if(It(Ft),s=n.memoizedState,s===null)return Pn(n),null;if(o=(n.flags&128)!==0,a=s.rendering,a===null)if(o)Lc(s,!1);else{if(mn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(a=zh(e),a!==null){for(n.flags|=128,Lc(s,!1),o=a.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=r,r=n.child;r!==null;)s=r,e=o,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jt(Ft,Ft.current&1|2),n.child}e=e.sibling}s.tail!==null&&Xt()>Yl&&(n.flags|=128,o=!0,Lc(s,!1),n.lanes=4194304)}else{if(!o)if(e=zh(a),e!==null){if(n.flags|=128,o=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Dt)return Pn(n),null}else 2*Xt()-s.renderingStartTime>Yl&&r!==1073741824&&(n.flags|=128,o=!0,Lc(s,!1),n.lanes=4194304);s.isBackwards?(a.sibling=n.child,n.child=a):(r=s.last,r!==null?r.sibling=a:n.child=a,s.last=a)}return s.tail!==null?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=Xt(),n.sibling=null,r=Ft.current,jt(Ft,o?r&1|2:r&1),n):(Pn(n),null);case 22:case 23:return Lv(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?kr&1073741824&&(Pn(n),n.subtreeFlags&6&&(n.flags|=8192)):Pn(n),null;case 24:return null;case 25:return null}throw Error(he(156,n.tag))}function vO(e,n){switch(yv(n),n.tag){case 1:return hr(n.type)&&Mh(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gl(),It(fr),It(Ln),Cv(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Nv(n),null;case 13:if(It(Ft),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(he(340));Wl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return It(Ft),null;case 4:return Gl(),null;case 10:return bv(n.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var bf=!1,On=!1,wO=typeof WeakSet=="function"?WeakSet:Set,je=null;function dl(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Wt(e,n,o)}else r.current=null}function px(e,n,r){try{r()}catch(o){Wt(e,n,o)}}var Hb=!1;function bO(e,n){if(Qy=jh,e=YN(),mv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||o!==0&&f.nodeType!==3||(c=a+o),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++u===i&&(l=a),m===s&&++h===o&&(c=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jy={focusedElem:e,selectionRange:r},jh=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){n=je;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,y=n.stateNode,w=y.getSnapshotBeforeUpdate(n.elementType===n.type?x:co(n.type,x),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(k){Wt(n,n.return,k)}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}return v=Hb,Hb=!1,v}function ku(e,n,r){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&px(n,r,s)}i=i.next}while(i!==o)}}function Hp(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==n)}}function mx(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function WC(e){var n=e.alternate;n!==null&&(e.alternate=null,WC(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[$o],delete n[Wu],delete n[tx],delete n[rO],delete n[oO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qC(e){return e.tag===5||e.tag===3||e.tag===4}function Vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gx(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ph));else if(o!==4&&(e=e.child,e!==null))for(gx(e,n,r),e=e.sibling;e!==null;)gx(e,n,r),e=e.sibling}function yx(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(yx(e,n,r),e=e.sibling;e!==null;)yx(e,n,r),e=e.sibling}var _n=null,ho=!1;function Ri(e,n,r){for(r=r.child;r!==null;)GC(e,n,r),r=r.sibling}function GC(e,n,r){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(Op,r)}catch{}switch(r.tag){case 5:On||dl(r,n);case 6:var o=_n,i=ho;_n=null,Ri(e,n,r),_n=o,ho=i,_n!==null&&(ho?(e=_n,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(ho?(e=_n,r=r.stateNode,e.nodeType===8?bg(e.parentNode,r):e.nodeType===1&&bg(e,r),Fu(e)):bg(_n,r.stateNode));break;case 4:o=_n,i=ho,_n=r.stateNode.containerInfo,ho=!0,Ri(e,n,r),_n=o,ho=i;break;case 0:case 11:case 14:case 15:if(!On&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&px(r,n,a),i=i.next}while(i!==o)}Ri(e,n,r);break;case 1:if(!On&&(dl(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(l){Wt(r,n,l)}Ri(e,n,r);break;case 21:Ri(e,n,r);break;case 22:r.mode&1?(On=(o=On)||r.memoizedState!==null,Ri(e,n,r),On=o):Ri(e,n,r);break;default:Ri(e,n,r)}}function Wb(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wO),n.forEach(function(o){var i=AO.bind(null,e,o);r.has(o)||(r.add(o),o.then(i,i))})}}function io(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var i=r[o];try{var s=e,a=n,l=a;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,ho=!1;break e;case 3:_n=l.stateNode.containerInfo,ho=!0;break e;case 4:_n=l.stateNode.containerInfo,ho=!0;break e}l=l.return}if(_n===null)throw Error(he(160));GC(s,a,i),_n=null,ho=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Wt(i,n,u)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)KC(n,e),n=n.sibling}function KC(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(io(n,e),Po(e),o&4){try{ku(3,e,e.return),Hp(3,e)}catch(x){Wt(e,e.return,x)}try{ku(5,e,e.return)}catch(x){Wt(e,e.return,x)}}break;case 1:io(n,e),Po(e),o&512&&r!==null&&dl(r,r.return);break;case 5:if(io(n,e),Po(e),o&512&&r!==null&&dl(r,r.return),e.flags&32){var i=e.stateNode;try{Du(i,"")}catch(x){Wt(e,e.return,x)}}if(o&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&gN(i,s),Uy(l,a);var u=Uy(l,s);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?bN(i,f):h==="dangerouslySetInnerHTML"?vN(i,f):h==="children"?Du(i,f):nv(i,h,f,u)}switch(l){case"input":Dy(i,s);break;case"textarea":yN(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?gl(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?gl(i,!!s.multiple,s.defaultValue,!0):gl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wu]=s}catch(x){Wt(e,e.return,x)}}break;case 6:if(io(n,e),Po(e),o&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Wt(e,e.return,x)}}break;case 3:if(io(n,e),Po(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Fu(n.containerInfo)}catch(x){Wt(e,e.return,x)}break;case 4:io(n,e),Po(e);break;case 13:io(n,e),Po(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ov=Xt())),o&4&&Wb(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(On=(u=On)||h,io(n,e),On=u):io(n,e),Po(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(je=e,h=e.child;h!==null;){for(f=je=h;je!==null;){switch(m=je,p=m.child,m.tag){case 0:case 11:case 14:case 15:ku(4,m,m.return);break;case 1:dl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){o=m,r=m.return;try{n=o,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(x){Wt(o,r,x)}}break;case 5:dl(m,m.return);break;case 22:if(m.memoizedState!==null){Gb(f);continue}}p!==null?(p.return=m,je=p):Gb(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wN("display",a))}catch(x){Wt(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Wt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:io(n,e),Po(e),o&4&&Wb(e);break;case 21:break;default:io(n,e),Po(e)}}function Po(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(qC(r)){var o=r;break e}r=r.return}throw Error(he(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Du(i,""),o.flags&=-33);var s=Vb(e);yx(e,s,i);break;case 3:case 4:var a=o.stateNode.containerInfo,l=Vb(e);gx(e,l,a);break;default:throw Error(he(161))}}catch(c){Wt(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function SO(e,n,r){je=e,YC(e)}function YC(e,n,r){for(var o=(e.mode&1)!==0;je!==null;){var i=je,s=i.child;if(i.tag===22&&o){var a=i.memoizedState!==null||bf;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||On;l=bf;var u=On;if(bf=a,(On=c)&&!u)for(je=i;je!==null;)a=je,c=a.child,a.tag===22&&a.memoizedState!==null?Kb(i):c!==null?(c.return=a,je=c):Kb(i);for(;s!==null;)je=s,YC(s),s=s.sibling;je=i,bf=l,On=u}qb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,je=s):qb(e)}}function qb(e){for(;je!==null;){var n=je;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:On||Hp(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!On)if(r===null)o.componentDidMount();else{var i=n.elementType===n.type?r.memoizedProps:co(n.type,r.memoizedProps);o.componentDidUpdate(i,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;s!==null&&Ab(n,s,o);break;case 3:var a=n.updateQueue;if(a!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Ab(n,a,r)}break;case 5:var l=n.stateNode;if(r===null&&n.flags&4){r=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var u=n.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}On||n.flags&512&&mx(n)}catch(m){Wt(n,n.return,m)}}if(n===e){je=null;break}if(r=n.sibling,r!==null){r.return=n.return,je=r;break}je=n.return}}function Gb(e){for(;je!==null;){var n=je;if(n===e){je=null;break}var r=n.sibling;if(r!==null){r.return=n.return,je=r;break}je=n.return}}function Kb(e){for(;je!==null;){var n=je;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Hp(4,n)}catch(c){Wt(n,r,c)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var i=n.return;try{o.componentDidMount()}catch(c){Wt(n,i,c)}}var s=n.return;try{mx(n)}catch(c){Wt(n,s,c)}break;case 5:var a=n.return;try{mx(n)}catch(c){Wt(n,a,c)}}}catch(c){Wt(n,n.return,c)}if(n===e){je=null;break}var l=n.sibling;if(l!==null){l.return=n.return,je=l;break}je=n.return}}var kO=Math.ceil,Bh=Ai.ReactCurrentDispatcher,Rv=Ai.ReactCurrentOwner,Xr=Ai.ReactCurrentBatchConfig,pt=0,wn=null,an=null,Cn=0,kr=0,fl=Rs(0),mn=0,Qu=null,va=0,Vp=0,Iv=0,_u=null,lr=null,Ov=0,Yl=1/0,ui=null,Hh=!1,xx=null,gs=null,Sf=!1,ls=null,Vh=0,Nu=0,vx=null,ih=-1,sh=0;function Gn(){return pt&6?Xt():ih!==-1?ih:ih=Xt()}function ys(e){return e.mode&1?pt&2&&Cn!==0?Cn&-Cn:sO.transition!==null?(sh===0&&(sh=RN()),sh):(e=St,e!==0||(e=window.event,e=e===void 0?16:FN(e.type)),e):1}function vo(e,n,r,o){if(50<Nu)throw Nu=0,vx=null,Error(he(185));Nd(e,r,o),(!(pt&2)||e!==wn)&&(e===wn&&(!(pt&2)&&(Vp|=r),mn===4&&Yi(e,Cn)),pr(e,o),r===1&&pt===0&&!(n.mode&1)&&(Yl=Xt()+500,Fp&&Is()))}function pr(e,n){var r=e.callbackNode;s4(e,n);var o=Eh(e,e===wn?Cn:0);if(o===0)r!==null&&rb(r),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(r!=null&&rb(r),n===1)e.tag===0?iO(Yb.bind(null,e)):iC(Yb.bind(null,e)),tO(function(){!(pt&6)&&Is()}),r=null;else{switch(IN(o)){case 1:r=av;break;case 4:r=PN;break;case 16:r=Ch;break;case 536870912:r=MN;break;default:r=Ch}r=rE(r,XC.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function XC(e,n){if(ih=-1,sh=0,pt&6)throw Error(he(327));var r=e.callbackNode;if(bl()&&e.callbackNode!==r)return null;var o=Eh(e,e===wn?Cn:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=Wh(e,o);else{n=o;var i=pt;pt|=2;var s=JC();(wn!==e||Cn!==n)&&(ui=null,Yl=Xt()+500,da(e,n));do try{CO();break}catch(l){QC(e,l)}while(!0);wv(),Bh.current=s,pt=i,an!==null?n=0:(wn=null,Cn=0,n=mn)}if(n!==0){if(n===2&&(i=qy(e),i!==0&&(o=i,n=wx(e,i))),n===1)throw r=Qu,da(e,0),Yi(e,o),pr(e,Xt()),r;if(n===6)Yi(e,o);else{if(i=e.current.alternate,!(o&30)&&!_O(i)&&(n=Wh(e,o),n===2&&(s=qy(e),s!==0&&(o=s,n=wx(e,s))),n===1))throw r=Qu,da(e,0),Yi(e,o),pr(e,Xt()),r;switch(e.finishedWork=i,e.finishedLanes=o,n){case 0:case 1:throw Error(he(345));case 2:qs(e,lr,ui);break;case 3:if(Yi(e,o),(o&130023424)===o&&(n=Ov+500-Xt(),10<n)){if(Eh(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){Gn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ex(qs.bind(null,e,lr,ui),n);break}qs(e,lr,ui);break;case 4:if(Yi(e,o),(o&4194240)===o)break;for(n=e.eventTimes,i=-1;0<o;){var a=31-xo(o);s=1<<a,a=n[a],a>i&&(i=a),o&=~s}if(o=i,o=Xt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*kO(o/1960))-o,10<o){e.timeoutHandle=ex(qs.bind(null,e,lr,ui),o);break}qs(e,lr,ui);break;case 5:qs(e,lr,ui);break;default:throw Error(he(329))}}}return pr(e,Xt()),e.callbackNode===r?XC.bind(null,e):null}function wx(e,n){var r=_u;return e.current.memoizedState.isDehydrated&&(da(e,n).flags|=256),e=Wh(e,n),e!==2&&(n=lr,lr=r,n!==null&&bx(n)),e}function bx(e){lr===null?lr=e:lr.push.apply(lr,e)}function _O(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var i=r[o],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yi(e,n){for(n&=~Iv,n&=~Vp,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-xo(n),o=1<<r;e[r]=-1,n&=~o}}function Yb(e){if(pt&6)throw Error(he(327));bl();var n=Eh(e,0);if(!(n&1))return pr(e,Xt()),null;var r=Wh(e,n);if(e.tag!==0&&r===2){var o=qy(e);o!==0&&(n=o,r=wx(e,o))}if(r===1)throw r=Qu,da(e,0),Yi(e,n),pr(e,Xt()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qs(e,lr,ui),pr(e,Xt()),null}function Dv(e,n){var r=pt;pt|=1;try{return e(n)}finally{pt=r,pt===0&&(Yl=Xt()+500,Fp&&Is())}}function wa(e){ls!==null&&ls.tag===0&&!(pt&6)&&bl();var n=pt;pt|=1;var r=Xr.transition,o=St;try{if(Xr.transition=null,St=1,e)return e()}finally{St=o,Xr.transition=r,pt=n,!(pt&6)&&Is()}}function Lv(){kr=fl.current,It(fl)}function da(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eO(r)),an!==null)for(r=an.return;r!==null;){var o=r;switch(yv(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Mh();break;case 3:Gl(),It(fr),It(Ln),Cv();break;case 5:Nv(o);break;case 4:Gl();break;case 13:It(Ft);break;case 19:It(Ft);break;case 10:bv(o.type._context);break;case 22:case 23:Lv()}r=r.return}if(wn=e,an=e=xs(e.current,null),Cn=kr=n,mn=0,Qu=null,Iv=Vp=va=0,lr=_u=null,Js!==null){for(n=0;n<Js.length;n++)if(r=Js[n],o=r.interleaved,o!==null){r.interleaved=null;var i=o.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,o.next=a}r.pending=o}Js=null}return e}function QC(e,n){do{var r=an;try{if(wv(),nh.current=Uh,Fh){for(var o=Ut.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Fh=!1}if(xa=0,vn=hn=Ut=null,Su=!1,Ku=0,Rv.current=null,r===null||r.return===null){mn=1,Qu=n,an=null;break}e:{var s=e,a=r.return,l=r,c=n;if(n=Cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Db(a);if(p!==null){p.flags&=-257,Lb(p,a,l,s,n),p.mode&1&&Ob(s,u,n),n=p,c=u;var v=n.updateQueue;if(v===null){var x=new Set;x.add(c),n.updateQueue=x}else v.add(c);break e}else{if(!(n&1)){Ob(s,u,n),$v();break e}c=Error(he(426))}}else if(Dt&&l.mode&1){var b=Db(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Lb(b,a,l,s,n),xv(Kl(c,l));break e}}s=c=Kl(c,l),mn!==4&&(mn=2),_u===null?_u=[s]:_u.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,n&=-n,s.lanes|=n;var y=IC(s,c,n);Tb(s,y);break e;case 1:l=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gs===null||!gs.has(S)))){s.flags|=65536,n&=-n,s.lanes|=n;var k=OC(s,l,n);Tb(s,k);break e}}s=s.return}while(s!==null)}eE(r)}catch(_){n=_,an===r&&r!==null&&(an=r=r.return);continue}break}while(!0)}function JC(){var e=Bh.current;return Bh.current=Uh,e===null?Uh:e}function $v(){(mn===0||mn===3||mn===2)&&(mn=4),wn===null||!(va&268435455)&&!(Vp&268435455)||Yi(wn,Cn)}function Wh(e,n){var r=pt;pt|=2;var o=JC();(wn!==e||Cn!==n)&&(ui=null,da(e,n));do try{NO();break}catch(i){QC(e,i)}while(!0);if(wv(),pt=r,Bh.current=o,an!==null)throw Error(he(261));return wn=null,Cn=0,mn}function NO(){for(;an!==null;)ZC(an)}function CO(){for(;an!==null&&!QI();)ZC(an)}function ZC(e){var n=nE(e.alternate,e,kr);e.memoizedProps=e.pendingProps,n===null?eE(e):an=n,Rv.current=null}function eE(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=vO(r,n),r!==null){r.flags&=32767,an=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mn=6,an=null;return}}else if(r=xO(r,n,kr),r!==null){an=r;return}if(n=n.sibling,n!==null){an=n;return}an=n=e}while(n!==null);mn===0&&(mn=5)}function qs(e,n,r){var o=St,i=Xr.transition;try{Xr.transition=null,St=1,EO(e,n,r,o)}finally{Xr.transition=i,St=o}return null}function EO(e,n,r,o){do bl();while(ls!==null);if(pt&6)throw Error(he(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(a4(e,s),e===wn&&(an=wn=null,Cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sf||(Sf=!0,rE(Ch,function(){return bl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var a=St;St=1;var l=pt;pt|=4,Rv.current=null,bO(e,r),KC(r,e),G4(Jy),jh=!!Qy,Jy=Qy=null,e.current=r,SO(r),JI(),pt=l,St=a,Xr.transition=s}else e.current=r;if(Sf&&(Sf=!1,ls=e,Vh=i),s=e.pendingLanes,s===0&&(gs=null),t4(r.stateNode),pr(e,Xt()),n!==null)for(o=e.onRecoverableError,r=0;r<n.length;r++)i=n[r],o(i.value,{componentStack:i.stack,digest:i.digest});if(Hh)throw Hh=!1,e=xx,xx=null,e;return Vh&1&&e.tag!==0&&bl(),s=e.pendingLanes,s&1?e===vx?Nu++:(Nu=0,vx=e):Nu=0,Is(),null}function bl(){if(ls!==null){var e=IN(Vh),n=Xr.transition,r=St;try{if(Xr.transition=null,St=16>e?16:e,ls===null)var o=!1;else{if(e=ls,ls=null,Vh=0,pt&6)throw Error(he(331));var i=pt;for(pt|=4,je=e.current;je!==null;){var s=je,a=s.child;if(je.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(je=u;je!==null;){var h=je;switch(h.tag){case 0:case 11:case 15:ku(8,h,s)}var f=h.child;if(f!==null)f.return=h,je=f;else for(;je!==null;){h=je;var m=h.sibling,p=h.return;if(WC(h),h===u){je=null;break}if(m!==null){m.return=p,je=m;break}je=p}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}je=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,je=a;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ku(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,je=y;break e}je=s.return}}var w=e.current;for(je=w;je!==null;){a=je;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,je=S;else e:for(a=w;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hp(9,l)}}catch(_){Wt(l,l.return,_)}if(l===a){je=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,je=k;break e}je=l.return}}if(pt=i,Is(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(Op,e)}catch{}o=!0}return o}finally{St=r,Xr.transition=n}}return!1}function Xb(e,n,r){n=Kl(r,n),n=IC(e,n,1),e=ms(e,n,1),n=Gn(),e!==null&&(Nd(e,1,n),pr(e,n))}function Wt(e,n,r){if(e.tag===3)Xb(e,e,r);else for(;n!==null;){if(n.tag===3){Xb(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gs===null||!gs.has(o))){e=Kl(r,e),e=OC(n,e,1),n=ms(n,e,1),e=Gn(),n!==null&&(Nd(n,1,e),pr(n,e));break}}n=n.return}}function jO(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),n=Gn(),e.pingedLanes|=e.suspendedLanes&r,wn===e&&(Cn&r)===r&&(mn===4||mn===3&&(Cn&130023424)===Cn&&500>Xt()-Ov?da(e,0):Iv|=r),pr(e,n)}function tE(e,n){n===0&&(e.mode&1?(n=ff,ff<<=1,!(ff&130023424)&&(ff=4194304)):n=1);var r=Gn();e=ki(e,n),e!==null&&(Nd(e,n,r),pr(e,r))}function TO(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),tE(e,r)}function AO(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(he(314))}o!==null&&o.delete(n),tE(e,r)}var nE;nE=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||fr.current)ur=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return ur=!1,yO(e,n,r);ur=!!(e.flags&131072)}else ur=!1,Dt&&n.flags&1048576&&sC(n,Oh,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;oh(e,n),e=n.pendingProps;var i=Vl(n,Ln.current);wl(n,r),i=jv(null,n,o,e,i,r);var s=Tv();return n.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,hr(o)?(s=!0,Rh(n)):s=!1,n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kv(n),i.updater=Bp,n.stateNode=i,i._reactInternals=n,ax(n,o,e,r),n=ux(null,n,o,!0,s,r)):(n.tag=0,Dt&&s&&gv(n),Bn(null,n,i,r),n=n.child),n;case 16:o=n.elementType;e:{switch(oh(e,n),e=n.pendingProps,i=o._init,o=i(o._payload),n.type=o,i=n.tag=MO(o),e=co(o,e),i){case 0:n=cx(null,n,o,e,r);break e;case 1:n=Fb(null,n,o,e,r);break e;case 11:n=$b(null,n,o,e,r);break e;case 14:n=zb(null,n,o,co(o.type,e),r);break e}throw Error(he(306,o,""))}return n;case 0:return o=n.type,i=n.pendingProps,i=n.elementType===o?i:co(o,i),cx(e,n,o,i,r);case 1:return o=n.type,i=n.pendingProps,i=n.elementType===o?i:co(o,i),Fb(e,n,o,i,r);case 3:e:{if(zC(n),e===null)throw Error(he(387));o=n.pendingProps,s=n.memoizedState,i=s.element,fC(e,n),$h(n,o,null,r);var a=n.memoizedState;if(o=a.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},n.updateQueue.baseState=s,n.memoizedState=s,n.flags&256){i=Kl(Error(he(423)),n),n=Ub(e,n,o,r,i);break e}else if(o!==i){i=Kl(Error(he(424)),n),n=Ub(e,n,o,r,i);break e}else for(Nr=ps(n.stateNode.containerInfo.firstChild),Er=n,Dt=!0,po=null,r=uC(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wl(),o===i){n=_i(e,n,r);break e}Bn(e,n,o,r)}n=n.child}return n;case 5:return hC(n),e===null&&ox(n),o=n.type,i=n.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Zy(o,i)?a=null:s!==null&&Zy(o,s)&&(n.flags|=32),$C(e,n),Bn(e,n,a,r),n.child;case 6:return e===null&&ox(n),null;case 13:return FC(e,n,r);case 4:return _v(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ql(n,null,o,r):Bn(e,n,o,r),n.child;case 11:return o=n.type,i=n.pendingProps,i=n.elementType===o?i:co(o,i),$b(e,n,o,i,r);case 7:return Bn(e,n,n.pendingProps,r),n.child;case 8:return Bn(e,n,n.pendingProps.children,r),n.child;case 12:return Bn(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(o=n.type._context,i=n.pendingProps,s=n.memoizedProps,a=i.value,jt(Dh,o._currentValue),o._currentValue=a,s!==null)if(ko(s.value,a)){if(s.children===i.children&&!fr.current){n=_i(e,n,r);break e}}else for(s=n.child,s!==null&&(s.return=n);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===o){if(s.tag===1){c=xi(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),ix(s.return,r,n),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===n.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(he(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ix(a,r,n),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===n){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Bn(e,n,i.children,r),n=n.child}return n;case 9:return i=n.type,o=n.pendingProps.children,wl(n,r),i=Zr(i),o=o(i),n.flags|=1,Bn(e,n,o,r),n.child;case 14:return o=n.type,i=co(o,n.pendingProps),i=co(o.type,i),zb(e,n,o,i,r);case 15:return DC(e,n,n.type,n.pendingProps,r);case 17:return o=n.type,i=n.pendingProps,i=n.elementType===o?i:co(o,i),oh(e,n),n.tag=1,hr(o)?(e=!0,Rh(n)):e=!1,wl(n,r),RC(n,o,i),ax(n,o,i,r),ux(null,n,o,!0,e,r);case 19:return UC(e,n,r);case 22:return LC(e,n,r)}throw Error(he(156,n.tag))};function rE(e,n){return AN(e,n)}function PO(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(e,n,r,o){return new PO(e,n,r,o)}function zv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MO(e){if(typeof e=="function")return zv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ov)return 11;if(e===iv)return 14}return 2}function xs(e,n){var r=e.alternate;return r===null?(r=Kr(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ah(e,n,r,o,i,s){var a=2;if(o=e,typeof e=="function")zv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nl:return fa(r.children,i,s,n);case rv:a=8,i|=8;break;case Py:return e=Kr(12,r,n,i|2),e.elementType=Py,e.lanes=s,e;case My:return e=Kr(13,r,n,i),e.elementType=My,e.lanes=s,e;case Ry:return e=Kr(19,r,n,i),e.elementType=Ry,e.lanes=s,e;case hN:return Wp(r,i,s,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dN:a=10;break e;case fN:a=9;break e;case ov:a=11;break e;case iv:a=14;break e;case Vi:a=16,o=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return n=Kr(a,r,n,i),n.elementType=e,n.type=o,n.lanes=s,n}function fa(e,n,r,o){return e=Kr(7,e,o,n),e.lanes=r,e}function Wp(e,n,r,o){return e=Kr(22,e,o,n),e.elementType=hN,e.lanes=r,e.stateNode={isHidden:!1},e}function Tg(e,n,r){return e=Kr(6,e,null,n),e.lanes=r,e}function Ag(e,n,r){return n=Kr(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function RO(e,n,r,o,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fv(e,n,r,o,i,s,a,l,c){return e=new RO(e,n,r,l,c),n===1?(n=1,s===!0&&(n|=8)):n=0,s=Kr(3,null,null,n),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(s),e}function IO(e,n,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:o==null?null:""+o,children:e,containerInfo:n,implementation:r}}function oE(e){if(!e)return Es;e=e._reactInternals;e:{if(Ma(e)!==e||e.tag!==1)throw Error(he(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(hr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(hr(r))return oC(e,r,n)}return n}function iE(e,n,r,o,i,s,a,l,c){return e=Fv(r,o,!0,e,i,s,a,l,c),e.context=oE(null),r=e.current,o=Gn(),i=ys(r),s=xi(o,i),s.callback=n??null,ms(r,s,i),e.current.lanes=i,Nd(e,i,o),pr(e,o),e}function qp(e,n,r,o){var i=n.current,s=Gn(),a=ys(i);return r=oE(r),n.context===null?n.context=r:n.pendingContext=r,n=xi(s,a),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=ms(i,n,a),e!==null&&(vo(e,i,a,s),th(e,i,a)),a}function qh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qb(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Uv(e,n){Qb(e,n),(e=e.alternate)&&Qb(e,n)}function OO(){return null}var sE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bv(e){this._internalRoot=e}Gp.prototype.render=Bv.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(he(409));qp(e,n,null,null)};Gp.prototype.unmount=Bv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wa(function(){qp(null,e,null,null)}),n[Si]=null}};function Gp(e){this._internalRoot=e}Gp.prototype.unstable_scheduleHydration=function(e){if(e){var n=LN();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Ki.length&&n!==0&&n<Ki[r].priority;r++);Ki.splice(r,0,e),r===0&&zN(e)}};function Hv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jb(){}function DO(e,n,r,o,i){if(i){if(typeof o=="function"){var s=o;o=function(){var u=qh(a);s.call(u)}}var a=iE(n,o,e,0,null,!1,!1,"",Jb);return e._reactRootContainer=a,e[Si]=a.current,Hu(e.nodeType===8?e.parentNode:e),wa(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var l=o;o=function(){var u=qh(c);l.call(u)}}var c=Fv(e,0,!1,null,null,!1,!1,"",Jb);return e._reactRootContainer=c,e[Si]=c.current,Hu(e.nodeType===8?e.parentNode:e),wa(function(){qp(n,c,r,o)}),c}function Yp(e,n,r,o,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=qh(a);l.call(c)}}qp(n,a,e,i)}else a=DO(r,n,e,i,o);return qh(a)}ON=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=iu(n.pendingLanes);r!==0&&(lv(n,r|1),pr(n,Xt()),!(pt&6)&&(Yl=Xt()+500,Is()))}break;case 13:wa(function(){var o=ki(e,1);if(o!==null){var i=Gn();vo(o,e,1,i)}}),Uv(e,1)}};cv=function(e){if(e.tag===13){var n=ki(e,134217728);if(n!==null){var r=Gn();vo(n,e,134217728,r)}Uv(e,134217728)}};DN=function(e){if(e.tag===13){var n=ys(e),r=ki(e,n);if(r!==null){var o=Gn();vo(r,e,n,o)}Uv(e,n)}};LN=function(){return St};$N=function(e,n){var r=St;try{return St=e,n()}finally{St=r}};Hy=function(e,n,r){switch(n){case"input":if(Dy(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var i=zp(o);if(!i)throw Error(he(90));mN(o),Dy(o,i)}}}break;case"textarea":yN(e,r);break;case"select":n=r.value,n!=null&&gl(e,!!r.multiple,n,!1)}};_N=Dv;NN=wa;var LO={usingClientEntryPoint:!1,Events:[Ed,sl,zp,SN,kN,Dv]},$c={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$O={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jN(e),e===null?null:e.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||OO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Op=kf.inject($O),Bo=kf}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO;Mr.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(n))throw Error(he(200));return IO(e,n,null,r)};Mr.createRoot=function(e,n){if(!Hv(e))throw Error(he(299));var r=!1,o="",i=sE;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),n=Fv(e,1,!1,null,null,r,!1,o,i),e[Si]=n.current,Hu(e.nodeType===8?e.parentNode:e),new Bv(n)};Mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=jN(n),e=e===null?null:e.stateNode,e};Mr.flushSync=function(e){return wa(e)};Mr.hydrate=function(e,n,r){if(!Kp(n))throw Error(he(200));return Yp(null,e,n,!0,r)};Mr.hydrateRoot=function(e,n,r){if(!Hv(e))throw Error(he(405));var o=r!=null&&r.hydratedSources||null,i=!1,s="",a=sE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),n=iE(n,null,e,1,r??null,i,!1,s,a),e[Si]=n.current,Hu(e),o)for(e=0;e<o.length;e++)r=o[e],i=r._getVersion,i=i(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,i]:n.mutableSourceEagerHydrationData.push(r,i);return new Gp(n)};Mr.render=function(e,n,r){if(!Kp(n))throw Error(he(200));return Yp(null,e,n,!1,r)};Mr.unmountComponentAtNode=function(e){if(!Kp(e))throw Error(he(40));return e._reactRootContainer?(wa(function(){Yp(null,null,e,!1,function(){e._reactRootContainer=null,e[Si]=null})}),!0):!1};Mr.unstable_batchedUpdates=Dv;Mr.unstable_renderSubtreeIntoContainer=function(e,n,r,o){if(!Kp(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Yp(e,n,r,!1,o)};Mr.version="18.3.1-next-f1338f8080-20240426";function aE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aE)}catch(e){console.error(e)}}aE(),aN.exports=Mr;var Ra=aN.exports;const lE=fc(Ra);var cE,Zb=Ra;cE=Zb.createRoot,Zb.hydrateRoot;const zO=1,FO=1e6;let Pg=0;function UO(){return Pg=(Pg+1)%Number.MAX_SAFE_INTEGER,Pg.toString()}const Mg=new Map,eS=e=>{if(Mg.has(e))return;const n=setTimeout(()=>{Mg.delete(e),Cu({type:"REMOVE_TOAST",toastId:e})},FO);Mg.set(e,n)},BO=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,zO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?eS(r):e.toasts.forEach(o=>{eS(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},lh=[];let ch={toasts:[]};function Cu(e){ch=BO(ch,e),lh.forEach(n=>{n(ch)})}function HO({...e}){const n=UO(),r=i=>Cu({type:"UPDATE_TOAST",toast:{...i,id:n}}),o=()=>Cu({type:"DISMISS_TOAST",toastId:n});return Cu({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:i=>{i||o()}}}),{id:n,dismiss:o,update:r}}function Td(){const[e,n]=g.useState(ch);return g.useEffect(()=>(lh.push(n),()=>{const r=lh.indexOf(n);r>-1&&lh.splice(r,1)}),[e]),{...e,toast:HO,dismiss:r=>Cu({type:"DISMISS_TOAST",toastId:r})}}function xe(e,n,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return n==null?void 0:n(i)}}function tS(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Xp(...e){return n=>{let r=!1;const o=e.map(i=>{const s=tS(i,n);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<o.length;i++){const s=o[i];typeof s=="function"?s():tS(e[i],null)}}}}function nt(...e){return g.useCallback(Xp(...e),e)}function VO(e,n){const r=g.createContext(n),o=s=>{const{children:a,...l}=s,c=g.useMemo(()=>l,Object.values(l));return d.jsx(r.Provider,{value:c,children:a})};o.displayName=e+"Provider";function i(s){const a=g.useContext(r);if(a)return a;if(n!==void 0)return n;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[o,i]}function Ir(e,n=[]){let r=[];function o(s,a){const l=g.createContext(a),c=r.length;r=[...r,a];const u=f=>{var y;const{scope:m,children:p,...v}=f,x=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=g.useMemo(()=>v,Object.values(v));return d.jsx(x.Provider,{value:b,children:p})};u.displayName=s+"Provider";function h(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,v=g.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=r.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[o,WO(i,...n)]}function WO(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=o.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return r.scopeName=n.scopeName,r}function ba(e){const n=GO(e),r=g.forwardRef((o,i)=>{const{children:s,...a}=o,l=g.Children.toArray(s),c=l.find(YO);if(c){const u=c.props.children,h=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return d.jsx(n,{...a,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,h):null})}return d.jsx(n,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var qO=ba("Slot");function GO(e){const n=g.forwardRef((r,o)=>{const{children:i,...s}=r;if(g.isValidElement(i)){const a=QO(i),l=XO(s,i.props);return i.type!==g.Fragment&&(l.ref=o?Xp(o,a):a),g.cloneElement(i,l)}return g.Children.count(i)>1?g.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var uE=Symbol("radix.slottable");function KO(e){const n=({children:r})=>d.jsx(d.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=uE,n}function YO(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uE}function XO(e,n){const r={...n};for(const o in n){const i=e[o],s=n[o];/^on[A-Z]/.test(o)?i&&s?r[o]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[o]=i):o==="style"?r[o]={...i,...s}:o==="className"&&(r[o]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function QO(e){var o,i;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qp(e){const n=e+"CollectionProvider",[r,o]=Ir(n),[i,s]=r(n,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:b,children:y}=x,w=B.useRef(null),S=B.useRef(new Map).current;return d.jsx(i,{scope:b,itemMap:S,collectionRef:w,children:y})};a.displayName=n;const l=e+"CollectionSlot",c=ba(l),u=B.forwardRef((x,b)=>{const{scope:y,children:w}=x,S=s(l,y),k=nt(b,S.collectionRef);return d.jsx(c,{ref:k,children:w})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=ba(h),p=B.forwardRef((x,b)=>{const{scope:y,children:w,...S}=x,k=B.useRef(null),_=nt(b,k),N=s(h,y);return B.useEffect(()=>(N.itemMap.set(k,{ref:k,...S}),()=>void N.itemMap.delete(k))),d.jsx(m,{[f]:"",ref:_,children:w})});p.displayName=h;function v(x){const b=s(e+"CollectionConsumer",x);return B.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,C)=>S.indexOf(N.ref.current)-S.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,o]}var JO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=JO.reduce((e,n)=>{const r=ba(`Primitive.${n}`),o=g.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...l,ref:s})});return o.displayName=`Primitive.${n}`,{...e,[n]:o}},{});function Vv(e,n){e&&Ra.flushSync(()=>e.dispatchEvent(n))}function Qt(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),g.useMemo(()=>(...r)=>{var o;return(o=n.current)==null?void 0:o.call(n,...r)},[])}function ZO(e,n=globalThis==null?void 0:globalThis.document){const r=Qt(e);g.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[r,n])}var eD="DismissableLayer",Sx="dismissableLayer.update",tD="dismissableLayer.pointerDownOutside",nD="dismissableLayer.focusOutside",nS,dE=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gc=g.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=g.useContext(dE),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=nt(n,C=>f(C)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),w=h?x.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=w>=y,_=oD(C=>{const j=C.target,A=[...u.branches].some(E=>E.contains(j));!k||A||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),N=iD(C=>{const j=C.target;[...u.branches].some(E=>E.contains(j))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return ZO(C=>{w===u.layers.size-1&&(o==null||o(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(nS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),rS(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nS)}},[h,m,r,u]),g.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),rS())},[h,u]),g.useEffect(()=>{const C=()=>p({});return document.addEventListener(Sx,C),()=>document.removeEventListener(Sx,C)},[]),d.jsx(Le.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,_.onPointerDownCapture)})});gc.displayName=eD;var rD="DismissableLayerBranch",fE=g.forwardRef((e,n)=>{const r=g.useContext(dE),o=g.useRef(null),i=nt(n,o);return g.useEffect(()=>{const s=o.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),d.jsx(Le.div,{...e,ref:i})});fE.displayName=rD;function oD(e,n=globalThis==null?void 0:globalThis.document){const r=Qt(e),o=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=l=>{if(l.target&&!o.current){let c=function(){hE(tD,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=c,n.addEventListener("click",i.current,{once:!0})):c()}else n.removeEventListener("click",i.current);o.current=!1},a=window.setTimeout(()=>{n.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),n.removeEventListener("pointerdown",s),n.removeEventListener("click",i.current)}},[n,r]),{onPointerDownCapture:()=>o.current=!0}}function iD(e,n=globalThis==null?void 0:globalThis.document){const r=Qt(e),o=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!o.current&&hE(nD,r,{originalEvent:s},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function rS(){const e=new CustomEvent(Sx);document.dispatchEvent(e)}function hE(e,n,r,{discrete:o}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&i.addEventListener(e,n,{once:!0}),o?Vv(i,s):i.dispatchEvent(s)}var sD=gc,aD=fE,bn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},lD="Portal",Ad=g.forwardRef((e,n)=>{var l;const{container:r,...o}=e,[i,s]=g.useState(!1);bn(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?lE.createPortal(d.jsx(Le.div,{...o,ref:n}),a):null});Ad.displayName=lD;function cD(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var Xn=e=>{const{present:n,children:r}=e,o=uD(n),i=typeof r=="function"?r({present:o.isPresent}):g.Children.only(r),s=nt(o.ref,dD(i));return typeof r=="function"||o.isPresent?g.cloneElement(i,{ref:s}):null};Xn.displayName="Presence";function uD(e){const[n,r]=g.useState(),o=g.useRef(null),i=g.useRef(e),s=g.useRef("none"),a=e?"mounted":"unmounted",[l,c]=cD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=_f(o.current);s.current=l==="mounted"?u:"none"},[l]),bn(()=>{const u=o.current,h=i.current;if(h!==e){const m=s.current,p=_f(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),bn(()=>{if(n){let u;const h=n.ownerDocument.defaultView??window,f=p=>{const x=_f(o.current).includes(p.animationName);if(p.target===n&&x&&(c("ANIMATION_END"),!i.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",u=h.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},m=p=>{p.target===n&&(s.current=_f(o.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{h.clearTimeout(u),n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{o.current=u?getComputedStyle(u):null,r(u)},[])}}function _f(e){return(e==null?void 0:e.animationName)||"none"}function dD(e){var o,i;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fD=Z0[" useInsertionEffect ".trim().toString()]||bn;function Ni({prop:e,defaultProp:n,onChange:r=()=>{},caller:o}){const[i,s,a]=hD({defaultProp:n,onChange:r}),l=e!==void 0,c=l?e:i;{const h=g.useRef(e!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,o])}const u=g.useCallback(h=>{var f;if(l){const m=pD(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else s(h)},[l,e,s,a]);return[c,u]}function hD({defaultProp:e,onChange:n}){const[r,o]=g.useState(e),i=g.useRef(r),s=g.useRef(n);return fD(()=>{s.current=n},[n]),g.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,o,s]}function pD(e){return typeof e=="function"}var pE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mD="VisuallyHidden",Jp=g.forwardRef((e,n)=>d.jsx(Le.span,{...e,ref:n,style:{...pE,...e.style}}));Jp.displayName=mD;var gD=Jp,Wv="ToastProvider",[qv,yD,xD]=Qp("Toast"),[mE,Yae]=Ir("Toast",[xD]),[vD,Zp]=mE(Wv),gE=e=>{const{__scopeToast:n,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,c]=g.useState(null),[u,h]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wv}\`. Expected non-empty \`string\`.`),d.jsx(qv.Provider,{scope:n,children:d.jsx(vD,{scope:n,label:r,duration:o,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>h(p=>p+1),[]),onToastRemove:g.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};gE.displayName=Wv;var yE="ToastViewport",wD=["F8"],kx="toast.viewportPause",_x="toast.viewportResume",xE=g.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:o=wD,label:i="Notifications ({hotkey})",...s}=e,a=Zp(yE,r),l=yD(r),c=g.useRef(null),u=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=nt(n,f,a.onViewportChange),p=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;g.useEffect(()=>{const b=y=>{var S;o.length!==0&&o.every(k=>y[k]||y.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]),g.useEffect(()=>{const b=c.current,y=f.current;if(v&&b&&y){const w=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(kx);y.dispatchEvent(N),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(_x);y.dispatchEvent(N),a.isClosePausedRef.current=!1}},k=N=>{!b.contains(N.relatedTarget)&&S()},_=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",k),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",_),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:b})=>{const w=l().map(S=>{const k=S.ref.current,_=[k,...RD(k)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return g.useEffect(()=>{const b=f.current;if(b){const y=w=>{var _,N,C;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const j=document.activeElement,A=w.shiftKey;if(w.target===b&&A){(_=u.current)==null||_.focus();return}const O=x({tabbingDirection:A?"backwards":"forwards"}),U=O.findIndex(P=>P===j);Rg(O.slice(U+1))?w.preventDefault():A?(N=u.current)==null||N.focus():(C=h.current)==null||C.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,x]),d.jsxs(aD,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&d.jsx(Nx,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Rg(b)}}),d.jsx(qv.Slot,{scope:r,children:d.jsx(Le.ol,{tabIndex:-1,...s,ref:m})}),v&&d.jsx(Nx,{ref:h,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Rg(b)}})]})});xE.displayName=yE;var vE="ToastFocusProxy",Nx=g.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=e,s=Zp(vE,r);return d.jsx(Jp,{"aria-hidden":!0,tabIndex:0,...i,ref:n,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&o()}})});Nx.displayName=vE;var Pd="Toast",bD="toast.swipeStart",SD="toast.swipeMove",kD="toast.swipeCancel",_D="toast.swipeEnd",wE=g.forwardRef((e,n)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:s,...a}=e,[l,c]=Ni({prop:o,defaultProp:i??!0,onChange:s,caller:Pd});return d.jsx(Xn,{present:r||l,children:d.jsx(ED,{open:l,...a,ref:n,onClose:()=>c(!1),onPause:Qt(e.onPause),onResume:Qt(e.onResume),onSwipeStart:xe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wE.displayName=Pd;var[ND,CD]=mE(Pd,{onClose(){}}),ED=g.forwardRef((e,n)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...v}=e,x=Zp(Pd,r),[b,y]=g.useState(null),w=nt(n,P=>y(P)),S=g.useRef(null),k=g.useRef(null),_=i||x.duration,N=g.useRef(0),C=g.useRef(_),j=g.useRef(0),{onToastAdd:A,onToastRemove:E}=x,I=Qt(()=>{var F;(b==null?void 0:b.contains(document.activeElement))&&((F=x.viewport)==null||F.focus()),a()}),O=g.useCallback(P=>{!P||P===1/0||(window.clearTimeout(j.current),N.current=new Date().getTime(),j.current=window.setTimeout(I,P))},[I]);g.useEffect(()=>{const P=x.viewport;if(P){const F=()=>{O(C.current),u==null||u()},L=()=>{const W=new Date().getTime()-N.current;C.current=C.current-W,window.clearTimeout(j.current),c==null||c()};return P.addEventListener(kx,L),P.addEventListener(_x,F),()=>{P.removeEventListener(kx,L),P.removeEventListener(_x,F)}}},[x.viewport,_,c,u,O]),g.useEffect(()=>{s&&!x.isClosePausedRef.current&&O(_)},[s,_,x.isClosePausedRef,O]),g.useEffect(()=>(A(),()=>E()),[A,E]);const U=g.useMemo(()=>b?EE(b):null,[b]);return x.viewport?d.jsxs(d.Fragment,{children:[U&&d.jsx(jD,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),d.jsx(ND,{scope:r,onClose:I,children:Ra.createPortal(d.jsx(qv.ItemSlot,{scope:r,children:d.jsx(sD,{asChild:!0,onEscapeKeyDown:xe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||I(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xe(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:xe(e.onPointerDown,P=>{P.button===0&&(S.current={x:P.clientX,y:P.clientY})}),onPointerMove:xe(e.onPointerMove,P=>{if(!S.current)return;const F=P.clientX-S.current.x,L=P.clientY-S.current.y,W=!!k.current,$=["left","right"].includes(x.swipeDirection),R=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,T=$?R(0,F):0,D=$?0:R(0,L),z=P.pointerType==="touch"?10:2,M={x:T,y:D},G={originalEvent:P,delta:M};W?(k.current=M,Nf(SD,f,G,{discrete:!1})):oS(M,x.swipeDirection,z)?(k.current=M,Nf(bD,h,G,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(F)>z||Math.abs(L)>z)&&(S.current=null)}),onPointerUp:xe(e.onPointerUp,P=>{const F=k.current,L=P.target;if(L.hasPointerCapture(P.pointerId)&&L.releasePointerCapture(P.pointerId),k.current=null,S.current=null,F){const W=P.currentTarget,$={originalEvent:P,delta:F};oS(F,x.swipeDirection,x.swipeThreshold)?Nf(_D,p,$,{discrete:!0}):Nf(kD,m,$,{discrete:!0}),W.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),jD=e=>{const{__scopeToast:n,children:r,...o}=e,i=Zp(Pd,n),[s,a]=g.useState(!1),[l,c]=g.useState(!1);return PD(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:d.jsx(Ad,{asChild:!0,children:d.jsx(Jp,{...o,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},TD="ToastTitle",bE=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return d.jsx(Le.div,{...o,ref:n})});bE.displayName=TD;var AD="ToastDescription",SE=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return d.jsx(Le.div,{...o,ref:n})});SE.displayName=AD;var kE="ToastAction",_E=g.forwardRef((e,n)=>{const{altText:r,...o}=e;return r.trim()?d.jsx(CE,{altText:r,asChild:!0,children:d.jsx(Gv,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${kE}\`. Expected non-empty \`string\`.`),null)});_E.displayName=kE;var NE="ToastClose",Gv=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e,i=CD(NE,r);return d.jsx(CE,{asChild:!0,children:d.jsx(Le.button,{type:"button",...o,ref:n,onClick:xe(e.onClick,i.onClose)})})});Gv.displayName=NE;var CE=g.forwardRef((e,n)=>{const{__scopeToast:r,altText:o,...i}=e;return d.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:n})});function EE(e){const n=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),MD(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",s=o.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=o.dataset.radixToastAnnounceAlt;a&&n.push(a)}else n.push(...EE(o))}}),n}function Nf(e,n,r,{discrete:o}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&i.addEventListener(e,n,{once:!0}),o?Vv(i,s):i.dispatchEvent(s)}var oS=(e,n,r=0)=>{const o=Math.abs(e.x),i=Math.abs(e.y),s=o>i;return n==="left"||n==="right"?s&&o>r:!s&&i>r};function PD(e=()=>{}){const n=Qt(e);bn(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[n])}function MD(e){return e.nodeType===e.ELEMENT_NODE}function RD(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Rg(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var ID=gE,jE=xE,TE=wE,AE=bE,PE=SE,ME=_E,RE=Gv;function IE(e){var n,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=IE(e[n]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function OE(){for(var e,n,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=IE(e))&&(o&&(o+=" "),o+=n);return o}const iS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sS=OE,yc=(e,n)=>r=>{var o;if((n==null?void 0:n.variants)==null)return sS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=n,a=Object.keys(i).map(u=>{const h=r==null?void 0:r[u],f=s==null?void 0:s[u];if(h===null)return null;const m=iS(h)||iS(f);return i[u][m]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((u,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...s,...l}[x]):{...s,...l}[x]===b})?[...u,f,m]:u},[]);return sS(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DE=(...e)=>e.filter((n,r,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=g.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:s,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...DD,width:n,height:n,stroke:e,strokeWidth:o?Number(r)*24/Number(n):r,className:DE("lucide",i),...l},[...a.map(([u,h])=>g.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,n)=>{const r=g.forwardRef(({className:o,...i},s)=>g.createElement(LD,{ref:s,iconNode:n,className:DE(`lucide-${OD(e)}`,o),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=ke("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=ke("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ke("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=ke("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=ke("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=ke("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ke("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ke("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ke("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ke("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ke("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ke("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ke("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=ke("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=ke("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=ke("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=ke("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ke("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ke("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ke("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ke("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=ke("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ke("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=ke("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=ke("Unplug",[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ke("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Qv="-",NL=e=>{const n=EL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:a=>{const l=a.split(Qv);return l[0]===""&&l.length!==1&&l.shift(),tj(l,n)||CL(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&o[a]?[...c,...o[a]]:c}}},tj=(e,n)=>{var a;if(e.length===0)return n.classGroupId;const r=e[0],o=n.nextPart.get(r),i=o?tj(e.slice(1),o):void 0;if(i)return i;if(n.validators.length===0)return;const s=e.join(Qv);return(a=n.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},uS=/^\[(.+)\]$/,CL=e=>{if(uS.test(e)){const n=uS.exec(e)[1],r=n==null?void 0:n.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},EL=e=>{const{theme:n,prefix:r}=e,o={nextPart:new Map,validators:[]};return TL(Object.entries(e.classGroups),r).forEach(([s,a])=>{Cx(a,o,s,n)}),o},Cx=(e,n,r,o)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?n:dS(n,i);s.classGroupId=r;return}if(typeof i=="function"){if(jL(i)){Cx(i(o),n,r,o);return}n.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Cx(a,dS(n,s),r,o)})})},dS=(e,n)=>{let r=e;return n.split(Qv).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},jL=e=>e.isThemeGetter,TL=(e,n)=>n?e.map(([r,o])=>{const i=o.map(s=>typeof s=="string"?n+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[n+a,l])):s);return[r,i]}):e,AL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,o=new Map;const i=(s,a)=>{r.set(s,a),n++,n>e&&(n=0,o=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=o.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},nj="!",PL=e=>{const{separator:n,experimentalParseClassName:r}=e,o=n.length===1,i=n[0],s=n.length,a=l=>{const c=[];let u=0,h=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===i&&(o||l.slice(b,b+s)===n)){c.push(l.slice(h,b)),h=b+s;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(h),p=m.startsWith(nj),v=p?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:a}):a},ML=e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(o=>{o[0]==="["?(n.push(...r.sort(),o),r=[]):r.push(o)}),n.push(...r.sort()),n},RL=e=>({cache:AL(e.cacheSize),parseClassName:PL(e),...NL(e)}),IL=/\s+/,OL=(e,n)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:i}=n,s=[],a=e.trim().split(IL);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let v=!!p,x=o(v?m.substring(0,p):m);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=o(m),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=ML(h).join(":"),y=f?b+nj:b,w=y+x;if(s.includes(w))continue;s.push(w);const S=i(x,v);for(let k=0;k<S.length;++k){const _=S[k];s.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function DL(){let e=0,n,r,o="";for(;e<arguments.length;)(n=arguments[e++])&&(r=rj(n))&&(o&&(o+=" "),o+=r);return o}const rj=e=>{if(typeof e=="string")return e;let n,r="";for(let o=0;o<e.length;o++)e[o]&&(n=rj(e[o]))&&(r&&(r+=" "),r+=n);return r};function LL(e,...n){let r,o,i,s=a;function a(c){const u=n.reduce((h,f)=>f(h),e());return r=RL(u),o=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=o(c);if(u)return u;const h=OL(c,r);return i(c,h),h}return function(){return s(DL.apply(null,arguments))}}const Pt=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},oj=/^\[(?:([a-z-]+):)?(.+)\]$/i,$L=/^\d+\/\d+$/,zL=new Set(["px","full","screen"]),FL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=e=>kl(e)||zL.has(e)||$L.test(e),Ii=e=>xc(e,"length",JL),kl=e=>!!e&&!Number.isNaN(Number(e)),Dg=e=>xc(e,"number",kl),zc=e=>!!e&&Number.isInteger(Number(e)),WL=e=>e.endsWith("%")&&kl(e.slice(0,-1)),Ze=e=>oj.test(e),Oi=e=>FL.test(e),qL=new Set(["length","size","percentage"]),GL=e=>xc(e,qL,ij),KL=e=>xc(e,"position",ij),YL=new Set(["image","url"]),XL=e=>xc(e,YL,e$),QL=e=>xc(e,"",ZL),Fc=()=>!0,xc=(e,n,r)=>{const o=oj.exec(e);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):r(o[2]):!1},JL=e=>UL.test(e)&&!BL.test(e),ij=()=>!1,ZL=e=>HL.test(e),e$=e=>VL.test(e),t$=()=>{const e=Pt("colors"),n=Pt("spacing"),r=Pt("blur"),o=Pt("brightness"),i=Pt("borderColor"),s=Pt("borderRadius"),a=Pt("borderSpacing"),l=Pt("borderWidth"),c=Pt("contrast"),u=Pt("grayscale"),h=Pt("hueRotate"),f=Pt("invert"),m=Pt("gap"),p=Pt("gradientColorStops"),v=Pt("gradientColorStopPositions"),x=Pt("inset"),b=Pt("margin"),y=Pt("opacity"),w=Pt("padding"),S=Pt("saturate"),k=Pt("scale"),_=Pt("sepia"),N=Pt("skew"),C=Pt("space"),j=Pt("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ze,n],O=()=>[Ze,n],U=()=>["",ri,Ii],P=()=>["auto",kl,Ze],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ze],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[kl,Ze];return{cacheSize:500,separator:":",theme:{colors:[Fc],spacing:[ri,Ii],blur:["none","",Oi,Ze],brightness:D(),borderColor:[e],borderRadius:["none","","full",Oi,Ze],borderSpacing:O(),borderWidth:U(),contrast:D(),grayscale:R(),hueRotate:D(),invert:R(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[WL,Ii],inset:I(),margin:I(),opacity:D(),padding:O(),saturate:D(),scale:D(),sepia:R(),skew:D(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ze]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zc,Ze]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",zc,Ze]}],"grid-cols":[{"grid-cols":[Fc]}],"col-start-end":[{col:["auto",{span:["full",zc,Ze]},Ze]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Fc]}],"row-start-end":[{row:["auto",{span:[zc,Ze]},Ze]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,n]}],"min-w":[{"min-w":[Ze,n,"min","max","fit"]}],"max-w":[{"max-w":[Ze,n,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[Ze,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dg]}],"font-family":[{font:[Fc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",kl,Dg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ri,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ri,Ii]}],"underline-offset":[{"underline-offset":["auto",ri,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),KL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[ri,Ze]}],"outline-w":[{outline:[ri,Ii]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ri,Ii]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oi,QL]}],"shadow-color":[{shadow:[Fc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Oi,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[zc,Ze]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ri,Ii,Dg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},n$=LL(t$);function me(...e){return n$(OE(e))}const r$=ID,sj=g.forwardRef(({className:e,...n},r)=>d.jsx(jE,{ref:r,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));sj.displayName=jE.displayName;const o$=yc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aj=g.forwardRef(({className:e,variant:n,...r},o)=>d.jsx(TE,{ref:o,className:me(o$({variant:n}),e),...r}));aj.displayName=TE.displayName;const i$=g.forwardRef(({className:e,...n},r)=>d.jsx(ME,{ref:r,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...n}));i$.displayName=ME.displayName;const lj=g.forwardRef(({className:e,...n},r)=>d.jsx(RE,{ref:r,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:d.jsx(tm,{className:"h-4 w-4"})}));lj.displayName=RE.displayName;const cj=g.forwardRef(({className:e,...n},r)=>d.jsx(AE,{ref:r,className:me("text-sm font-semibold",e),...n}));cj.displayName=AE.displayName;const uj=g.forwardRef(({className:e,...n},r)=>d.jsx(PE,{ref:r,className:me("text-sm opacity-90",e),...n}));uj.displayName=PE.displayName;function s$(){const{toasts:e}=Td();return d.jsxs(r$,{children:[e.map(function({id:n,title:r,description:o,action:i,...s}){return d.jsxs(aj,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(cj,{children:r}),o&&d.jsx(uj,{children:o})]}),i,d.jsx(lj,{})]},n)}),d.jsx(sj,{})]})}var fS=["light","dark"],a$="(prefers-color-scheme: dark)",l$=g.createContext(void 0),c$={setTheme:e=>{},themes:[]},u$=()=>{var e;return(e=g.useContext(l$))!=null?e:c$};g.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:o,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?fS.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,x=!1,b=!0)=>{let y=a?a[v]:v,w=x?v+"|| ''":`'${y}'`,S="";return i&&b&&!x&&fS.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),r==="class"?x||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},p=e?`!function(){${h}${m(e)}}()`:o?`!function(){try{${h}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${u})){var t='${a$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${n}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var d$=e=>{switch(e){case"success":return p$;case"info":return g$;case"warning":return m$;case"error":return y$;default:return null}},f$=Array(12).fill(0),h$=({visible:e,className:n})=>B.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},f$.map((r,o)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),p$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),m$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),y$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),x$=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),v$=()=>{let[e,n]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ex=1,w$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...o}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ex++,s=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...o,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=e instanceof Promise?e:e(),i=r!==void 0,s,a=o.then(async c=>{if(s=["resolve",c],B.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(S$(c)&&!c.ok){i=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){i=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(s=["reject",c],n.error!==void 0){i=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ex++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sr=new w$,b$=(e,n)=>{let r=(n==null?void 0:n.id)||Ex++;return sr.addToast({title:e,...n,id:r}),r},S$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",k$=b$,_$=()=>sr.toasts,N$=()=>sr.getActiveToasts(),vt=Object.assign(k$,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:_$,getToasts:N$});function C$(e,{insertAt:n}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}C$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cf(e){return e.label!==void 0}var E$=3,j$="32px",T$="16px",hS=4e3,A$=356,P$=14,M$=20,R$=200;function so(...e){return e.filter(Boolean).join(" ")}function I$(e){let[n,r]=e.split("-"),o=[];return n&&o.push(n),r&&o.push(r),o}var O$=e=>{var n,r,o,i,s,a,l,c,u,h,f;let{invert:m,toast:p,unstyled:v,interacting:x,setHeights:b,visibleToasts:y,heights:w,index:S,toasts:k,expanded:_,removeToast:N,defaultRichColors:C,closeButton:j,style:A,cancelButtonStyle:E,actionButtonStyle:I,className:O="",descriptionClassName:U="",duration:P,position:F,gap:L,loadingIcon:W,expandByDefault:$,classNames:R,icons:T,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:z}=e,[M,G]=B.useState(null),[ee,re]=B.useState(null),[Y,ue]=B.useState(!1),[te,ae]=B.useState(!1),[le,Se]=B.useState(!1),[Be,ye]=B.useState(!1),[se,Ee]=B.useState(!1),[Pe,ie]=B.useState(0),[$e,Ye]=B.useState(0),Qe=B.useRef(p.duration||P||hS),ut=B.useRef(null),qe=B.useRef(null),Zt=S===0,gt=S+1<=y,J=p.type,V=p.dismissible!==!1,Z=p.className||"",ve=p.descriptionClassName||"",_e=B.useMemo(()=>w.findIndex(Ve=>Ve.toastId===p.id)||0,[w,p.id]),Ie=B.useMemo(()=>{var Ve;return(Ve=p.closeButton)!=null?Ve:j},[p.closeButton,j]),De=B.useMemo(()=>p.duration||P||hS,[p.duration,P]),ze=B.useRef(0),Ae=B.useRef(0),He=B.useRef(0),Ge=B.useRef(null),[rt,Je]=F.split("-"),Ht=B.useMemo(()=>w.reduce((Ve,ot,ft)=>ft>=_e?Ve:Ve+ot.height,0),[w,_e]),Sn=v$(),no=p.invert||m,Zn=J==="loading";Ae.current=B.useMemo(()=>_e*L+Ht,[_e,Ht]),B.useEffect(()=>{Qe.current=De},[De]),B.useEffect(()=>{ue(!0)},[]),B.useEffect(()=>{let Ve=qe.current;if(Ve){let ot=Ve.getBoundingClientRect().height;return Ye(ot),b(ft=>[{toastId:p.id,height:ot,position:p.position},...ft]),()=>b(ft=>ft.filter(Ct=>Ct.toastId!==p.id))}},[b,p.id]),B.useLayoutEffect(()=>{if(!Y)return;let Ve=qe.current,ot=Ve.style.height;Ve.style.height="auto";let ft=Ve.getBoundingClientRect().height;Ve.style.height=ot,Ye(ft),b(Ct=>Ct.find(en=>en.toastId===p.id)?Ct.map(en=>en.toastId===p.id?{...en,height:ft}:en):[{toastId:p.id,height:ft,position:p.position},...Ct])},[Y,p.title,p.description,b,p.id]);let $t=B.useCallback(()=>{ae(!0),ie(Ae.current),b(Ve=>Ve.filter(ot=>ot.toastId!==p.id)),setTimeout(()=>{N(p)},R$)},[p,N,b,Ae]);B.useEffect(()=>{if(p.promise&&J==="loading"||p.duration===1/0||p.type==="loading")return;let Ve;return _||x||z&&Sn?(()=>{if(He.current<ze.current){let ot=new Date().getTime()-ze.current;Qe.current=Qe.current-ot}He.current=new Date().getTime()})():Qe.current!==1/0&&(ze.current=new Date().getTime(),Ve=setTimeout(()=>{var ot;(ot=p.onAutoClose)==null||ot.call(p,p),$t()},Qe.current)),()=>clearTimeout(Ve)},[_,x,p,J,z,Sn,$t]),B.useEffect(()=>{p.delete&&$t()},[$t,p.delete]);function kn(){var Ve,ot,ft;return T!=null&&T.loading?B.createElement("div",{className:so(R==null?void 0:R.loader,(Ve=p==null?void 0:p.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":J==="loading"},T.loading):W?B.createElement("div",{className:so(R==null?void 0:R.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":J==="loading"},W):B.createElement(h$,{className:so(R==null?void 0:R.loader,(ft=p==null?void 0:p.classNames)==null?void 0:ft.loader),visible:J==="loading"})}return B.createElement("li",{tabIndex:0,ref:qe,className:so(O,Z,R==null?void 0:R.toast,(n=p==null?void 0:p.classNames)==null?void 0:n.toast,R==null?void 0:R.default,R==null?void 0:R[J],(r=p==null?void 0:p.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(o=p.richColors)!=null?o:C,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Y,"data-promise":!!p.promise,"data-swiped":se,"data-removed":te,"data-visible":gt,"data-y-position":rt,"data-x-position":Je,"data-index":S,"data-front":Zt,"data-swiping":le,"data-dismissible":V,"data-type":J,"data-invert":no,"data-swipe-out":Be,"data-swipe-direction":ee,"data-expanded":!!(_||$&&Y),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${te?Pe:Ae.current}px`,"--initial-height":$?"auto":`${$e}px`,...A,...p.style},onDragEnd:()=>{Se(!1),G(null),Ge.current=null},onPointerDown:Ve=>{Zn||!V||(ut.current=new Date,ie(Ae.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Se(!0),Ge.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,ot,ft,Ct;if(Be||!V)return;Ge.current=null;let en=Number(((Ve=qe.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),er=Number(((ot=qe.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yn=new Date().getTime()-((ft=ut.current)==null?void 0:ft.getTime()),ln=M==="x"?en:er,zn=Math.abs(ln)/yn;if(Math.abs(ln)>=M$||zn>.11){ie(Ae.current),(Ct=p.onDismiss)==null||Ct.call(p,p),re(M==="x"?en>0?"right":"left":er>0?"down":"up"),$t(),ye(!0),Ee(!1);return}Se(!1),G(null)},onPointerMove:Ve=>{var ot,ft,Ct,en;if(!Ge.current||!V||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let er=Ve.clientY-Ge.current.y,yn=Ve.clientX-Ge.current.x,ln=(ft=e.swipeDirections)!=null?ft:I$(F);!M&&(Math.abs(yn)>1||Math.abs(er)>1)&&G(Math.abs(yn)>Math.abs(er)?"x":"y");let zn={x:0,y:0};M==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&er<0||ln.includes("bottom")&&er>0)&&(zn.y=er):M==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&yn<0||ln.includes("right")&&yn>0)&&(zn.x=yn),(Math.abs(zn.x)>0||Math.abs(zn.y)>0)&&Ee(!0),(Ct=qe.current)==null||Ct.style.setProperty("--swipe-amount-x",`${zn.x}px`),(en=qe.current)==null||en.style.setProperty("--swipe-amount-y",`${zn.y}px`)}},Ie&&!p.jsx?B.createElement("button",{"aria-label":D,"data-disabled":Zn,"data-close-button":!0,onClick:Zn||!V?()=>{}:()=>{var Ve;$t(),(Ve=p.onDismiss)==null||Ve.call(p,p)},className:so(R==null?void 0:R.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=T==null?void 0:T.close)!=null?s:x$):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,J||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:so(R==null?void 0:R.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kn():null,p.type!=="loading"?p.icon||(T==null?void 0:T[J])||d$(J):null):null,B.createElement("div",{"data-content":"",className:so(R==null?void 0:R.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:so(R==null?void 0:R.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:so(U,ve,R==null?void 0:R.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&Cf(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:Ve=>{var ot,ft;Cf(p.cancel)&&V&&((ft=(ot=p.cancel).onClick)==null||ft.call(ot,Ve),$t())},className:so(R==null?void 0:R.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&Cf(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Ve=>{var ot,ft;Cf(p.action)&&((ft=(ot=p.action).onClick)==null||ft.call(ot,Ve),!Ve.defaultPrevented&&$t())},className:so(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function pS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function D$(e,n){let r={};return[e,n].forEach((o,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?T$:j$;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof o=="number"||typeof o=="string"?c(o):typeof o=="object"?["top","right","bottom","left"].forEach(u=>{o[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof o[u]=="number"?`${o[u]}px`:o[u]}):c(l)}),r}var L$=g.forwardRef(function(e,n){let{invert:r,position:o="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:v=E$,toastOptions:x,dir:b=pS(),gap:y=P$,loadingIcon:w,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:_}=e,[N,C]=B.useState([]),j=B.useMemo(()=>Array.from(new Set([o].concat(N.filter(z=>z.position).map(z=>z.position)))),[N,o]),[A,E]=B.useState([]),[I,O]=B.useState(!1),[U,P]=B.useState(!1),[F,L]=B.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=B.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=B.useRef(null),T=B.useRef(!1),D=B.useCallback(z=>{C(M=>{var G;return(G=M.find(ee=>ee.id===z.id))!=null&&G.delete||sr.dismiss(z.id),M.filter(({id:ee})=>ee!==z.id)})},[]);return B.useEffect(()=>sr.subscribe(z=>{if(z.dismiss){C(M=>M.map(G=>G.id===z.id?{...G,delete:!0}:G));return}setTimeout(()=>{lE.flushSync(()=>{C(M=>{let G=M.findIndex(ee=>ee.id===z.id);return G!==-1?[...M.slice(0,G),{...M[G],...z},...M.slice(G+1)]:[z,...M]})})})}),[]),B.useEffect(()=>{if(h!=="system"){L(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:M})=>{L(M?"dark":"light")})}catch{z.addListener(({matches:G})=>{try{L(G?"dark":"light")}catch(ee){console.error(ee)}})}},[h]),B.useEffect(()=>{N.length<=1&&O(!1)},[N]),B.useEffect(()=>{let z=M=>{var G,ee;i.every(re=>M[re]||M.code===re)&&(O(!0),(G=W.current)==null||G.focus()),M.code==="Escape"&&(document.activeElement===W.current||(ee=W.current)!=null&&ee.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),B.useEffect(()=>{if(W.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,T.current=!1)}},[W.current]),B.createElement("section",{ref:n,"aria-label":`${k} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((z,M)=>{var G;let[ee,re]=z.split("-");return N.length?B.createElement("ol",{key:z,dir:b==="auto"?pS():b,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":ee,"data-lifted":I&&N.length>1&&!s,"data-x-position":re,style:{"--front-toast-height":`${((G=A[0])==null?void 0:G.height)||0}px`,"--width":`${A$}px`,"--gap":`${y}px`,...p,...D$(c,u)},onBlur:Y=>{T.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(T.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||T.current||(T.current=!0,R.current=Y.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},N.filter(Y=>!Y.position&&M===0||Y.position===z).map((Y,ue)=>{var te,ae;return B.createElement(O$,{key:Y.id,icons:S,index:ue,toast:Y,defaultRichColors:f,duration:(te=x==null?void 0:x.duration)!=null?te:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ae=x==null?void 0:x.closeButton)!=null?ae:a,interacting:U,position:z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:D,toasts:N.filter(le=>le.position==Y.position),heights:A.filter(le=>le.position==Y.position),setHeights:E,expandByDefault:s,gap:y,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const $$=({...e})=>{const{theme:n="system"}=u$();return d.jsx(L$,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var z$=Z0[" useId ".trim().toString()]||(()=>{}),F$=0;function wo(e){const[n,r]=g.useState(z$());return bn(()=>{r(o=>o??String(F$++))},[e]),n?`radix-${n}`:""}const U$=["top","right","bottom","left"],js=Math.min,_r=Math.max,Yh=Math.round,Ef=Math.floor,Vo=e=>({x:e,y:e}),B$={left:"right",right:"left",bottom:"top",top:"bottom"},H$={start:"end",end:"start"};function jx(e,n,r){return _r(e,js(n,r))}function Ci(e,n){return typeof e=="function"?e(n):e}function Ei(e){return e.split("-")[0]}function vc(e){return e.split("-")[1]}function Jv(e){return e==="x"?"y":"x"}function Zv(e){return e==="y"?"height":"width"}const V$=new Set(["top","bottom"]);function Fo(e){return V$.has(Ei(e))?"y":"x"}function ew(e){return Jv(Fo(e))}function W$(e,n,r){r===void 0&&(r=!1);const o=vc(e),i=ew(e),s=Zv(i);let a=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(a=Xh(a)),[a,Xh(a)]}function q$(e){const n=Xh(e);return[Tx(e),n,Tx(n)]}function Tx(e){return e.replace(/start|end/g,n=>H$[n])}const mS=["left","right"],gS=["right","left"],G$=["top","bottom"],K$=["bottom","top"];function Y$(e,n,r){switch(e){case"top":case"bottom":return r?n?gS:mS:n?mS:gS;case"left":case"right":return n?G$:K$;default:return[]}}function X$(e,n,r,o){const i=vc(e);let s=Y$(Ei(e),r==="start",o);return i&&(s=s.map(a=>a+"-"+i),n&&(s=s.concat(s.map(Tx)))),s}function Xh(e){return e.replace(/left|right|bottom|top/g,n=>B$[n])}function Q$(e){return{top:0,right:0,bottom:0,left:0,...e}}function dj(e){return typeof e!="number"?Q$(e):{top:e,right:e,bottom:e,left:e}}function Qh(e){const{x:n,y:r,width:o,height:i}=e;return{width:o,height:i,top:r,left:n,right:n+o,bottom:r+i,x:n,y:r}}function yS(e,n,r){let{reference:o,floating:i}=e;const s=Fo(n),a=ew(n),l=Zv(a),c=Ei(n),u=s==="y",h=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,m=o[l]/2-i[l]/2;let p;switch(c){case"top":p={x:h,y:o.y-i.height};break;case"bottom":p={x:h,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:f};break;case"left":p={x:o.x-i.width,y:f};break;default:p={x:o.x,y:o.y}}switch(vc(n)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const J$=async(e,n,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(n));let u=await a.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:f}=yS(u,o,c),m=o,p={},v=0;for(let x=0;x<l.length;x++){const{name:b,fn:y}=l[x],{x:w,y:S,data:k,reset:_}=await y({x:h,y:f,initialPlacement:o,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:n}});h=w??h,f=S??f,p={...p,[b]:{...p[b],...k}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:n,strategy:i}):_.rects),{x:h,y:f}=yS(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:p}};async function Zu(e,n){var r;n===void 0&&(n={});const{x:o,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Ci(n,e),v=dj(p),b=l[m?f==="floating"?"reference":"floating":f],y=Qh(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),w=f==="floating"?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Qh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:c}):w);return{top:(y.top-_.top+v.top)/k.y,bottom:(_.bottom-y.bottom+v.bottom)/k.y,left:(y.left-_.left+v.left)/k.x,right:(_.right-y.right+v.right)/k.x}}const Z$=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:o,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=n,{element:u,padding:h=0}=Ci(e,n)||{};if(u==null)return{};const f=dj(h),m={x:r,y:o},p=ew(i),v=Zv(p),x=await a.getDimensions(u),b=p==="y",y=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",k=s.reference[v]+s.reference[p]-m[p]-s.floating[v],_=m[p]-s.reference[p],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=N?N[S]:0;(!C||!await(a.isElement==null?void 0:a.isElement(N)))&&(C=l.floating[S]||s.floating[v]);const j=k/2-_/2,A=C/2-x[v]/2-1,E=js(f[y],A),I=js(f[w],A),O=E,U=C-x[v]-I,P=C/2-x[v]/2+j,F=jx(O,P,U),L=!c.arrow&&vc(i)!=null&&P!==F&&s.reference[v]/2-(P<O?E:I)-x[v]/2<0,W=L?P<O?P-O:P-U:0;return{[p]:m[p]+W,data:{[p]:F,centerOffset:P-F-W,...L&&{alignmentOffset:W}},reset:L}}}),ez=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,o;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=n,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=Ci(e,n);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Ei(i),w=Fo(l),S=Ei(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(S||!x?[Xh(l)]:q$(l)),N=v!=="none";!m&&N&&_.push(...X$(l,x,v,k));const C=[l,..._],j=await Zu(n,b),A=[];let E=((o=s.flip)==null?void 0:o.overflows)||[];if(h&&A.push(j[y]),f){const P=W$(i,a,k);A.push(j[P[0]],j[P[1]])}if(E=[...E,{placement:i,overflows:A}],!A.every(P=>P<=0)){var I,O;const P=(((I=s.flip)==null?void 0:I.index)||0)+1,F=C[P];if(F&&(!(f==="alignment"?w!==Fo(F):!1)||E.every($=>$.overflows[0]>0&&Fo($.placement)===w)))return{data:{index:P,overflows:E},reset:{placement:F}};let L=(O=E.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(p){case"bestFit":{var U;const W=(U=E.filter($=>{if(N){const R=Fo($.placement);return R===w||R==="y"}return!0}).map($=>[$.placement,$.overflows.filter(R=>R>0).reduce((R,T)=>R+T,0)]).sort(($,R)=>$[1]-R[1])[0])==null?void 0:U[0];W&&(L=W);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function xS(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function vS(e){return U$.some(n=>e[n]>=0)}const tz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:o="referenceHidden",...i}=Ci(e,n);switch(o){case"referenceHidden":{const s=await Zu(n,{...i,elementContext:"reference"}),a=xS(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:vS(a)}}}case"escaped":{const s=await Zu(n,{...i,altBoundary:!0}),a=xS(s,r.floating);return{data:{escapedOffsets:a,escaped:vS(a)}}}default:return{}}}}},fj=new Set(["left","top"]);async function nz(e,n){const{placement:r,platform:o,elements:i}=e,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),a=Ei(r),l=vc(r),c=Fo(r)==="y",u=fj.has(a)?-1:1,h=s&&c?-1:1,f=Ci(n,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const rz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,o;const{x:i,y:s,placement:a,middlewareData:l}=n,c=await nz(n,e);return a===((r=l.offset)==null?void 0:r.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},oz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:o,placement:i}=n,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=Ci(e,n),u={x:r,y:o},h=await Zu(n,c),f=Fo(Ei(i)),m=Jv(f);let p=u[m],v=u[f];if(s){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=p+h[b],S=p-h[y];p=jx(w,p,S)}if(a){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=v+h[b],S=v-h[y];v=jx(w,v,S)}const x=l.fn({...n,[m]:p,[f]:v});return{...x,data:{x:x.x-r,y:x.y-o,enabled:{[m]:s,[f]:a}}}}}},iz=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:o,placement:i,rects:s,middlewareData:a}=n,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ci(e,n),h={x:r,y:o},f=Fo(i),m=Jv(f);let p=h[m],v=h[f];const x=Ci(l,n),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=m==="y"?"height":"width",k=s.reference[m]-s.floating[S]+b.mainAxis,_=s.reference[m]+s.reference[S]-b.mainAxis;p<k?p=k:p>_&&(p=_)}if(u){var y,w;const S=m==="y"?"width":"height",k=fj.has(Ei(i)),_=s.reference[f]-s.floating[S]+(k&&((y=a.offset)==null?void 0:y[f])||0)+(k?0:b.crossAxis),N=s.reference[f]+s.reference[S]+(k?0:((w=a.offset)==null?void 0:w[f])||0)-(k?b.crossAxis:0);v<_?v=_:v>N&&(v=N)}return{[m]:p,[f]:v}}}},sz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,o;const{placement:i,rects:s,platform:a,elements:l}=n,{apply:c=()=>{},...u}=Ci(e,n),h=await Zu(n,u),f=Ei(i),m=vc(i),p=Fo(i)==="y",{width:v,height:x}=s.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=m==="end"?"top":"bottom");const w=x-h.top-h.bottom,S=v-h.left-h.right,k=js(x-h[b],w),_=js(v-h[y],S),N=!n.middlewareData.shift;let C=k,j=_;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(j=S),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(C=w),N&&!m){const E=_r(h.left,0),I=_r(h.right,0),O=_r(h.top,0),U=_r(h.bottom,0);p?j=v-2*(E!==0||I!==0?E+I:_r(h.left,h.right)):C=x-2*(O!==0||U!==0?O+U:_r(h.top,h.bottom))}await c({...n,availableWidth:j,availableHeight:C});const A=await a.getDimensions(l.floating);return v!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function nm(){return typeof window<"u"}function wc(e){return hj(e)?(e.nodeName||"").toLowerCase():"#document"}function jr(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Xo(e){var n;return(n=(hj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function hj(e){return nm()?e instanceof Node||e instanceof jr(e).Node:!1}function _o(e){return nm()?e instanceof Element||e instanceof jr(e).Element:!1}function Go(e){return nm()?e instanceof HTMLElement||e instanceof jr(e).HTMLElement:!1}function wS(e){return!nm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jr(e).ShadowRoot}const az=new Set(["inline","contents"]);function Md(e){const{overflow:n,overflowX:r,overflowY:o,display:i}=No(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!az.has(i)}const lz=new Set(["table","td","th"]);function cz(e){return lz.has(wc(e))}const uz=[":popover-open",":modal"];function rm(e){return uz.some(n=>{try{return e.matches(n)}catch{return!1}})}const dz=["transform","translate","scale","rotate","perspective"],fz=["transform","translate","scale","rotate","perspective","filter"],hz=["paint","layout","strict","content"];function tw(e){const n=nw(),r=_o(e)?No(e):e;return dz.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||fz.some(o=>(r.willChange||"").includes(o))||hz.some(o=>(r.contain||"").includes(o))}function pz(e){let n=Ts(e);for(;Go(n)&&!Xl(n);){if(tw(n))return n;if(rm(n))return null;n=Ts(n)}return null}function nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mz=new Set(["html","body","#document"]);function Xl(e){return mz.has(wc(e))}function No(e){return jr(e).getComputedStyle(e)}function om(e){return _o(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ts(e){if(wc(e)==="html")return e;const n=e.assignedSlot||e.parentNode||wS(e)&&e.host||Xo(e);return wS(n)?n.host:n}function pj(e){const n=Ts(e);return Xl(n)?e.ownerDocument?e.ownerDocument.body:e.body:Go(n)&&Md(n)?n:pj(n)}function ed(e,n,r){var o;n===void 0&&(n=[]),r===void 0&&(r=!0);const i=pj(e),s=i===((o=e.ownerDocument)==null?void 0:o.body),a=jr(i);if(s){const l=Ax(a);return n.concat(a,a.visualViewport||[],Md(i)?i:[],l&&r?ed(l):[])}return n.concat(i,ed(i,[],r))}function Ax(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mj(e){const n=No(e);let r=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=Go(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:o,l=Yh(r)!==s||Yh(o)!==a;return l&&(r=s,o=a),{width:r,height:o,$:l}}function rw(e){return _o(e)?e:e.contextElement}function _l(e){const n=rw(e);if(!Go(n))return Vo(1);const r=n.getBoundingClientRect(),{width:o,height:i,$:s}=mj(n);let a=(s?Yh(r.width):r.width)/o,l=(s?Yh(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const gz=Vo(0);function gj(e){const n=jr(e);return!nw()||!n.visualViewport?gz:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yz(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==jr(e)?!1:n}function Sa(e,n,r,o){n===void 0&&(n=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=rw(e);let a=Vo(1);n&&(o?_o(o)&&(a=_l(o)):a=_l(e));const l=yz(s,r,o)?gj(s):Vo(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,h=i.width/a.x,f=i.height/a.y;if(s){const m=jr(s),p=o&&_o(o)?jr(o):o;let v=m,x=Ax(v);for(;x&&o&&p!==v;){const b=_l(x),y=x.getBoundingClientRect(),w=No(x),S=y.left+(x.clientLeft+parseFloat(w.paddingLeft))*b.x,k=y.top+(x.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=S,u+=k,v=jr(x),x=Ax(v)}}return Qh({width:h,height:f,x:c,y:u})}function ow(e,n){const r=om(e).scrollLeft;return n?n.left+r:Sa(Xo(e)).left+r}function yj(e,n,r){r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=o.left+n.scrollLeft-(r?0:ow(e,o)),s=o.top+n.scrollTop;return{x:i,y:s}}function xz(e){let{elements:n,rect:r,offsetParent:o,strategy:i}=e;const s=i==="fixed",a=Xo(o),l=n?rm(n.floating):!1;if(o===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Vo(1);const h=Vo(0),f=Go(o);if((f||!f&&!s)&&((wc(o)!=="body"||Md(a))&&(c=om(o)),Go(o))){const p=Sa(o);u=_l(o),h.x=p.x+o.clientLeft,h.y=p.y+o.clientTop}const m=a&&!f&&!s?yj(a,c,!0):Vo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:r.y*u.y-c.scrollTop*u.y+h.y+m.y}}function vz(e){return Array.from(e.getClientRects())}function wz(e){const n=Xo(e),r=om(e),o=e.ownerDocument.body,i=_r(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),s=_r(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let a=-r.scrollLeft+ow(e);const l=-r.scrollTop;return No(o).direction==="rtl"&&(a+=_r(n.clientWidth,o.clientWidth)-i),{width:i,height:s,x:a,y:l}}function bz(e,n){const r=jr(e),o=Xo(e),i=r.visualViewport;let s=o.clientWidth,a=o.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=nw();(!u||u&&n==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}const Sz=new Set(["absolute","fixed"]);function kz(e,n){const r=Sa(e,!0,n==="fixed"),o=r.top+e.clientTop,i=r.left+e.clientLeft,s=Go(e)?_l(e):Vo(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=o*s.y;return{width:a,height:l,x:c,y:u}}function bS(e,n,r){let o;if(n==="viewport")o=bz(e,r);else if(n==="document")o=wz(Xo(e));else if(_o(n))o=kz(n,r);else{const i=gj(e);o={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Qh(o)}function xj(e,n){const r=Ts(e);return r===n||!_o(r)||Xl(r)?!1:No(r).position==="fixed"||xj(r,n)}function _z(e,n){const r=n.get(e);if(r)return r;let o=ed(e,[],!1).filter(l=>_o(l)&&wc(l)!=="body"),i=null;const s=No(e).position==="fixed";let a=s?Ts(e):e;for(;_o(a)&&!Xl(a);){const l=No(a),c=tw(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Sz.has(i.position)||Md(a)&&!c&&xj(e,a))?o=o.filter(h=>h!==a):i=l,a=Ts(a)}return n.set(e,o),o}function Nz(e){let{element:n,boundary:r,rootBoundary:o,strategy:i}=e;const a=[...r==="clippingAncestors"?rm(n)?[]:_z(n,this._c):[].concat(r),o],l=a[0],c=a.reduce((u,h)=>{const f=bS(n,h,i);return u.top=_r(f.top,u.top),u.right=js(f.right,u.right),u.bottom=js(f.bottom,u.bottom),u.left=_r(f.left,u.left),u},bS(n,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Cz(e){const{width:n,height:r}=mj(e);return{width:n,height:r}}function Ez(e,n,r){const o=Go(n),i=Xo(n),s=r==="fixed",a=Sa(e,!0,s,n);let l={scrollLeft:0,scrollTop:0};const c=Vo(0);function u(){c.x=ow(i)}if(o||!o&&!s)if((wc(n)!=="body"||Md(i))&&(l=om(n)),o){const p=Sa(n,!0,s,n);c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}else i&&u();s&&!o&&i&&u();const h=i&&!o&&!s?yj(i,l):Vo(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Lg(e){return No(e).position==="static"}function SS(e,n){if(!Go(e)||No(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return Xo(e)===r&&(r=r.ownerDocument.body),r}function vj(e,n){const r=jr(e);if(rm(e))return r;if(!Go(e)){let i=Ts(e);for(;i&&!Xl(i);){if(_o(i)&&!Lg(i))return i;i=Ts(i)}return r}let o=SS(e,n);for(;o&&cz(o)&&Lg(o);)o=SS(o,n);return o&&Xl(o)&&Lg(o)&&!tw(o)?r:o||pz(e)||r}const jz=async function(e){const n=this.getOffsetParent||vj,r=this.getDimensions,o=await r(e.floating);return{reference:Ez(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Tz(e){return No(e).direction==="rtl"}const Az={convertOffsetParentRelativeRectToViewportRelativeRect:xz,getDocumentElement:Xo,getClippingRect:Nz,getOffsetParent:vj,getElementRects:jz,getClientRects:vz,getDimensions:Cz,getScale:_l,isElement:_o,isRTL:Tz};function wj(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Pz(e,n){let r=null,o;const i=Xo(e);function s(){var l;clearTimeout(o),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=u;if(l||n(),!m||!p)return;const v=Ef(f),x=Ef(i.clientWidth-(h+m)),b=Ef(i.clientHeight-(f+p)),y=Ef(h),S={rootMargin:-v+"px "+-x+"px "+-b+"px "+-y+"px",threshold:_r(0,js(1,c))||1};let k=!0;function _(N){const C=N[0].intersectionRatio;if(C!==c){if(!k)return a();C?a(!1,C):o=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!wj(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(_,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(e)}return a(!0),s}function Mz(e,n,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,u=rw(e),h=i||s?[...u?ed(u):[],...ed(n)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Pz(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(n),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(n)})),r()}),u&&!c&&p.observe(u),p.observe(n));let v,x=c?Sa(e):null;c&&b();function b(){const y=Sa(e);x&&!wj(x,y)&&r(),x=y,v=requestAnimationFrame(b)}return r(),()=>{var y;h.forEach(w=>{i&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Rz=rz,Iz=oz,Oz=ez,Dz=sz,Lz=tz,kS=Z$,$z=iz,zz=(e,n,r)=>{const o=new Map,i={platform:Az,...r},s={...i.platform,_c:o};return J$(e,n,{...i,platform:s})};var Fz=typeof document<"u",Uz=function(){},uh=Fz?g.useLayoutEffect:Uz;function Jh(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,o,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(o=r;o--!==0;)if(!Jh(e[o],n[o]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){const s=i[o];if(!(s==="_owner"&&e.$$typeof)&&!Jh(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}function bj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _S(e,n){const r=bj(e);return Math.round(n*r)/r}function $g(e){const n=g.useRef(e);return uh(()=>{n.current=e}),n}function Bz(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=g.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(o);Jh(m,o)||p(o);const[v,x]=g.useState(null),[b,y]=g.useState(null),w=g.useCallback($=>{$!==N.current&&(N.current=$,x($))},[]),S=g.useCallback($=>{$!==C.current&&(C.current=$,y($))},[]),k=s||v,_=a||b,N=g.useRef(null),C=g.useRef(null),j=g.useRef(h),A=c!=null,E=$g(c),I=$g(i),O=$g(u),U=g.useCallback(()=>{if(!N.current||!C.current)return;const $={placement:n,strategy:r,middleware:m};I.current&&($.platform=I.current),zz(N.current,C.current,$).then(R=>{const T={...R,isPositioned:O.current!==!1};P.current&&!Jh(j.current,T)&&(j.current=T,Ra.flushSync(()=>{f(T)}))})},[m,n,r,I,O]);uh(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const P=g.useRef(!1);uh(()=>(P.current=!0,()=>{P.current=!1}),[]),uh(()=>{if(k&&(N.current=k),_&&(C.current=_),k&&_){if(E.current)return E.current(k,_,U);U()}},[k,_,U,E,A]);const F=g.useMemo(()=>({reference:N,floating:C,setReference:w,setFloating:S}),[w,S]),L=g.useMemo(()=>({reference:k,floating:_}),[k,_]),W=g.useMemo(()=>{const $={position:r,left:0,top:0};if(!L.floating)return $;const R=_S(L.floating,h.x),T=_S(L.floating,h.y);return l?{...$,transform:"translate("+R+"px, "+T+"px)",...bj(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:T}},[r,l,L.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:U,refs:F,elements:L,floatingStyles:W}),[h,U,F,L,W])}const Hz=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:i}=typeof e=="function"?e(r):e;return o&&n(o)?o.current!=null?kS({element:o.current,padding:i}).fn(r):{}:o?kS({element:o,padding:i}).fn(r):{}}}},Vz=(e,n)=>({...Rz(e),options:[e,n]}),Wz=(e,n)=>({...Iz(e),options:[e,n]}),qz=(e,n)=>({...$z(e),options:[e,n]}),Gz=(e,n)=>({...Oz(e),options:[e,n]}),Kz=(e,n)=>({...Dz(e),options:[e,n]}),Yz=(e,n)=>({...Lz(e),options:[e,n]}),Xz=(e,n)=>({...Hz(e),options:[e,n]});var Qz="Arrow",Sj=g.forwardRef((e,n)=>{const{children:r,width:o=10,height:i=5,...s}=e;return d.jsx(Le.svg,{...s,ref:n,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sj.displayName=Qz;var Jz=Sj;function kj(e){const[n,r]=g.useState(void 0);return bn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),n}var iw="Popper",[_j,bc]=Ir(iw),[Zz,Nj]=_j(iw),Cj=e=>{const{__scopePopper:n,children:r}=e,[o,i]=g.useState(null);return d.jsx(Zz,{scope:n,anchor:o,onAnchorChange:i,children:r})};Cj.displayName=iw;var Ej="PopperAnchor",jj=g.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:o,...i}=e,s=Nj(Ej,r),a=g.useRef(null),l=nt(n,a);return g.useEffect(()=>{s.onAnchorChange((o==null?void 0:o.current)||a.current)}),o?null:d.jsx(Le.div,{...i,ref:l})});jj.displayName=Ej;var sw="PopperContent",[e6,t6]=_j(sw),Tj=g.forwardRef((e,n)=>{var Y,ue,te,ae,le,Se;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...x}=e,b=Nj(sw,r),[y,w]=g.useState(null),S=nt(n,Be=>w(Be)),[k,_]=g.useState(null),N=kj(k),C=(N==null?void 0:N.width)??0,j=(N==null?void 0:N.height)??0,A=o+(s!=="center"?"-"+s:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(u)?u:[u],O=I.length>0,U={padding:E,boundary:I.filter(r6),altBoundary:O},{refs:P,floatingStyles:F,placement:L,isPositioned:W,middlewareData:$}=Bz({strategy:"fixed",placement:A,whileElementsMounted:(...Be)=>Mz(...Be,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Vz({mainAxis:i+j,alignmentAxis:a}),c&&Wz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qz():void 0,...U}),c&&Gz({...U}),Kz({...U,apply:({elements:Be,rects:ye,availableWidth:se,availableHeight:Ee})=>{const{width:Pe,height:ie}=ye.reference,$e=Be.floating.style;$e.setProperty("--radix-popper-available-width",`${se}px`),$e.setProperty("--radix-popper-available-height",`${Ee}px`),$e.setProperty("--radix-popper-anchor-width",`${Pe}px`),$e.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),k&&Xz({element:k,padding:l}),o6({arrowWidth:C,arrowHeight:j}),m&&Yz({strategy:"referenceHidden",...U})]}),[R,T]=Mj(L),D=Qt(v);bn(()=>{W&&(D==null||D())},[W,D]);const z=(Y=$.arrow)==null?void 0:Y.x,M=(ue=$.arrow)==null?void 0:ue.y,G=((te=$.arrow)==null?void 0:te.centerOffset)!==0,[ee,re]=g.useState();return bn(()=>{y&&re(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:W?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(ae=$.transformOrigin)==null?void 0:ae.x,(le=$.transformOrigin)==null?void 0:le.y].join(" "),...((Se=$.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(e6,{scope:r,placedSide:R,onArrowChange:_,arrowX:z,arrowY:M,shouldHideArrow:G,children:d.jsx(Le.div,{"data-side":R,"data-align":T,...x,ref:S,style:{...x.style,animation:W?void 0:"none"}})})})});Tj.displayName=sw;var Aj="PopperArrow",n6={top:"bottom",right:"left",bottom:"top",left:"right"},Pj=g.forwardRef(function(n,r){const{__scopePopper:o,...i}=n,s=t6(Aj,o),a=n6[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(Jz,{...i,ref:r,style:{...i.style,display:"block"}})})});Pj.displayName=Aj;function r6(e){return e!==null}var o6=e=>({name:"transformOrigin",options:e,fn(n){var b,y,w;const{placement:r,rects:o,middlewareData:i}=n,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=Mj(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=a?f:`${m}px`,x=`${-c}px`):u==="top"?(v=a?f:`${m}px`,x=`${o.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=a?f:`${p}px`):u==="left"&&(v=`${o.floating.width+c}px`,x=a?f:`${p}px`),{data:{x:v,y:x}}}});function Mj(e){const[n,r="center"]=e.split("-");return[n,r]}var aw=Cj,lw=jj,cw=Tj,uw=Pj,[im,Xae]=Ir("Tooltip",[bc]),sm=bc(),Rj="TooltipProvider",i6=700,Px="tooltip.open",[s6,dw]=im(Rj),Ij=e=>{const{__scopeTooltip:n,delayDuration:r=i6,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:s}=e,a=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(s6,{scope:n,isOpenDelayedRef:a,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};Ij.displayName=Rj;var td="Tooltip",[a6,am]=im(td),Oj=e=>{const{__scopeTooltip:n,children:r,open:o,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,c=dw(td,e.__scopeTooltip),u=sm(n),[h,f]=g.useState(null),m=wo(),p=g.useRef(0),v=a??c.disableHoverableContent,x=l??c.delayDuration,b=g.useRef(!1),[y,w]=Ni({prop:o,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Px))):c.onClose(),s==null||s(C)},caller:td}),S=g.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),k=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,w(!0)},[w]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),N=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,w(!0),p.current=0},x)},[x,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),d.jsx(aw,{...u,children:d.jsx(a6,{scope:n,contentId:m,open:y,stateAttribute:S,trigger:h,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?N():k()},[c.isOpenDelayedRef,N,k]),onTriggerLeave:g.useCallback(()=>{v?_():(window.clearTimeout(p.current),p.current=0)},[_,v]),onOpen:k,onClose:_,disableHoverableContent:v,children:r})})};Oj.displayName=td;var Mx="TooltipTrigger",Dj=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,i=am(Mx,r),s=dw(Mx,r),a=sm(r),l=g.useRef(null),c=nt(n,l,i.onTriggerChange),u=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(lw,{asChild:!0,...a,children:d.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:c,onPointerMove:xe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:xe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:xe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:xe(e.onBlur,i.onClose),onClick:xe(e.onClick,i.onClose)})})});Dj.displayName=Mx;var l6="TooltipPortal",[Qae,c6]=im(l6,{forceMount:void 0}),Ql="TooltipContent",Lj=g.forwardRef((e,n)=>{const r=c6(Ql,e.__scopeTooltip),{forceMount:o=r.forceMount,side:i="top",...s}=e,a=am(Ql,e.__scopeTooltip);return d.jsx(Xn,{present:o||a.open,children:a.disableHoverableContent?d.jsx($j,{side:i,...s,ref:n}):d.jsx(u6,{side:i,...s,ref:n})})}),u6=g.forwardRef((e,n)=>{const r=am(Ql,e.__scopeTooltip),o=dw(Ql,e.__scopeTooltip),i=g.useRef(null),s=nt(n,i),[a,l]=g.useState(null),{trigger:c,onClose:u}=r,h=i.current,{onPointerInTransitChange:f}=o,m=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((v,x)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},w=m6(y,b.getBoundingClientRect()),S=g6(y,w),k=y6(x.getBoundingClientRect()),_=v6([...S,...k]);l(_),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&h){const v=b=>p(b,h),x=b=>p(b,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",x)}}},[c,h,p,m]),g.useEffect(()=>{if(a){const v=x=>{const b=x.target,y={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),S=!x6(y,a);w?m():S&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,a,u,m]),d.jsx($j,{...e,ref:s})}),[d6,f6]=im(td,{isInside:!1}),h6=KO("TooltipContent"),$j=g.forwardRef((e,n)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=am(Ql,r),u=sm(r),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(Px,h),()=>document.removeEventListener(Px,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),d.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(cw,{"data-state":c.stateAttribute,...u,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(h6,{children:o}),d.jsx(d6,{scope:r,isInside:!0,children:d.jsx(gD,{id:c.contentId,role:"tooltip",children:i||o})})]})})});Lj.displayName=Ql;var zj="TooltipArrow",p6=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,i=sm(r);return f6(zj,r).isInside?null:d.jsx(uw,{...i,...o,ref:n})});p6.displayName=zj;function m6(e,n){const r=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),i=Math.abs(n.right-e.x),s=Math.abs(n.left-e.x);switch(Math.min(r,o,i,s)){case s:return"left";case i:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function g6(e,n,r=5){const o=[];switch(n){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function y6(e){const{top:n,right:r,bottom:o,left:i}=e;return[{x:i,y:n},{x:r,y:n},{x:r,y:o},{x:i,y:o}]}function x6(e,n){const{x:r,y:o}=e;let i=!1;for(let s=0,a=n.length-1;s<n.length;a=s++){const l=n[s],c=n[a],u=l.x,h=l.y,f=c.x,m=c.y;h>o!=m>o&&r<(f-u)*(o-h)/(m-h)+u&&(i=!i)}return i}function v6(e){const n=e.slice();return n.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),w6(n)}function w6(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const i=e[o];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}n.pop();const r=[];for(let o=e.length-1;o>=0;o--){const i=e[o];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var b6=Ij,S6=Oj,k6=Dj,Fj=Lj;const _6=b6,N6=S6,C6=k6,Uj=g.forwardRef(({className:e,sideOffset:n=4,...r},o)=>d.jsx(Fj,{ref:o,sideOffset:n,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Uj.displayName=Fj.displayName;var Sc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ka=typeof window>"u"||"Deno"in globalThis;function Hn(){}function E6(e,n){return typeof e=="function"?e(n):e}function Rx(e){return typeof e=="number"&&e>=0&&e!==1/0}function Bj(e,n){return Math.max(e+(n||0)-Date.now(),0)}function ws(e,n){return typeof e=="function"?e(n):e}function zr(e,n){return typeof e=="function"?e(n):e}function NS(e,n){const{type:r="all",exact:o,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(o){if(n.queryHash!==fw(a,n.options))return!1}else if(!nd(n.queryKey,a))return!1}if(r!=="all"){const c=n.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||i&&i!==n.state.fetchStatus||s&&!s(n))}function CS(e,n){const{exact:r,status:o,predicate:i,mutationKey:s}=e;if(s){if(!n.options.mutationKey)return!1;if(r){if(_a(n.options.mutationKey)!==_a(s))return!1}else if(!nd(n.options.mutationKey,s))return!1}return!(o&&n.state.status!==o||i&&!i(n))}function fw(e,n){return((n==null?void 0:n.queryKeyHashFn)||_a)(e)}function _a(e){return JSON.stringify(e,(n,r)=>Ix(r)?Object.keys(r).sort().reduce((o,i)=>(o[i]=r[i],o),{}):r)}function nd(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>nd(e[r],n[r])):!1}function Hj(e,n){if(e===n)return e;const r=ES(e)&&ES(n);if(r||Ix(e)&&Ix(n)){const o=r?e:Object.keys(e),i=o.length,s=r?n:Object.keys(n),a=s.length,l=r?[]:{},c=new Set(o);let u=0;for(let h=0;h<a;h++){const f=r?h:s[h];(!r&&c.has(f)||r)&&e[f]===void 0&&n[f]===void 0?(l[f]=void 0,u++):(l[f]=Hj(e[f],n[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return i===a&&u===i?e:l}return n}function Zh(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function ES(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ix(e){if(!jS(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!jS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jS(e){return Object.prototype.toString.call(e)==="[object Object]"}function j6(e){return new Promise(n=>{setTimeout(n,e)})}function Ox(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?Hj(e,n):n}function T6(e,n,r=0){const o=[...e,n];return r&&o.length>r?o.slice(1):o}function A6(e,n,r=0){const o=[n,...e];return r&&o.length>r?o.slice(0,-1):o}var hw=Symbol();function Vj(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===hw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Wj(e,n){return typeof e=="function"?e(...n):!!e}var na,Qi,Pl,F_,P6=(F_=class extends Sc{constructor(){super();Fe(this,na);Fe(this,Qi);Fe(this,Pl);Ne(this,Pl,n=>{if(!ka&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){H(this,Qi)||this.setEventListener(H(this,Pl))}onUnsubscribe(){var n;this.hasListeners()||((n=H(this,Qi))==null||n.call(this),Ne(this,Qi,void 0))}setEventListener(n){var r;Ne(this,Pl,n),(r=H(this,Qi))==null||r.call(this),Ne(this,Qi,n(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(n){H(this,na)!==n&&(Ne(this,na,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof H(this,na)=="boolean"?H(this,na):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},na=new WeakMap,Qi=new WeakMap,Pl=new WeakMap,F_),pw=new P6,Ml,Ji,Rl,U_,M6=(U_=class extends Sc{constructor(){super();Fe(this,Ml,!0);Fe(this,Ji);Fe(this,Rl);Ne(this,Rl,n=>{if(!ka&&window.addEventListener){const r=()=>n(!0),o=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){H(this,Ji)||this.setEventListener(H(this,Rl))}onUnsubscribe(){var n;this.hasListeners()||((n=H(this,Ji))==null||n.call(this),Ne(this,Ji,void 0))}setEventListener(n){var r;Ne(this,Rl,n),(r=H(this,Ji))==null||r.call(this),Ne(this,Ji,n(this.setOnline.bind(this)))}setOnline(n){H(this,Ml)!==n&&(Ne(this,Ml,n),this.listeners.forEach(o=>{o(n)}))}isOnline(){return H(this,Ml)}},Ml=new WeakMap,Ji=new WeakMap,Rl=new WeakMap,U_),ep=new M6;function Dx(){let e,n;const r=new Promise((i,s)=>{e=i,n=s});r.status="pending",r.catch(()=>{});function o(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{o({status:"fulfilled",value:i}),e(i)},r.reject=i=>{o({status:"rejected",reason:i}),n(i)},r}function R6(e){return Math.min(1e3*2**e,3e4)}function qj(e){return(e??"online")==="online"?ep.isOnline():!0}var Gj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zg(e){return e instanceof Gj}function Kj(e){let n=!1,r=0,o=!1,i;const s=Dx(),a=x=>{var b;o||(m(new Gj(x)),(b=e.abort)==null||b.call(e))},l=()=>{n=!0},c=()=>{n=!1},u=()=>pw.isFocused()&&(e.networkMode==="always"||ep.isOnline())&&e.canRun(),h=()=>qj(e.networkMode)&&e.canRun(),f=x=>{var b;o||(o=!0,(b=e.onSuccess)==null||b.call(e,x),i==null||i(),s.resolve(x))},m=x=>{var b;o||(o=!0,(b=e.onError)==null||b.call(e,x),i==null||i(),s.reject(x))},p=()=>new Promise(x=>{var b;i=y=>{(o||u())&&x(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;i=void 0,o||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(o)return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var N;if(o)return;const w=e.retry??(ka?0:3),S=e.retryDelay??R6,k=typeof S=="function"?S(r,y):S,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(n||!_){m(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),j6(k).then(()=>u()?void 0:p()).then(()=>{n?m(y):v()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():p().then(v),s)}}var I6=e=>setTimeout(e,0);function O6(){let e=[],n=0,r=l=>{l()},o=l=>{l()},i=I6;const s=l=>{n?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{o(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;n++;try{c=l()}finally{n--,n||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{o=l},setScheduler:l=>{i=l}}}var pn=O6(),ra,B_,Yj=(B_=class{constructor(){Fe(this,ra)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rx(this.gcTime)&&Ne(this,ra,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ka?1/0:5*60*1e3))}clearGcTimeout(){H(this,ra)&&(clearTimeout(H(this,ra)),Ne(this,ra,void 0))}},ra=new WeakMap,B_),Il,oa,$r,ia,Rn,wd,sa,uo,li,H_,D6=(H_=class extends Yj{constructor(n){super();Fe(this,uo);Fe(this,Il);Fe(this,oa);Fe(this,$r);Fe(this,ia);Fe(this,Rn);Fe(this,wd);Fe(this,sa);Ne(this,sa,!1),Ne(this,wd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ne(this,ia,n.client),Ne(this,$r,H(this,ia).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ne(this,Il,L6(this.options)),this.state=n.state??H(this,Il),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Rn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,wd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,$r).remove(this)}setData(n,r){const o=Ox(this.state.data,n,this.options);return tt(this,uo,li).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(n,r){tt(this,uo,li).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var o,i;const r=(o=H(this,Rn))==null?void 0:o.promise;return(i=H(this,Rn))==null||i.cancel(n),r?r.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Il))}isActive(){return this.observers.some(n=>zr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ws(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Bj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Rn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Rn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,$r).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Rn)&&(H(this,sa)?H(this,Rn).cancel({revert:!0}):H(this,Rn).cancelRetry()),this.scheduleGc()),H(this,$r).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,uo,li).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Rn))return H(this,Rn).continueRetry(),H(this,Rn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const o=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ne(this,sa,!0),o.signal)})},s=()=>{const m=Vj(this.options,r),v=(()=>{const x={client:H(this,ia),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Ne(this,sa,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,ia),state:this.state,fetchFn:s};return i(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Ne(this,oa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&tt(this,uo,li).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var p,v,x,b;zg(m)&&m.silent||tt(this,uo,li).call(this,{type:"error",error:m}),zg(m)||((v=(p=H(this,$r).config).onError)==null||v.call(p,m,this),(b=(x=H(this,$r).config).onSettled)==null||b.call(x,this.state.data,m,this)),this.scheduleGc()};return Ne(this,Rn,Kj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:o.abort.bind(o),onSuccess:m=>{var p,v,x,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(v=(p=H(this,$r).config).onSuccess)==null||v.call(p,m,this),(b=(x=H(this,$r).config).onSettled)==null||b.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{tt(this,uo,li).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{tt(this,uo,li).call(this,{type:"pause"})},onContinue:()=>{tt(this,uo,li).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),H(this,Rn).start()}},Il=new WeakMap,oa=new WeakMap,$r=new WeakMap,ia=new WeakMap,Rn=new WeakMap,wd=new WeakMap,sa=new WeakMap,uo=new WeakSet,li=function(n){const r=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...Xj(o.data,this.options),fetchMeta:n.meta??null};case"success":return Ne(this,oa,void 0),{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return zg(i)&&i.revert&&H(this,oa)?{...H(this,oa),fetchStatus:"idle"}:{...o,error:i,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=r(this.state),pn.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),H(this,$r).notify({query:this,type:"updated",action:n})})},H_);function Xj(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qj(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function L6(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Oo,V_,$6=(V_=class extends Sc{constructor(n={}){super();Fe(this,Oo);this.config=n,Ne(this,Oo,new Map)}build(n,r,o){const i=r.queryKey,s=r.queryHash??fw(i,r);let a=this.get(s);return a||(a=new D6({client:n,queryKey:i,queryHash:s,options:n.defaultQueryOptions(r),state:o,defaultOptions:n.getQueryDefaults(i)}),this.add(a)),a}add(n){H(this,Oo).has(n.queryHash)||(H(this,Oo).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=H(this,Oo).get(n.queryHash);r&&(n.destroy(),r===n&&H(this,Oo).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){pn.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return H(this,Oo).get(n)}getAll(){return[...H(this,Oo).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(o=>NS(r,o))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(o=>NS(n,o)):r}notify(n){pn.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Oo=new WeakMap,V_),Do,Fn,aa,Lo,Ui,W_,z6=(W_=class extends Yj{constructor(n){super();Fe(this,Lo);Fe(this,Do);Fe(this,Fn);Fe(this,aa);this.mutationId=n.mutationId,Ne(this,Fn,n.mutationCache),Ne(this,Do,[]),this.state=n.state||Qj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,Do).includes(n)||(H(this,Do).push(n),this.clearGcTimeout(),H(this,Fn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ne(this,Do,H(this,Do).filter(r=>r!==n)),this.scheduleGc(),H(this,Fn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,Do).length||(this.state.status==="pending"?this.scheduleGc():H(this,Fn).remove(this))}continue(){var n;return((n=H(this,aa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,a,l,c,u,h,f,m,p,v,x,b,y,w,S,k,_,N,C,j;const r=()=>{tt(this,Lo,Ui).call(this,{type:"continue"})};Ne(this,aa,Kj({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{tt(this,Lo,Ui).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{tt(this,Lo,Ui).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Fn).canRun(this)}));const o=this.state.status==="pending",i=!H(this,aa).canStart();try{if(o)r();else{tt(this,Lo,Ui).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(s=H(this,Fn).config).onMutate)==null?void 0:a.call(s,n,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));E!==this.state.context&&tt(this,Lo,Ui).call(this,{type:"pending",context:E,variables:n,isPaused:i})}const A=await H(this,aa).start();return await((h=(u=H(this,Fn).config).onSuccess)==null?void 0:h.call(u,A,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,n,this.state.context)),await((v=(p=H(this,Fn).config).onSettled)==null?void 0:v.call(p,A,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,A,null,n,this.state.context)),tt(this,Lo,Ui).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(y=H(this,Fn).config).onError)==null?void 0:w.call(y,A,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,A,n,this.state.context)),await((N=(_=H(this,Fn).config).onSettled)==null?void 0:N.call(_,void 0,A,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,A,n,this.state.context)),A}finally{tt(this,Lo,Ui).call(this,{type:"error",error:A})}}finally{H(this,Fn).runNext(this)}}},Do=new WeakMap,Fn=new WeakMap,aa=new WeakMap,Lo=new WeakSet,Ui=function(n){const r=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pn.batch(()=>{H(this,Do).forEach(o=>{o.onMutationUpdate(n)}),H(this,Fn).notify({mutation:this,type:"updated",action:n})})},W_);function Qj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hi,fo,bd,q_,F6=(q_=class extends Sc{constructor(n={}){super();Fe(this,hi);Fe(this,fo);Fe(this,bd);this.config=n,Ne(this,hi,new Set),Ne(this,fo,new Map),Ne(this,bd,0)}build(n,r,o){const i=new z6({mutationCache:this,mutationId:++sf(this,bd)._,options:n.defaultMutationOptions(r),state:o});return this.add(i),i}add(n){H(this,hi).add(n);const r=jf(n);if(typeof r=="string"){const o=H(this,fo).get(r);o?o.push(n):H(this,fo).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(H(this,hi).delete(n)){const r=jf(n);if(typeof r=="string"){const o=H(this,fo).get(r);if(o)if(o.length>1){const i=o.indexOf(n);i!==-1&&o.splice(i,1)}else o[0]===n&&H(this,fo).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=jf(n);if(typeof r=="string"){const o=H(this,fo).get(r),i=o==null?void 0:o.find(s=>s.state.status==="pending");return!i||i===n}else return!0}runNext(n){var o;const r=jf(n);if(typeof r=="string"){const i=(o=H(this,fo).get(r))==null?void 0:o.find(s=>s!==n&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pn.batch(()=>{H(this,hi).forEach(n=>{this.notify({type:"removed",mutation:n})}),H(this,hi).clear(),H(this,fo).clear()})}getAll(){return Array.from(H(this,hi))}find(n){const r={exact:!0,...n};return this.getAll().find(o=>CS(r,o))}findAll(n={}){return this.getAll().filter(r=>CS(n,r))}notify(n){pn.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return pn.batch(()=>Promise.all(n.map(r=>r.continue().catch(Hn))))}},hi=new WeakMap,fo=new WeakMap,bd=new WeakMap,q_);function jf(e){var n;return(n=e.options.scope)==null?void 0:n.id}function TS(e){return{onFetch:(n,r)=>{var h,f,m,p,v;const o=n.options,i=(m=(f=(h=n.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((p=n.state.data)==null?void 0:p.pages)||[],a=((v=n.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(n.signal.aborted?x=!0:n.signal.addEventListener("abort",()=>{x=!0}),n.signal)})},y=Vj(n.options,n.fetchOptions),w=async(S,k,_)=>{if(x)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const I={client:n.client,queryKey:n.queryKey,pageParam:k,direction:_?"backward":"forward",meta:n.options.meta};return b(I),I})(),j=await y(C),{maxPages:A}=n.options,E=_?A6:T6;return{pages:E(S.pages,j,A),pageParams:E(S.pageParams,k,A)}};if(i&&s.length){const S=i==="backward",k=S?U6:AS,_={pages:s,pageParams:a},N=k(o,_);l=await w(_,N,S)}else{const S=e??s.length;do{const k=c===0?a[0]??o.initialPageParam:AS(o,l);if(c>0&&k==null)break;l=await w(l,k),c++}while(c<S)}return l};n.options.persister?n.fetchFn=()=>{var x,b;return(b=(x=n.options).persister)==null?void 0:b.call(x,u,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r)}:n.fetchFn=u}}}function AS(e,{pages:n,pageParams:r}){const o=n.length-1;return n.length>0?e.getNextPageParam(n[o],n,r[o],r):void 0}function U6(e,{pages:n,pageParams:r}){var o;return n.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,n[0],n,r[0],r):void 0}var Vt,Zi,es,Ol,Dl,ts,Ll,$l,G_,B6=(G_=class{constructor(e={}){Fe(this,Vt);Fe(this,Zi);Fe(this,es);Fe(this,Ol);Fe(this,Dl);Fe(this,ts);Fe(this,Ll);Fe(this,$l);Ne(this,Vt,e.queryCache||new $6),Ne(this,Zi,e.mutationCache||new F6),Ne(this,es,e.defaultOptions||{}),Ne(this,Ol,new Map),Ne(this,Dl,new Map),Ne(this,ts,0)}mount(){sf(this,ts)._++,H(this,ts)===1&&(Ne(this,Ll,pw.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Vt).onFocus())})),Ne(this,$l,ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,Vt).onOnline())})))}unmount(){var e,n;sf(this,ts)._--,H(this,ts)===0&&((e=H(this,Ll))==null||e.call(this),Ne(this,Ll,void 0),(n=H(this,$l))==null||n.call(this),Ne(this,$l,void 0))}isFetching(e){return H(this,Vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Zi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=H(this,Vt).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=H(this,Vt).build(this,n),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ws(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(e){return H(this,Vt).findAll(e).map(({queryKey:n,state:r})=>{const o=r.data;return[n,o]})}setQueryData(e,n,r){const o=this.defaultQueryOptions({queryKey:e}),i=H(this,Vt).get(o.queryHash),s=i==null?void 0:i.state.data,a=E6(n,s);if(a!==void 0)return H(this,Vt).build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return pn.batch(()=>H(this,Vt).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=H(this,Vt).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=H(this,Vt);pn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=H(this,Vt);return pn.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},o=pn.batch(()=>H(this,Vt).findAll(e).map(i=>i.cancel(r)));return Promise.all(o).then(Hn).catch(Hn)}invalidateQueries(e,n={}){return pn.batch(()=>(H(this,Vt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},o=pn.batch(()=>H(this,Vt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Hn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(o).then(Hn)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=H(this,Vt).build(this,n);return r.isStaleByTime(ws(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hn).catch(Hn)}fetchInfiniteQuery(e){return e.behavior=TS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hn).catch(Hn)}ensureInfiniteQueryData(e){return e.behavior=TS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ep.isOnline()?H(this,Zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Vt)}getMutationCache(){return H(this,Zi)}getDefaultOptions(){return H(this,es)}setDefaultOptions(e){Ne(this,es,e)}setQueryDefaults(e,n){H(this,Ol).set(_a(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...H(this,Ol).values()],r={};return n.forEach(o=>{nd(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,n){H(this,Dl).set(_a(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...H(this,Dl).values()],r={};return n.forEach(o=>{nd(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...H(this,es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=fw(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===hw&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,Vt).clear(),H(this,Zi).clear()}},Vt=new WeakMap,Zi=new WeakMap,es=new WeakMap,Ol=new WeakMap,Dl=new WeakMap,ts=new WeakMap,Ll=new WeakMap,$l=new WeakMap,G_),or,ct,Sd,Un,la,zl,ns,rs,kd,Fl,Ul,ca,ua,os,Bl,wt,au,Lx,$x,zx,Fx,Ux,Bx,Hx,Jj,K_,H6=(K_=class extends Sc{constructor(n,r){super();Fe(this,wt);Fe(this,or);Fe(this,ct);Fe(this,Sd);Fe(this,Un);Fe(this,la);Fe(this,zl);Fe(this,ns);Fe(this,rs);Fe(this,kd);Fe(this,Fl);Fe(this,Ul);Fe(this,ca);Fe(this,ua);Fe(this,os);Fe(this,Bl,new Set);this.options=r,Ne(this,or,n),Ne(this,rs,null),Ne(this,ns,Dx()),this.options.experimental_prefetchInRender||H(this,ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,ct).addObserver(this),PS(H(this,ct),this.options)?tt(this,wt,au).call(this):this.updateResult(),tt(this,wt,Fx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vx(H(this,ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vx(H(this,ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,wt,Ux).call(this),tt(this,wt,Bx).call(this),H(this,ct).removeObserver(this)}setOptions(n){const r=this.options,o=H(this,ct);if(this.options=H(this,or).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zr(this.options.enabled,H(this,ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,wt,Hx).call(this),H(this,ct).setOptions(this.options),r._defaulted&&!Zh(this.options,r)&&H(this,or).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,ct),observer:this});const i=this.hasListeners();i&&MS(H(this,ct),o,this.options,r)&&tt(this,wt,au).call(this),this.updateResult(),i&&(H(this,ct)!==o||zr(this.options.enabled,H(this,ct))!==zr(r.enabled,H(this,ct))||ws(this.options.staleTime,H(this,ct))!==ws(r.staleTime,H(this,ct)))&&tt(this,wt,Lx).call(this);const s=tt(this,wt,$x).call(this);i&&(H(this,ct)!==o||zr(this.options.enabled,H(this,ct))!==zr(r.enabled,H(this,ct))||s!==H(this,os))&&tt(this,wt,zx).call(this,s)}getOptimisticResult(n){const r=H(this,or).getQueryCache().build(H(this,or),n),o=this.createResult(r,n);return W6(this,o)&&(Ne(this,Un,o),Ne(this,zl,this.options),Ne(this,la,H(this,ct).state)),o}getCurrentResult(){return H(this,Un)}trackResult(n,r){return new Proxy(n,{get:(o,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(o,i))})}trackProp(n){H(this,Bl).add(n)}getCurrentQuery(){return H(this,ct)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=H(this,or).defaultQueryOptions(n),o=H(this,or).getQueryCache().build(H(this,or),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(n){return tt(this,wt,au).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Un)))}createResult(n,r){var A;const o=H(this,ct),i=this.options,s=H(this,Un),a=H(this,la),l=H(this,zl),u=n!==o?n.state:H(this,Sd),{state:h}=n;let f={...h},m=!1,p;if(r._optimisticResults){const E=this.hasListeners(),I=!E&&PS(n,r),O=E&&MS(n,o,r,i);(I||O)&&(f={...f,...Xj(h.data,n.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:b}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let E;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=s.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((A=H(this,Ul))==null?void 0:A.state.data,H(this,Ul)):r.placeholderData,E!==void 0&&(b="success",p=Ox(s==null?void 0:s.data,E,r),m=!0)}if(r.select&&p!==void 0&&!y)if(s&&p===(a==null?void 0:a.data)&&r.select===H(this,kd))p=H(this,Fl);else try{Ne(this,kd,r.select),p=r.select(p),p=Ox(s==null?void 0:s.data,p,r),Ne(this,Fl,p),Ne(this,rs,null)}catch(E){Ne(this,rs,E)}H(this,rs)&&(v=H(this,rs),p=H(this,Fl),x=Date.now(),b="error");const w=f.fetchStatus==="fetching",S=b==="pending",k=b==="error",_=S&&w,N=p!==void 0,j={status:b,fetchStatus:f.fetchStatus,isPending:S,isSuccess:b==="success",isError:k,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:k&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:k&&N,isStale:mw(n,r),refetch:this.refetch,promise:H(this,ns),isEnabled:zr(r.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const E=U=>{j.status==="error"?U.reject(j.error):j.data!==void 0&&U.resolve(j.data)},I=()=>{const U=Ne(this,ns,j.promise=Dx());E(U)},O=H(this,ns);switch(O.status){case"pending":n.queryHash===o.queryHash&&E(O);break;case"fulfilled":(j.status==="error"||j.data!==O.value)&&I();break;case"rejected":(j.status!=="error"||j.error!==O.reason)&&I();break}}return j}updateResult(){const n=H(this,Un),r=this.createResult(H(this,ct),this.options);if(Ne(this,la,H(this,ct).state),Ne(this,zl,this.options),H(this,la).data!==void 0&&Ne(this,Ul,H(this,ct)),Zh(r,n))return;Ne(this,Un,r);const o=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!H(this,Bl).size)return!0;const a=new Set(s??H(this,Bl));return this.options.throwOnError&&a.add("error"),Object.keys(H(this,Un)).some(l=>{const c=l;return H(this,Un)[c]!==n[c]&&a.has(c)})};tt(this,wt,Jj).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,wt,Fx).call(this)}},or=new WeakMap,ct=new WeakMap,Sd=new WeakMap,Un=new WeakMap,la=new WeakMap,zl=new WeakMap,ns=new WeakMap,rs=new WeakMap,kd=new WeakMap,Fl=new WeakMap,Ul=new WeakMap,ca=new WeakMap,ua=new WeakMap,os=new WeakMap,Bl=new WeakMap,wt=new WeakSet,au=function(n){tt(this,wt,Hx).call(this);let r=H(this,ct).fetch(this.options,n);return n!=null&&n.throwOnError||(r=r.catch(Hn)),r},Lx=function(){tt(this,wt,Ux).call(this);const n=ws(this.options.staleTime,H(this,ct));if(ka||H(this,Un).isStale||!Rx(n))return;const o=Bj(H(this,Un).dataUpdatedAt,n)+1;Ne(this,ca,setTimeout(()=>{H(this,Un).isStale||this.updateResult()},o))},$x=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,ct)):this.options.refetchInterval)??!1},zx=function(n){tt(this,wt,Bx).call(this),Ne(this,os,n),!(ka||zr(this.options.enabled,H(this,ct))===!1||!Rx(H(this,os))||H(this,os)===0)&&Ne(this,ua,setInterval(()=>{(this.options.refetchIntervalInBackground||pw.isFocused())&&tt(this,wt,au).call(this)},H(this,os)))},Fx=function(){tt(this,wt,Lx).call(this),tt(this,wt,zx).call(this,tt(this,wt,$x).call(this))},Ux=function(){H(this,ca)&&(clearTimeout(H(this,ca)),Ne(this,ca,void 0))},Bx=function(){H(this,ua)&&(clearInterval(H(this,ua)),Ne(this,ua,void 0))},Hx=function(){const n=H(this,or).getQueryCache().build(H(this,or),this.options);if(n===H(this,ct))return;const r=H(this,ct);Ne(this,ct,n),Ne(this,Sd,n.state),this.hasListeners()&&(r==null||r.removeObserver(this),n.addObserver(this))},Jj=function(n){pn.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(H(this,Un))}),H(this,or).getQueryCache().notify({query:H(this,ct),type:"observerResultsUpdated"})})},K_);function V6(e,n){return zr(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function PS(e,n){return V6(e,n)||e.state.data!==void 0&&Vx(e,n,n.refetchOnMount)}function Vx(e,n,r){if(zr(n.enabled,e)!==!1&&ws(n.staleTime,e)!=="static"){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&mw(e,n)}return!1}function MS(e,n,r,o){return(e!==n||zr(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&mw(e,r)}function mw(e,n){return zr(n.enabled,e)!==!1&&e.isStaleByTime(ws(n.staleTime,e))}function W6(e,n){return!Zh(e.getCurrentResult(),n)}var is,ss,ir,pi,wi,dh,Wx,Y_,q6=(Y_=class extends Sc{constructor(r,o){super();Fe(this,wi);Fe(this,is);Fe(this,ss);Fe(this,ir);Fe(this,pi);Ne(this,is,r),this.setOptions(o),this.bindMethods(),tt(this,wi,dh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const o=this.options;this.options=H(this,is).defaultMutationOptions(r),Zh(this.options,o)||H(this,is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,ir),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&_a(o.mutationKey)!==_a(this.options.mutationKey)?this.reset():((i=H(this,ir))==null?void 0:i.state.status)==="pending"&&H(this,ir).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=H(this,ir))==null||r.removeObserver(this)}onMutationUpdate(r){tt(this,wi,dh).call(this),tt(this,wi,Wx).call(this,r)}getCurrentResult(){return H(this,ss)}reset(){var r;(r=H(this,ir))==null||r.removeObserver(this),Ne(this,ir,void 0),tt(this,wi,dh).call(this),tt(this,wi,Wx).call(this)}mutate(r,o){var i;return Ne(this,pi,o),(i=H(this,ir))==null||i.removeObserver(this),Ne(this,ir,H(this,is).getMutationCache().build(H(this,is),this.options)),H(this,ir).addObserver(this),H(this,ir).execute(r)}},is=new WeakMap,ss=new WeakMap,ir=new WeakMap,pi=new WeakMap,wi=new WeakSet,dh=function(){var o;const r=((o=H(this,ir))==null?void 0:o.state)??Qj();Ne(this,ss,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Wx=function(r){pn.batch(()=>{var o,i,s,a,l,c,u,h;if(H(this,pi)&&this.hasListeners()){const f=H(this,ss).variables,m=H(this,ss).context;(r==null?void 0:r.type)==="success"?((i=(o=H(this,pi)).onSuccess)==null||i.call(o,r.data,f,m),(a=(s=H(this,pi)).onSettled)==null||a.call(s,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=H(this,pi)).onError)==null||c.call(l,r.error,f,m),(h=(u=H(this,pi)).onSettled)==null||h.call(u,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(H(this,ss))})})},Y_),Zj=g.createContext(void 0),Rd=e=>{const n=g.useContext(Zj);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},G6=({client:e,children:n})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(Zj.Provider,{value:e,children:n})),eT=g.createContext(!1),K6=()=>g.useContext(eT);eT.Provider;function Y6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var X6=g.createContext(Y6()),Q6=()=>g.useContext(X6),J6=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},Z6=e=>{g.useEffect(()=>{e.clearReset()},[e])},eF=({result:e,errorResetBoundary:n,throwOnError:r,query:o,suspense:i})=>e.isError&&!n.isReset()&&!e.isFetching&&o&&(i&&e.data===void 0||Wj(r,[e.error,o])),tF=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nF=(e,n)=>e.isLoading&&e.isFetching&&!n,rF=(e,n)=>(e==null?void 0:e.suspense)&&n.isPending,RS=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function oF(e,n,r){var f,m,p,v,x;const o=K6(),i=Q6(),s=Rd(),a=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,a),a._optimisticResults=o?"isRestoring":"optimistic",tF(a),J6(a,i),Z6(i);const l=!s.getQueryCache().get(a.queryHash),[c]=g.useState(()=>new n(s,a)),u=c.getOptimisticResult(a),h=!o&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const y=h?c.subscribe(pn.batchCalls(b)):Hn;return c.updateResult(),y},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(a)},[a,c]),rF(a,u))throw RS(a,c,i);if(eF({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,a,u),a.experimental_prefetchInRender&&!ka&&nF(u,o)){const b=l?RS(a,c,i):(x=s.getQueryCache().get(a.queryHash))==null?void 0:x.promise;b==null||b.catch(Hn).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ko(e,n){return oF(e,H6)}function Fg(e,n){const r=Rd(),[o]=g.useState(()=>new q6(r,e));g.useEffect(()=>{o.setOptions(e)},[o,e]);const i=g.useSyncExternalStore(g.useCallback(a=>o.subscribe(pn.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),s=g.useCallback((a,l)=>{o.mutate(a,l).catch(Hn)},[o]);if(i.error&&Wj(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},rd.apply(this,arguments)}var cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cs||(cs={}));const IS="popstate";function iF(e){e===void 0&&(e={});function n(o,i){let{pathname:s,search:a,hash:l}=o.location;return qx("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:tp(i)}return aF(n,r,null,e)}function Kt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function tT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sF(){return Math.random().toString(36).substr(2,8)}function OS(e,n){return{usr:e.state,key:e.key,idx:n}}function qx(e,n,r,o){return r===void 0&&(r=null),rd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?kc(n):n,{state:r,key:n&&n.key||o||sF()})}function tp(e){let{pathname:n="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function kc(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(n.search=e.substr(o),e=e.substr(0,o)),e&&(n.pathname=e)}return n}function aF(e,n,r,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:s=!1}=o,a=i.history,l=cs.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(rd({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=cs.Pop;let b=h(),y=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:y})}function m(b,y){l=cs.Push;let w=qx(x.location,b,y);u=h()+1;let S=OS(w,u),k=x.createHref(w);try{a.pushState(S,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(k)}s&&c&&c({action:l,location:x.location,delta:1})}function p(b,y){l=cs.Replace;let w=qx(x.location,b,y);u=h();let S=OS(w,u),k=x.createHref(w);a.replaceState(S,"",k),s&&c&&c({action:l,location:x.location,delta:0})}function v(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:tp(b);return w=w.replace(/ $/,"%20"),Kt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let x={get action(){return l},get location(){return e(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(IS,f),c=b,()=>{i.removeEventListener(IS,f),c=null}},createHref(b){return n(i,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return a.go(b)}};return x}var DS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(DS||(DS={}));function lF(e,n,r){return r===void 0&&(r="/"),cF(e,n,r,!1)}function cF(e,n,r,o){let i=typeof n=="string"?kc(n):n,s=Jl(i.pathname||"/",r);if(s==null)return null;let a=nT(e);uF(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=bF(s);l=vF(a[c],u,o)}return l}function nT(e,n,r,o){n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(o),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(o.length));let u=bs([o,c.relativePath]),h=r.concat(c);s.children&&s.children.length>0&&(Kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nT(s.children,n,h,u)),!(s.path==null&&!s.index)&&n.push({path:u,score:yF(u,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of rT(s.path))i(s,a,c)}),n}function rT(e){let n=e.split("/");if(n.length===0)return[];let[r,...o]=n,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(o.length===0)return i?[s,""]:[s];let a=rT(o.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function uF(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:xF(n.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const dF=/^:[\w-]+$/,fF=3,hF=2,pF=1,mF=10,gF=-2,LS=e=>e==="*";function yF(e,n){let r=e.split("/"),o=r.length;return r.some(LS)&&(o+=gF),n&&(o+=hF),r.filter(i=>!LS(i)).reduce((i,s)=>i+(dF.test(s)?fF:s===""?pF:mF),o)}function xF(e,n){return e.length===n.length&&e.slice(0,-1).every((o,i)=>o===n[i])?e[e.length-1]-n[n.length-1]:0}function vF(e,n,r){let{routesMeta:o}=e,i={},s="/",a=[];for(let l=0;l<o.length;++l){let c=o[l],u=l===o.length-1,h=s==="/"?n:n.slice(s.length)||"/",f=np({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&r&&!o[o.length-1].route.index&&(f=np({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:bs([s,f.pathname]),pathnameBase:NF(bs([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=bs([s,f.pathnameBase]))}return a}function np(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=wF(e.path,e.caseSensitive,e.end),i=n.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:o.reduce((u,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let x=l[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function wF(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),tT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(o.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),o]}function bF(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Jl(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function SF(e,n){n===void 0&&(n="/");let{pathname:r,search:o="",hash:i=""}=typeof e=="string"?kc(e):e;return{pathname:r?r.startsWith("/")?r:kF(r,n):n,search:CF(o),hash:EF(i)}}function kF(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ug(e,n,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _F(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function oT(e,n){let r=_F(e);return n?r.map((o,i)=>i===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function iT(e,n,r,o){o===void 0&&(o=!1);let i;typeof e=="string"?i=kc(e):(i=rd({},e),Kt(!i.pathname||!i.pathname.includes("?"),Ug("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),Ug("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),Ug("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let f=n.length-1;if(!o&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?n[f]:"/"}let c=SF(i,l),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const bs=e=>e.join("/").replace(/\/\/+/g,"/"),NF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sT=["post","put","patch","delete"];new Set(sT);const TF=["get",...sT];new Set(TF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},od.apply(this,arguments)}const lm=g.createContext(null),aT=g.createContext(null),Os=g.createContext(null),cm=g.createContext(null),Pi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),lT=g.createContext(null);function AF(e,n){let{relative:r}=n===void 0?{}:n;Id()||Kt(!1);let{basename:o,navigator:i}=g.useContext(Os),{hash:s,pathname:a,search:l}=um(e,{relative:r}),c=a;return o!=="/"&&(c=a==="/"?o:bs([o,a])),i.createHref({pathname:c,search:l,hash:s})}function Id(){return g.useContext(cm)!=null}function Qo(){return Id()||Kt(!1),g.useContext(cm).location}function cT(e){g.useContext(Os).static||g.useLayoutEffect(e)}function Ia(){let{isDataRoute:e}=g.useContext(Pi);return e?qF():PF()}function PF(){Id()||Kt(!1);let e=g.useContext(lm),{basename:n,future:r,navigator:o}=g.useContext(Os),{matches:i}=g.useContext(Pi),{pathname:s}=Qo(),a=JSON.stringify(oT(i,r.v7_relativeSplatPath)),l=g.useRef(!1);return cT(()=>{l.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){o.go(u);return}let f=iT(u,JSON.parse(a),s,h.relative==="path");e==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:bs([n,f.pathname])),(h.replace?o.replace:o.push)(f,h.state,h)},[n,o,a,s,e])}const MF=g.createContext(null);function RF(e){let n=g.useContext(Pi).outlet;return n&&g.createElement(MF.Provider,{value:e},n)}function IF(){let{matches:e}=g.useContext(Pi),n=e[e.length-1];return n?n.params:{}}function um(e,n){let{relative:r}=n===void 0?{}:n,{future:o}=g.useContext(Os),{matches:i}=g.useContext(Pi),{pathname:s}=Qo(),a=JSON.stringify(oT(i,o.v7_relativeSplatPath));return g.useMemo(()=>iT(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function OF(e,n){return DF(e,n)}function DF(e,n,r,o){Id()||Kt(!1);let{navigator:i}=g.useContext(Os),{matches:s}=g.useContext(Pi),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Qo(),h;if(n){var f;let b=typeof n=="string"?kc(n):n;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Kt(!1),h=b}else h=u;let m=h.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=lF(e,{pathname:p}),x=UF(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:bs([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:bs([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,o);return n&&x?g.createElement(cm.Provider,{value:{location:od({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:cs.Pop}},x):x}function LF(){let e=WF(),n=jF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),r?g.createElement("pre",{style:i},r):null,null)}const $F=g.createElement(LF,null);class zF extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?g.createElement(Pi.Provider,{value:this.props.routeContext},g.createElement(lT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FF(e){let{routeContext:n,match:r,children:o}=e,i=g.useContext(lm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Pi.Provider,{value:n},o)}function UF(e,n,r,o){var i;if(n===void 0&&(n=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=o)!=null&&s.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Kt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(r&&o&&o.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:p}=r,v=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let p,v=!1,x=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||$F,c&&(u<0&&m===0?(v=!0,b=null):u===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=n.concat(a.slice(0,m+1)),w=()=>{let S;return p?S=x:v?S=b:f.route.Component?S=g.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,g.createElement(FF,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(zF,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var uT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uT||{}),rp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rp||{});function BF(e){let n=g.useContext(lm);return n||Kt(!1),n}function HF(e){let n=g.useContext(aT);return n||Kt(!1),n}function VF(e){let n=g.useContext(Pi);return n||Kt(!1),n}function dT(e){let n=VF(),r=n.matches[n.matches.length-1];return r.route.id||Kt(!1),r.route.id}function WF(){var e;let n=g.useContext(lT),r=HF(rp.UseRouteError),o=dT(rp.UseRouteError);return n!==void 0?n:(e=r.errors)==null?void 0:e[o]}function qF(){let{router:e}=BF(uT.UseNavigateStable),n=dT(rp.UseNavigateStable),r=g.useRef(!1);return cT(()=>{r.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,od({fromRouteId:n},s)))},[e,n])}function GF(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function KF(e){return RF(e.context)}function xn(e){Kt(!1)}function YF(e){let{basename:n="/",children:r=null,location:o,navigationType:i=cs.Pop,navigator:s,static:a=!1,future:l}=e;Id()&&Kt(!1);let c=n.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:s,static:a,future:od({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof o=="string"&&(o=kc(o));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:v="default"}=o,x=g.useMemo(()=>{let b=Jl(h,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:v},navigationType:i}},[c,h,f,m,p,v,i]);return x==null?null:g.createElement(Os.Provider,{value:u},g.createElement(cm.Provider,{children:r,value:x}))}function XF(e){let{children:n,location:r}=e;return OF(Gx(n),r)}new Promise(()=>{});function Gx(e,n){n===void 0&&(n=[]);let r=[];return g.Children.forEach(e,(o,i)=>{if(!g.isValidElement(o))return;let s=[...n,i];if(o.type===g.Fragment){r.push.apply(r,Gx(o.props.children,s));return}o.type!==xn&&Kt(!1),!o.props.index||!o.props.children||Kt(!1);let a={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(a.children=Gx(o.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},op.apply(this,arguments)}function fT(e,n){if(e==null)return{};var r={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(n.indexOf(i)>=0)&&(r[i]=e[i]);return r}function QF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JF(e,n){return e.button===0&&(!n||n==="_self")&&!QF(e)}function Kx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,r)=>{let o=e[r];return n.concat(Array.isArray(o)?o.map(i=>[r,i]):[[r,o]])},[]))}function ZF(e,n){let r=Kx(e);return n&&n.forEach((o,i)=>{r.has(i)||n.getAll(i).forEach(s=>{r.append(i,s)})}),r}const e8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n8="6";try{window.__reactRouterVersion=n8}catch{}const r8=g.createContext({isTransitioning:!1}),o8="startTransition",$S=Z0[o8];function i8(e){let{basename:n,children:r,future:o,window:i}=e,s=g.useRef();s.current==null&&(s.current=iF({window:i,v5Compat:!0}));let a=s.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=o||{},h=g.useCallback(f=>{u&&$S?$S(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>a.listen(h),[a,h]),g.useEffect(()=>GF(o),[o]),g.createElement(YF,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:o})}const s8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l8=g.forwardRef(function(n,r){let{onClick:o,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=n,m=fT(n,e8),{basename:p}=g.useContext(Os),v,x=!1;if(typeof u=="string"&&a8.test(u)&&(v=u,s8))try{let S=new URL(window.location.href),k=u.startsWith("//")?new URL(S.protocol+u):new URL(u),_=Jl(k.pathname,p);k.origin===S.origin&&_!=null?u=_+k.search+k.hash:x=!0}catch{}let b=AF(u,{relative:i}),y=u8(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function w(S){o&&o(S),S.defaultPrevented||y(S)}return g.createElement("a",op({},m,{href:v||b,onClick:x||s?o:w,ref:r,target:c}))}),zS=g.forwardRef(function(n,r){let{"aria-current":o="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:h}=n,f=fT(n,t8),m=um(c,{relative:f.relative}),p=Qo(),v=g.useContext(aT),{navigator:x,basename:b}=g.useContext(Os),y=v!=null&&f8(m)&&u===!0,w=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,S=p.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&b&&(k=Jl(k,b)||k);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=S===w||!a&&S.startsWith(w)&&S.charAt(_)==="/",C=k!=null&&(k===w||!a&&k.startsWith(w)&&k.charAt(w.length)==="/"),j={isActive:N,isPending:C,isTransitioning:y},A=N?o:void 0,E;typeof s=="function"?E=s(j):E=[s,N?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(j):l;return g.createElement(l8,op({},f,{"aria-current":A,className:E,ref:r,style:I,to:c,viewTransition:u}),typeof h=="function"?h(j):h)});var Yx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yx||(Yx={}));var FS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(FS||(FS={}));function c8(e){let n=g.useContext(lm);return n||Kt(!1),n}function u8(e,n){let{target:r,replace:o,state:i,preventScrollReset:s,relative:a,viewTransition:l}=n===void 0?{}:n,c=Ia(),u=Qo(),h=um(e,{relative:a});return g.useCallback(f=>{if(JF(f,r)){f.preventDefault();let m=o!==void 0?o:tp(u)===tp(h);c(e,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,h,o,i,r,e,s,a,l])}function d8(e){let n=g.useRef(Kx(e)),r=g.useRef(!1),o=Qo(),i=g.useMemo(()=>ZF(o.search,r.current?null:n.current),[o.search]),s=Ia(),a=g.useCallback((l,c)=>{const u=Kx(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,a]}function f8(e,n){n===void 0&&(n={});let r=g.useContext(r8);r==null&&Kt(!1);let{basename:o}=c8(Yx.useViewTransitionState),i=um(e,{relative:n.relative});if(!r.isTransitioning)return!1;let s=Jl(r.currentLocation.pathname,o)||r.currentLocation.pathname,a=Jl(r.nextLocation.pathname,o)||r.nextLocation.pathname;return np(i.pathname,a)!=null||np(i.pathname,s)!=null}const mo="",Ss="";async function Ke(e,n={}){const{headers:r,...o}=n,i={"Content-Type":"application/json",Accept:"application/json",...r},s=localStorage.getItem("forge_license_key");s&&(i["x-license-key"]=s);const a=await fetch(`${mo}${e}`,{headers:i,credentials:"include",...o});if(!a.ok){const l=await a.text(),c=new Error(l||a.statusText);throw c.status=a.status,c}if(a.status!==204)return a.json()}const Xe={listAgents(){return Ke("/agents")},createAgent(e){return Ke("/agents",{method:"POST",body:JSON.stringify(e)})},updateAgent(e,n){return Ke(`/agents/${e}`,{method:"PATCH",body:JSON.stringify(n)})},deleteAgent(e){return Ke(`/agents/${e}`,{method:"DELETE"})},listTasks(e){const n=e?`?status=${encodeURIComponent(e)}`:"";return Ke(`/tasks${n}`)},enqueueTask(e,n){return Ke("/tasks/assign",{method:"POST",body:JSON.stringify({agentId:e,prompt:n})})},getAgentMemory(e,n=10){return Ke(`/agents/${e}/memory?limit=${n}`)},updateAgentStatus(e,n){return Ke(`/agents/${e}/status`,{method:"PATCH",body:JSON.stringify({status:n})})},runCommand(e,n){return Ke("/commands",{method:"POST",body:JSON.stringify({input:e,org_id:n??void 0})})},buildAgentFromPrompt(e,n){return Ke("/agent-builder",{method:"POST",body:JSON.stringify({promptText:e,options:n})})},generateAgentConfig(e,n){return Ke("/agent-config/schema",{method:"POST",body:JSON.stringify({description:e,...n})})},fetchAgentConfig(e){return Ke(`/agent-config/${e}`)},updateAgentConfig(e,n){return Ke(`/agent-config/${e}`,{method:"PUT",body:JSON.stringify(n)})},fetchOverviewInsights(){return Ke("/insights/overview")},fetchMemoryGraph(){return Ke("/memory/graph")},runMultiAgentSession(e){return Ke("/multi-agent/sessions",{method:"POST",body:JSON.stringify({prompt:e})})},fetchMultiAgentMemory(){return Ke("/multi-agent/memory")},dispatchToolAgentPrompt(e,n){return Ke("/multi-agent/tool-agents/run",{method:"POST",body:JSON.stringify({prompt:e,agentId:n==null?void 0:n.agentId,limit:n==null?void 0:n.limit,mode:(n==null?void 0:n.mode)??"auto"})})},listAutomations(){return Ke("/automations")},createAutomation(e){return Ke("/automations",{method:"POST",body:JSON.stringify(e)})},updateAutomation(e,n){return Ke(`/automations/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(n)})},sendAutomationMessage(e){return Ke("/automation-builder/message",{method:"POST",body:JSON.stringify(e)})},provideAutomationKey(e){return Ke("/automation-builder/key",{method:"POST",body:JSON.stringify(e)})},endAutomationSession(e){return Ke(`/automation-builder/session/${encodeURIComponent(e)}`,{method:"DELETE"})},interpretAutomationPrompt(e,n){return Ke("/automation-builder/interpret",{method:"POST",body:JSON.stringify({prompt:e,context:n??{}})})},fetchSlackIntegrationStatus(e){const n=e?`?org_id=${encodeURIComponent(e)}`:"";return Ke(`/connectors/slack/api/status${n}`)},fetchJiraIntegrationStatus(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("account_id",n);const o=r.toString();return Ke(`/connectors/jira/api/status${o?`?${o}`:""}`)},disconnectSlackIntegration(e){const n=e?`?org_id=${encodeURIComponent(e)}`:"";return Ke(`/connectors/slack/api/deactivate${n}`,{method:"POST"})},disconnectJiraIntegration(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("account_id",n);const o=r.toString();return Ke(`/connectors/jira/api/disconnect${o?`?${o}`:""}`,{method:"POST"})},fetchUsageSummary(e){return Ke(`/usage/summary?org_id=${encodeURIComponent(e)}`)},fetchUsageDaily(e){return Ke(`/usage/daily?org_id=${encodeURIComponent(e)}`)},fetchUsageMonthly(e){return Ke(`/usage/monthly?org_id=${encodeURIComponent(e)}`)},fetchUsageBreakdown(e){return Ke(`/usage/breakdown?org_id=${encodeURIComponent(e)}`)},fetchUsageModels(e){return Ke(`/usage/models?org_id=${encodeURIComponent(e)}`)},fetchUsageAgents(e){return Ke(`/usage/agents?org_id=${encodeURIComponent(e)}`)},fetchLicenseStatus(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("license_key",n);const o=r.toString();return Ke(`/api/license/status${o?`?${o}`:""}`)},validateLicense(e){return Ke("/api/license/validate",{method:"POST",body:JSON.stringify({license_key:e})})},refreshLicense(e){return Ke("/api/license/refresh",{method:"POST",body:JSON.stringify({license_key:e})})},applyLicense(e,n){return Ke("/api/license/apply",{method:"POST",body:JSON.stringify({org_id:e,license_key:n})})},searchIngestion(e,n){return Ke(`/ingestion/search?org_id=${encodeURIComponent(e)}&q=${encodeURIComponent(n)}`)},listImportJobs(e){return Ke(`/ingestion/jobs?org_id=${encodeURIComponent(e)}`)},createImportJob(e,n){return Ke("/ingestion/jobs",{method:"POST",body:JSON.stringify({org_id:e,source:n})})},deleteImportJob(e,n){return Ke(`/ingestion/jobs/${encodeURIComponent(n)}?org_id=${encodeURIComponent(e)}`,{method:"DELETE"})},fetchSamlConfig(e){return Ke(`/auth/saml/config/${encodeURIComponent(e)}`)},saveSamlConfig(e,n){return Ke(`/auth/saml/config/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(n)})},discoverSaml(e){return Ke(`/auth/saml/discover?email=${encodeURIComponent(e)}`)},startSamlLogin(e){return Ke("/auth/saml/login",{method:"POST",body:JSON.stringify(e)})},fetchSamlSession(){return Ke("/auth/saml/session")}},As=mo;function Jt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function h8(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const US=6e4,BS=525600,hl=43200,ip=1440;let p8={};function hT(){return p8}function sp(e){const n=Jt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function Eu(e,n){const r=Jt(e),o=Jt(n),i=r.getTime()-o.getTime();return i<0?-1:i>0?1:i}function pT(e){return h8(e,Date.now())}function m8(e,n){const r=Jt(e),o=Jt(n),i=r.getFullYear()-o.getFullYear(),s=r.getMonth()-o.getMonth();return i*12+s}function mT(e){return n=>{const o=(e?Math[e]:Math.trunc)(n);return o===0?0:o}}function g8(e,n){return+Jt(e)-+Jt(n)}function y8(e){const n=Jt(e);return n.setHours(23,59,59,999),n}function x8(e){const n=Jt(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function v8(e){const n=Jt(e);return+y8(n)==+x8(n)}function w8(e,n){const r=Jt(e),o=Jt(n),i=Eu(r,o),s=Math.abs(m8(r,o));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=Eu(r,o)===-i;v8(Jt(e))&&s===1&&Eu(e,o)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function b8(e,n,r){const o=g8(e,n)/1e3;return mT(r==null?void 0:r.roundingMethod)(o)}const S8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k8=(e,n,r)=>{let o;const i=S8[e];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Bg(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const _8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E8={date:Bg({formats:_8,defaultWidth:"full"}),time:Bg({formats:N8,defaultWidth:"full"}),dateTime:Bg({formats:C8,defaultWidth:"full"})},j8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},T8=(e,n,r,o)=>j8[e];function Uc(e){return(n,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let i;if(o==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(n):n;return i[s]}}const A8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},M8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D8=(e,n)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},L8={ordinalNumber:D8,era:Uc({values:A8,defaultWidth:"wide"}),quarter:Uc({values:P8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uc({values:M8,defaultWidth:"wide"}),day:Uc({values:R8,defaultWidth:"wide"}),dayPeriod:Uc({values:I8,defaultWidth:"wide",formattingValues:O8,defaultFormattingWidth:"wide"})};function Bc(e){return(n,r={})=>{const o=r.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=n.match(i);if(!s)return null;const a=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?z8(l,f=>f.test(a)):$8(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=n.slice(a.length);return{value:u,rest:h}}}function $8(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function z8(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function F8(e){return(n,r={})=>{const o=n.match(e.matchPattern);if(!o)return null;const i=o[0],s=n.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const l=n.slice(i.length);return{value:a,rest:l}}}const U8=/^(\d+)(th|st|nd|rd)?/i,B8=/\d+/i,H8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V8={any:[/^b/i,/^(a|c)/i]},W8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},q8={any:[/1/i,/2/i,/3/i,/4/i]},G8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z8={ordinalNumber:F8({matchPattern:U8,parsePattern:B8,valueCallback:e=>parseInt(e,10)}),era:Bc({matchPatterns:H8,defaultMatchWidth:"wide",parsePatterns:V8,defaultParseWidth:"any"}),quarter:Bc({matchPatterns:W8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bc({matchPatterns:G8,defaultMatchWidth:"wide",parsePatterns:K8,defaultParseWidth:"any"}),day:Bc({matchPatterns:Y8,defaultMatchWidth:"wide",parsePatterns:X8,defaultParseWidth:"any"}),dayPeriod:Bc({matchPatterns:Q8,defaultMatchWidth:"any",parsePatterns:J8,defaultParseWidth:"any"})},gT={code:"en-US",formatDistance:k8,formatLong:E8,formatRelative:T8,localize:L8,match:Z8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e9(e,n,r){const o=hT(),i=(r==null?void 0:r.locale)??o.locale??gT,s=2520,a=Eu(e,n);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=Jt(n),u=Jt(e)):(c=Jt(e),u=Jt(n));const h=b8(u,c),f=(sp(u)-sp(c))/1e3,m=Math.round((h-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,l):h<10?i.formatDistance("lessThanXSeconds",10,l):h<20?i.formatDistance("lessThanXSeconds",20,l):h<40?i.formatDistance("halfAMinute",0,l):h<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<ip){const v=Math.round(m/60);return i.formatDistance("aboutXHours",v,l)}else{if(m<s)return i.formatDistance("xDays",1,l);if(m<hl){const v=Math.round(m/ip);return i.formatDistance("xDays",v,l)}else if(m<hl*2)return p=Math.round(m/hl),i.formatDistance("aboutXMonths",p,l)}if(p=w8(u,c),p<12){const v=Math.round(m/hl);return i.formatDistance("xMonths",v,l)}else{const v=p%12,x=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",x,l):v<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function t9(e,n,r){const o=hT(),i=(r==null?void 0:r.locale)??o.locale??gT,s=Eu(e,n);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let l,c;s>0?(l=Jt(n),c=Jt(e)):(l=Jt(e),c=Jt(n));const u=mT((r==null?void 0:r.roundingMethod)??"round"),h=c.getTime()-l.getTime(),f=h/US,m=sp(c)-sp(l),p=(h-m)/US,v=r==null?void 0:r.unit;let x;if(v?x=v:f<1?x="second":f<60?x="minute":f<ip?x="hour":p<hl?x="day":p<BS?x="month":x="year",x==="second"){const b=u(h/1e3);return i.formatDistance("xSeconds",b,a)}else if(x==="minute"){const b=u(f);return i.formatDistance("xMinutes",b,a)}else if(x==="hour"){const b=u(f/60);return i.formatDistance("xHours",b,a)}else if(x==="day"){const b=u(p/ip);return i.formatDistance("xDays",b,a)}else if(x==="month"){const b=u(p/hl);return b===12&&v!=="month"?i.formatDistance("xYears",1,a):i.formatDistance("xMonths",b,a)}else{const b=u(p/BS);return i.formatDistance("xYears",b,a)}}function yT(e,n){return e9(e,pT(e),n)}function n9(e,n){return t9(e,pT(e),n)}const HS=e=>{let n;const r=new Set,o=(u,h)=>{const f=typeof u=="function"?u(n):u;if(!Object.is(f,n)){const m=n;n=h??(typeof f!="object"||f===null)?f:Object.assign({},n,f),r.forEach(p=>p(n,m))}},i=()=>n,l={setState:o,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=n=e(o,i,l);return l},r9=e=>e?HS(e):HS,o9=e=>e;function i9(e,n=o9){const r=B.useSyncExternalStore(e.subscribe,B.useCallback(()=>n(e.getState()),[e,n]),B.useCallback(()=>n(e.getInitialState()),[e,n]));return B.useDebugValue(r),r}const VS=e=>{const n=r9(e),r=o=>i9(n,o);return Object.assign(r,n),r},dm=e=>e?VS(e):VS,ks=dm(e=>({totalTokens:0,tokensByAgent:{},lastUpdated:null,setUsage:n=>e({totalTokens:Math.max(0,Math.floor(n.total)),tokensByAgent:{...n.byAgent},lastUpdated:new Date().toISOString()}),reset:()=>e({totalTokens:0,tokensByAgent:{},lastUpdated:null})}));console.warn("[supabase] Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY. Auth features will be disabled.");const s9=()=>{throw new Error("Supabase environment variables are not configured.")},_s=s9(),xT=g.createContext(void 0);function a9({children:e}){const[n,r]=g.useState(null),[o,i]=g.useState(null),[s,a]=g.useState(!1),[l,c]=g.useState(!1),u=!s||!l;g.useEffect(()=>{let m=!0;_s.auth.getSession().then(({data:v,error:x})=>{m&&(x?(console.error("[auth] failed to restore session",x),r(null)):r(v.session??null))}).finally(()=>{m&&a(!0)});const{data:{subscription:p}}=_s.auth.onAuthStateChange((v,x)=>{r(x)});return()=>{m=!1,p.unsubscribe()}},[]),g.useEffect(()=>{let m=!1;return Xe.fetchSamlSession().then(p=>{m||i(p.user)}).catch(()=>{m||i(null)}).finally(()=>{m||c(!0)}),()=>{m=!0}},[]);const h=async()=>{await Promise.allSettled([_s.auth.signOut(),fetch(`${As}/auth/saml/logout`,{method:"POST",credentials:"include"})]),r(null),i(null)},f=g.useMemo(()=>({user:o??(n==null?void 0:n.user)??null,session:n,loading:u,signOut:h}),[u,n,o]);return d.jsx(xT.Provider,{value:f,children:e})}function Co(){const e=g.useContext(xT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var l9=g.createContext(void 0);function Od(e){const n=g.useContext(l9);return e||n||"ltr"}var Hg=0;function gw(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WS()),document.body.insertAdjacentElement("beforeend",e[1]??WS()),Hg++,()=>{Hg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Hg--}},[])}function WS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vg="focusScope.autoFocusOnMount",Wg="focusScope.autoFocusOnUnmount",qS={bubbles:!1,cancelable:!0},c9="FocusScope",fm=g.forwardRef((e,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=g.useState(null),u=Qt(i),h=Qt(s),f=g.useRef(null),m=nt(n,x=>c(x)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(o){let x=function(S){if(p.paused||!l)return;const k=S.target;l.contains(k)?f.current=k:Bi(f.current,{select:!0})},b=function(S){if(p.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||Bi(f.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&Bi(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),w.disconnect()}}},[o,l,p.paused]),g.useEffect(()=>{if(l){KS.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Vg,qS);l.addEventListener(Vg,u),l.dispatchEvent(y),y.defaultPrevented||(u9(m9(vT(l)),{select:!0}),document.activeElement===x&&Bi(l))}return()=>{l.removeEventListener(Vg,u),setTimeout(()=>{const y=new CustomEvent(Wg,qS);l.addEventListener(Wg,h),l.dispatchEvent(y),y.defaultPrevented||Bi(x??document.body,{select:!0}),l.removeEventListener(Wg,h),KS.remove(p)},0)}}},[l,u,h,p]);const v=g.useCallback(x=>{if(!r&&!o||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(b&&y){const w=x.currentTarget,[S,k]=d9(w);S&&k?!x.shiftKey&&y===k?(x.preventDefault(),r&&Bi(S,{select:!0})):x.shiftKey&&y===S&&(x.preventDefault(),r&&Bi(k,{select:!0})):y===w&&x.preventDefault()}},[r,o,p.paused]);return d.jsx(Le.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});fm.displayName=c9;function u9(e,{select:n=!1}={}){const r=document.activeElement;for(const o of e)if(Bi(o,{select:n}),document.activeElement!==r)return}function d9(e){const n=vT(e),r=GS(n,e),o=GS(n.reverse(),e);return[r,o]}function vT(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function GS(e,n){for(const r of e)if(!f9(r,{upTo:n}))return r}function f9(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function h9(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&h9(e)&&n&&e.select()}}var KS=p9();function p9(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=YS(e,n),e.unshift(n)},remove(n){var r;e=YS(e,n),(r=e[0])==null||r.resume()}}}function YS(e,n){const r=[...e],o=r.indexOf(n);return o!==-1&&r.splice(o,1),r}function m9(e){return e.filter(n=>n.tagName!=="A")}var qg="rovingFocusGroup.onEntryFocus",g9={bubbles:!1,cancelable:!0},Dd="RovingFocusGroup",[Xx,wT,y9]=Qp(Dd),[x9,hm]=Ir(Dd,[y9]),[v9,w9]=x9(Dd),bT=g.forwardRef((e,n)=>d.jsx(Xx.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Xx.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(b9,{...e,ref:n})})}));bT.displayName=Dd;var b9=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=g.useRef(null),p=nt(n,m),v=Od(s),[x,b]=Ni({prop:a,defaultProp:l??null,onChange:c,caller:Dd}),[y,w]=g.useState(!1),S=Qt(u),k=wT(r),_=g.useRef(!1),[N,C]=g.useState(0);return g.useEffect(()=>{const j=m.current;if(j)return j.addEventListener(qg,S),()=>j.removeEventListener(qg,S)},[S]),d.jsx(v9,{scope:r,orientation:o,dir:v,loop:i,currentTabStopId:x,onItemFocus:g.useCallback(j=>b(j),[b]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:g.useCallback(()=>C(j=>j-1),[]),children:d.jsx(Le.div,{tabIndex:y||N===0?-1:0,"data-orientation":o,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:xe(e.onMouseDown,()=>{_.current=!0}),onFocus:xe(e.onFocus,j=>{const A=!_.current;if(j.target===j.currentTarget&&A&&!y){const E=new CustomEvent(qg,g9);if(j.currentTarget.dispatchEvent(E),!E.defaultPrevented){const I=k().filter(L=>L.focusable),O=I.find(L=>L.active),U=I.find(L=>L.id===x),F=[O,U,...I].filter(Boolean).map(L=>L.ref.current);_T(F,h)}}_.current=!1}),onBlur:xe(e.onBlur,()=>w(!1))})})}),ST="RovingFocusGroupItem",kT=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=wo(),u=s||c,h=w9(ST,r),f=h.currentTabStopId===u,m=wT(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:x}=h;return g.useEffect(()=>{if(o)return p(),()=>v()},[o,p,v]),d.jsx(Xx.ItemSlot,{scope:r,id:u,focusable:o,active:i,children:d.jsx(Le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:n,onMouseDown:xe(e.onMouseDown,b=>{o?h.onItemFocus(u):b.preventDefault()}),onFocus:xe(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:xe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=_9(b,h.orientation,h.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=m().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const k=S.indexOf(b.currentTarget);S=h.loop?N9(S,k+1):S.slice(k+1)}setTimeout(()=>_T(S))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});kT.displayName=ST;var S9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k9(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _9(e,n,r){const o=k9(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return S9[o]}function _T(e,n=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:n}),document.activeElement!==r))return}function N9(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var NT=bT,CT=kT,C9=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Ua=new WeakMap,Tf=new WeakMap,Af={},Gg=0,ET=function(e){return e&&(e.host||ET(e.parentNode))},E9=function(e,n){return n.map(function(r){if(e.contains(r))return r;var o=ET(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},j9=function(e,n,r,o){var i=E9(n,Array.isArray(e)?e:[e]);Af[r]||(Af[r]=new WeakMap);var s=Af[r],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(o),v=p!==null&&p!=="false",x=(Ua.get(m)||0)+1,b=(s.get(m)||0)+1;Ua.set(m,x),s.set(m,b),a.push(m),x===1&&v&&Tf.set(m,!0),b===1&&m.setAttribute(r,"true"),v||m.setAttribute(o,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return h(n),l.clear(),Gg++,function(){a.forEach(function(f){var m=Ua.get(f)-1,p=s.get(f)-1;Ua.set(f,m),s.set(f,p),m||(Tf.has(f)||f.removeAttribute(o),Tf.delete(f)),p||f.removeAttribute(r)}),Gg--,Gg||(Ua=new WeakMap,Ua=new WeakMap,Tf=new WeakMap,Af={})}},yw=function(e,n,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=C9(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),j9(o,i,r,"aria-hidden")):function(){return null}},zo=function(){return zo=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},zo.apply(this,arguments)};function jT(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}function T9(e,n,r){if(r||arguments.length===2)for(var o=0,i=n.length,s;o<i;o++)(s||!(o in n))&&(s||(s=Array.prototype.slice.call(n,0,o)),s[o]=n[o]);return e.concat(s||Array.prototype.slice.call(n))}var fh="right-scroll-bar-position",hh="width-before-scroll-bar",A9="with-scroll-bars-hidden",P9="--removed-body-scroll-bar-size";function Kg(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function M9(e,n){var r=g.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=n,r.facade}var R9=typeof window<"u"?g.useLayoutEffect:g.useEffect,XS=new WeakMap;function I9(e,n){var r=M9(null,function(o){return e.forEach(function(i){return Kg(i,o)})});return R9(function(){var o=XS.get(r);if(o){var i=new Set(o),s=new Set(e),a=r.current;i.forEach(function(l){s.has(l)||Kg(l,null)}),s.forEach(function(l){i.has(l)||Kg(l,a)})}XS.set(r,e)},[e]),r}function O9(e){return e}function D9(e,n){n===void 0&&(n=O9);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=n(s,o);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(o=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){o=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var h=a;a=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),r}}}};return i}function L9(e){e===void 0&&(e={});var n=D9(null);return n.options=zo({async:!0,ssr:!1},e),n}var TT=function(e){var n=e.sideCar,r=jT(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return g.createElement(o,zo({},r))};TT.isSideCarExport=!0;function $9(e,n){return e.useMedium(n),TT}var AT=L9(),Yg=function(){},pm=g.forwardRef(function(e,n){var r=g.useRef(null),o=g.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),i=o[0],s=o[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,x=e.inert,b=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,k=jT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,N=I9([r,n]),C=zo(zo({},k),i);return g.createElement(g.Fragment,null,h&&g.createElement(_,{sideCar:AT,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:S}),a?g.cloneElement(g.Children.only(l),zo(zo({},C),{ref:N})):g.createElement(w,zo({},C,{className:c,ref:N}),l))});pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pm.classNames={fullWidth:hh,zeroRight:fh};var z9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=z9();return n&&e.setAttribute("nonce",n),e}function U9(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function B9(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var H9=function(){var e=0,n=null;return{add:function(r){e==0&&(n=F9())&&(U9(n,r),B9(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},V9=function(){var e=H9();return function(n,r){g.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},PT=function(){var e=V9(),n=function(r){var o=r.styles,i=r.dynamic;return e(o,i),null};return n},W9={left:0,top:0,right:0,gap:0},Xg=function(e){return parseInt(e||"",10)||0},q9=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],o=n[e==="padding"?"paddingTop":"marginTop"],i=n[e==="padding"?"paddingRight":"marginRight"];return[Xg(r),Xg(o),Xg(i)]},G9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W9;var n=q9(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-r+n[2]-n[0])}},K9=PT(),Nl="data-scroll-locked",Y9=function(e,n,r,o){var i=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(A9,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fh,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(hh,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(P9,": ").concat(l,`px;
  }
`)},QS=function(){var e=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(e)?e:0},X9=function(){g.useEffect(function(){return document.body.setAttribute(Nl,(QS()+1).toString()),function(){var e=QS()-1;e<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,e.toString())}},[])},Q9=function(e){var n=e.noRelative,r=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o;X9();var s=g.useMemo(function(){return G9(i)},[i]);return g.createElement(K9,{styles:Y9(s,!n,i,r?"":"!important")})},Qx=!1;if(typeof window<"u")try{var Pf=Object.defineProperty({},"passive",{get:function(){return Qx=!0,!0}});window.addEventListener("test",Pf,Pf),window.removeEventListener("test",Pf,Pf)}catch{Qx=!1}var Ba=Qx?{passive:!1}:!1,J9=function(e){return e.tagName==="TEXTAREA"},MT=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!J9(e)&&r[n]==="visible")},Z9=function(e){return MT(e,"overflowY")},e7=function(e){return MT(e,"overflowX")},JS=function(e,n){var r=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=RT(e,o);if(i){var s=IT(e,o),a=s[1],l=s[2];if(a>l)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},t7=function(e){var n=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[n,r,o]},n7=function(e){var n=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[n,r,o]},RT=function(e,n){return e==="v"?Z9(n):e7(n)},IT=function(e,n){return e==="v"?t7(n):n7(n)},r7=function(e,n){return e==="h"&&n==="rtl"?-1:1},o7=function(e,n,r,o,i){var s=r7(e,window.getComputedStyle(n).direction),a=s*o,l=r.target,c=n.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var p=IT(e,l),v=p[0],x=p[1],b=p[2],y=x-b-s*v;(v||y)&&RT(e,l)&&(f+=y,m+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(n.contains(l)||n===l));return(h&&(Math.abs(f)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(u=!0),u},Mf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ZS=function(e){return[e.deltaX,e.deltaY]},ek=function(e){return e&&"current"in e?e.current:e},i7=function(e,n){return e[0]===n[0]&&e[1]===n[1]},s7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},a7=0,Ha=[];function l7(e){var n=g.useRef([]),r=g.useRef([0,0]),o=g.useRef(),i=g.useState(a7++)[0],s=g.useState(PT)[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=T9([e.lockRef.current],(e.shards||[]).map(ek),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var y=Mf(x),w=r.current,S="deltaX"in x?x.deltaX:w[0]-y[0],k="deltaY"in x?x.deltaY:w[1]-y[1],_,N=x.target,C=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in x&&C==="h"&&N.type==="range")return!1;var j=JS(C,N);if(!j)return!0;if(j?_=C:(_=C==="v"?"h":"v",j=JS(C,N)),!j)return!1;if(!o.current&&"changedTouches"in x&&(S||k)&&(o.current=_),!_)return!0;var A=o.current||_;return o7(A,b,x,A==="h"?S:k,!0)},[]),c=g.useCallback(function(x){var b=x;if(!(!Ha.length||Ha[Ha.length-1]!==s)){var y="deltaY"in b?ZS(b):Mf(b),w=n.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&i7(_.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(ek).filter(Boolean).filter(function(_){return _.contains(b.target)}),k=S.length>0?l(b,S[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(x,b,y,w){var S={name:x,delta:b,target:y,should:w,shadowParent:c7(y)};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(k){return k!==S})},1)},[]),h=g.useCallback(function(x){r.current=Mf(x),o.current=void 0},[]),f=g.useCallback(function(x){u(x.type,ZS(x),x.target,l(x,e.lockRef.current))},[]),m=g.useCallback(function(x){u(x.type,Mf(x),x.target,l(x,e.lockRef.current))},[]);g.useEffect(function(){return Ha.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ba),document.addEventListener("touchmove",c,Ba),document.addEventListener("touchstart",h,Ba),function(){Ha=Ha.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Ba),document.removeEventListener("touchmove",c,Ba),document.removeEventListener("touchstart",h,Ba)}},[]);var p=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(s,{styles:s7(i)}):null,p?g.createElement(Q9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function c7(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const u7=$9(AT,l7);var mm=g.forwardRef(function(e,n){return g.createElement(pm,zo({},e,{ref:n,sideCar:u7}))});mm.classNames=pm.classNames;var Jx=["Enter"," "],d7=["ArrowDown","PageUp","Home"],OT=["ArrowUp","PageDown","End"],f7=[...d7,...OT],h7={ltr:[...Jx,"ArrowRight"],rtl:[...Jx,"ArrowLeft"]},p7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[id,m7,g7]=Qp(Ld),[Oa,DT]=Ir(Ld,[g7,bc,hm]),gm=bc(),LT=hm(),[y7,Da]=Oa(Ld),[x7,$d]=Oa(Ld),$T=e=>{const{__scopeMenu:n,open:r=!1,children:o,dir:i,onOpenChange:s,modal:a=!0}=e,l=gm(n),[c,u]=g.useState(null),h=g.useRef(!1),f=Qt(s),m=Od(i);return g.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),d.jsx(aw,{...l,children:d.jsx(y7,{scope:n,open:r,onOpenChange:f,content:c,onContentChange:u,children:d.jsx(x7,{scope:n,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:a,children:o})})})};$T.displayName=Ld;var v7="MenuAnchor",xw=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e,i=gm(r);return d.jsx(lw,{...i,...o,ref:n})});xw.displayName=v7;var vw="MenuPortal",[w7,zT]=Oa(vw,{forceMount:void 0}),FT=e=>{const{__scopeMenu:n,forceMount:r,children:o,container:i}=e,s=Da(vw,n);return d.jsx(w7,{scope:n,forceMount:r,children:d.jsx(Xn,{present:r||s.open,children:d.jsx(Ad,{asChild:!0,container:i,children:o})})})};FT.displayName=vw;var Qr="MenuContent",[b7,ww]=Oa(Qr),UT=g.forwardRef((e,n)=>{const r=zT(Qr,e.__scopeMenu),{forceMount:o=r.forceMount,...i}=e,s=Da(Qr,e.__scopeMenu),a=$d(Qr,e.__scopeMenu);return d.jsx(id.Provider,{scope:e.__scopeMenu,children:d.jsx(Xn,{present:o||s.open,children:d.jsx(id.Slot,{scope:e.__scopeMenu,children:a.modal?d.jsx(S7,{...i,ref:n}):d.jsx(k7,{...i,ref:n})})})})}),S7=g.forwardRef((e,n)=>{const r=Da(Qr,e.__scopeMenu),o=g.useRef(null),i=nt(n,o);return g.useEffect(()=>{const s=o.current;if(s)return yw(s)},[]),d.jsx(bw,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:xe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),k7=g.forwardRef((e,n)=>{const r=Da(Qr,e.__scopeMenu);return d.jsx(bw,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),_7=ba("MenuContent.ScrollLock"),bw=g.forwardRef((e,n)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...x}=e,b=Da(Qr,r),y=$d(Qr,r),w=gm(r),S=LT(r),k=m7(r),[_,N]=g.useState(null),C=g.useRef(null),j=nt(n,C,b.onContentChange),A=g.useRef(0),E=g.useRef(""),I=g.useRef(0),O=g.useRef(null),U=g.useRef("right"),P=g.useRef(0),F=v?mm:g.Fragment,L=v?{as:_7,allowPinchZoom:!0}:void 0,W=R=>{var Y,ue;const T=E.current+R,D=k().filter(te=>!te.disabled),z=document.activeElement,M=(Y=D.find(te=>te.ref.current===z))==null?void 0:Y.textValue,G=D.map(te=>te.textValue),ee=D7(G,T,M),re=(ue=D.find(te=>te.textValue===ee))==null?void 0:ue.ref.current;(function te(ae){E.current=ae,window.clearTimeout(A.current),ae!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(T),re&&setTimeout(()=>re.focus())};g.useEffect(()=>()=>window.clearTimeout(A.current),[]),gw();const $=g.useCallback(R=>{var D,z;return U.current===((D=O.current)==null?void 0:D.side)&&$7(R,(z=O.current)==null?void 0:z.area)},[]);return d.jsx(b7,{scope:r,searchRef:E,onItemEnter:g.useCallback(R=>{$(R)&&R.preventDefault()},[$]),onItemLeave:g.useCallback(R=>{var T;$(R)||((T=C.current)==null||T.focus(),N(null))},[$]),onTriggerLeave:g.useCallback(R=>{$(R)&&R.preventDefault()},[$]),pointerGraceTimerRef:I,onPointerGraceIntentChange:g.useCallback(R=>{O.current=R},[]),children:d.jsx(F,{...L,children:d.jsx(fm,{asChild:!0,trapped:i,onMountAutoFocus:xe(s,R=>{var T;R.preventDefault(),(T=C.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:d.jsx(gc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:d.jsx(NT,{asChild:!0,...S,dir:y.dir,orientation:"vertical",loop:o,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:xe(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(cw,{role:"menu","aria-orientation":"vertical","data-state":rA(b.open),"data-radix-menu-content":"",dir:y.dir,...w,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,R=>{const D=R.target.closest("[data-radix-menu-content]")===R.currentTarget,z=R.ctrlKey||R.altKey||R.metaKey,M=R.key.length===1;D&&(R.key==="Tab"&&R.preventDefault(),!z&&M&&W(R.key));const G=C.current;if(R.target!==G||!f7.includes(R.key))return;R.preventDefault();const re=k().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);OT.includes(R.key)&&re.reverse(),I7(re)}),onBlur:xe(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:xe(e.onPointerMove,sd(R=>{const T=R.target,D=P.current!==R.clientX;if(R.currentTarget.contains(T)&&D){const z=R.clientX>P.current?"right":"left";U.current=z,P.current=R.clientX}}))})})})})})})});UT.displayName=Qr;var N7="MenuGroup",Sw=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return d.jsx(Le.div,{role:"group",...o,ref:n})});Sw.displayName=N7;var C7="MenuLabel",BT=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return d.jsx(Le.div,{...o,ref:n})});BT.displayName=C7;var ap="MenuItem",tk="menu.itemSelect",ym=g.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:o,...i}=e,s=g.useRef(null),a=$d(ap,e.__scopeMenu),l=ww(ap,e.__scopeMenu),c=nt(n,s),u=g.useRef(!1),h=()=>{const f=s.current;if(!r&&f){const m=new CustomEvent(tk,{bubbles:!0,cancelable:!0});f.addEventListener(tk,p=>o==null?void 0:o(p),{once:!0}),Vv(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return d.jsx(HT,{...i,ref:c,disabled:r,onClick:xe(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:xe(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:xe(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||Jx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ym.displayName=ap;var HT=g.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:o=!1,textValue:i,...s}=e,a=ww(ap,r),l=LT(r),c=g.useRef(null),u=nt(n,c),[h,f]=g.useState(!1),[m,p]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[s.children]),d.jsx(id.ItemSlot,{scope:r,disabled:o,textValue:i??m,children:d.jsx(CT,{asChild:!0,...l,focusable:!o,children:d.jsx(Le.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:u,onPointerMove:xe(e.onPointerMove,sd(v=>{o?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(e.onPointerLeave,sd(v=>a.onItemLeave(v))),onFocus:xe(e.onFocus,()=>f(!0)),onBlur:xe(e.onBlur,()=>f(!1))})})})}),E7="MenuCheckboxItem",VT=g.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:o,...i}=e;return d.jsx(YT,{scope:e.__scopeMenu,checked:r,children:d.jsx(ym,{role:"menuitemcheckbox","aria-checked":lp(r)?"mixed":r,...i,ref:n,"data-state":_w(r),onSelect:xe(i.onSelect,()=>o==null?void 0:o(lp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});VT.displayName=E7;var WT="MenuRadioGroup",[j7,T7]=Oa(WT,{value:void 0,onValueChange:()=>{}}),qT=g.forwardRef((e,n)=>{const{value:r,onValueChange:o,...i}=e,s=Qt(o);return d.jsx(j7,{scope:e.__scopeMenu,value:r,onValueChange:s,children:d.jsx(Sw,{...i,ref:n})})});qT.displayName=WT;var GT="MenuRadioItem",KT=g.forwardRef((e,n)=>{const{value:r,...o}=e,i=T7(GT,e.__scopeMenu),s=r===i.value;return d.jsx(YT,{scope:e.__scopeMenu,checked:s,children:d.jsx(ym,{role:"menuitemradio","aria-checked":s,...o,ref:n,"data-state":_w(s),onSelect:xe(o.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});KT.displayName=GT;var kw="MenuItemIndicator",[YT,A7]=Oa(kw,{checked:!1}),XT=g.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:o,...i}=e,s=A7(kw,r);return d.jsx(Xn,{present:o||lp(s.checked)||s.checked===!0,children:d.jsx(Le.span,{...i,ref:n,"data-state":_w(s.checked)})})});XT.displayName=kw;var P7="MenuSeparator",QT=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return d.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});QT.displayName=P7;var M7="MenuArrow",JT=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e,i=gm(r);return d.jsx(uw,{...i,...o,ref:n})});JT.displayName=M7;var R7="MenuSub",[Zae,ZT]=Oa(R7),lu="MenuSubTrigger",eA=g.forwardRef((e,n)=>{const r=Da(lu,e.__scopeMenu),o=$d(lu,e.__scopeMenu),i=ZT(lu,e.__scopeMenu),s=ww(lu,e.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},h=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),d.jsx(xw,{asChild:!0,...u,children:d.jsx(HT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":rA(r.open),...e,ref:Xp(n,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:xe(e.onPointerMove,sd(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:xe(e.onPointerLeave,sd(f=>{var p,v;h();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(v=r.content)==null?void 0:v.dataset.side,b=x==="right",y=b?-5:5,w=m[b?"left":"right"],S=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:w,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:w,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:xe(e.onKeyDown,f=>{var p;const m=s.searchRef.current!=="";e.disabled||m&&f.key===" "||h7[o.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});eA.displayName=lu;var tA="MenuSubContent",nA=g.forwardRef((e,n)=>{const r=zT(Qr,e.__scopeMenu),{forceMount:o=r.forceMount,...i}=e,s=Da(Qr,e.__scopeMenu),a=$d(Qr,e.__scopeMenu),l=ZT(tA,e.__scopeMenu),c=g.useRef(null),u=nt(n,c);return d.jsx(id.Provider,{scope:e.__scopeMenu,children:d.jsx(Xn,{present:o||s.open,children:d.jsx(id.Slot,{scope:e.__scopeMenu,children:d.jsx(bw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:xe(e.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:xe(e.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:xe(e.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=p7[a.dir].includes(h.key);f&&m&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});nA.displayName=tA;function rA(e){return e?"open":"closed"}function lp(e){return e==="indeterminate"}function _w(e){return lp(e)?"indeterminate":e?"checked":"unchecked"}function I7(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function O7(e,n){return e.map((r,o)=>e[(n+o)%e.length])}function D7(e,n,r){const i=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,s=r?e.indexOf(r):-1;let a=O7(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function L7(e,n){const{x:r,y:o}=e;let i=!1;for(let s=0,a=n.length-1;s<n.length;a=s++){const l=n[s],c=n[a],u=l.x,h=l.y,f=c.x,m=c.y;h>o!=m>o&&r<(f-u)*(o-h)/(m-h)+u&&(i=!i)}return i}function $7(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return L7(r,n)}function sd(e){return n=>n.pointerType==="mouse"?e(n):void 0}var z7=$T,F7=xw,U7=FT,B7=UT,H7=Sw,V7=BT,W7=ym,q7=VT,G7=qT,K7=KT,Y7=XT,X7=QT,Q7=JT,J7=eA,Z7=nA,xm="DropdownMenu",[eU,ele]=Ir(xm,[DT]),Qn=DT(),[tU,oA]=eU(xm),iA=e=>{const{__scopeDropdownMenu:n,children:r,dir:o,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=Qn(n),u=g.useRef(null),[h,f]=Ni({prop:i,defaultProp:s??!1,onChange:a,caller:xm});return d.jsx(tU,{scope:n,triggerId:wo(),triggerRef:u,contentId:wo(),open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:l,children:d.jsx(z7,{...c,open:h,onOpenChange:f,dir:o,modal:l,children:r})})};iA.displayName=xm;var sA="DropdownMenuTrigger",aA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...i}=e,s=oA(sA,r),a=Qn(r);return d.jsx(F7,{asChild:!0,...a,children:d.jsx(Le.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...i,ref:Xp(n,s.triggerRef),onPointerDown:xe(e.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:xe(e.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aA.displayName=sA;var nU="DropdownMenuPortal",lA=e=>{const{__scopeDropdownMenu:n,...r}=e,o=Qn(n);return d.jsx(U7,{...o,...r})};lA.displayName=nU;var cA="DropdownMenuContent",uA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=oA(cA,r),s=Qn(r),a=g.useRef(!1);return d.jsx(B7,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...o,ref:n,onCloseAutoFocus:xe(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:xe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uA.displayName=cA;var rU="DropdownMenuGroup",oU=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(H7,{...i,...o,ref:n})});oU.displayName=rU;var iU="DropdownMenuLabel",dA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(V7,{...i,...o,ref:n})});dA.displayName=iU;var sU="DropdownMenuItem",fA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(W7,{...i,...o,ref:n})});fA.displayName=sU;var aU="DropdownMenuCheckboxItem",hA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(q7,{...i,...o,ref:n})});hA.displayName=aU;var lU="DropdownMenuRadioGroup",cU=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(G7,{...i,...o,ref:n})});cU.displayName=lU;var uU="DropdownMenuRadioItem",pA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(K7,{...i,...o,ref:n})});pA.displayName=uU;var dU="DropdownMenuItemIndicator",mA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(Y7,{...i,...o,ref:n})});mA.displayName=dU;var fU="DropdownMenuSeparator",gA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(X7,{...i,...o,ref:n})});gA.displayName=fU;var hU="DropdownMenuArrow",pU=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(Q7,{...i,...o,ref:n})});pU.displayName=hU;var mU="DropdownMenuSubTrigger",yA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(J7,{...i,...o,ref:n})});yA.displayName=mU;var gU="DropdownMenuSubContent",xA=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,i=Qn(r);return d.jsx(Z7,{...i,...o,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xA.displayName=gU;var yU=iA,xU=aA,vU=lA,vA=uA,wA=dA,bA=fA,SA=hA,kA=pA,_A=mA,NA=gA,CA=yA,EA=xA;const jA=yU,TA=xU,wU=g.forwardRef(({className:e,inset:n,children:r,...o},i)=>d.jsxs(CA,{ref:i,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",n&&"pl-8",e),...o,children:[r,d.jsx(HD,{className:"ml-auto h-4 w-4"})]}));wU.displayName=CA.displayName;const bU=g.forwardRef(({className:e,...n},r)=>d.jsx(EA,{ref:r,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));bU.displayName=EA.displayName;const Nw=g.forwardRef(({className:e,sideOffset:n=4,...r},o)=>d.jsx(vU,{children:d.jsx(vA,{ref:o,sideOffset:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Nw.displayName=vA.displayName;const Cl=g.forwardRef(({className:e,inset:n,...r},o)=>d.jsx(bA,{ref:o,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",e),...r}));Cl.displayName=bA.displayName;const SU=g.forwardRef(({className:e,children:n,checked:r,...o},i)=>d.jsxs(SA,{ref:i,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...o,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(_A,{children:d.jsx(Kv,{className:"h-4 w-4"})})}),n]}));SU.displayName=SA.displayName;const kU=g.forwardRef(({className:e,children:n,...r},o)=>d.jsxs(kA,{ref:o,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(_A,{children:d.jsx(HE,{className:"h-2 w-2 fill-current"})})}),n]}));kU.displayName=kA.displayName;const _U=g.forwardRef(({className:e,inset:n,...r},o)=>d.jsx(wA,{ref:o,className:me("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...r}));_U.displayName=wA.displayName;const NU=g.forwardRef(({className:e,...n},r)=>d.jsx(NA,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...n}));NU.displayName=NA.displayName;const CU=[{name:"Agent Network",href:"/network",icon:sL},{name:"Memory Graph",href:"/memory",icon:UE},{name:"Overview",href:"/",icon:ZD},{name:"Command Console",href:"/console",icon:QE},{name:"Exhausts",href:"/exhausts",icon:LE},{name:"Tool Agents",href:"/multi-agent/runtime",icon:Gh}],EU=[{name:"Integrations",href:"/integrations",icon:FE},{name:"Data Sources",href:"/data-sources",icon:WE},{name:"Settings",href:"/settings",icon:pL},{name:"Billing",href:"/billing",icon:VE},{name:"Help",href:"/help",icon:VD}];function jU(){var h;const{data:e}=Ko({queryKey:["insights","overview"],queryFn:()=>Xe.fetchOverviewInsights(),staleTime:3e4,refetchInterval:3e4}),n=ks(f=>f.totalTokens),r=ks(f=>f.lastUpdated),o=ks(f=>f.setUsage),{user:i,signOut:s}=Co(),a=((h=i==null?void 0:i.user_metadata)==null?void 0:h.org_id)??(i==null?void 0:i.id)??null;g.useEffect(()=>{e!=null&&e.tokenUsage&&o(e.tokenUsage)},[e,o]),Ko({queryKey:["usage","summary",a],queryFn:()=>Xe.fetchUsageSummary(a),enabled:!!a,staleTime:3e4,refetchInterval:6e4,onSuccess:f=>{(f==null?void 0:f.total_tokens)!==void 0&&o({total:Number(f.total_tokens)||0,byAgent:{}})}});const l=g.useMemo(()=>{if(!e)return{agents:"",tasks:"",tokens:n.toLocaleString(),uptime:""};const f=e.uptimeSeconds?n9(Date.now()-e.uptimeSeconds*1e3,{addSuffix:!1}):"";return{agents:`${e.agentCount}`,tasks:`${e.taskCounts.total}`,tokens:n.toLocaleString(),uptime:f}},[e,n]),c=g.useMemo(()=>{var p,v;if(!i)return null;const f=((v=(p=i.user_metadata)==null?void 0:p.full_name)==null?void 0:v.trim())||i.email||"Atlas Operator",m=i.email??"";return{name:f,email:m}},[i]),u=Ia();return d.jsxs("div",{className:"flex h-screen w-64 flex-shrink-0 flex-col bg-sidebar",children:[d.jsx("div",{className:"flex h-16 items-center px-6",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("img",{src:"/icon.png",alt:"Atlas Forge logo",className:"h-8 w-8 rounded-md object-cover shadow-sm"}),d.jsx("span",{className:"text-xl font-semibold text-foreground",children:"Atlas Forge"})]})}),d.jsx("nav",{className:"flex-1 space-y-0.5 px-3 py-4",children:CU.map(f=>d.jsxs(zS,{to:f.href,className:({isActive:m})=>me("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",m?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[d.jsx(f.icon,{className:"h-4 w-4"}),f.name]},f.name))}),d.jsx("div",{className:"p-3 space-y-0.5",children:EU.map(f=>d.jsxs(zS,{to:f.href,className:({isActive:m})=>me("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",m?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[d.jsx(f.icon,{className:"h-4 w-4"}),f.name]},f.name))}),d.jsxs("div",{className:"border-t border-sidebar-border p-4 space-y-3",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Usage"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Agents"}),d.jsx("span",{className:"text-foreground",children:l.agents})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Tasks"}),d.jsx("span",{className:"text-foreground",children:l.tasks})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Tokens"}),d.jsx("span",{className:"text-foreground",children:r?l.tokens:"Tracking"})]})]}),l.uptime&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:["Uptime ",l.uptime]}),c&&d.jsxs(jA,{children:[d.jsx(TA,{asChild:!0,children:d.jsxs("button",{type:"button",className:"mt-4 w-full text-left rounded-xl border border-sidebar-border bg-sidebar-accent/30 p-3 hover:bg-sidebar-accent transition-colors",children:[d.jsx("div",{className:"mt-2 text-sm font-medium text-foreground",children:c.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:c.email})]})}),d.jsxs(Nw,{align:"end",className:"w-48",children:[d.jsx(Cl,{onClick:()=>{u("/settings")},children:"View profile"}),d.jsx(Cl,{className:"text-red-500 focus:text-red-500",onClick:async()=>{await s(),u("/login")},children:"Logout"})]})]})]})]})}const mt=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));mt.displayName="Card";const Wr=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...n}));Wr.displayName="CardHeader";const qr=g.forwardRef(({className:e,...n},r)=>d.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",e),...n}));qr.displayName="CardTitle";const TU=g.forwardRef(({className:e,...n},r)=>d.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...n}));TU.displayName="CardDescription";const In=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{ref:r,className:me("p-6 pt-0",e),...n}));In.displayName="CardContent";const AU=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...n}));AU.displayName="CardFooter";function Fr({className:e,...n}){return d.jsx("div",{className:me("animate-pulse rounded-md bg-muted",e),...n})}function nk(e,n){return n?`${Math.round(e/n*100)}%`:"0%"}function PU(e){const n=e.reduce((r,o)=>{const i=o.role||"Generalist";return r[i]=(r[i]??0)+1,r},{});return Object.entries(n).sort((r,o)=>o[1]-r[1]).slice(0,6).map(([r,o])=>({role:r,count:o}))}function MU(){const{data:e,isLoading:n}=Ko({queryKey:["insights","overview"],queryFn:()=>Xe.fetchOverviewInsights(),refetchInterval:3e4}),{data:r}=Ko({queryKey:["agents"],queryFn:()=>Xe.listAgents(),select:f=>f.items,refetchInterval:2e4}),o=ks(f=>f.totalTokens),i=ks(f=>f.tokensByAgent),s=ks(f=>f.setUsage);g.useEffect(()=>{e!=null&&e.tokenUsage&&s(e.tokenUsage)},[e,s]);const a=g.useMemo(()=>{const f=Object.entries(i??{});if(f.length===0)return null;const[m,p]=f.sort((v,x)=>x[1]-v[1])[0];return{agent:m,tokens:p}},[i]),l=o.toLocaleString(),c=a?`${a.tokens.toLocaleString()} by ${a.agent}`:"Tracking",u=e?[{label:"Active Agents",value:e.agentCount,change:`${e.taskCounts.working} running`,detail:`${e.taskCounts.pending} pending tasks`},{label:"Tasks Completed",value:e.taskCounts.completed,change:`${nk(e.taskCounts.completed,e.taskCounts.total)} of total`,detail:`${e.taskCounts.total} tracked`},{label:"Tasks In Flight",value:e.taskCounts.pending+e.taskCounts.working,change:`${e.taskCounts.pending} pending`,detail:`${e.taskCounts.working} working`},{label:"Memories Stored",value:e.memoryCount,change:`${e.recentTasks.length} recent tasks`,detail:`Uptime ${(e.uptimeSeconds/3600).toFixed(1)}h`}]:[],h=r?PU(r):[];return d.jsxs("div",{className:"p-8 space-y-8 animate-fade-in",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Overview"}),d.jsx("p",{className:"text-muted-foreground",children:"Monitor your AI workforce performance"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsx(mt,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Tokens Used"}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("div",{className:"text-3xl font-bold text-foreground",children:l}),d.jsxs("div",{className:"flex items-center text-xs text-atlas-glow gap-1",children:[d.jsx(aS,{className:"h-3 w-3"}),c]})]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Since runtime start"})]})}),n&&!e?Array.from({length:4}).map((f,m)=>d.jsx(mt,{className:"bg-card border-border p-6",children:d.jsx(Fr,{className:"h-20 w-full"})},`skeleton-${m}`)):u.map(f=>d.jsx(mt,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:f.label}),d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.value}),d.jsxs("div",{className:"flex items-center text-xs text-atlas-success gap-1",children:[d.jsx(aS,{className:"h-3 w-3"}),f.change]})]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:f.detail})]})},f.label))]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx(mt,{className:"bg-card border-border p-6 lg:col-span-2",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Activity"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks processed over the last 7 days"})]}),d.jsxs("div",{className:"h-64 flex items-end justify-between gap-2",children:[((e==null?void 0:e.tasksPerDay)??[]).map(f=>d.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-full bg-atlas-glow rounded-t transition-all hover:bg-atlas-glow/80",style:{height:`${Math.min(100,f.count*4)}%`}}),d.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(f.day).toLocaleDateString(void 0,{weekday:"short"})})]},f.day)),!e&&d.jsx(Fr,{className:"h-full w-full"})]})]})}),d.jsx(mt,{className:"bg-card border-border p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Roles"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Distribution across your network"})]}),d.jsxs("div",{className:"space-y-3",children:[h.length===0&&d.jsx(Fr,{className:"h-40 w-full"}),h.map(f=>d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-foreground",children:f.role}),d.jsx("span",{className:"text-muted-foreground",children:f.count})]}),d.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-atlas-glow rounded-full transition-all",style:{width:`${nk(f.count,(r==null?void 0:r.length)??1)}`}})})]},f.role))]})]})})]}),d.jsx(mt,{className:"bg-card border-border p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Tasks"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest agent activities"})]})}),d.jsxs("div",{className:"space-y-3",children:[!e&&n&&d.jsx(Fr,{className:"h-24 w-full"}),((e==null?void 0:e.recentTasks)??[]).map(f=>d.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-success animate-pulse-glow"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-medium text-foreground",children:f.prompt}),d.jsx("div",{className:"text-xs text-muted-foreground",children:f.agentName})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[d.jsx(HE,{className:"h-2 w-2 fill-current"}),d.jsx("span",{className:"capitalize",children:f.status}),d.jsx(Kh,{className:"h-3 w-3 text-atlas-glow"}),d.jsx("span",{children:yT(new Date(f.createdAt),{addSuffix:!0})})]})]},f.id))]})]})})]})}function jn(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,o;r<e.length;r++)(o=jn(e[r]))!==""&&(n+=(n&&" ")+o);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var AA={exports:{}},PA={},MA={exports:{}},RA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=g;function RU(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var IU=typeof Object.is=="function"?Object.is:RU,OU=Zl.useState,DU=Zl.useEffect,LU=Zl.useLayoutEffect,$U=Zl.useDebugValue;function zU(e,n){var r=n(),o=OU({inst:{value:r,getSnapshot:n}}),i=o[0].inst,s=o[1];return LU(function(){i.value=r,i.getSnapshot=n,Qg(i)&&s({inst:i})},[e,r,n]),DU(function(){return Qg(i)&&s({inst:i}),e(function(){Qg(i)&&s({inst:i})})},[e]),$U(r),r}function Qg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!IU(e,r)}catch{return!0}}function FU(e,n){return n()}var UU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FU:zU;RA.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:UU;MA.exports=RA;var BU=MA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=g,HU=BU;function VU(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var WU=typeof Object.is=="function"?Object.is:VU,qU=HU.useSyncExternalStore,GU=vm.useRef,KU=vm.useEffect,YU=vm.useMemo,XU=vm.useDebugValue;PA.useSyncExternalStoreWithSelector=function(e,n,r,o,i){var s=GU(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=YU(function(){function c(p){if(!u){if(u=!0,h=p,p=o(p),i!==void 0&&a.hasValue){var v=a.value;if(i(v,p))return f=v}return f=p}if(v=f,WU(h,p))return v;var x=o(p);return i!==void 0&&i(v,x)?(h=p,v):(h=p,f=x)}var u=!1,h,f,m=r===void 0?null:r;return[function(){return c(n())},m===null?void 0:function(){return c(m())}]},[n,r,o,i]);var l=qU(e,s[0],s[1]);return KU(function(){a.hasValue=!0,a.value=l},[l]),XU(l),l};AA.exports=PA;var QU=AA.exports;const JU=fc(QU),ZU={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},rk=e=>{let n;const r=new Set,o=(h,f)=>{const m=typeof h=="function"?h(n):h;if(!Object.is(m,n)){const p=n;n=f??(typeof m!="object"||m===null)?m:Object.assign({},n,m),r.forEach(v=>v(n,p))}},i=()=>n,c={setState:o,getState:i,getInitialState:()=>u,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(ZU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=n=e(o,i,c);return c},eB=e=>e?rk(e):rk,{useDebugValue:tB}=B,{useSyncExternalStoreWithSelector:nB}=JU,rB=e=>e;function IA(e,n=rB,r){const o=nB(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return tB(o),o}const ok=(e,n)=>{const r=eB(e),o=(i,s=n)=>IA(r,i,s);return Object.assign(o,r),o},oB=(e,n)=>e?ok(e,n):ok;function mr(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,i]of e)if(!Object.is(i,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var iB={value:()=>{}};function zd(){for(var e=0,n=arguments.length,r={},o;e<n;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new ph(r)}function ph(e){this._=e}function sB(e,n){return e.trim().split(/^|\s+/).map(function(r){var o="",i=r.indexOf(".");if(i>=0&&(o=r.slice(i+1),r=r.slice(0,i)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}ph.prototype=zd.prototype={constructor:ph,on:function(e,n){var r=this._,o=sB(e+"",r),i,s=-1,a=o.length;if(arguments.length<2){for(;++s<a;)if((i=(e=o[s]).type)&&(i=aB(r[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<a;)if(i=(e=o[s]).type)r[i]=ik(r[i],e.name,n);else if(n==null)for(i in r)r[i]=ik(r[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new ph(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var r=new Array(i),o=0,i,s;o<i;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,i=s.length;o<i;++o)s[o].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,s=o.length;i<s;++i)o[i].value.apply(n,r)}};function aB(e,n){for(var r=0,o=e.length,i;r<o;++r)if((i=e[r]).name===n)return i.value}function ik(e,n,r){for(var o=0,i=e.length;o<i;++o)if(e[o].name===n){e[o]=iB,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:n,value:r}),e}var Zx="http://www.w3.org/1999/xhtml";const sk={svg:"http://www.w3.org/2000/svg",xhtml:Zx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wm(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),sk.hasOwnProperty(n)?{space:sk[n],local:e}:e}function lB(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Zx&&n.documentElement.namespaceURI===Zx?n.createElement(e):n.createElementNS(r,e)}}function cB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function OA(e){var n=wm(e);return(n.local?cB:lB)(n)}function uB(){}function Cw(e){return e==null?uB:function(){return this.querySelector(e)}}function dB(e){typeof e!="function"&&(e=Cw(e));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var s=n[i],a=s.length,l=o[i]=new Array(a),c,u,h=0;h<a;++h)(c=s[h])&&(u=e.call(c,c.__data__,h,s))&&("__data__"in c&&(u.__data__=c.__data__),l[h]=u);return new Pr(o,this._parents)}function fB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hB(){return[]}function DA(e){return e==null?hB:function(){return this.querySelectorAll(e)}}function pB(e){return function(){return fB(e.apply(this,arguments))}}function mB(e){typeof e=="function"?e=pB(e):e=DA(e);for(var n=this._groups,r=n.length,o=[],i=[],s=0;s<r;++s)for(var a=n[s],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(o.push(e.call(c,c.__data__,u,a)),i.push(c));return new Pr(o,i)}function LA(e){return function(){return this.matches(e)}}function $A(e){return function(n){return n.matches(e)}}var gB=Array.prototype.find;function yB(e){return function(){return gB.call(this.children,e)}}function xB(){return this.firstElementChild}function vB(e){return this.select(e==null?xB:yB(typeof e=="function"?e:$A(e)))}var wB=Array.prototype.filter;function bB(){return Array.from(this.children)}function SB(e){return function(){return wB.call(this.children,e)}}function kB(e){return this.selectAll(e==null?bB:SB(typeof e=="function"?e:$A(e)))}function _B(e){typeof e!="function"&&(e=LA(e));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var s=n[i],a=s.length,l=o[i]=[],c,u=0;u<a;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Pr(o,this._parents)}function zA(e){return new Array(e.length)}function NB(){return new Pr(this._enter||this._groups.map(zA),this._parents)}function cp(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}cp.prototype={constructor:cp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CB(e){return function(){return e}}function EB(e,n,r,o,i,s){for(var a=0,l,c=n.length,u=s.length;a<u;++a)(l=n[a])?(l.__data__=s[a],o[a]=l):r[a]=new cp(e,s[a]);for(;a<c;++a)(l=n[a])&&(i[a]=l)}function jB(e,n,r,o,i,s,a){var l,c,u=new Map,h=n.length,f=s.length,m=new Array(h),p;for(l=0;l<h;++l)(c=n[l])&&(m[l]=p=a.call(c,c.__data__,l,n)+"",u.has(p)?i[l]=c:u.set(p,c));for(l=0;l<f;++l)p=a.call(e,s[l],l,s)+"",(c=u.get(p))?(o[l]=c,c.__data__=s[l],u.delete(p)):r[l]=new cp(e,s[l]);for(l=0;l<h;++l)(c=n[l])&&u.get(m[l])===c&&(i[l]=c)}function TB(e){return e.__data__}function AB(e,n){if(!arguments.length)return Array.from(this,TB);var r=n?jB:EB,o=this._parents,i=this._groups;typeof e!="function"&&(e=CB(e));for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=o[u],f=i[u],m=f.length,p=PB(e.call(h,h&&h.__data__,u,o)),v=p.length,x=l[u]=new Array(v),b=a[u]=new Array(v),y=c[u]=new Array(m);r(h,f,x,b,y,p,n);for(var w=0,S=0,k,_;w<v;++w)if(k=x[w]){for(w>=S&&(S=w+1);!(_=b[S])&&++S<v;);k._next=_||null}}return a=new Pr(a,o),a._enter=l,a._exit=c,a}function PB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MB(){return new Pr(this._exit||this._groups.map(zA),this._parents)}function RB(e,n,r){var o=this.enter(),i=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),n!=null&&(i=n(i),i&&(i=i.selection())),r==null?s.remove():r(s),o&&i?o.merge(i).order():i}function IB(e){for(var n=e.selection?e.selection():e,r=this._groups,o=n._groups,i=r.length,s=o.length,a=Math.min(i,s),l=new Array(i),c=0;c<a;++c)for(var u=r[c],h=o[c],f=u.length,m=l[c]=new Array(f),p,v=0;v<f;++v)(p=u[v]||h[v])&&(m[v]=p);for(;c<i;++c)l[c]=r[c];return new Pr(l,this._parents)}function OB(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var o=e[n],i=o.length-1,s=o[i],a;--i>=0;)(a=o[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function DB(e){e||(e=LB);function n(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s){for(var a=r[s],l=a.length,c=i[s]=new Array(l),u,h=0;h<l;++h)(u=a[h])&&(c[h]=u);c.sort(n)}return new Pr(i,this._parents).order()}function LB(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function $B(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zB(){return Array.from(this)}function FB(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,s=o.length;i<s;++i){var a=o[i];if(a)return a}return null}function UB(){let e=0;for(const n of this)++e;return e}function BB(){return!this.node()}function HB(e){for(var n=this._groups,r=0,o=n.length;r<o;++r)for(var i=n[r],s=0,a=i.length,l;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function VB(e){return function(){this.removeAttribute(e)}}function WB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qB(e,n){return function(){this.setAttribute(e,n)}}function GB(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function KB(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function YB(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function XB(e,n){var r=wm(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((n==null?r.local?WB:VB:typeof n=="function"?r.local?YB:KB:r.local?GB:qB)(r,n))}function FA(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QB(e){return function(){this.style.removeProperty(e)}}function JB(e,n,r){return function(){this.style.setProperty(e,n,r)}}function ZB(e,n,r){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function eH(e,n,r){return arguments.length>1?this.each((n==null?QB:typeof n=="function"?ZB:JB)(e,n,r??"")):ec(this.node(),e)}function ec(e,n){return e.style.getPropertyValue(n)||FA(e).getComputedStyle(e,null).getPropertyValue(n)}function tH(e){return function(){delete this[e]}}function nH(e,n){return function(){this[e]=n}}function rH(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function oH(e,n){return arguments.length>1?this.each((n==null?tH:typeof n=="function"?rH:nH)(e,n)):this.node()[e]}function UA(e){return e.trim().split(/^|\s+/)}function Ew(e){return e.classList||new BA(e)}function BA(e){this._node=e,this._names=UA(e.getAttribute("class")||"")}BA.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function HA(e,n){for(var r=Ew(e),o=-1,i=n.length;++o<i;)r.add(n[o])}function VA(e,n){for(var r=Ew(e),o=-1,i=n.length;++o<i;)r.remove(n[o])}function iH(e){return function(){HA(this,e)}}function sH(e){return function(){VA(this,e)}}function aH(e,n){return function(){(n.apply(this,arguments)?HA:VA)(this,e)}}function lH(e,n){var r=UA(e+"");if(arguments.length<2){for(var o=Ew(this.node()),i=-1,s=r.length;++i<s;)if(!o.contains(r[i]))return!1;return!0}return this.each((typeof n=="function"?aH:n?iH:sH)(r,n))}function cH(){this.textContent=""}function uH(e){return function(){this.textContent=e}}function dH(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function fH(e){return arguments.length?this.each(e==null?cH:(typeof e=="function"?dH:uH)(e)):this.node().textContent}function hH(){this.innerHTML=""}function pH(e){return function(){this.innerHTML=e}}function mH(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function gH(e){return arguments.length?this.each(e==null?hH:(typeof e=="function"?mH:pH)(e)):this.node().innerHTML}function yH(){this.nextSibling&&this.parentNode.appendChild(this)}function xH(){return this.each(yH)}function vH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wH(){return this.each(vH)}function bH(e){var n=typeof e=="function"?e:OA(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function SH(){return null}function kH(e,n){var r=typeof e=="function"?e:OA(e),o=n==null?SH:typeof n=="function"?n:Cw(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function _H(){var e=this.parentNode;e&&e.removeChild(this)}function NH(){return this.each(_H)}function CH(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function EH(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function jH(e){return this.select(e?EH:CH)}function TH(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AH(e){return function(n){e.call(this,n,this.__data__)}}function PH(e){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");return o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),{type:n,name:r}})}function MH(e){return function(){var n=this.__on;if(n){for(var r=0,o=-1,i=n.length,s;r<i;++r)s=n[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):n[++o]=s;++o?n.length=o:delete this.__on}}}function RH(e,n,r){return function(){var o=this.__on,i,s=AH(n);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=n;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:n,listener:s,options:r},o?o.push(i):this.__on=[i]}}function IH(e,n,r){var o=PH(e+""),i,s=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,h;c<u;++c)for(i=0,h=l[c];i<s;++i)if((a=o[i]).type===h.type&&a.name===h.name)return h.value}return}for(l=n?RH:MH,i=0;i<s;++i)this.each(l(o[i],n,r));return this}function WA(e,n,r){var o=FA(e),i=o.CustomEvent;typeof i=="function"?i=new i(n,r):(i=o.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),e.dispatchEvent(i)}function OH(e,n){return function(){return WA(this,e,n)}}function DH(e,n){return function(){return WA(this,e,n.apply(this,arguments))}}function LH(e,n){return this.each((typeof n=="function"?DH:OH)(e,n))}function*$H(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&(yield a)}var qA=[null];function Pr(e,n){this._groups=e,this._parents=n}function Fd(){return new Pr([[document.documentElement]],qA)}function zH(){return this}Pr.prototype=Fd.prototype={constructor:Pr,select:dB,selectAll:mB,selectChild:vB,selectChildren:kB,filter:_B,data:AB,enter:NB,exit:MB,join:RB,merge:IB,selection:zH,order:OB,sort:DB,call:$B,nodes:zB,node:FB,size:UB,empty:BB,each:HB,attr:XB,style:eH,property:oH,classed:lH,text:fH,html:gH,raise:xH,lower:wH,append:bH,insert:kH,remove:NH,clone:jH,datum:TH,on:IH,dispatch:LH,[Symbol.iterator]:$H};function Vn(e){return typeof e=="string"?new Pr([[document.querySelector(e)]],[document.documentElement]):new Pr([[e]],qA)}function FH(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Ur(e,n){if(e=FH(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[e.clientX-i.left-n.clientLeft,e.clientY-i.top-n.clientTop]}}return[e.pageX,e.pageY]}const UH={passive:!1},ad={capture:!0,passive:!1};function Jg(e){e.stopImmediatePropagation()}function El(e){e.preventDefault(),e.stopImmediatePropagation()}function GA(e){var n=e.document.documentElement,r=Vn(e).on("dragstart.drag",El,ad);"onselectstart"in n?r.on("selectstart.drag",El,ad):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function KA(e,n){var r=e.document.documentElement,o=Vn(e).on("dragstart.drag",null);n&&(o.on("click.drag",El,ad),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Rf=e=>()=>e;function e0(e,{sourceEvent:n,subject:r,target:o,identifier:i,active:s,x:a,y:l,dx:c,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}e0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function BH(e){return!e.ctrlKey&&!e.button}function HH(){return this.parentNode}function VH(e,n){return n??{x:e.x,y:e.y}}function WH(){return navigator.maxTouchPoints||"ontouchstart"in this}function YA(){var e=BH,n=HH,r=VH,o=WH,i={},s=zd("start","drag","end"),a=0,l,c,u,h,f=0;function m(k){k.on("mousedown.drag",p).filter(o).on("touchstart.drag",b).on("touchmove.drag",y,UH).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,_){if(!(h||!e.call(this,k,_))){var N=S(this,n.call(this,k,_),k,_,"mouse");N&&(Vn(k.view).on("mousemove.drag",v,ad).on("mouseup.drag",x,ad),GA(k.view),Jg(k),u=!1,l=k.clientX,c=k.clientY,N("start",k))}}function v(k){if(El(k),!u){var _=k.clientX-l,N=k.clientY-c;u=_*_+N*N>f}i.mouse("drag",k)}function x(k){Vn(k.view).on("mousemove.drag mouseup.drag",null),KA(k.view,u),El(k),i.mouse("end",k)}function b(k,_){if(e.call(this,k,_)){var N=k.changedTouches,C=n.call(this,k,_),j=N.length,A,E;for(A=0;A<j;++A)(E=S(this,C,k,_,N[A].identifier,N[A]))&&(Jg(k),E("start",k,N[A]))}}function y(k){var _=k.changedTouches,N=_.length,C,j;for(C=0;C<N;++C)(j=i[_[C].identifier])&&(El(k),j("drag",k,_[C]))}function w(k){var _=k.changedTouches,N=_.length,C,j;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),C=0;C<N;++C)(j=i[_[C].identifier])&&(Jg(k),j("end",k,_[C]))}function S(k,_,N,C,j,A){var E=s.copy(),I=Ur(A||N,_),O,U,P;if((P=r.call(k,new e0("beforestart",{sourceEvent:N,target:m,identifier:j,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:E}),C))!=null)return O=P.x-I[0]||0,U=P.y-I[1]||0,function F(L,W,$){var R=I,T;switch(L){case"start":i[j]=F,T=a++;break;case"end":delete i[j],--a;case"drag":I=Ur($||W,_),T=a;break}E.call(L,k,new e0(L,{sourceEvent:W,subject:P,target:m,identifier:j,active:T,x:I[0]+O,y:I[1]+U,dx:I[0]-R[0],dy:I[1]-R[1],dispatch:E}),C)}}return m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Rf(!!k),m):e},m.container=function(k){return arguments.length?(n=typeof k=="function"?k:Rf(k),m):n},m.subject=function(k){return arguments.length?(r=typeof k=="function"?k:Rf(k),m):r},m.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:Rf(!!k),m):o},m.on=function(){var k=s.on.apply(s,arguments);return k===s?m:k},m.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,m):Math.sqrt(f)},m}function jw(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function XA(e,n){var r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r}function Ud(){}var ld=.7,up=1/ld,jl="\\s*([+-]?\\d+)\\s*",cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qH=/^#([0-9a-f]{3,8})$/,GH=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),KH=new RegExp(`^rgb\\(${Wo},${Wo},${Wo}\\)$`),YH=new RegExp(`^rgba\\(${jl},${jl},${jl},${cd}\\)$`),XH=new RegExp(`^rgba\\(${Wo},${Wo},${Wo},${cd}\\)$`),QH=new RegExp(`^hsl\\(${cd},${Wo},${Wo}\\)$`),JH=new RegExp(`^hsla\\(${cd},${Wo},${Wo},${cd}\\)$`),ak={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jw(Ud,ud,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:ZH,formatHsl:eV,formatRgb:ck,toString:ck});function lk(){return this.rgb().formatHex()}function ZH(){return this.rgb().formatHex8()}function eV(){return QA(this).formatHsl()}function ck(){return this.rgb().formatRgb()}function ud(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=qH.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?uk(n):r===3?new dr(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?If(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?If(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=GH.exec(e))?new dr(n[1],n[2],n[3],1):(n=KH.exec(e))?new dr(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=YH.exec(e))?If(n[1],n[2],n[3],n[4]):(n=XH.exec(e))?If(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=QH.exec(e))?hk(n[1],n[2]/100,n[3]/100,1):(n=JH.exec(e))?hk(n[1],n[2]/100,n[3]/100,n[4]):ak.hasOwnProperty(e)?uk(ak[e]):e==="transparent"?new dr(NaN,NaN,NaN,0):null}function uk(e){return new dr(e>>16&255,e>>8&255,e&255,1)}function If(e,n,r,o){return o<=0&&(e=n=r=NaN),new dr(e,n,r,o)}function tV(e){return e instanceof Ud||(e=ud(e)),e?(e=e.rgb(),new dr(e.r,e.g,e.b,e.opacity)):new dr}function t0(e,n,r,o){return arguments.length===1?tV(e):new dr(e,n,r,o??1)}function dr(e,n,r,o){this.r=+e,this.g=+n,this.b=+r,this.opacity=+o}jw(dr,t0,XA(Ud,{brighter(e){return e=e==null?up:Math.pow(up,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ld:Math.pow(ld,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dr(ha(this.r),ha(this.g),ha(this.b),dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dk,formatHex:dk,formatHex8:nV,formatRgb:fk,toString:fk}));function dk(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}`}function nV(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}${ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function fk(){const e=dp(this.opacity);return`${e===1?"rgb(":"rgba("}${ha(this.r)}, ${ha(this.g)}, ${ha(this.b)}${e===1?")":`, ${e})`}`}function dp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ha(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ea(e){return e=ha(e),(e<16?"0":"")+e.toString(16)}function hk(e,n,r,o){return o<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new go(e,n,r,o)}function QA(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof Ud||(e=ud(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var n=e.r/255,r=e.g/255,o=e.b/255,i=Math.min(n,r,o),s=Math.max(n,r,o),a=NaN,l=s-i,c=(s+i)/2;return l?(n===s?a=(r-o)/l+(r<o)*6:r===s?a=(o-n)/l+2:a=(n-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new go(a,l,c,e.opacity)}function rV(e,n,r,o){return arguments.length===1?QA(e):new go(e,n,r,o??1)}function go(e,n,r,o){this.h=+e,this.s=+n,this.l=+r,this.opacity=+o}jw(go,rV,XA(Ud,{brighter(e){return e=e==null?up:Math.pow(up,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ld:Math.pow(ld,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,i=2*r-o;return new dr(Zg(e>=240?e-240:e+120,i,o),Zg(e,i,o),Zg(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new go(pk(this.h),Of(this.s),Of(this.l),dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dp(this.opacity);return`${e===1?"hsl(":"hsla("}${pk(this.h)}, ${Of(this.s)*100}%, ${Of(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pk(e){return e=(e||0)%360,e<0?e+360:e}function Of(e){return Math.max(0,Math.min(1,e||0))}function Zg(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const JA=e=>()=>e;function oV(e,n){return function(r){return e+r*n}}function iV(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(o){return Math.pow(e+o*n,r)}}function sV(e){return(e=+e)==1?ZA:function(n,r){return r-n?iV(n,r,e):JA(isNaN(n)?r:n)}}function ZA(e,n){var r=n-e;return r?oV(e,r):JA(isNaN(e)?n:e)}const mk=function e(n){var r=sV(n);function o(i,s){var a=r((i=t0(i)).r,(s=t0(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=ZA(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return o.gamma=e,o}(1);function qi(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var n0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ey=new RegExp(n0.source,"g");function aV(e){return function(){return e}}function lV(e){return function(n){return e(n)+""}}function cV(e,n){var r=n0.lastIndex=ey.lastIndex=0,o,i,s,a=-1,l=[],c=[];for(e=e+"",n=n+"";(o=n0.exec(e))&&(i=ey.exec(n));)(s=i.index)>r&&(s=n.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:qi(o,i)})),r=ey.lastIndex;return r<n.length&&(s=n.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?lV(c[0].x):aV(n):(n=c.length,function(u){for(var h=0,f;h<n;++h)l[(f=c[h]).i]=f.x(u);return l.join("")})}var gk=180/Math.PI,r0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eP(e,n,r,o,i,s){var a,l,c;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(c=e*r+n*o)&&(r-=e*c,o-=n*c),(l=Math.sqrt(r*r+o*o))&&(r/=l,o/=l,c/=l),e*o<n*r&&(e=-e,n=-n,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(n,e)*gk,skewX:Math.atan(c)*gk,scaleX:a,scaleY:l}}var Df;function uV(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?r0:eP(n.a,n.b,n.c,n.d,n.e,n.f)}function dV(e){return e==null||(Df||(Df=document.createElementNS("http://www.w3.org/2000/svg","g")),Df.setAttribute("transform",e),!(e=Df.transform.baseVal.consolidate()))?r0:(e=e.matrix,eP(e.a,e.b,e.c,e.d,e.e,e.f))}function tP(e,n,r,o){function i(u){return u.length?u.pop()+" ":""}function s(u,h,f,m,p,v){if(u!==f||h!==m){var x=p.push("translate(",null,n,null,r);v.push({i:x-4,x:qi(u,f)},{i:x-2,x:qi(h,m)})}else(f||m)&&p.push("translate("+f+n+m+r)}function a(u,h,f,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:f.push(i(f)+"rotate(",null,o)-2,x:qi(u,h)})):h&&f.push(i(f)+"rotate("+h+o)}function l(u,h,f,m){u!==h?m.push({i:f.push(i(f)+"skewX(",null,o)-2,x:qi(u,h)}):h&&f.push(i(f)+"skewX("+h+o)}function c(u,h,f,m,p,v){if(u!==f||h!==m){var x=p.push(i(p)+"scale(",null,",",null,")");v.push({i:x-4,x:qi(u,f)},{i:x-2,x:qi(h,m)})}else(f!==1||m!==1)&&p.push(i(p)+"scale("+f+","+m+")")}return function(u,h){var f=[],m=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,f,m),a(u.rotate,h.rotate,f,m),l(u.skewX,h.skewX,f,m),c(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,m),u=h=null,function(p){for(var v=-1,x=m.length,b;++v<x;)f[(b=m[v]).i]=b.x(p);return f.join("")}}}var fV=tP(uV,"px, ","px)","deg)"),hV=tP(dV,", ",")",")"),pV=1e-12;function yk(e){return((e=Math.exp(e))+1/e)/2}function mV(e){return((e=Math.exp(e))-1/e)/2}function gV(e){return((e=Math.exp(2*e))-1)/(e+1)}const yV=function e(n,r,o){function i(s,a){var l=s[0],c=s[1],u=s[2],h=a[0],f=a[1],m=a[2],p=h-l,v=f-c,x=p*p+v*v,b,y;if(x<pV)y=Math.log(m/u)/n,b=function(C){return[l+C*p,c+C*v,u*Math.exp(n*C*y)]};else{var w=Math.sqrt(x),S=(m*m-u*u+o*x)/(2*u*r*w),k=(m*m-u*u-o*x)/(2*m*r*w),_=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(k*k+1)-k);y=(N-_)/n,b=function(C){var j=C*y,A=yk(_),E=u/(r*w)*(A*gV(n*j+_)-mV(_));return[l+E*p,c+E*v,u*A/yk(n*j+_)]}}return b.duration=y*1e3*n/Math.SQRT2,b}return i.rho=function(s){var a=Math.max(.001,+s),l=a*a,c=l*l;return e(a,l,c)},i}(Math.SQRT2,2,4);var tc=0,cu=0,Hc=0,nP=1e3,fp,uu,hp=0,Na=0,bm=0,dd=typeof performance=="object"&&performance.now?performance:Date,rP=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tw(){return Na||(rP(xV),Na=dd.now()+bm)}function xV(){Na=0}function pp(){this._call=this._time=this._next=null}pp.prototype=Aw.prototype={constructor:pp,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Tw():+r)+(n==null?0:+n),!this._next&&uu!==this&&(uu?uu._next=this:fp=this,uu=this),this._call=e,this._time=r,o0()},stop:function(){this._call&&(this._call=null,this._time=1/0,o0())}};function Aw(e,n,r){var o=new pp;return o.restart(e,n,r),o}function vV(){Tw(),++tc;for(var e=fp,n;e;)(n=Na-e._time)>=0&&e._call.call(void 0,n),e=e._next;--tc}function xk(){Na=(hp=dd.now())+bm,tc=cu=0;try{vV()}finally{tc=0,bV(),Na=0}}function wV(){var e=dd.now(),n=e-hp;n>nP&&(bm-=n,hp=e)}function bV(){for(var e,n=fp,r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:fp=r);uu=e,o0(o)}function o0(e){if(!tc){cu&&(cu=clearTimeout(cu));var n=e-Na;n>24?(e<1/0&&(cu=setTimeout(xk,e-dd.now()-bm)),Hc&&(Hc=clearInterval(Hc))):(Hc||(hp=dd.now(),Hc=setInterval(wV,nP)),tc=1,rP(xk))}}function vk(e,n,r){var o=new pp;return n=n==null?0:+n,o.restart(i=>{o.stop(),e(i+n)},n,r),o}var SV=zd("start","end","cancel","interrupt"),kV=[],oP=0,wk=1,i0=2,mh=3,bk=4,s0=5,gh=6;function Sm(e,n,r,o,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;_V(e,r,{name:n,index:o,group:i,on:SV,tween:kV,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:oP})}function Pw(e,n){var r=Eo(e,n);if(r.state>oP)throw new Error("too late; already scheduled");return r}function Jo(e,n){var r=Eo(e,n);if(r.state>mh)throw new Error("too late; already running");return r}function Eo(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function _V(e,n,r){var o=e.__transition,i;o[n]=r,r.timer=Aw(s,0,r.time);function s(u){r.state=wk,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var h,f,m,p;if(r.state!==wk)return c();for(h in o)if(p=o[h],p.name===r.name){if(p.state===mh)return vk(a);p.state===bk?(p.state=gh,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[h]):+h<n&&(p.state=gh,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[h])}if(vk(function(){r.state===mh&&(r.state=bk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=i0,r.on.call("start",e,e.__data__,r.index,r.group),r.state===i0){for(r.state=mh,i=new Array(m=r.tween.length),h=0,f=-1;h<m;++h)(p=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function l(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=s0,1),f=-1,m=i.length;++f<m;)i[f].call(e,h);r.state===s0&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=gh,r.timer.stop(),delete o[n];for(var u in o)return;delete e.__transition}}function yh(e,n){var r=e.__transition,o,i,s=!0,a;if(r){n=n==null?null:n+"";for(a in r){if((o=r[a]).name!==n){s=!1;continue}i=o.state>i0&&o.state<s0,o.state=gh,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[a]}s&&delete e.__transition}}function NV(e){return this.each(function(){yh(this,e)})}function CV(e,n){var r,o;return function(){var i=Jo(this,e),s=i.tween;if(s!==r){o=r=s;for(var a=0,l=o.length;a<l;++a)if(o[a].name===n){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function EV(e,n,r){var o,i;if(typeof r!="function")throw new Error;return function(){var s=Jo(this,e),a=s.tween;if(a!==o){i=(o=a).slice();for(var l={name:n,value:r},c=0,u=i.length;c<u;++c)if(i[c].name===n){i[c]=l;break}c===u&&i.push(l)}s.tween=i}}function jV(e,n){var r=this._id;if(e+="",arguments.length<2){for(var o=Eo(this.node(),r).tween,i=0,s=o.length,a;i<s;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((n==null?CV:EV)(r,e,n))}function Mw(e,n,r){var o=e._id;return e.each(function(){var i=Jo(this,o);(i.value||(i.value={}))[n]=r.apply(this,arguments)}),function(i){return Eo(i,o).value[n]}}function iP(e,n){var r;return(typeof n=="number"?qi:n instanceof ud?mk:(r=ud(n))?(n=r,mk):cV)(e,n)}function TV(e){return function(){this.removeAttribute(e)}}function AV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PV(e,n,r){var o,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===o?s:s=n(o=a,r)}}function MV(e,n,r){var o,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?s:s=n(o=a,r)}}function RV(e,n,r){var o,i,s;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=l+"",a===c?null:a===o&&c===i?s:(i=c,s=n(o=a,l)))}}function IV(e,n,r){var o,i,s;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=l+"",a===c?null:a===o&&c===i?s:(i=c,s=n(o=a,l)))}}function OV(e,n){var r=wm(e),o=r==="transform"?hV:iP;return this.attrTween(e,typeof n=="function"?(r.local?IV:RV)(r,o,Mw(this,"attr."+e,n)):n==null?(r.local?AV:TV)(r):(r.local?MV:PV)(r,o,n))}function DV(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function LV(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function $V(e,n){var r,o;function i(){var s=n.apply(this,arguments);return s!==o&&(r=(o=s)&&LV(e,s)),r}return i._value=n,i}function zV(e,n){var r,o;function i(){var s=n.apply(this,arguments);return s!==o&&(r=(o=s)&&DV(e,s)),r}return i._value=n,i}function FV(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var o=wm(e);return this.tween(r,(o.local?$V:zV)(o,n))}function UV(e,n){return function(){Pw(this,e).delay=+n.apply(this,arguments)}}function BV(e,n){return n=+n,function(){Pw(this,e).delay=n}}function HV(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?UV:BV)(n,e)):Eo(this.node(),n).delay}function VV(e,n){return function(){Jo(this,e).duration=+n.apply(this,arguments)}}function WV(e,n){return n=+n,function(){Jo(this,e).duration=n}}function qV(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?VV:WV)(n,e)):Eo(this.node(),n).duration}function GV(e,n){if(typeof n!="function")throw new Error;return function(){Jo(this,e).ease=n}}function KV(e){var n=this._id;return arguments.length?this.each(GV(n,e)):Eo(this.node(),n).ease}function YV(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Jo(this,e).ease=r}}function XV(e){if(typeof e!="function")throw new Error;return this.each(YV(this._id,e))}function QV(e){typeof e!="function"&&(e=LA(e));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var s=n[i],a=s.length,l=o[i]=[],c,u=0;u<a;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new ji(o,this._parents,this._name,this._id)}function JV(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c=n[l],u=r[l],h=c.length,f=a[l]=new Array(h),m,p=0;p<h;++p)(m=c[p]||u[p])&&(f[p]=m);for(;l<o;++l)a[l]=n[l];return new ji(a,this._parents,this._name,this._id)}function ZV(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function eW(e,n,r){var o,i,s=ZV(n)?Pw:Jo;return function(){var a=s(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(n,r),a.on=i}}function tW(e,n){var r=this._id;return arguments.length<2?Eo(this.node(),r).on.on(e):this.each(eW(r,e,n))}function nW(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function rW(){return this.on("end.remove",nW(this._id))}function oW(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Cw(e));for(var o=this._groups,i=o.length,s=new Array(i),a=0;a<i;++a)for(var l=o[a],c=l.length,u=s[a]=new Array(c),h,f,m=0;m<c;++m)(h=l[m])&&(f=e.call(h,h.__data__,m,l))&&("__data__"in h&&(f.__data__=h.__data__),u[m]=f,Sm(u[m],n,r,m,u,Eo(h,r)));return new ji(s,this._parents,n,r)}function iW(e){var n=this._name,r=this._id;typeof e!="function"&&(e=DA(e));for(var o=this._groups,i=o.length,s=[],a=[],l=0;l<i;++l)for(var c=o[l],u=c.length,h,f=0;f<u;++f)if(h=c[f]){for(var m=e.call(h,h.__data__,f,c),p,v=Eo(h,r),x=0,b=m.length;x<b;++x)(p=m[x])&&Sm(p,n,r,x,m,v);s.push(m),a.push(h)}return new ji(s,a,n,r)}var sW=Fd.prototype.constructor;function aW(){return new sW(this._groups,this._parents)}function lW(e,n){var r,o,i;return function(){var s=ec(this,e),a=(this.style.removeProperty(e),ec(this,e));return s===a?null:s===r&&a===o?i:i=n(r=s,o=a)}}function sP(e){return function(){this.style.removeProperty(e)}}function cW(e,n,r){var o,i=r+"",s;return function(){var a=ec(this,e);return a===i?null:a===o?s:s=n(o=a,r)}}function uW(e,n,r){var o,i,s;return function(){var a=ec(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),ec(this,e))),a===c?null:a===o&&c===i?s:(i=c,s=n(o=a,l))}}function dW(e,n){var r,o,i,s="style."+n,a="end."+s,l;return function(){var c=Jo(this,e),u=c.on,h=c.value[s]==null?l||(l=sP(n)):void 0;(u!==r||i!==h)&&(o=(r=u).copy()).on(a,i=h),c.on=o}}function fW(e,n,r){var o=(e+="")=="transform"?fV:iP;return n==null?this.styleTween(e,lW(e,o)).on("end.style."+e,sP(e)):typeof n=="function"?this.styleTween(e,uW(e,o,Mw(this,"style."+e,n))).each(dW(this._id,e)):this.styleTween(e,cW(e,o,n),r).on("end.style."+e,null)}function hW(e,n,r){return function(o){this.style.setProperty(e,n.call(this,o),r)}}function pW(e,n,r){var o,i;function s(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&hW(e,a,r)),o}return s._value=n,s}function mW(e,n,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,pW(e,n,r??""))}function gW(e){return function(){this.textContent=e}}function yW(e){return function(){var n=e(this);this.textContent=n??""}}function xW(e){return this.tween("text",typeof e=="function"?yW(Mw(this,"text",e)):gW(e==null?"":e+""))}function vW(e){return function(n){this.textContent=e.call(this,n)}}function wW(e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&vW(i)),n}return o._value=e,o}function bW(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,wW(e))}function SW(){for(var e=this._name,n=this._id,r=aP(),o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var h=Eo(c,n);Sm(c,e,r,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ji(o,this._parents,e,r)}function kW(){var e,n,r=this,o=r._id,i=r.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--i===0&&s()}};r.each(function(){var u=Jo(this,o),h=u.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(c)),u.on=n}),i===0&&s()})}var _W=0;function ji(e,n,r,o){this._groups=e,this._parents=n,this._name=r,this._id=o}function aP(){return++_W}var oi=Fd.prototype;ji.prototype={constructor:ji,select:oW,selectAll:iW,selectChild:oi.selectChild,selectChildren:oi.selectChildren,filter:QV,merge:JV,selection:aW,transition:SW,call:oi.call,nodes:oi.nodes,node:oi.node,size:oi.size,empty:oi.empty,each:oi.each,on:tW,attr:OV,attrTween:FV,style:fW,styleTween:mW,text:xW,textTween:bW,remove:rW,tween:jV,delay:HV,duration:qV,ease:KV,easeVarying:XV,end:kW,[Symbol.iterator]:oi[Symbol.iterator]};function NW(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var CW={time:null,delay:0,duration:250,ease:NW};function EW(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function jW(e){var n,r;e instanceof ji?(n=e._id,e=e._name):(n=aP(),(r=CW).time=Tw(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,s=0;s<i;++s)for(var a=o[s],l=a.length,c,u=0;u<l;++u)(c=a[u])&&Sm(c,e,n,u,a,r||EW(c,n));return new ji(o,this._parents,e,n)}Fd.prototype.interrupt=NV;Fd.prototype.transition=jW;const Lf=e=>()=>e;function TW(e,{sourceEvent:n,target:r,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function yi(e,n,r){this.k=e,this.x=n,this.y=r}yi.prototype={constructor:yi,scale:function(e){return e===1?this:new yi(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new yi(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qo=new yi(1,0,0);Ro.prototype=yi.prototype;function Ro(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qo;return e.__zoom}function ty(e){e.stopImmediatePropagation()}function Vc(e){e.preventDefault(),e.stopImmediatePropagation()}function AW(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function PW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Sk(){return this.__zoom||qo}function MW(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function RW(){return navigator.maxTouchPoints||"ontouchstart"in this}function IW(e,n,r){var o=e.invertX(n[0][0])-r[0][0],i=e.invertX(n[1][0])-r[1][0],s=e.invertY(n[0][1])-r[0][1],a=e.invertY(n[1][1])-r[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Rw(){var e=AW,n=PW,r=IW,o=MW,i=RW,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=yV,u=zd("start","zoom","end"),h,f,m,p=500,v=150,x=0,b=10;function y(P){P.property("__zoom",Sk).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(P,F,L,W){var $=P.selection?P.selection():P;$.property("__zoom",Sk),P!==$?_(P,F,L,W):$.interrupt().each(function(){N(this,arguments).event(W).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},y.scaleBy=function(P,F,L,W){y.scaleTo(P,function(){var $=this.__zoom.k,R=typeof F=="function"?F.apply(this,arguments):F;return $*R},L,W)},y.scaleTo=function(P,F,L,W){y.transform(P,function(){var $=n.apply(this,arguments),R=this.__zoom,T=L==null?k($):typeof L=="function"?L.apply(this,arguments):L,D=R.invert(T),z=typeof F=="function"?F.apply(this,arguments):F;return r(S(w(R,z),T,D),$,a)},L,W)},y.translateBy=function(P,F,L,W){y.transform(P,function(){return r(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof L=="function"?L.apply(this,arguments):L),n.apply(this,arguments),a)},null,W)},y.translateTo=function(P,F,L,W,$){y.transform(P,function(){var R=n.apply(this,arguments),T=this.__zoom,D=W==null?k(R):typeof W=="function"?W.apply(this,arguments):W;return r(qo.translate(D[0],D[1]).scale(T.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof L=="function"?-L.apply(this,arguments):-L),R,a)},W,$)};function w(P,F){return F=Math.max(s[0],Math.min(s[1],F)),F===P.k?P:new yi(F,P.x,P.y)}function S(P,F,L){var W=F[0]-L[0]*P.k,$=F[1]-L[1]*P.k;return W===P.x&&$===P.y?P:new yi(P.k,W,$)}function k(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function _(P,F,L,W){P.on("start.zoom",function(){N(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(W).end()}).tween("zoom",function(){var $=this,R=arguments,T=N($,R).event(W),D=n.apply($,R),z=L==null?k(D):typeof L=="function"?L.apply($,R):L,M=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),G=$.__zoom,ee=typeof F=="function"?F.apply($,R):F,re=c(G.invert(z).concat(M/G.k),ee.invert(z).concat(M/ee.k));return function(Y){if(Y===1)Y=ee;else{var ue=re(Y),te=M/ue[2];Y=new yi(te,z[0]-ue[0]*te,z[1]-ue[1]*te)}T.zoom(null,Y)}})}function N(P,F,L){return!L&&P.__zooming||new C(P,F)}function C(P,F){this.that=P,this.args=F,this.active=0,this.sourceEvent=null,this.extent=n.apply(P,F),this.taps=0}C.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,F){return this.mouse&&P!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var F=Vn(this.that).datum();u.call(P,this.that,new TW(P,{sourceEvent:this.sourceEvent,target:y,type:P,transform:this.that.__zoom,dispatch:u}),F)}};function j(P,...F){if(!e.apply(this,arguments))return;var L=N(this,F).event(P),W=this.__zoom,$=Math.max(s[0],Math.min(s[1],W.k*Math.pow(2,o.apply(this,arguments)))),R=Ur(P);if(L.wheel)(L.mouse[0][0]!==R[0]||L.mouse[0][1]!==R[1])&&(L.mouse[1]=W.invert(L.mouse[0]=R)),clearTimeout(L.wheel);else{if(W.k===$)return;L.mouse=[R,W.invert(R)],yh(this),L.start()}Vc(P),L.wheel=setTimeout(T,v),L.zoom("mouse",r(S(w(W,$),L.mouse[0],L.mouse[1]),L.extent,a));function T(){L.wheel=null,L.end()}}function A(P,...F){if(m||!e.apply(this,arguments))return;var L=P.currentTarget,W=N(this,F,!0).event(P),$=Vn(P.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",M,!0),R=Ur(P,L),T=P.clientX,D=P.clientY;GA(P.view),ty(P),W.mouse=[R,this.__zoom.invert(R)],yh(this),W.start();function z(G){if(Vc(G),!W.moved){var ee=G.clientX-T,re=G.clientY-D;W.moved=ee*ee+re*re>x}W.event(G).zoom("mouse",r(S(W.that.__zoom,W.mouse[0]=Ur(G,L),W.mouse[1]),W.extent,a))}function M(G){$.on("mousemove.zoom mouseup.zoom",null),KA(G.view,W.moved),Vc(G),W.event(G).end()}}function E(P,...F){if(e.apply(this,arguments)){var L=this.__zoom,W=Ur(P.changedTouches?P.changedTouches[0]:P,this),$=L.invert(W),R=L.k*(P.shiftKey?.5:2),T=r(S(w(L,R),W,$),n.apply(this,F),a);Vc(P),l>0?Vn(this).transition().duration(l).call(_,T,W,P):Vn(this).call(y.transform,T,W,P)}}function I(P,...F){if(e.apply(this,arguments)){var L=P.touches,W=L.length,$=N(this,F,P.changedTouches.length===W).event(P),R,T,D,z;for(ty(P),T=0;T<W;++T)D=L[T],z=Ur(D,this),z=[z,this.__zoom.invert(z),D.identifier],$.touch0?!$.touch1&&$.touch0[2]!==z[2]&&($.touch1=z,$.taps=0):($.touch0=z,R=!0,$.taps=1+!!h);h&&(h=clearTimeout(h)),R&&($.taps<2&&(f=z[0],h=setTimeout(function(){h=null},p)),yh(this),$.start())}}function O(P,...F){if(this.__zooming){var L=N(this,F).event(P),W=P.changedTouches,$=W.length,R,T,D,z;for(Vc(P),R=0;R<$;++R)T=W[R],D=Ur(T,this),L.touch0&&L.touch0[2]===T.identifier?L.touch0[0]=D:L.touch1&&L.touch1[2]===T.identifier&&(L.touch1[0]=D);if(T=L.that.__zoom,L.touch1){var M=L.touch0[0],G=L.touch0[1],ee=L.touch1[0],re=L.touch1[1],Y=(Y=ee[0]-M[0])*Y+(Y=ee[1]-M[1])*Y,ue=(ue=re[0]-G[0])*ue+(ue=re[1]-G[1])*ue;T=w(T,Math.sqrt(Y/ue)),D=[(M[0]+ee[0])/2,(M[1]+ee[1])/2],z=[(G[0]+re[0])/2,(G[1]+re[1])/2]}else if(L.touch0)D=L.touch0[0],z=L.touch0[1];else return;L.zoom("touch",r(S(T,D,z),L.extent,a))}}function U(P,...F){if(this.__zooming){var L=N(this,F).event(P),W=P.changedTouches,$=W.length,R,T;for(ty(P),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),R=0;R<$;++R)T=W[R],L.touch0&&L.touch0[2]===T.identifier?delete L.touch0:L.touch1&&L.touch1[2]===T.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(T=Ur(T,this),Math.hypot(f[0]-T[0],f[1]-T[1])<b)){var D=Vn(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return y.wheelDelta=function(P){return arguments.length?(o=typeof P=="function"?P:Lf(+P),y):o},y.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Lf(!!P),y):e},y.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:Lf(!!P),y):i},y.extent=function(P){return arguments.length?(n=typeof P=="function"?P:Lf([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),y):n},y.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],y):[s[0],s[1]]},y.translateExtent=function(P){return arguments.length?(a[0][0]=+P[0][0],a[1][0]=+P[1][0],a[0][1]=+P[0][1],a[1][1]=+P[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(P){return arguments.length?(r=P,y):r},y.duration=function(P){return arguments.length?(l=+P,y):l},y.interpolate=function(P){return arguments.length?(c=P,y):c},y.on=function(){var P=u.on.apply(u,arguments);return P===u?y:P},y.clickDistance=function(P){return arguments.length?(x=(P=+P)*P,y):Math.sqrt(x)},y.tapDistance=function(P){return arguments.length?(b=+P,y):b},y}const km=g.createContext(null),OW=km.Provider,Ti={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,n)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},lP=Ti.error001();function Tt(e,n){const r=g.useContext(km);if(r===null)throw new Error(lP);return IA(r,e,n)}const gn=()=>{const e=g.useContext(km);if(e===null)throw new Error(lP);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},DW=e=>e.userSelectionActive?"none":"all";function Iw({position:e,children:n,className:r,style:o,...i}){const s=Tt(DW),a=`${e}`.split("-");return B.createElement("div",{className:jn(["react-flow__panel",r,...a]),style:{...o,pointerEvents:s},...i},n)}function LW({proOptions:e,position:n="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(Iw,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const $W=({x:e,y:n,label:r,labelStyle:o={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...h})=>{const f=g.useRef(null),[m,p]=g.useState({x:0,y:0,width:0,height:0}),v=jn(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(f.current){const x=f.current.getBBox();p({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),typeof r>"u"||!r?null:B.createElement("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...h},i&&B.createElement("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),B.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:o},r),c)};var zW=g.memo($W);const Ow=e=>({width:e.offsetWidth,height:e.offsetHeight}),nc=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),Dw=(e={x:0,y:0},n)=>({x:nc(e.x,n[0][0],n[1][0]),y:nc(e.y,n[0][1],n[1][1])}),kk=(e,n,r)=>e<n?nc(Math.abs(e-n),1,50)/50:e>r?-nc(Math.abs(e-r),1,50)/50:0,cP=(e,n)=>{const r=kk(e.x,35,n.width-35)*20,o=kk(e.y,35,n.height-35)*20;return[r,o]},uP=e=>{var n;return((n=e.getRootNode)==null?void 0:n.call(e))||(window==null?void 0:window.document)},dP=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),fd=({x:e,y:n,width:r,height:o})=>({x:e,y:n,x2:e+r,y2:n+o}),fP=({x:e,y:n,x2:r,y2:o})=>({x:e,y:n,width:r-e,height:o-n}),_k=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),FW=(e,n)=>fP(dP(fd(e),fd(n))),a0=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),o=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*o)},UW=e=>Yr(e.width)&&Yr(e.height)&&Yr(e.x)&&Yr(e.y),Yr=e=>!isNaN(e)&&isFinite(e),Gt=Symbol.for("internals"),hP=["Enter"," ","Escape"],BW=(e,n)=>{},HW=e=>"nativeEvent"in e;function l0(e){var i,s;const n=HW(e)?e.nativeEvent:e,r=((s=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const pP=e=>"clientX"in e,Ns=(e,n)=>{var s,a;const r=pP(e),o=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=r?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:o-((n==null?void 0:n.left)??0),y:i-((n==null?void 0:n.top)??0)}},mp=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Bd=({id:e,path:n,labelX:r,labelY:o,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:f,markerStart:m,interactionWidth:p=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),p&&B.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Yr(r)&&Yr(o)?B.createElement(zW,{x:r,y:o,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);Bd.displayName="BaseEdge";function Wc(e,n,r){return r===void 0?r:o=>{const i=n().edges.find(s=>s.id===e);i&&r(o,{...i})}}function mP({sourceX:e,sourceY:n,targetX:r,targetY:o}){const i=Math.abs(r-e)/2,s=r<e?r+i:r-i,a=Math.abs(o-n)/2,l=o<n?o+a:o-a;return[s,l,i,a]}function gP({sourceX:e,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:l}){const c=e*.125+i*.375+a*.375+r*.125,u=n*.125+s*.375+l*.375+o*.125,h=Math.abs(c-e),f=Math.abs(u-n);return[c,u,h,f]}var Ca;(function(e){e.Strict="strict",e.Loose="loose"})(Ca||(Ca={}));var ta;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ta||(ta={}));var hd;(function(e){e.Partial="partial",e.Full="full"})(hd||(hd={}));var Xi;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Xi||(Xi={}));var gp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gp||(gp={}));var Re;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Re||(Re={}));function Nk({pos:e,x1:n,y1:r,x2:o,y2:i}){return e===Re.Left||e===Re.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function yP({sourceX:e,sourceY:n,sourcePosition:r=Re.Bottom,targetX:o,targetY:i,targetPosition:s=Re.Top}){const[a,l]=Nk({pos:r,x1:e,y1:n,x2:o,y2:i}),[c,u]=Nk({pos:s,x1:o,y1:i,x2:e,y2:n}),[h,f,m,p]=gP({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${n} C${a},${l} ${c},${u} ${o},${i}`,h,f,m,p]}const Lw=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:i=Re.Bottom,targetPosition:s=Re.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:x})=>{const[b,y,w]=yP({sourceX:e,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s});return B.createElement(Bd,{path:b,labelX:y,labelY:w,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:x})});Lw.displayName="SimpleBezierEdge";const Ck={[Re.Left]:{x:-1,y:0},[Re.Right]:{x:1,y:0},[Re.Top]:{x:0,y:-1},[Re.Bottom]:{x:0,y:1}},VW=({source:e,sourcePosition:n=Re.Bottom,target:r})=>n===Re.Left||n===Re.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Ek=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function WW({source:e,sourcePosition:n=Re.Bottom,target:r,targetPosition:o=Re.Top,center:i,offset:s}){const a=Ck[n],l=Ck[o],c={x:e.x+a.x*s,y:e.y+a.y*s},u={x:r.x+l.x*s,y:r.y+l.y*s},h=VW({source:c,sourcePosition:n,target:u}),f=h.x!==0?"x":"y",m=h[f];let p=[],v,x;const b={x:0,y:0},y={x:0,y:0},[w,S,k,_]=mP({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[f]*l[f]===-1){v=i.x??w,x=i.y??S;const C=[{x:v,y:c.y},{x:v,y:u.y}],j=[{x:c.x,y:x},{x:u.x,y:x}];a[f]===m?p=f==="x"?C:j:p=f==="x"?j:C}else{const C=[{x:c.x,y:u.y}],j=[{x:u.x,y:c.y}];if(f==="x"?p=a.x===m?j:C:p=a.y===m?C:j,n===o){const U=Math.abs(e[f]-r[f]);if(U<=s){const P=Math.min(s-1,s-U);a[f]===m?b[f]=(c[f]>e[f]?-1:1)*P:y[f]=(u[f]>r[f]?-1:1)*P}}if(n!==o){const U=f==="x"?"y":"x",P=a[f]===l[U],F=c[U]>u[U],L=c[U]<u[U];(a[f]===1&&(!P&&F||P&&L)||a[f]!==1&&(!P&&L||P&&F))&&(p=f==="x"?C:j)}const A={x:c.x+b.x,y:c.y+b.y},E={x:u.x+y.x,y:u.y+y.y},I=Math.max(Math.abs(A.x-p[0].x),Math.abs(E.x-p[0].x)),O=Math.max(Math.abs(A.y-p[0].y),Math.abs(E.y-p[0].y));I>=O?(v=(A.x+E.x)/2,x=p[0].y):(v=p[0].x,x=(A.y+E.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...p,{x:u.x+y.x,y:u.y+y.y},r],v,x,k,_]}function qW(e,n,r,o){const i=Math.min(Ek(e,n)/2,Ek(n,r)/2,o),{x:s,y:a}=n;if(e.x===s&&s===r.x||e.y===a&&a===r.y)return`L${s} ${a}`;if(e.y===a){const u=e.x<r.x?-1:1,h=e.y<r.y?1:-1;return`L ${s+i*u},${a}Q ${s},${a} ${s},${a+i*h}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${a+i*c}Q ${s},${a} ${s+i*l},${a}`}function c0({sourceX:e,sourceY:n,sourcePosition:r=Re.Bottom,targetX:o,targetY:i,targetPosition:s=Re.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}){const[h,f,m,p,v]=WW({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:l,y:c},offset:u});return[h.reduce((b,y,w)=>{let S="";return w>0&&w<h.length-1?S=qW(h[w-1],y,h[w+1],a):S=`${w===0?"M":"L"}${y.x} ${y.y}`,b+=S,b},""),f,m,p,v]}const _m=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:h,sourcePosition:f=Re.Bottom,targetPosition:m=Re.Top,markerEnd:p,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[y,w,S]=c0({sourceX:e,sourceY:n,sourcePosition:f,targetX:r,targetY:o,targetPosition:m,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return B.createElement(Bd,{path:y,labelX:w,labelY:S,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:p,markerStart:v,interactionWidth:b})});_m.displayName="SmoothStepEdge";const $w=g.memo(e=>{var n;return B.createElement(_m,{...e,pathOptions:g.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(n=e.pathOptions)==null?void 0:n.offset])})});$w.displayName="StepEdge";function GW({sourceX:e,sourceY:n,targetX:r,targetY:o}){const[i,s,a,l]=mP({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,i,s,a,l]}const zw=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:f,markerStart:m,interactionWidth:p})=>{const[v,x,b]=GW({sourceX:e,sourceY:n,targetX:r,targetY:o});return B.createElement(Bd,{path:v,labelX:x,labelY:b,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:f,markerStart:m,interactionWidth:p})});zw.displayName="StraightEdge";function $f(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function jk({pos:e,x1:n,y1:r,x2:o,y2:i,c:s}){switch(e){case Re.Left:return[n-$f(n-o,s),r];case Re.Right:return[n+$f(o-n,s),r];case Re.Top:return[n,r-$f(r-i,s)];case Re.Bottom:return[n,r+$f(i-r,s)]}}function xP({sourceX:e,sourceY:n,sourcePosition:r=Re.Bottom,targetX:o,targetY:i,targetPosition:s=Re.Top,curvature:a=.25}){const[l,c]=jk({pos:r,x1:e,y1:n,x2:o,y2:i,c:a}),[u,h]=jk({pos:s,x1:o,y1:i,x2:e,y2:n,c:a}),[f,m,p,v]=gP({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:h});return[`M${e},${n} C${l},${c} ${u},${h} ${o},${i}`,f,m,p,v]}const yp=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:i=Re.Bottom,targetPosition:s=Re.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,pathOptions:x,interactionWidth:b})=>{const[y,w,S]=xP({sourceX:e,sourceY:n,sourcePosition:i,targetX:r,targetY:o,targetPosition:s,curvature:x==null?void 0:x.curvature});return B.createElement(Bd,{path:y,labelX:w,labelY:S,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:b})});yp.displayName="BezierEdge";const Fw=g.createContext(null),KW=Fw.Provider;Fw.Consumer;const YW=()=>g.useContext(Fw),XW=e=>"id"in e&&"source"in e&&"target"in e,QW=({source:e,sourceHandle:n,target:r,targetHandle:o})=>`reactflow__edge-${e}${n||""}-${r}${o||""}`,u0=(e,n)=>typeof e>"u"?"":typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,JW=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),ZW=(e,n)=>{if(!e.source||!e.target)return n;let r;return XW(e)?r={...e}:r={...e,id:QW(e)},JW(r,n)?n:n.concat(r)},d0=({x:e,y:n},[r,o,i],s,[a,l])=>{const c={x:(e-r)/i,y:(n-o)/i};return s?{x:a*Math.round(c.x/a),y:l*Math.round(c.y/l)}:c},vP=({x:e,y:n},[r,o,i])=>({x:e*i+r,y:n*i+o}),pa=(e,n=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*n[0],o=(e.height??0)*n[1],i={x:e.position.x-r,y:e.position.y-o};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-o}:i}},Nm=(e,n=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((o,i)=>{const{x:s,y:a}=pa(i,n).positionAbsolute;return dP(o,fd({x:s,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fP(r)},wP=(e,n,[r,o,i]=[0,0,1],s=!1,a=!1,l=[0,0])=>{const c={x:(n.x-r)/i,y:(n.y-o)/i,width:n.width/i,height:n.height/i},u=[];return e.forEach(h=>{const{width:f,height:m,selectable:p=!0,hidden:v=!1}=h;if(a&&!p||v)return!1;const{positionAbsolute:x}=pa(h,l),b={x:x.x,y:x.y,width:f||0,height:m||0},y=a0(c,b),w=typeof f>"u"||typeof m>"u"||f===null||m===null,S=s&&y>0,k=(f||0)*(m||0);(w||S||y>=k||h.dragging)&&u.push(h)}),u},bP=(e,n)=>{const r=e.map(o=>o.id);return n.filter(o=>r.includes(o.source)||r.includes(o.target))},SP=(e,n,r,o,i,s=.1)=>{const a=n/(e.width*(1+s)),l=r/(e.height*(1+s)),c=Math.min(a,l),u=nc(c,o,i),h=e.x+e.width/2,f=e.y+e.height/2,m=n/2-h*u,p=r/2-f*u;return{x:m,y:p,zoom:u}},Gs=(e,n=0)=>e.transition().duration(n);function Tk(e,n,r,o){return(n[r]||[]).reduce((i,s)=>{var a,l;return`${e.id}-${s.id}-${r}`!==o&&i.push({id:s.id||null,type:r,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+s.x+s.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+s.y+s.height/2}),i},[])}function eq(e,n,r,o,i,s){const{x:a,y:l}=Ns(e),u=n.elementsFromPoint(a,l).find(v=>v.classList.contains("react-flow__handle"));if(u){const v=u.getAttribute("data-nodeid");if(v){const x=Uw(void 0,u),b=u.getAttribute("data-handleid"),y=s({nodeId:v,id:b,type:x});if(y){const w=i.find(S=>S.nodeId===v&&S.type===x&&S.id===b);return{handle:{id:b,type:x,nodeId:v,x:(w==null?void 0:w.x)||r.x,y:(w==null?void 0:w.y)||r.y},validHandleResult:y}}}}let h=[],f=1/0;if(i.forEach(v=>{const x=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);if(x<=o){const b=s(v);x<=f&&(x<f?h=[{handle:v,validHandleResult:b}]:x===f&&h.push({handle:v,validHandleResult:b}),f=x)}}),!h.length)return{handle:null,validHandleResult:kP()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:v})=>v.isValid),p=h.some(({handle:v})=>v.type==="target");return h.find(({handle:v,validHandleResult:x})=>p?v.type==="target":m?x.isValid:!0)||h[0]}const tq={source:null,target:null,sourceHandle:null,targetHandle:null},kP=()=>({handleDomNode:null,isValid:!1,connection:tq,endHandle:null});function _P(e,n,r,o,i,s,a){const l=i==="target",c=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...kP(),handleDomNode:c};if(c){const h=Uw(void 0,c),f=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),v=c.classList.contains("connectableend"),x={source:l?f:r,sourceHandle:l?m:o,target:l?r:f,targetHandle:l?o:m};u.connection=x,p&&v&&(n===Ca.Strict?l&&h==="source"||!l&&h==="target":f!==r||m!==o)&&(u.endHandle={nodeId:f,handleId:m,type:h},u.isValid=s(x))}return u}function nq({nodes:e,nodeId:n,handleId:r,handleType:o}){return e.reduce((i,s)=>{if(s[Gt]){const{handleBounds:a}=s[Gt];let l=[],c=[];a&&(l=Tk(s,a,"source",`${n}-${r}-${o}`),c=Tk(s,a,"target",`${n}-${r}-${o}`)),i.push(...l,...c)}return i},[])}function Uw(e,n){return e||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function ny(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function rq(e,n){let r=null;return n?r="valid":e&&!n&&(r="invalid"),r}function NP({event:e,handleId:n,nodeId:r,onConnect:o,isTarget:i,getState:s,setState:a,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const h=uP(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:p,connectionRadius:v,onConnectStart:x,panBy:b,getNodes:y,cancelConnection:w}=s();let S=0,k;const{x:_,y:N}=Ns(e),C=h==null?void 0:h.elementFromPoint(_,N),j=Uw(c,C),A=m==null?void 0:m.getBoundingClientRect();if(!A||!j)return;let E,I=Ns(e,A),O=!1,U=null,P=!1,F=null;const L=nq({nodes:y(),nodeId:r,handleId:n,handleType:j}),W=()=>{if(!p)return;const[T,D]=cP(I,A);b({x:T,y:D}),S=requestAnimationFrame(W)};a({connectionPosition:I,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:j,connectionStartHandle:{nodeId:r,handleId:n,type:j},connectionEndHandle:null}),x==null||x(e,{nodeId:r,handleId:n,handleType:j});function $(T){const{transform:D}=s();I=Ns(T,A);const{handle:z,validHandleResult:M}=eq(T,h,d0(I,D,!1,[1,1]),v,L,G=>_P(G,f,r,n,i?"target":"source",l,h));if(k=z,O||(W(),O=!0),F=M.handleDomNode,U=M.connection,P=M.isValid,a({connectionPosition:k&&P?vP({x:k.x,y:k.y},D):I,connectionStatus:rq(!!k,P),connectionEndHandle:M.endHandle}),!k&&!P&&!F)return ny(E);U.source!==U.target&&F&&(ny(E),E=F,F.classList.add("connecting","react-flow__handle-connecting"),F.classList.toggle("valid",P),F.classList.toggle("react-flow__handle-valid",P))}function R(T){var D,z;(k||F)&&U&&P&&(o==null||o(U)),(z=(D=s()).onConnectEnd)==null||z.call(D,T),c&&(u==null||u(T)),ny(E),w(),cancelAnimationFrame(S),O=!1,P=!1,U=null,F=null,h.removeEventListener("mousemove",$),h.removeEventListener("mouseup",R),h.removeEventListener("touchmove",$),h.removeEventListener("touchend",R)}h.addEventListener("mousemove",$),h.addEventListener("mouseup",R),h.addEventListener("touchmove",$),h.addEventListener("touchend",R)}const Ak=()=>!0,oq=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),iq=(e,n,r)=>o=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:a}=o;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===n&&(i==null?void 0:i.type)===r||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===n&&(s==null?void 0:s.type)===r,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===n&&(a==null?void 0:a.type)===r}},CP=g.forwardRef(({type:e="source",position:n=Re.Top,isValidConnection:r,isConnectable:o=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:l,children:c,className:u,onMouseDown:h,onTouchStart:f,...m},p)=>{var A,E;const v=a||null,x=e==="target",b=gn(),y=YW(),{connectOnClick:w,noPanClassName:S}=Tt(oq,mr),{connecting:k,clickConnecting:_}=Tt(iq(y,v,e),mr);y||(E=(A=b.getState()).onError)==null||E.call(A,"010",Ti.error010());const N=I=>{const{defaultEdgeOptions:O,onConnect:U,hasDefaultEdges:P}=b.getState(),F={...O,...I};if(P){const{edges:L,setEdges:W}=b.getState();W(ZW(F,L))}U==null||U(F),l==null||l(F)},C=I=>{if(!y)return;const O=pP(I);i&&(O&&I.button===0||!O)&&NP({event:I,handleId:v,nodeId:y,onConnect:N,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:r||b.getState().isValidConnection||Ak}),O?h==null||h(I):f==null||f(I)},j=I=>{const{onClickConnectStart:O,onClickConnectEnd:U,connectionClickStartHandle:P,connectionMode:F,isValidConnection:L}=b.getState();if(!y||!P&&!i)return;if(!P){O==null||O(I,{nodeId:y,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:v}});return}const W=uP(I.target),$=r||L||Ak,{connection:R,isValid:T}=_P({nodeId:y,id:v,type:e},F,P.nodeId,P.handleId||null,P.type,$,W);T&&N(R),U==null||U(I),b.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":v,"data-nodeid":y,"data-handlepos":n,"data-id":`${y}-${v}-${e}`,className:jn(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",S,u,{source:!x,target:x,connectable:o,connectablestart:i,connectableend:s,connecting:_,connectionindicator:o&&(i&&!k||s&&k)}]),onMouseDown:C,onTouchStart:C,onClick:w?j:void 0,ref:p,...m},c)});CP.displayName="Handle";var Ps=g.memo(CP);const EP=({data:e,isConnectable:n,targetPosition:r=Re.Top,sourcePosition:o=Re.Bottom})=>B.createElement(B.Fragment,null,B.createElement(Ps,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label,B.createElement(Ps,{type:"source",position:o,isConnectable:n}));EP.displayName="DefaultNode";var f0=g.memo(EP);const jP=({data:e,isConnectable:n,sourcePosition:r=Re.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement(Ps,{type:"source",position:r,isConnectable:n}));jP.displayName="InputNode";var TP=g.memo(jP);const AP=({data:e,isConnectable:n,targetPosition:r=Re.Top})=>B.createElement(B.Fragment,null,B.createElement(Ps,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label);AP.displayName="OutputNode";var PP=g.memo(AP);const Bw=()=>null;Bw.displayName="GroupNode";const sq=e=>({selectedNodes:e.getNodes().filter(n=>n.selected),selectedEdges:e.edges.filter(n=>n.selected).map(n=>({...n}))}),zf=e=>e.id;function aq(e,n){return mr(e.selectedNodes.map(zf),n.selectedNodes.map(zf))&&mr(e.selectedEdges.map(zf),n.selectedEdges.map(zf))}const MP=g.memo(({onSelectionChange:e})=>{const n=gn(),{selectedNodes:r,selectedEdges:o}=Tt(sq,aq);return g.useEffect(()=>{const i={nodes:r,edges:o};e==null||e(i),n.getState().onSelectionChange.forEach(s=>s(i))},[r,o,e]),null});MP.displayName="SelectionListener";const lq=e=>!!e.onSelectionChange;function cq({onSelectionChange:e}){const n=Tt(lq);return e||n?B.createElement(MP,{onSelectionChange:e}):null}const uq=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Va(e,n){g.useEffect(()=>{typeof e<"u"&&n(e)},[e])}function it(e,n,r){g.useEffect(()=>{typeof n<"u"&&r({[e]:n})},[n])}const dq=({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:i,onConnectStart:s,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:h,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:v,minZoom:x,maxZoom:b,nodeExtent:y,onNodesChange:w,onEdgesChange:S,elementsSelectable:k,connectionMode:_,snapGrid:N,snapToGrid:C,translateExtent:j,connectOnClick:A,defaultEdgeOptions:E,fitView:I,fitViewOptions:O,onNodesDelete:U,onEdgesDelete:P,onNodeDrag:F,onNodeDragStart:L,onNodeDragStop:W,onSelectionDrag:$,onSelectionDragStart:R,onSelectionDragStop:T,noPanClassName:D,nodeOrigin:z,rfId:M,autoPanOnConnect:G,autoPanOnNodeDrag:ee,onError:re,connectionRadius:Y,isValidConnection:ue,nodeDragThreshold:te})=>{const{setNodes:ae,setEdges:le,setDefaultNodesAndEdges:Se,setMinZoom:Be,setMaxZoom:ye,setTranslateExtent:se,setNodeExtent:Ee,reset:Pe}=Tt(uq,mr),ie=gn();return g.useEffect(()=>{const $e=o==null?void 0:o.map(Ye=>({...Ye,...E}));return Se(r,$e),()=>{Pe()}},[]),it("defaultEdgeOptions",E,ie.setState),it("connectionMode",_,ie.setState),it("onConnect",i,ie.setState),it("onConnectStart",s,ie.setState),it("onConnectEnd",a,ie.setState),it("onClickConnectStart",l,ie.setState),it("onClickConnectEnd",c,ie.setState),it("nodesDraggable",u,ie.setState),it("nodesConnectable",h,ie.setState),it("nodesFocusable",f,ie.setState),it("edgesFocusable",m,ie.setState),it("edgesUpdatable",p,ie.setState),it("elementsSelectable",k,ie.setState),it("elevateNodesOnSelect",v,ie.setState),it("snapToGrid",C,ie.setState),it("snapGrid",N,ie.setState),it("onNodesChange",w,ie.setState),it("onEdgesChange",S,ie.setState),it("connectOnClick",A,ie.setState),it("fitViewOnInit",I,ie.setState),it("fitViewOnInitOptions",O,ie.setState),it("onNodesDelete",U,ie.setState),it("onEdgesDelete",P,ie.setState),it("onNodeDrag",F,ie.setState),it("onNodeDragStart",L,ie.setState),it("onNodeDragStop",W,ie.setState),it("onSelectionDrag",$,ie.setState),it("onSelectionDragStart",R,ie.setState),it("onSelectionDragStop",T,ie.setState),it("noPanClassName",D,ie.setState),it("nodeOrigin",z,ie.setState),it("rfId",M,ie.setState),it("autoPanOnConnect",G,ie.setState),it("autoPanOnNodeDrag",ee,ie.setState),it("onError",re,ie.setState),it("connectionRadius",Y,ie.setState),it("isValidConnection",ue,ie.setState),it("nodeDragThreshold",te,ie.setState),Va(e,ae),Va(n,le),Va(x,Be),Va(b,ye),Va(j,se),Va(y,Ee),null},Pk={display:"none"},fq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RP="react-flow__node-desc",IP="react-flow__edge-desc",hq="react-flow__aria-live",pq=e=>e.ariaLiveMessage;function mq({rfId:e}){const n=Tt(pq);return B.createElement("div",{id:`${hq}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:fq},n)}function gq({rfId:e,disableKeyboardA11y:n}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${RP}-${e}`,style:Pk},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${IP}-${e}`,style:Pk},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&B.createElement(mq,{rfId:e}))}var pd=(e=null,n={actInsideInputWithModifier:!0})=>{const[r,o]=g.useState(!1),i=g.useRef(!1),s=g.useRef(new Set([])),[a,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),h=u.reduce((f,m)=>f.concat(...m),[]);return[u,h]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(n==null?void 0:n.target)||c;if(e!==null){const h=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!n.actInsideInputWithModifier)&&l0(p))return!1;const x=Rk(p.code,l);s.current.add(p[x]),Mk(a,s.current,!1)&&(p.preventDefault(),o(!0))},f=p=>{if((!i.current||i.current&&!n.actInsideInputWithModifier)&&l0(p))return!1;const x=Rk(p.code,l);Mk(a,s.current,!0)?(o(!1),s.current.clear()):s.current.delete(p[x]),p.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),o(!1)};return u==null||u.addEventListener("keydown",h),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",h),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,o]),r};function Mk(e,n,r){return e.filter(o=>r||o.length===n.size).some(o=>o.every(i=>n.has(i)))}function Rk(e,n){return n.includes(e)?"code":"key"}function OP(e,n,r,o){var l,c;const i=e.parentNode||e.parentId;if(!i)return r;const s=n.get(i),a=pa(s,o);return OP(s,n,{x:(r.x??0)+a.x,y:(r.y??0)+a.y,z:(((l=s[Gt])==null?void 0:l.z)??0)>(r.z??0)?((c=s[Gt])==null?void 0:c.z)??0:r.z??0},o)}function DP(e,n,r){e.forEach(o=>{var s;const i=o.parentNode||o.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||r!=null&&r[o.id]){const{x:a,y:l,z:c}=OP(o,e,{...o.position,z:((s=o[Gt])==null?void 0:s.z)??0},n);o.positionAbsolute={x:a,y:l},o[Gt].z=c,r!=null&&r[o.id]&&(o[Gt].isParent=!0)}})}function ry(e,n,r,o){const i=new Map,s={},a=o?1e3:0;return e.forEach(l=>{var p;const c=(Yr(l.zIndex)?l.zIndex:0)+(l.selected?a:0),u=n.get(l.id),h={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(s[f]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(h,Gt,{enumerable:!1,value:{handleBounds:m||(p=u==null?void 0:u[Gt])==null?void 0:p.handleBounds,z:c}}),i.set(l.id,h)}),DP(i,r,s),i}function LP(e,n={}){const{getNodes:r,width:o,height:i,minZoom:s,maxZoom:a,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:h,nodeOrigin:f}=e(),m=n.initial&&!u&&h;if(l&&c&&(m||!n.initial)){const v=r().filter(b=>{var w;const y=n.includeHiddenNodes?b.width&&b.height:!b.hidden;return(w=n.nodes)!=null&&w.length?y&&n.nodes.some(S=>S.id===b.id):y}),x=v.every(b=>b.width&&b.height);if(v.length>0&&x){const b=Nm(v,f),{x:y,y:w,zoom:S}=SP(b,o,i,n.minZoom??s,n.maxZoom??a,n.padding??.1),k=qo.translate(y,w).scale(S);return typeof n.duration=="number"&&n.duration>0?l.transform(Gs(c,n.duration),k):l.transform(c,k),!0}}return!1}function yq(e,n){return e.forEach(r=>{const o=n.get(r.id);o&&n.set(o.id,{...o,[Gt]:o[Gt],selected:r.selected})}),new Map(n)}function xq(e,n){return n.map(r=>{const o=e.find(i=>i.id===r.id);return o&&(r.selected=o.selected),r})}function Ff({changedNodes:e,changedEdges:n,get:r,set:o}){const{nodeInternals:i,edges:s,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&o({nodeInternals:yq(e,i)}),a==null||a(e)),n!=null&&n.length&&(u&&o({edges:xq(n,s)}),l==null||l(n))}const Wa=()=>{},vq={zoomIn:Wa,zoomOut:Wa,zoomTo:Wa,getZoom:()=>1,setViewport:Wa,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Wa,fitBounds:Wa,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},wq=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),bq=()=>{const e=gn(),{d3Zoom:n,d3Selection:r}=Tt(wq,mr);return g.useMemo(()=>r&&n?{zoomIn:i=>n.scaleBy(Gs(r,i==null?void 0:i.duration),1.2),zoomOut:i=>n.scaleBy(Gs(r,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>n.scaleTo(Gs(r,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[a,l,c]=e.getState().transform,u=qo.translate(i.x??a,i.y??l).scale(i.zoom??c);n.transform(Gs(r,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,a]=e.getState().transform;return{x:i,y:s,zoom:a}},fitView:i=>LP(e.getState,i),setCenter:(i,s,a)=>{const{width:l,height:c,maxZoom:u}=e.getState(),h=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,f=l/2-i*h,m=c/2-s*h,p=qo.translate(f,m).scale(h);n.transform(Gs(r,a==null?void 0:a.duration),p)},fitBounds:(i,s)=>{const{width:a,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:h,y:f,zoom:m}=SP(i,a,l,c,u,(s==null?void 0:s.padding)??.1),p=qo.translate(h,f).scale(m);n.transform(Gs(r,s==null?void 0:s.duration),p)},project:i=>{const{transform:s,snapToGrid:a,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),d0(i,s,a,l)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:a,snapGrid:l,domNode:c}=e.getState();if(!c)return i;const{x:u,y:h}=c.getBoundingClientRect(),f={x:i.x-u,y:i.y-h};return d0(f,s,a,l)},flowToScreenPosition:i=>{const{transform:s,domNode:a}=e.getState();if(!a)return i;const{x:l,y:c}=a.getBoundingClientRect(),u=vP(i,s);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:vq,[n,r])};function Hw(){const e=bq(),n=gn(),r=g.useCallback(()=>n.getState().getNodes().map(x=>({...x})),[]),o=g.useCallback(x=>n.getState().nodeInternals.get(x),[]),i=g.useCallback(()=>{const{edges:x=[]}=n.getState();return x.map(b=>({...b}))},[]),s=g.useCallback(x=>{const{edges:b=[]}=n.getState();return b.find(y=>y.id===x)},[]),a=g.useCallback(x=>{const{getNodes:b,setNodes:y,hasDefaultNodes:w,onNodesChange:S}=n.getState(),k=b(),_=typeof x=="function"?x(k):x;if(w)y(_);else if(S){const N=_.length===0?k.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));S(N)}},[]),l=g.useCallback(x=>{const{edges:b=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:S}=n.getState(),k=typeof x=="function"?x(b):x;if(w)y(k);else if(S){const _=k.length===0?b.map(N=>({type:"remove",id:N.id})):k.map(N=>({item:N,type:"reset"}));S(_)}},[]),c=g.useCallback(x=>{const b=Array.isArray(x)?x:[x],{getNodes:y,setNodes:w,hasDefaultNodes:S,onNodesChange:k}=n.getState();if(S){const N=[...y(),...b];w(N)}else if(k){const _=b.map(N=>({item:N,type:"add"}));k(_)}},[]),u=g.useCallback(x=>{const b=Array.isArray(x)?x:[x],{edges:y=[],setEdges:w,hasDefaultEdges:S,onEdgesChange:k}=n.getState();if(S)w([...y,...b]);else if(k){const _=b.map(N=>({item:N,type:"add"}));k(_)}},[]),h=g.useCallback(()=>{const{getNodes:x,edges:b=[],transform:y}=n.getState(),[w,S,k]=y;return{nodes:x().map(_=>({..._})),edges:b.map(_=>({..._})),viewport:{x:w,y:S,zoom:k}}},[]),f=g.useCallback(({nodes:x,edges:b})=>{const{nodeInternals:y,getNodes:w,edges:S,hasDefaultNodes:k,hasDefaultEdges:_,onNodesDelete:N,onEdgesDelete:C,onNodesChange:j,onEdgesChange:A}=n.getState(),E=(x||[]).map(F=>F.id),I=(b||[]).map(F=>F.id),O=w().reduce((F,L)=>{const W=L.parentNode||L.parentId,$=!E.includes(L.id)&&W&&F.find(T=>T.id===W);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(E.includes(L.id)||$)&&F.push(L),F},[]),U=S.filter(F=>typeof F.deletable=="boolean"?F.deletable:!0),P=U.filter(F=>I.includes(F.id));if(O||P){const F=bP(O,U),L=[...P,...F],W=L.reduce(($,R)=>($.includes(R.id)||$.push(R.id),$),[]);if((_||k)&&(_&&n.setState({edges:S.filter($=>!W.includes($.id))}),k&&(O.forEach($=>{y.delete($.id)}),n.setState({nodeInternals:new Map(y)}))),W.length>0&&(C==null||C(L),A&&A(W.map($=>({id:$,type:"remove"})))),O.length>0&&(N==null||N(O),j)){const $=O.map(R=>({id:R.id,type:"remove"}));j($)}}},[]),m=g.useCallback(x=>{const b=UW(x),y=b?null:n.getState().nodeInternals.get(x.id);return!b&&!y?[null,null,b]:[b?x:_k(y),y,b]},[]),p=g.useCallback((x,b=!0,y)=>{const[w,S,k]=m(x);return w?(y||n.getState().getNodes()).filter(_=>{if(!k&&(_.id===S.id||!_.positionAbsolute))return!1;const N=_k(_),C=a0(N,w);return b&&C>0||C>=w.width*w.height}):[]},[]),v=g.useCallback((x,b,y=!0)=>{const[w]=m(x);if(!w)return!1;const S=a0(w,b);return y&&S>0||S>=w.width*w.height},[]);return g.useMemo(()=>({...e,getNodes:r,getNode:o,getEdges:i,getEdge:s,setNodes:a,setEdges:l,addNodes:c,addEdges:u,toObject:h,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:v}),[e,r,o,i,s,a,l,c,u,h,f,p,v])}const Sq={actInsideInputWithModifier:!1};var kq=({deleteKeyCode:e,multiSelectionKeyCode:n})=>{const r=gn(),{deleteElements:o}=Hw(),i=pd(e,Sq),s=pd(n);g.useEffect(()=>{if(i){const{edges:a,getNodes:l}=r.getState(),c=l().filter(h=>h.selected),u=a.filter(h=>h.selected);o({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[i]),g.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])};function _q(e){const n=gn();g.useEffect(()=>{let r;const o=()=>{var s,a;if(!e.current)return;const i=Ow(e.current);(i.height===0||i.width===0)&&((a=(s=n.getState()).onError)==null||a.call(s,"004",Ti.error004())),n.setState({width:i.width||500,height:i.height||500})};return o(),window.addEventListener("resize",o),e.current&&(r=new ResizeObserver(()=>o()),r.observe(e.current)),()=>{window.removeEventListener("resize",o),r&&e.current&&r.unobserve(e.current)}},[])}const Vw={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nq=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Uf=e=>({x:e.x,y:e.y,zoom:e.k}),qa=(e,n)=>e.target.closest(`.${n}`),Ik=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),Ok=e=>{const n=e.ctrlKey&&mp()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n},Cq=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Eq=({onMove:e,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:o,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=ta.Free,zoomOnDoubleClick:u=!0,elementsSelectable:h,panOnDrag:f=!0,defaultViewport:m,translateExtent:p,minZoom:v,maxZoom:x,zoomActivationKeyCode:b,preventScrolling:y=!0,children:w,noWheelClassName:S,noPanClassName:k})=>{const _=g.useRef(),N=gn(),C=g.useRef(!1),j=g.useRef(!1),A=g.useRef(null),E=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:O,d3ZoomHandler:U,userSelectionActive:P}=Tt(Cq,mr),F=pd(b),L=g.useRef(0),W=g.useRef(!1),$=g.useRef();return _q(A),g.useEffect(()=>{if(A.current){const R=A.current.getBoundingClientRect(),T=Rw().scaleExtent([v,x]).translateExtent(p),D=Vn(A.current).call(T),z=qo.translate(m.x,m.y).scale(nc(m.zoom,v,x)),M=[[0,0],[R.width,R.height]],G=T.constrain()(z,M,p);T.transform(D,G),T.wheelDelta(Ok),N.setState({d3Zoom:T,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:A.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&I&&(a&&!F&&!P?O.on("wheel.zoom",R=>{if(qa(R,S))return!1;R.preventDefault(),R.stopImmediatePropagation();const T=O.property("__zoom").k||1;if(R.ctrlKey&&s){const ue=Ur(R),te=Ok(R),ae=T*Math.pow(2,te);I.scaleTo(O,ae,ue,R);return}const D=R.deltaMode===1?20:1;let z=c===ta.Vertical?0:R.deltaX*D,M=c===ta.Horizontal?0:R.deltaY*D;!mp()&&R.shiftKey&&c!==ta.Vertical&&(z=R.deltaY*D,M=0),I.translateBy(O,-(z/T)*l,-(M/T)*l,{internal:!0});const G=Uf(O.property("__zoom")),{onViewportChangeStart:ee,onViewportChange:re,onViewportChangeEnd:Y}=N.getState();clearTimeout($.current),W.current||(W.current=!0,n==null||n(R,G),ee==null||ee(G)),W.current&&(e==null||e(R,G),re==null||re(G),$.current=setTimeout(()=>{r==null||r(R,G),Y==null||Y(G),W.current=!1},150))},{passive:!1}):typeof U<"u"&&O.on("wheel.zoom",function(R,T){if(!y&&R.type==="wheel"&&!R.ctrlKey||qa(R,S))return null;R.preventDefault(),U.call(this,R,T)},{passive:!1}))},[P,a,c,O,I,U,F,s,y,S,n,e,r]),g.useEffect(()=>{I&&I.on("start",R=>{var z,M;if(!R.sourceEvent||R.sourceEvent.internal)return null;L.current=(z=R.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:T}=N.getState(),D=Uf(R.transform);C.current=!0,E.current=D,((M=R.sourceEvent)==null?void 0:M.type)==="mousedown"&&N.setState({paneDragging:!0}),T==null||T(D),n==null||n(R.sourceEvent,D)})},[I,n]),g.useEffect(()=>{I&&(P&&!C.current?I.on("zoom",null):P||I.on("zoom",R=>{var D;const{onViewportChange:T}=N.getState();if(N.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),j.current=!!(o&&Ik(f,L.current??0)),(e||T)&&!((D=R.sourceEvent)!=null&&D.internal)){const z=Uf(R.transform);T==null||T(z),e==null||e(R.sourceEvent,z)}}))},[P,I,e,f,o]),g.useEffect(()=>{I&&I.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:T}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),o&&Ik(f,L.current??0)&&!j.current&&o(R.sourceEvent),j.current=!1,(r||T)&&Nq(E.current,R.transform)){const D=Uf(R.transform);E.current=D,clearTimeout(_.current),_.current=setTimeout(()=>{T==null||T(D),r==null||r(R.sourceEvent,D)},a?150:0)}})},[I,a,f,r,o]),g.useEffect(()=>{I&&I.filter(R=>{const T=F||i,D=s&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(qa(R,"react-flow__node")||qa(R,"react-flow__edge")))return!0;if(!f&&!T&&!a&&!u&&!s||P||!u&&R.type==="dblclick"||qa(R,S)&&R.type==="wheel"||qa(R,k)&&(R.type!=="wheel"||a&&R.type==="wheel"&&!F)||!s&&R.ctrlKey&&R.type==="wheel"||!T&&!a&&!D&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const z=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&z})},[P,I,i,s,a,u,f,h,F]),B.createElement("div",{className:"react-flow__renderer",ref:A,style:Vw},w)},jq=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Tq(){const{userSelectionActive:e,userSelectionRect:n}=Tt(jq,mr);return e&&n?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function Dk(e,n){const r=n.parentNode||n.parentId,o=e.find(i=>i.id===r);if(o){const i=n.position.x+n.width-o.width,s=n.position.y+n.height-o.height;if(i>0||s>0||n.position.x<0||n.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,i>0&&(o.style.width+=i),s>0&&(o.style.height+=s),n.position.x<0){const a=Math.abs(n.position.x);o.position.x=o.position.x-a,o.style.width+=a,n.position.x=0}if(n.position.y<0){const a=Math.abs(n.position.y);o.position.y=o.position.y-a,o.style.height+=a,n.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Aq(e,n){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const r=e.filter(o=>o.type==="add").map(o=>o.item);return n.reduce((o,i)=>{const s=e.filter(l=>l.id===i.id);if(s.length===0)return o.push(i),o;const a={...i};for(const l of s)if(l)switch(l.type){case"select":{a.selected=l.selected;break}case"position":{typeof l.position<"u"&&(a.position=l.position),typeof l.positionAbsolute<"u"&&(a.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(a.dragging=l.dragging),a.expandParent&&Dk(o,a);break}case"dimensions":{typeof l.dimensions<"u"&&(a.width=l.dimensions.width,a.height=l.dimensions.height),typeof l.updateStyle<"u"&&(a.style={...a.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(a.resizing=l.resizing),a.expandParent&&Dk(o,a);break}case"remove":return o}return o.push(a),o},r)}function Pq(e,n){return Aq(e,n)}const Gi=(e,n)=>({id:e,type:"select",selected:n});function pl(e,n){return e.reduce((r,o)=>{const i=n.includes(o.id);return!o.selected&&i?(o.selected=!0,r.push(Gi(o.id,!0))):o.selected&&!i&&(o.selected=!1,r.push(Gi(o.id,!1))),r},[])}const oy=(e,n)=>r=>{r.target===n.current&&(e==null||e(r))},Mq=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),$P=g.memo(({isSelecting:e,selectionMode:n=hd.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:a,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:h,children:f})=>{const m=g.useRef(null),p=gn(),v=g.useRef(0),x=g.useRef(0),b=g.useRef(),{userSelectionActive:y,elementsSelectable:w,dragging:S}=Tt(Mq,mr),k=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,x.current=0},_=U=>{s==null||s(U),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},N=U=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){U.preventDefault();return}a==null||a(U)},C=l?U=>l(U):void 0,j=U=>{const{resetSelectedElements:P,domNode:F}=p.getState();if(b.current=F==null?void 0:F.getBoundingClientRect(),!w||!e||U.button!==0||U.target!==m.current||!b.current)return;const{x:L,y:W}=Ns(U,b.current);P(),p.setState({userSelectionRect:{width:0,height:0,startX:L,startY:W,x:L,y:W}}),o==null||o(U)},A=U=>{const{userSelectionRect:P,nodeInternals:F,edges:L,transform:W,onNodesChange:$,onEdgesChange:R,nodeOrigin:T,getNodes:D}=p.getState();if(!e||!b.current||!P)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=Ns(U,b.current),M=P.startX??0,G=P.startY??0,ee={...P,x:z.x<M?z.x:M,y:z.y<G?z.y:G,width:Math.abs(z.x-M),height:Math.abs(z.y-G)},re=D(),Y=wP(F,ee,W,n===hd.Partial,!0,T),ue=bP(Y,L).map(ae=>ae.id),te=Y.map(ae=>ae.id);if(v.current!==te.length){v.current=te.length;const ae=pl(re,te);ae.length&&($==null||$(ae))}if(x.current!==ue.length){x.current=ue.length;const ae=pl(L,ue);ae.length&&(R==null||R(ae))}p.setState({userSelectionRect:ee})},E=U=>{if(U.button!==0)return;const{userSelectionRect:P}=p.getState();!y&&P&&U.target===m.current&&(_==null||_(U)),p.setState({nodesSelectionActive:v.current>0}),k(),i==null||i(U)},I=U=>{y&&(p.setState({nodesSelectionActive:v.current>0}),i==null||i(U)),k()},O=w&&(e||y);return B.createElement("div",{className:jn(["react-flow__pane",{dragging:S,selection:e}]),onClick:O?void 0:oy(_,m),onContextMenu:oy(N,m),onWheel:oy(C,m),onMouseEnter:O?void 0:c,onMouseDown:O?j:void 0,onMouseMove:O?A:u,onMouseUp:O?E:void 0,onMouseLeave:O?I:h,ref:m,style:Vw},f,B.createElement(Tq,null))});$P.displayName="Pane";function zP(e,n){const r=e.parentNode||e.parentId;if(!r)return!1;const o=n.get(r);return o?o.selected?!0:zP(o,n):!1}function Lk(e,n,r){let o=e;do{if(o!=null&&o.matches(n))return!0;if(o===r.current)return!1;o=o.parentElement}while(o);return!1}function Rq(e,n,r,o){return Array.from(e.values()).filter(i=>(i.selected||i.id===o)&&(!i.parentNode||i.parentId||!zP(i,e))&&(i.draggable||n&&typeof i.draggable>"u")).map(i=>{var s,a;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:r.y-(((a=i.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function Iq(e,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(e.width||0),n[1][1]-(e.height||0)]]}function FP(e,n,r,o,i=[0,0],s){const a=Iq(e,e.extent||o);let l=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=r.get(c),{x:m,y:p}=pa(f,i).positionAbsolute;l=f&&Yr(m)&&Yr(p)&&Yr(f.width)&&Yr(f.height)?[[m+e.width*i[0],p+e.height*i[1]],[m+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:l}else s==null||s("005",Ti.error005()),l=a;else if(e.extent&&c&&e.extent!=="parent"){const f=r.get(c),{x:m,y:p}=pa(f,i).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+p],[e.extent[1][0]+m,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const f=r.get(c);u=pa(f,i).positionAbsolute}const h=l&&l!=="parent"?Dw(n,l):n;return{position:{x:h.x-u.x,y:h.y-u.y},positionAbsolute:h}}function iy({nodeId:e,dragItems:n,nodeInternals:r}){const o=n.map(i=>({...r.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?o.find(i=>i.id===e):o[0],o]}const $k=(e,n,r,o)=>{const i=n.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),a=n.getBoundingClientRect(),l={x:a.width*o[0],y:a.height*o[1]};return s.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-a.left-l.x)/r,y:(u.top-a.top-l.y)/r,...Ow(c)}})};function qc(e,n,r){return r===void 0?r:o=>{const i=n().nodeInternals.get(e);i&&r(o,{...i})}}function h0({id:e,store:n,unselect:r=!1,nodeRef:o}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeInternals:l,onError:c}=n.getState(),u=l.get(e);if(!u){c==null||c("012",Ti.error012(e));return}n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&a)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var h;return(h=o==null?void 0:o.current)==null?void 0:h.blur()})):i([e])}function Oq(){const e=gn();return g.useCallback(({sourceEvent:r})=>{const{transform:o,snapGrid:i,snapToGrid:s}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,c={x:(a-o[0])/o[2],y:(l-o[1])/o[2]};return{xSnapped:s?i[0]*Math.round(c.x/i[0]):c.x,ySnapped:s?i[1]*Math.round(c.y/i[1]):c.y,...c}},[])}function sy(e){return(n,r,o)=>e==null?void 0:e(n,o)}function UP({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:i,isSelectable:s,selectNodesOnDrag:a}){const l=gn(),[c,u]=g.useState(!1),h=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),p=g.useRef(null),v=g.useRef({x:0,y:0}),x=g.useRef(null),b=g.useRef(!1),y=g.useRef(!1),w=g.useRef(!1),S=Oq();return g.useEffect(()=>{if(e!=null&&e.current){const k=Vn(e.current),_=({x:j,y:A})=>{const{nodeInternals:E,onNodeDrag:I,onSelectionDrag:O,updateNodePositions:U,nodeExtent:P,snapGrid:F,snapToGrid:L,nodeOrigin:W,onError:$}=l.getState();f.current={x:j,y:A};let R=!1,T={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&P){const z=Nm(h.current,W);T=fd(z)}if(h.current=h.current.map(z=>{const M={x:j-z.distance.x,y:A-z.distance.y};L&&(M.x=F[0]*Math.round(M.x/F[0]),M.y=F[1]*Math.round(M.y/F[1]));const G=[[P[0][0],P[0][1]],[P[1][0],P[1][1]]];h.current.length>1&&P&&!z.extent&&(G[0][0]=z.positionAbsolute.x-T.x+P[0][0],G[1][0]=z.positionAbsolute.x+(z.width??0)-T.x2+P[1][0],G[0][1]=z.positionAbsolute.y-T.y+P[0][1],G[1][1]=z.positionAbsolute.y+(z.height??0)-T.y2+P[1][1]);const ee=FP(z,M,E,G,W,$);return R=R||z.position.x!==ee.position.x||z.position.y!==ee.position.y,z.position=ee.position,z.positionAbsolute=ee.positionAbsolute,z}),!R)return;U(h.current,!0,!0),u(!0);const D=i?I:sy(O);if(D&&x.current){const[z,M]=iy({nodeId:i,dragItems:h.current,nodeInternals:E});D(x.current,z,M)}},N=()=>{if(!p.current)return;const[j,A]=cP(v.current,p.current);if(j!==0||A!==0){const{transform:E,panBy:I}=l.getState();f.current.x=(f.current.x??0)-j/E[2],f.current.y=(f.current.y??0)-A/E[2],I({x:j,y:A})&&_(f.current)}m.current=requestAnimationFrame(N)},C=j=>{var W;const{nodeInternals:A,multiSelectionActive:E,nodesDraggable:I,unselectNodesAndEdges:O,onNodeDragStart:U,onSelectionDragStart:P}=l.getState();y.current=!0;const F=i?U:sy(P);(!a||!s)&&!E&&i&&((W=A.get(i))!=null&&W.selected||O()),i&&s&&a&&h0({id:i,store:l,nodeRef:e});const L=S(j);if(f.current=L,h.current=Rq(A,I,L,i),F&&h.current){const[$,R]=iy({nodeId:i,dragItems:h.current,nodeInternals:A});F(j.sourceEvent,$,R)}};if(n)k.on(".drag",null);else{const j=YA().on("start",A=>{const{domNode:E,nodeDragThreshold:I}=l.getState();I===0&&C(A),w.current=!1;const O=S(A);f.current=O,p.current=(E==null?void 0:E.getBoundingClientRect())||null,v.current=Ns(A.sourceEvent,p.current)}).on("drag",A=>{var U,P;const E=S(A),{autoPanOnNodeDrag:I,nodeDragThreshold:O}=l.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!b.current&&y.current&&I&&(b.current=!0,N()),!y.current){const F=E.xSnapped-(((U=f==null?void 0:f.current)==null?void 0:U.x)??0),L=E.ySnapped-(((P=f==null?void 0:f.current)==null?void 0:P.y)??0);Math.sqrt(F*F+L*L)>O&&C(A)}(f.current.x!==E.xSnapped||f.current.y!==E.ySnapped)&&h.current&&y.current&&(x.current=A.sourceEvent,v.current=Ns(A.sourceEvent,p.current),_(E))}}).on("end",A=>{if(!(!y.current||w.current)&&(u(!1),b.current=!1,y.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:E,nodeInternals:I,onNodeDragStop:O,onSelectionDragStop:U}=l.getState(),P=i?O:sy(U);if(E(h.current,!1,!1),P){const[F,L]=iy({nodeId:i,dragItems:h.current,nodeInternals:I});P(A.sourceEvent,F,L)}}}).filter(A=>{const E=A.target;return!A.button&&(!r||!Lk(E,`.${r}`,e))&&(!o||Lk(E,o,e))});return k.call(j),()=>{k.on(".drag",null)}}}},[e,n,r,o,s,l,i,a,S]),c}function BP(){const e=gn();return g.useCallback(r=>{const{nodeInternals:o,nodeExtent:i,updateNodePositions:s,getNodes:a,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:h}=e.getState(),f=a().filter(w=>w.selected&&(w.draggable||h&&typeof w.draggable>"u")),m=l?c[0]:5,p=l?c[1]:5,v=r.isShiftPressed?4:1,x=r.x*m*v,b=r.y*p*v,y=f.map(w=>{if(w.positionAbsolute){const S={x:w.positionAbsolute.x+x,y:w.positionAbsolute.y+b};l&&(S.x=c[0]*Math.round(S.x/c[0]),S.y=c[1]*Math.round(S.y/c[1]));const{positionAbsolute:k,position:_}=FP(w,S,o,i,void 0,u);w.position=_,w.positionAbsolute=k}return w});s(y,!0,!1)},[])}const Tl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Gc=e=>{const n=({id:r,type:o,data:i,xPos:s,yPos:a,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:h,onMouseEnter:f,onMouseMove:m,onMouseLeave:p,onContextMenu:v,onDoubleClick:x,style:b,className:y,isDraggable:w,isSelectable:S,isConnectable:k,isFocusable:_,selectNodesOnDrag:N,sourcePosition:C,targetPosition:j,hidden:A,resizeObserver:E,dragHandle:I,zIndex:O,isParent:U,noDragClassName:P,noPanClassName:F,initialized:L,disableKeyboardA11y:W,ariaLabel:$,rfId:R,hasHandleBounds:T})=>{const D=gn(),z=g.useRef(null),M=g.useRef(null),G=g.useRef(C),ee=g.useRef(j),re=g.useRef(o),Y=S||w||h||f||m||p,ue=BP(),te=qc(r,D.getState,f),ae=qc(r,D.getState,m),le=qc(r,D.getState,p),Se=qc(r,D.getState,v),Be=qc(r,D.getState,x),ye=Pe=>{const{nodeDragThreshold:ie}=D.getState();if(S&&(!N||!w||ie>0)&&h0({id:r,store:D,nodeRef:z}),h){const $e=D.getState().nodeInternals.get(r);$e&&h(Pe,{...$e})}},se=Pe=>{if(!l0(Pe)&&!W)if(hP.includes(Pe.key)&&S){const ie=Pe.key==="Escape";h0({id:r,store:D,unselect:ie,nodeRef:z})}else w&&u&&Object.prototype.hasOwnProperty.call(Tl,Pe.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${Pe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~a}`}),ue({x:Tl[Pe.key].x,y:Tl[Pe.key].y,isShiftPressed:Pe.shiftKey}))};g.useEffect(()=>()=>{M.current&&(E==null||E.unobserve(M.current),M.current=null)},[]),g.useEffect(()=>{if(z.current&&!A){const Pe=z.current;(!L||!T||M.current!==Pe)&&(M.current&&(E==null||E.unobserve(M.current)),E==null||E.observe(Pe),M.current=Pe)}},[A,L,T]),g.useEffect(()=>{const Pe=re.current!==o,ie=G.current!==C,$e=ee.current!==j;z.current&&(Pe||ie||$e)&&(Pe&&(re.current=o),ie&&(G.current=C),$e&&(ee.current=j),D.getState().updateNodeDimensions([{id:r,nodeElement:z.current,forceUpdate:!0}]))},[r,o,C,j]);const Ee=UP({nodeRef:z,disabled:A||!w,noDragClassName:P,handleSelector:I,nodeId:r,isSelectable:S,selectNodesOnDrag:N});return A?null:B.createElement("div",{className:jn(["react-flow__node",`react-flow__node-${o}`,{[F]:w},y,{selected:u,selectable:S,parent:U,dragging:Ee}]),ref:z,style:{zIndex:O,transform:`translate(${l}px,${c}px)`,pointerEvents:Y?"all":"none",visibility:L?"visible":"hidden",...b},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:te,onMouseMove:ae,onMouseLeave:le,onContextMenu:Se,onClick:ye,onDoubleClick:Be,onKeyDown:_?se:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":W?void 0:`${RP}-${R}`,"aria-label":$},B.createElement(KW,{value:r},B.createElement(e,{id:r,data:i,type:o,xPos:s,yPos:a,selected:u,isConnectable:k,sourcePosition:C,targetPosition:j,dragging:Ee,dragHandle:I,zIndex:O})))};return n.displayName="NodeWrapper",g.memo(n)};const Dq=e=>{const n=e.getNodes().filter(r=>r.selected);return{...Nm(n,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Lq({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const o=gn(),{width:i,height:s,x:a,y:l,transformString:c,userSelectionActive:u}=Tt(Dq,mr),h=BP(),f=g.useRef(null);if(g.useEffect(()=>{var v;r||(v=f.current)==null||v.focus({preventScroll:!0})},[r]),UP({nodeRef:f}),u||!i||!s)return null;const m=e?v=>{const x=o.getState().getNodes().filter(b=>b.selected);e(v,x)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(Tl,v.key)&&h({x:Tl[v.key].x,y:Tl[v.key].y,isShiftPressed:v.shiftKey})};return B.createElement("div",{className:jn(["react-flow__nodesselection","react-flow__container",n]),style:{transform:c}},B.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:i,height:s,top:l,left:a}}))}var $q=g.memo(Lq);const zq=e=>e.nodesSelectionActive,HP=({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:b,panActivationKeyCode:y,zoomActivationKeyCode:w,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:_,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:j,zoomOnDoubleClick:A,panOnDrag:E,defaultViewport:I,translateExtent:O,minZoom:U,maxZoom:P,preventScrolling:F,onSelectionContextMenu:L,noWheelClassName:W,noPanClassName:$,disableKeyboardA11y:R})=>{const T=Tt(zq),D=pd(f),z=pd(y),M=z||E,G=z||N,ee=D||m&&M!==!0;return kq({deleteKeyCode:l,multiSelectionKeyCode:b}),B.createElement(Eq,{onMove:c,onMoveStart:u,onMoveEnd:h,onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:_,panOnScroll:G,panOnScrollSpeed:C,panOnScrollMode:j,zoomOnDoubleClick:A,panOnDrag:!D&&M,defaultViewport:I,translateExtent:O,minZoom:U,maxZoom:P,zoomActivationKeyCode:w,preventScrolling:F,noWheelClassName:W,noPanClassName:$},B.createElement($P,{onSelectionStart:v,onSelectionEnd:x,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:M,isSelecting:!!ee,selectionMode:p},e,T&&B.createElement($q,{onSelectionContextMenu:L,noPanClassName:$,disableKeyboardA11y:R})))};HP.displayName="FlowRenderer";var Fq=g.memo(HP);function Uq(e){return Tt(g.useCallback(r=>e?wP(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Bq(e){const n={input:Gc(e.input||TP),default:Gc(e.default||f0),output:Gc(e.output||PP),group:Gc(e.group||Bw)},r={},o=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Gc(e[s]||f0),i),r);return{...n,...o}}const Hq=({x:e,y:n,width:r,height:o,origin:i})=>!r||!o?{x:e,y:n}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:n}:{x:e-r*i[0],y:n-o*i[1]},Vq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),VP=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,updateNodeDimensions:s,onError:a}=Tt(Vq,mr),l=Uq(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(f=>{const m=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(m)});return c.current=h,h},[]);return g.useEffect(()=>()=>{var h;(h=c==null?void 0:c.current)==null||h.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:Vw},l.map(h=>{var _,N,C;let f=h.type||"default";e.nodeTypes[f]||(a==null||a("003",Ti.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,p=!!(h.draggable||n&&typeof h.draggable>"u"),v=!!(h.selectable||i&&typeof h.selectable>"u"),x=!!(h.connectable||r&&typeof h.connectable>"u"),b=!!(h.focusable||o&&typeof h.focusable>"u"),y=e.nodeExtent?Dw(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,w=(y==null?void 0:y.x)??0,S=(y==null?void 0:y.y)??0,k=Hq({x:w,y:S,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return B.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:f,data:h.data,sourcePosition:h.sourcePosition||Re.Bottom,targetPosition:h.targetPosition||Re.Top,hidden:h.hidden,xPos:w,yPos:S,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:p,isSelectable:v,isConnectable:x,isFocusable:b,resizeObserver:u,dragHandle:h.dragHandle,zIndex:((_=h[Gt])==null?void 0:_.z)??0,isParent:!!((N=h[Gt])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!((C=h[Gt])!=null&&C.handleBounds)})}))};VP.displayName="NodeRenderer";var Wq=g.memo(VP);const qq=(e,n,r)=>r===Re.Left?e-n:r===Re.Right?e+n:e,Gq=(e,n,r)=>r===Re.Top?e-n:r===Re.Bottom?e+n:e,zk="react-flow__edgeupdater",Fk=({position:e,centerX:n,centerY:r,radius:o=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:l})=>B.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:jn([zk,`${zk}-${l}`]),cx:qq(n,o,e),cy:Gq(r,o,e),r:o,stroke:"transparent",fill:"transparent"}),Kq=()=>!0;var Ga=e=>{const n=({id:r,className:o,type:i,data:s,onClick:a,onEdgeDoubleClick:l,selected:c,animated:u,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:x,style:b,source:y,target:w,sourceX:S,sourceY:k,targetX:_,targetY:N,sourcePosition:C,targetPosition:j,elementsSelectable:A,hidden:E,sourceHandleId:I,targetHandleId:O,onContextMenu:U,onMouseEnter:P,onMouseMove:F,onMouseLeave:L,reconnectRadius:W,onReconnect:$,onReconnectStart:R,onReconnectEnd:T,markerEnd:D,markerStart:z,rfId:M,ariaLabel:G,isFocusable:ee,isReconnectable:re,pathOptions:Y,interactionWidth:ue,disableKeyboardA11y:te})=>{const ae=g.useRef(null),[le,Se]=g.useState(!1),[Be,ye]=g.useState(!1),se=gn(),Ee=g.useMemo(()=>`url('#${u0(z,M)}')`,[z,M]),Pe=g.useMemo(()=>`url('#${u0(D,M)}')`,[D,M]);if(E)return null;const ie=Ie=>{var rt;const{edges:De,addSelectedEdges:ze,unselectNodesAndEdges:Ae,multiSelectionActive:He}=se.getState(),Ge=De.find(Je=>Je.id===r);Ge&&(A&&(se.setState({nodesSelectionActive:!1}),Ge.selected&&He?(Ae({nodes:[],edges:[Ge]}),(rt=ae.current)==null||rt.blur()):ze([r])),a&&a(Ie,Ge))},$e=Wc(r,se.getState,l),Ye=Wc(r,se.getState,U),Qe=Wc(r,se.getState,P),ut=Wc(r,se.getState,F),qe=Wc(r,se.getState,L),Zt=(Ie,De)=>{if(Ie.button!==0)return;const{edges:ze,isValidConnection:Ae}=se.getState(),He=De?w:y,Ge=(De?O:I)||null,rt=De?"target":"source",Je=Ae||Kq,Ht=De,Sn=ze.find($t=>$t.id===r);ye(!0),R==null||R(Ie,Sn,rt);const no=$t=>{ye(!1),T==null||T($t,Sn,rt)};NP({event:Ie,handleId:Ge,nodeId:He,onConnect:$t=>$==null?void 0:$(Sn,$t),isTarget:Ht,getState:se.getState,setState:se.setState,isValidConnection:Je,edgeUpdaterType:rt,onReconnectEnd:no})},gt=Ie=>Zt(Ie,!0),J=Ie=>Zt(Ie,!1),V=()=>Se(!0),Z=()=>Se(!1),ve=!A&&!a,_e=Ie=>{var De;if(!te&&hP.includes(Ie.key)&&A){const{unselectNodesAndEdges:ze,addSelectedEdges:Ae,edges:He}=se.getState();Ie.key==="Escape"?((De=ae.current)==null||De.blur(),ze({edges:[He.find(rt=>rt.id===r)]})):Ae([r])}};return B.createElement("g",{className:jn(["react-flow__edge",`react-flow__edge-${i}`,o,{selected:c,animated:u,inactive:ve,updating:le}]),onClick:ie,onDoubleClick:$e,onContextMenu:Ye,onMouseEnter:Qe,onMouseMove:ut,onMouseLeave:qe,onKeyDown:ee?_e:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":G===null?void 0:G||`Edge from ${y} to ${w}`,"aria-describedby":ee?`${IP}-${M}`:void 0,ref:ae},!Be&&B.createElement(e,{id:r,source:y,target:w,selected:c,animated:u,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:x,data:s,style:b,sourceX:S,sourceY:k,targetX:_,targetY:N,sourcePosition:C,targetPosition:j,sourceHandleId:I,targetHandleId:O,markerStart:Ee,markerEnd:Pe,pathOptions:Y,interactionWidth:ue}),re&&B.createElement(B.Fragment,null,(re==="source"||re===!0)&&B.createElement(Fk,{position:C,centerX:S,centerY:k,radius:W,onMouseDown:gt,onMouseEnter:V,onMouseOut:Z,type:"source"}),(re==="target"||re===!0)&&B.createElement(Fk,{position:j,centerX:_,centerY:N,radius:W,onMouseDown:J,onMouseEnter:V,onMouseOut:Z,type:"target"})))};return n.displayName="EdgeWrapper",g.memo(n)};function Yq(e){const n={default:Ga(e.default||yp),straight:Ga(e.bezier||zw),step:Ga(e.step||$w),smoothstep:Ga(e.step||_m),simplebezier:Ga(e.simplebezier||Lw)},r={},o=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Ga(e[s]||yp),i),r);return{...n,...o}}function Uk(e,n,r=null){const o=((r==null?void 0:r.x)||0)+n.x,i=((r==null?void 0:r.y)||0)+n.y,s=(r==null?void 0:r.width)||n.width,a=(r==null?void 0:r.height)||n.height;switch(e){case Re.Top:return{x:o+s/2,y:i};case Re.Right:return{x:o+s,y:i+a/2};case Re.Bottom:return{x:o+s/2,y:i+a};case Re.Left:return{x:o,y:i+a/2}}}function Bk(e,n){return e?e.length===1||!n?e[0]:n&&e.find(r=>r.id===n)||null:null}const Xq=(e,n,r,o,i,s)=>{const a=Uk(r,e,n),l=Uk(s,o,i);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function Qq({sourcePos:e,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:i,targetHeight:s,width:a,height:l,transform:c}){const u={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+r,n.x+i),y2:Math.max(e.y+o,n.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const h=fd({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:l/c[2]}),f=Math.max(0,Math.min(h.x2,u.x2)-Math.max(h.x,u.x)),m=Math.max(0,Math.min(h.y2,u.y2)-Math.max(h.y,u.y));return Math.ceil(f*m)>0}function Hk(e){var o,i,s,a,l;const n=((o=e==null?void 0:e[Gt])==null?void 0:o.handleBounds)||null,r=n&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},n,!!r]}const Jq=[{level:0,isMaxLevel:!0,edges:[]}];function Zq(e,n,r=!1){let o=-1;const i=e.reduce((a,l)=>{var h,f;const c=Yr(l.zIndex);let u=c?l.zIndex:0;if(r){const m=n.get(l.target),p=n.get(l.source),v=l.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),x=Math.max(((h=p==null?void 0:p[Gt])==null?void 0:h.z)||0,((f=m==null?void 0:m[Gt])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(v?x:0)}return a[u]?a[u].push(l):a[u]=[l],o=u>o?u:o,a},{}),s=Object.entries(i).map(([a,l])=>{const c=+a;return{edges:l,level:c,isMaxLevel:c===o}});return s.length===0?Jq:s}function eG(e,n,r){const o=Tt(g.useCallback(i=>e?i.edges.filter(s=>{const a=n.get(s.source),l=n.get(s.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&Qq({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,n]));return Zq(o,n,r)}const tG=({color:e="none",strokeWidth:n=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),nG=({color:e="none",strokeWidth:n=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Vk={[gp.Arrow]:tG,[gp.ArrowClosed]:nG};function rG(e){const n=gn();return g.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(Vk,e)?Vk[e]:((s=(i=n.getState()).onError)==null||s.call(i,"009",Ti.error009(e)),null)},[e])}const oG=({id:e,type:n,color:r,width:o=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const c=rG(n);return c?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},B.createElement(c,{color:r,strokeWidth:a})):null},iG=({defaultColor:e,rfId:n})=>r=>{const o=[];return r.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const l=u0(a,n);o.includes(l)||(i.push({id:l,color:a.color||e,...a}),o.push(l))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},WP=({defaultColor:e,rfId:n})=>{const r=Tt(g.useCallback(iG({defaultColor:e,rfId:n}),[e,n]),(o,i)=>!(o.length!==i.length||o.some((s,a)=>s.id!==i[a].id)));return B.createElement("defs",null,r.map(o=>B.createElement(oG,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};WP.displayName="MarkerDefinitions";var sG=g.memo(WP);const aG=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),qP=({defaultMarkerColor:e,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:o,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:h,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:x,children:b,disableKeyboardA11y:y})=>{const{edgesFocusable:w,edgesUpdatable:S,elementsSelectable:k,width:_,height:N,connectionMode:C,nodeInternals:j,onError:A}=Tt(aG,mr),E=eG(n,j,r);return _?B.createElement(B.Fragment,null,E.map(({level:I,edges:O,isMaxLevel:U})=>B.createElement("svg",{key:I,style:{zIndex:I},width:_,height:N,className:"react-flow__edges react-flow__container"},U&&B.createElement(sG,{defaultColor:e,rfId:o}),B.createElement("g",null,O.map(P=>{const[F,L,W]=Hk(j.get(P.source)),[$,R,T]=Hk(j.get(P.target));if(!W||!T)return null;let D=P.type||"default";i[D]||(A==null||A("011",Ti.error011(D)),D="default");const z=i[D]||i.default,M=C===Ca.Strict?R.target:(R.target??[]).concat(R.source??[]),G=Bk(L.source,P.sourceHandle),ee=Bk(M,P.targetHandle),re=(G==null?void 0:G.position)||Re.Bottom,Y=(ee==null?void 0:ee.position)||Re.Top,ue=!!(P.focusable||w&&typeof P.focusable>"u"),te=P.reconnectable||P.updatable,ae=typeof m<"u"&&(te||S&&typeof te>"u");if(!G||!ee)return A==null||A("008",Ti.error008(G,P)),null;const{sourceX:le,sourceY:Se,targetX:Be,targetY:ye}=Xq(F,G,re,$,ee,Y);return B.createElement(z,{key:P.id,id:P.id,className:jn([P.className,s]),type:D,data:P.data,selected:!!P.selected,animated:!!P.animated,hidden:!!P.hidden,label:P.label,labelStyle:P.labelStyle,labelShowBg:P.labelShowBg,labelBgStyle:P.labelBgStyle,labelBgPadding:P.labelBgPadding,labelBgBorderRadius:P.labelBgBorderRadius,style:P.style,source:P.source,target:P.target,sourceHandleId:P.sourceHandle,targetHandleId:P.targetHandle,markerEnd:P.markerEnd,markerStart:P.markerStart,sourceX:le,sourceY:Se,targetX:Be,targetY:ye,sourcePosition:re,targetPosition:Y,elementsSelectable:k,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:h,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:x,rfId:o,ariaLabel:P.ariaLabel,isFocusable:ue,isReconnectable:ae,pathOptions:"pathOptions"in P?P.pathOptions:void 0,interactionWidth:P.interactionWidth,disableKeyboardA11y:y})})))),b):null};qP.displayName="EdgeRenderer";var lG=g.memo(qP);const cG=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function uG({children:e}){const n=Tt(cG);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function dG(e){const n=Hw(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const fG={[Re.Left]:Re.Right,[Re.Right]:Re.Left,[Re.Top]:Re.Bottom,[Re.Bottom]:Re.Top},GP=({nodeId:e,handleType:n,style:r,type:o=Xi.Bezier,CustomComponent:i,connectionStatus:s})=>{var N,C,j;const{fromNode:a,handleId:l,toX:c,toY:u,connectionMode:h}=Tt(g.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),mr),f=(N=a==null?void 0:a[Gt])==null?void 0:N.handleBounds;let m=f==null?void 0:f[n];if(h===Ca.Loose&&(m=m||(f==null?void 0:f[n==="source"?"target":"source"])),!a||!m)return null;const p=l?m.find(A=>A.id===l):m[0],v=p?p.x+p.width/2:(a.width??0)/2,x=p?p.y+p.height/2:a.height??0,b=(((C=a.positionAbsolute)==null?void 0:C.x)??0)+v,y=(((j=a.positionAbsolute)==null?void 0:j.y)??0)+x,w=p==null?void 0:p.position,S=w?fG[w]:null;if(!w||!S)return null;if(i)return B.createElement(i,{connectionLineType:o,connectionLineStyle:r,fromNode:a,fromHandle:p,fromX:b,fromY:y,toX:c,toY:u,fromPosition:w,toPosition:S,connectionStatus:s});let k="";const _={sourceX:b,sourceY:y,sourcePosition:w,targetX:c,targetY:u,targetPosition:S};return o===Xi.Bezier?[k]=xP(_):o===Xi.Step?[k]=c0({..._,borderRadius:0}):o===Xi.SmoothStep?[k]=c0(_):o===Xi.SimpleBezier?[k]=yP(_):k=`M${b},${y} ${c},${u}`,B.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:r})};GP.displayName="ConnectionLine";const hG=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function pG({containerStyle:e,style:n,type:r,component:o}){const{nodeId:i,handleType:s,nodesConnectable:a,width:l,height:c,connectionStatus:u}=Tt(hG,mr);return!(i&&s&&l&&a)?null:B.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:jn(["react-flow__connection",u])},B.createElement(GP,{nodeId:i,handleType:s,style:n,type:r,CustomComponent:o,connectionStatus:u})))}function Wk(e,n){return g.useRef(null),gn(),g.useMemo(()=>n(e),[e])}const KP=({nodeTypes:e,edgeTypes:n,onMove:r,onMoveStart:o,onMoveEnd:i,onInit:s,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:x,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:k,selectionKeyCode:_,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:j,panActivationKeyCode:A,zoomActivationKeyCode:E,deleteKeyCode:I,onlyRenderVisibleElements:O,elementsSelectable:U,selectNodesOnDrag:P,defaultViewport:F,translateExtent:L,minZoom:W,maxZoom:$,preventScrolling:R,defaultMarkerColor:T,zoomOnScroll:D,zoomOnPinch:z,panOnScroll:M,panOnScrollSpeed:G,panOnScrollMode:ee,zoomOnDoubleClick:re,panOnDrag:Y,onPaneClick:ue,onPaneMouseEnter:te,onPaneMouseMove:ae,onPaneMouseLeave:le,onPaneScroll:Se,onPaneContextMenu:Be,onEdgeContextMenu:ye,onEdgeMouseEnter:se,onEdgeMouseMove:Ee,onEdgeMouseLeave:Pe,onReconnect:ie,onReconnectStart:$e,onReconnectEnd:Ye,reconnectRadius:Qe,noDragClassName:ut,noWheelClassName:qe,noPanClassName:Zt,elevateEdgesOnSelect:gt,disableKeyboardA11y:J,nodeOrigin:V,nodeExtent:Z,rfId:ve})=>{const _e=Wk(e,Bq),Ie=Wk(n,Yq);return dG(s),B.createElement(Fq,{onPaneClick:ue,onPaneMouseEnter:te,onPaneMouseMove:ae,onPaneMouseLeave:le,onPaneContextMenu:Be,onPaneScroll:Se,deleteKeyCode:I,selectionKeyCode:_,selectionOnDrag:N,selectionMode:C,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:A,zoomActivationKeyCode:E,elementsSelectable:U,onMove:r,onMoveStart:o,onMoveEnd:i,zoomOnScroll:D,zoomOnPinch:z,zoomOnDoubleClick:re,panOnScroll:M,panOnScrollSpeed:G,panOnScrollMode:ee,panOnDrag:Y,defaultViewport:F,translateExtent:L,minZoom:W,maxZoom:$,onSelectionContextMenu:v,preventScrolling:R,noDragClassName:ut,noWheelClassName:qe,noPanClassName:Zt,disableKeyboardA11y:J},B.createElement(uG,null,B.createElement(lG,{edgeTypes:Ie,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:O,onEdgeContextMenu:ye,onEdgeMouseEnter:se,onEdgeMouseMove:Ee,onEdgeMouseLeave:Pe,onReconnect:ie,onReconnectStart:$e,onReconnectEnd:Ye,reconnectRadius:Qe,defaultMarkerColor:T,noPanClassName:Zt,elevateEdgesOnSelect:!!gt,disableKeyboardA11y:J,rfId:ve},B.createElement(pG,{style:w,type:y,component:S,containerStyle:k})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(Wq,{nodeTypes:_e,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:P,onlyRenderVisibleElements:O,noPanClassName:Zt,noDragClassName:ut,disableKeyboardA11y:J,nodeOrigin:V,nodeExtent:Z,rfId:ve})))};KP.displayName="GraphView";var mG=g.memo(KP);const p0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Di={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:p0,nodeExtent:p0,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ca.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:BW,isValidConnection:void 0},gG=()=>oB((e,n)=>({...Di,setNodes:r=>{const{nodeInternals:o,nodeOrigin:i,elevateNodesOnSelect:s}=n();e({nodeInternals:ry(r,o,i,s)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:o={}}=n();e({edges:r.map(i=>({...o,...i}))})},setDefaultNodesAndEdges:(r,o)=>{const i=typeof r<"u",s=typeof o<"u",a=i?ry(r,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:s?o:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:r=>{const{onNodesChange:o,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=n(),h=c==null?void 0:c.querySelector(".react-flow__viewport");if(!h)return;const f=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((x,b)=>{const y=i.get(b.id);if(y!=null&&y.hidden)i.set(y.id,{...y,[Gt]:{...y[Gt],handleBounds:void 0}});else if(y){const w=Ow(b.nodeElement);!!(w.width&&w.height&&(y.width!==w.width||y.height!==w.height||b.forceUpdate))&&(i.set(y.id,{...y,[Gt]:{...y[Gt],handleBounds:{source:$k(".source",b.nodeElement,m,u),target:$k(".target",b.nodeElement,m,u)}},...w}),x.push({id:y.id,type:"dimensions",dimensions:w}))}return x},[]);DP(i,u);const v=a||s&&!a&&LP(n,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:v}),(p==null?void 0:p.length)>0&&(o==null||o(p))},updateNodePositions:(r,o=!0,i=!1)=>{const{triggerNodeChanges:s}=n(),a=r.map(l=>{const c={id:l.id,type:"position",dragging:i};return o&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});s(a)},triggerNodeChanges:r=>{const{onNodesChange:o,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:a,getNodes:l,elevateNodesOnSelect:c}=n();if(r!=null&&r.length){if(s){const u=Pq(r,l()),h=ry(u,i,a,c);e({nodeInternals:h})}o==null||o(r)}},addSelectedNodes:r=>{const{multiSelectionActive:o,edges:i,getNodes:s}=n();let a,l=null;o?a=r.map(c=>Gi(c,!0)):(a=pl(s(),r),l=pl(i,[])),Ff({changedNodes:a,changedEdges:l,get:n,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:o,edges:i,getNodes:s}=n();let a,l=null;o?a=r.map(c=>Gi(c,!0)):(a=pl(i,r),l=pl(s(),[])),Ff({changedNodes:l,changedEdges:a,get:n,set:e})},unselectNodesAndEdges:({nodes:r,edges:o}={})=>{const{edges:i,getNodes:s}=n(),a=r||s(),l=o||i,c=a.map(h=>(h.selected=!1,Gi(h.id,!1))),u=l.map(h=>Gi(h.id,!1));Ff({changedNodes:c,changedEdges:u,get:n,set:e})},setMinZoom:r=>{const{d3Zoom:o,maxZoom:i}=n();o==null||o.scaleExtent([r,i]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:o,minZoom:i}=n();o==null||o.scaleExtent([i,r]),e({maxZoom:r})},setTranslateExtent:r=>{var o;(o=n().d3Zoom)==null||o.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:o}=n(),s=o().filter(l=>l.selected).map(l=>Gi(l.id,!1)),a=r.filter(l=>l.selected).map(l=>Gi(l.id,!1));Ff({changedNodes:s,changedEdges:a,get:n,set:e})},setNodeExtent:r=>{const{nodeInternals:o}=n();o.forEach(i=>{i.positionAbsolute=Dw(i.position,r)}),e({nodeExtent:r,nodeInternals:new Map(o)})},panBy:r=>{const{transform:o,width:i,height:s,d3Zoom:a,d3Selection:l,translateExtent:c}=n();if(!a||!l||!r.x&&!r.y)return!1;const u=qo.translate(o[0]+r.x,o[1]+r.y).scale(o[2]),h=[[0,0],[i,s]],f=a==null?void 0:a.constrain()(u,h,c);return a.transform(l,f),o[0]!==f.x||o[1]!==f.y||o[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Di.connectionNodeId,connectionHandleId:Di.connectionHandleId,connectionHandleType:Di.connectionHandleType,connectionStatus:Di.connectionStatus,connectionStartHandle:Di.connectionStartHandle,connectionEndHandle:Di.connectionEndHandle}),reset:()=>e({...Di})}),Object.is),YP=({children:e})=>{const n=g.useRef(null);return n.current||(n.current=gG()),B.createElement(OW,{value:n.current},e)};YP.displayName="ReactFlowProvider";const XP=({children:e})=>g.useContext(km)?B.createElement(B.Fragment,null,e):B.createElement(YP,null,e);XP.displayName="ReactFlowWrapper";const yG={input:TP,default:f0,output:PP,group:Bw},xG={default:yp,straight:zw,step:$w,smoothstep:_m,simplebezier:Lw},vG=[0,0],wG=[15,15],bG={x:0,y:0,zoom:1},SG={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},QP=g.forwardRef(({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,className:i,nodeTypes:s=yG,edgeTypes:a=xG,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:h,onMoveStart:f,onMoveEnd:m,onConnect:p,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:_,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:j,onNodeDragStop:A,onNodesDelete:E,onEdgesDelete:I,onSelectionChange:O,onSelectionDragStart:U,onSelectionDrag:P,onSelectionDragStop:F,onSelectionContextMenu:L,onSelectionStart:W,onSelectionEnd:$,connectionMode:R=Ca.Strict,connectionLineType:T=Xi.Bezier,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:M,deleteKeyCode:G="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:re=!1,selectionMode:Y=hd.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:te=mp()?"Meta":"Control",zoomActivationKeyCode:ae=mp()?"Meta":"Control",snapToGrid:le=!1,snapGrid:Se=wG,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:ye=!0,nodesDraggable:se,nodesConnectable:Ee,nodesFocusable:Pe,nodeOrigin:ie=vG,edgesFocusable:$e,edgesUpdatable:Ye,elementsSelectable:Qe,defaultViewport:ut=bG,minZoom:qe=.5,maxZoom:Zt=2,translateExtent:gt=p0,preventScrolling:J=!0,nodeExtent:V,defaultMarkerColor:Z="#b1b1b7",zoomOnScroll:ve=!0,zoomOnPinch:_e=!0,panOnScroll:Ie=!1,panOnScrollSpeed:De=.5,panOnScrollMode:ze=ta.Free,zoomOnDoubleClick:Ae=!0,panOnDrag:He=!0,onPaneClick:Ge,onPaneMouseEnter:rt,onPaneMouseMove:Je,onPaneMouseLeave:Ht,onPaneScroll:Sn,onPaneContextMenu:no,children:Zn,onEdgeContextMenu:$t,onEdgeDoubleClick:kn,onEdgeMouseEnter:Ve,onEdgeMouseMove:ot,onEdgeMouseLeave:ft,onEdgeUpdate:Ct,onEdgeUpdateStart:en,onEdgeUpdateEnd:er,onReconnect:yn,onReconnectStart:ln,onReconnectEnd:zn,reconnectRadius:ti=10,edgeUpdaterRadius:zt=10,onNodesChange:tn,onEdgesChange:cn,noDragClassName:zs="nodrag",noWheelClassName:Xm="nowheel",noPanClassName:Fs="nopan",fitView:Qm=!1,fitViewOptions:Jm,connectOnClick:Zm=!0,attributionPosition:eg,proOptions:Ec,defaultEdgeOptions:Zd,elevateNodesOnSelect:tg=!0,elevateEdgesOnSelect:K=!1,disableKeyboardA11y:X=!1,autoPanOnConnect:ne=!0,autoPanOnNodeDrag:fe=!0,connectionRadius:we=20,isValidConnection:ce,onError:We,style:Ce,id:yt,nodeDragThreshold:un,...Yt},nn)=>{const ro=yt||"1";return B.createElement("div",{...Yt,style:{...Ce,...SG},ref:nn,className:jn(["react-flow",i]),"data-testid":"rf__wrapper",id:yt},B.createElement(XP,null,B.createElement(mG,{onInit:u,onMove:h,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:_,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:a,connectionLineType:T,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:M,selectionKeyCode:ee,selectionOnDrag:re,selectionMode:Y,deleteKeyCode:G,multiSelectionKeyCode:te,panActivationKeyCode:ue,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Be,selectNodesOnDrag:ye,defaultViewport:ut,translateExtent:gt,minZoom:qe,maxZoom:Zt,preventScrolling:J,zoomOnScroll:ve,zoomOnPinch:_e,zoomOnDoubleClick:Ae,panOnScroll:Ie,panOnScrollSpeed:De,panOnScrollMode:ze,panOnDrag:He,onPaneClick:Ge,onPaneMouseEnter:rt,onPaneMouseMove:Je,onPaneMouseLeave:Ht,onPaneScroll:Sn,onPaneContextMenu:no,onSelectionContextMenu:L,onSelectionStart:W,onSelectionEnd:$,onEdgeContextMenu:$t,onEdgeDoubleClick:kn,onEdgeMouseEnter:Ve,onEdgeMouseMove:ot,onEdgeMouseLeave:ft,onReconnect:yn??Ct,onReconnectStart:ln??en,onReconnectEnd:zn??er,reconnectRadius:ti??zt,defaultMarkerColor:Z,noDragClassName:zs,noWheelClassName:Xm,noPanClassName:Fs,elevateEdgesOnSelect:K,rfId:ro,disableKeyboardA11y:X,nodeOrigin:ie,nodeExtent:V}),B.createElement(dq,{nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:p,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:se,nodesConnectable:Ee,nodesFocusable:Pe,edgesFocusable:$e,edgesUpdatable:Ye,elementsSelectable:Qe,elevateNodesOnSelect:tg,minZoom:qe,maxZoom:Zt,nodeExtent:V,onNodesChange:tn,onEdgesChange:cn,snapToGrid:le,snapGrid:Se,connectionMode:R,translateExtent:gt,connectOnClick:Zm,defaultEdgeOptions:Zd,fitView:Qm,fitViewOptions:Jm,onNodesDelete:E,onEdgesDelete:I,onNodeDragStart:C,onNodeDrag:j,onNodeDragStop:A,onSelectionDrag:P,onSelectionDragStart:U,onSelectionDragStop:F,noPanClassName:Fs,nodeOrigin:ie,rfId:ro,autoPanOnConnect:ne,autoPanOnNodeDrag:fe,onError:We,connectionRadius:we,isValidConnection:ce,nodeDragThreshold:un}),B.createElement(cq,{onSelectionChange:O}),Zn,B.createElement(LW,{proOptions:Ec,position:eg}),B.createElement(gq,{rfId:ro,disableKeyboardA11y:X})))});QP.displayName="ReactFlow";function JP(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,i]of e)if(!Object.is(i,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}const ZP=({id:e,x:n,y:r,width:o,height:i,style:s,color:a,strokeColor:l,strokeWidth:c,className:u,borderRadius:h,shapeRendering:f,onClick:m,selected:p})=>{const{background:v,backgroundColor:x}=s||{},b=a||v||x;return B.createElement("rect",{className:jn(["react-flow__minimap-node",{selected:p},u]),x:n,y:r,rx:h,ry:h,width:o,height:i,fill:b,stroke:l,strokeWidth:c,shapeRendering:f,onClick:m?y=>m(y,e):void 0})};ZP.displayName="MiniMapNode";var kG=g.memo(ZP);const _G=e=>e.nodeOrigin,NG=e=>e.getNodes().filter(n=>!n.hidden&&n.width&&n.height),ay=e=>e instanceof Function?e:()=>e;function CG({nodeStrokeColor:e="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:i=2,nodeComponent:s=kG,onClick:a}){const l=Tt(NG,JP),c=Tt(_G),u=ay(n),h=ay(e),f=ay(r),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.createElement(B.Fragment,null,l.map(p=>{const{x:v,y:x}=pa(p,c).positionAbsolute;return B.createElement(s,{key:p.id,x:v,y:x,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:o,strokeColor:h(p),strokeWidth:i,shapeRendering:m,onClick:a,id:p.id})}))}var EG=g.memo(CG);const jG=200,TG=150,AG=e=>{const n=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:n.length>0?FW(Nm(n,e.nodeOrigin),r):r,rfId:e.rfId}},PG="react-flow__minimap-desc";function eM({style:e,className:n,nodeStrokeColor:r="transparent",nodeColor:o="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:a=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:h=1,position:f="bottom-right",onClick:m,onNodeClick:p,pannable:v=!1,zoomable:x=!1,ariaLabel:b="React Flow mini map",inversePan:y=!1,zoomStep:w=10,offsetScale:S=5}){const k=gn(),_=g.useRef(null),{boundingRect:N,viewBB:C,rfId:j}=Tt(AG,JP),A=(e==null?void 0:e.width)??jG,E=(e==null?void 0:e.height)??TG,I=N.width/A,O=N.height/E,U=Math.max(I,O),P=U*A,F=U*E,L=S*U,W=N.x-(P-N.width)/2-L,$=N.y-(F-N.height)/2-L,R=P+L*2,T=F+L*2,D=`${PG}-${j}`,z=g.useRef(0);z.current=U,g.useEffect(()=>{if(_.current){const ee=Vn(_.current),re=te=>{const{transform:ae,d3Selection:le,d3Zoom:Se}=k.getState();if(te.sourceEvent.type!=="wheel"||!le||!Se)return;const Be=-te.sourceEvent.deltaY*(te.sourceEvent.deltaMode===1?.05:te.sourceEvent.deltaMode?1:.002)*w,ye=ae[2]*Math.pow(2,Be);Se.scaleTo(le,ye)},Y=te=>{const{transform:ae,d3Selection:le,d3Zoom:Se,translateExtent:Be,width:ye,height:se}=k.getState();if(te.sourceEvent.type!=="mousemove"||!le||!Se)return;const Ee=z.current*Math.max(1,ae[2])*(y?-1:1),Pe={x:ae[0]-te.sourceEvent.movementX*Ee,y:ae[1]-te.sourceEvent.movementY*Ee},ie=[[0,0],[ye,se]],$e=qo.translate(Pe.x,Pe.y).scale(ae[2]),Ye=Se.constrain()($e,ie,Be);Se.transform(le,Ye)},ue=Rw().on("zoom",v?Y:null).on("zoom.wheel",x?re:null);return ee.call(ue),()=>{ee.on("zoom",null)}}},[v,x,y,w]);const M=m?ee=>{const re=Ur(ee);m(ee,{x:re[0],y:re[1]})}:void 0,G=p?(ee,re)=>{const Y=k.getState().nodeInternals.get(re);p(ee,Y)}:void 0;return B.createElement(Iw,{position:f,style:e,className:jn(["react-flow__minimap",n]),"data-testid":"rf__minimap"},B.createElement("svg",{width:A,height:E,viewBox:`${W} ${$} ${R} ${T}`,role:"img","aria-labelledby":D,ref:_,onClick:M},b&&B.createElement("title",{id:D},b),B.createElement(EG,{onClick:G,nodeColor:o,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:l}),B.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-L},${$-L}h${R+L*2}v${T+L*2}h${-R-L*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:h,pointerEvents:"none"})))}eM.displayName="MiniMap";var MG=g.memo(eM);function RG(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,i]of e)if(!Object.is(i,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}function IG(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},B.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function OG(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},B.createElement("path",{d:"M0 0h32v4.2H0z"}))}function DG(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function LG(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function $G(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const du=({children:e,className:n,...r})=>B.createElement("button",{type:"button",className:jn(["react-flow__controls-button",n]),...r},e);du.displayName="ControlButton";const zG=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),tM=({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:l,onInteractiveChange:c,className:u,children:h,position:f="bottom-left"})=>{const m=gn(),[p,v]=g.useState(!1),{isInteractive:x,minZoomReached:b,maxZoomReached:y}=Tt(zG,RG),{zoomIn:w,zoomOut:S,fitView:k}=Hw();if(g.useEffect(()=>{v(!0)},[]),!p)return null;const _=()=>{w(),s==null||s()},N=()=>{S(),a==null||a()},C=()=>{k(i),l==null||l()},j=()=>{m.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return B.createElement(Iw,{className:jn(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},n&&B.createElement(B.Fragment,null,B.createElement(du,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},B.createElement(IG,null)),B.createElement(du,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},B.createElement(OG,null))),r&&B.createElement(du,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},B.createElement(DG,null)),o&&B.createElement(du,{className:"react-flow__controls-interactive",onClick:j,title:"toggle interactivity","aria-label":"toggle interactivity"},x?B.createElement($G,null):B.createElement(LG,null)),h)};tM.displayName="Controls";var FG=g.memo(tM);function UG(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,i]of e)if(!Object.is(i,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var Jr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jr||(Jr={}));function BG({color:e,dimensions:n,lineWidth:r}){return B.createElement("path",{stroke:e,strokeWidth:r,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function HG({color:e,radius:n}){return B.createElement("circle",{cx:n,cy:n,r:n,fill:e})}const VG={[Jr.Dots]:"#91919a",[Jr.Lines]:"#eee",[Jr.Cross]:"#e2e2e2"},WG={[Jr.Dots]:1,[Jr.Lines]:1,[Jr.Cross]:6},qG=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function nM({id:e,variant:n=Jr.Dots,gap:r=20,size:o,lineWidth:i=1,offset:s=2,color:a,style:l,className:c}){const u=g.useRef(null),{transform:h,patternId:f}=Tt(qG,UG),m=a||VG[n],p=o||WG[n],v=n===Jr.Dots,x=n===Jr.Cross,b=Array.isArray(r)?r:[r,r],y=[b[0]*h[2]||1,b[1]*h[2]||1],w=p*h[2],S=x?[w,w]:y,k=v?[w/s,w/s]:[S[0]/s,S[1]/s];return B.createElement("svg",{className:jn(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},B.createElement("pattern",{id:f+e,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},v?B.createElement(HG,{color:m,radius:w/s}):B.createElement(BG,{dimensions:S,color:m,lineWidth:i})),B.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}nM.displayName="Background";var GG=g.memo(nM);const KG=yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=g.forwardRef(({className:e,variant:n,size:r,asChild:o=!1,...i},s)=>{const a=o?qO:"button";return d.jsx(a,{className:me(KG({variant:n,size:r,className:e})),ref:s,...i})});be.displayName="Button";let YG=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,r)=>(r&=63,r<36?n+=r.toString(36):r<62?n+=(r-26).toString(36).toUpperCase():r>62?n+="-":n+="_",n),"");const xp=dm(e=>({selectedAgentId:null,selectAgent:n=>e({selectedAgentId:n})})),XG={idle:"bg-muted",working:"bg-atlas-success",error:"bg-destructive"};function QG({id:e,data:n,selected:r}){const o=xp(c=>c.selectAgent),i=XG[n.status]??"bg-muted",s=!!n.isTalking,a=n.sourceId??e,l=!!n.isVirtual;return d.jsxs("div",{onClick:()=>o(a),className:`px-6 py-3 rounded-full border flex items-center gap-3 cursor-pointer transition-all hover:shadow-lg hover:shadow-primary/20 min-w-[200px] ${r?"bg-card border-primary shadow-lg shadow-primary/30":"bg-card border-border hover:border-primary/50"} ${s?"ring-2 ring-amber-400 ring-offset-2 ring-offset-background":""} ${l?"opacity-90 backdrop-blur-sm":""}`,children:[d.jsx(Ps,{type:"target",position:Re.Left,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20"}),d.jsx("div",{className:`w-2 h-2 rounded-full ${i}`}),d.jsx(zE,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{className:"flex flex-col flex-1",children:[d.jsx("span",{className:"text-sm font-medium text-foreground",children:n.name}),d.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[140px]",children:n.role})]}),s&&d.jsx("span",{className:"text-xs mr-1",children:""}),d.jsx(Ps,{type:"source",position:Re.Right,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20 ml-2"})]})}const qt=g.forwardRef(({className:e,type:n,...r},o)=>d.jsx("input",{type:n,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));qt.displayName="Input";var JG="Label",rM=g.forwardRef((e,n)=>d.jsx(Le.label,{...e,ref:n,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rM.displayName=JG;var oM=rM;const ZG=yc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lt=g.forwardRef(({className:e,...n},r)=>d.jsx(oM,{ref:r,className:me(ZG(),e),...n}));lt.displayName=oM.displayName;const cr=g.forwardRef(({className:e,...n},r)=>d.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));cr.displayName="Textarea";function m0(e,[n,r]){return Math.min(r,Math.max(n,e))}function iM(e){const n=g.useRef({value:e,previous:e});return g.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var eK=[" ","Enter","ArrowUp","ArrowDown"],tK=[" ","Enter"],Ea="Select",[Cm,Em,nK]=Qp(Ea),[_c,tle]=Ir(Ea,[nK,bc]),jm=bc(),[rK,Ds]=_c(Ea),[oK,iK]=_c(Ea),sM=e=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:p,form:v}=e,x=jm(n),[b,y]=g.useState(null),[w,S]=g.useState(null),[k,_]=g.useState(!1),N=Od(u),[C,j]=Ni({prop:o,defaultProp:i??!1,onChange:s,caller:Ea}),[A,E]=Ni({prop:a,defaultProp:l,onChange:c,caller:Ea}),I=g.useRef(null),O=b?v||!!b.closest("form"):!0,[U,P]=g.useState(new Set),F=Array.from(U).map(L=>L.props.value).join(";");return d.jsx(aw,{...x,children:d.jsxs(rK,{required:p,scope:n,trigger:b,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:_,contentId:wo(),value:A,onValueChange:E,open:C,onOpenChange:j,dir:N,triggerPointerDownPosRef:I,disabled:m,children:[d.jsx(Cm.Provider,{scope:n,children:d.jsx(oK,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{P(W=>new Set(W).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{P(W=>{const $=new Set(W);return $.delete(L),$})},[]),children:r})}),O?d.jsxs(AM,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:L=>E(L.target.value),disabled:m,form:v,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};sM.displayName=Ea;var aM="SelectTrigger",lM=g.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:o=!1,...i}=e,s=jm(r),a=Ds(aM,r),l=a.disabled||o,c=nt(n,a.onTriggerChange),u=Em(r),h=g.useRef("touch"),[f,m,p]=MM(x=>{const b=u().filter(S=>!S.disabled),y=b.find(S=>S.value===a.value),w=RM(b,x,y);w!==void 0&&a.onValueChange(w.value)}),v=x=>{l||(a.onOpenChange(!0),p()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(lw,{asChild:!0,...s,children:d.jsx(Le.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":PM(a.value)?"":void 0,...i,ref:c,onClick:xe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&v(x)}),onPointerDown:xe(i.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:xe(i.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&eK.includes(x.key)&&(v(),x.preventDefault())})})})});lM.displayName=aM;var cM="SelectValue",uM=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:i,children:s,placeholder:a="",...l}=e,c=Ds(cM,r),{onValueNodeHasChildrenChange:u}=c,h=s!==void 0,f=nt(n,c.onValueNodeChange);return bn(()=>{u(h)},[u,h]),d.jsx(Le.span,{...l,ref:f,style:{pointerEvents:"none"},children:PM(c.value)?d.jsx(d.Fragment,{children:a}):s})});uM.displayName=cM;var sK="SelectIcon",dM=g.forwardRef((e,n)=>{const{__scopeSelect:r,children:o,...i}=e;return d.jsx(Le.span,{"aria-hidden":!0,...i,ref:n,children:o||""})});dM.displayName=sK;var aK="SelectPortal",fM=e=>d.jsx(Ad,{asChild:!0,...e});fM.displayName=aK;var ja="SelectContent",hM=g.forwardRef((e,n)=>{const r=Ds(ja,e.__scopeSelect),[o,i]=g.useState();if(bn(()=>{i(new DocumentFragment)},[]),!r.open){const s=o;return s?Ra.createPortal(d.jsx(pM,{scope:e.__scopeSelect,children:d.jsx(Cm.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),s):null}return d.jsx(mM,{...e,ref:n})});hM.displayName=ja;var lo=10,[pM,Ls]=_c(ja),lK="SelectContentImpl",cK=ba("SelectContent.RemoveScroll"),mM=g.forwardRef((e,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:b,...y}=e,w=Ds(ja,r),[S,k]=g.useState(null),[_,N]=g.useState(null),C=nt(n,Y=>k(Y)),[j,A]=g.useState(null),[E,I]=g.useState(null),O=Em(r),[U,P]=g.useState(!1),F=g.useRef(!1);g.useEffect(()=>{if(S)return yw(S)},[S]),gw();const L=g.useCallback(Y=>{const[ue,...te]=O().map(Se=>Se.ref.current),[ae]=te.slice(-1),le=document.activeElement;for(const Se of Y)if(Se===le||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===ue&&_&&(_.scrollTop=0),Se===ae&&_&&(_.scrollTop=_.scrollHeight),Se==null||Se.focus(),document.activeElement!==le))return},[O,_]),W=g.useCallback(()=>L([j,S]),[L,j,S]);g.useEffect(()=>{U&&W()},[U,W]);const{onOpenChange:$,triggerPointerDownPosRef:R}=w;g.useEffect(()=>{if(S){let Y={x:0,y:0};const ue=ae=>{var le,Se;Y={x:Math.abs(Math.round(ae.pageX)-(((le=R.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((Se=R.current)==null?void 0:Se.y)??0))}},te=ae=>{Y.x<=10&&Y.y<=10?ae.preventDefault():S.contains(ae.target)||$(!1),document.removeEventListener("pointermove",ue),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",te,{capture:!0})}}},[S,$,R]),g.useEffect(()=>{const Y=()=>$(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[$]);const[T,D]=MM(Y=>{const ue=O().filter(le=>!le.disabled),te=ue.find(le=>le.ref.current===document.activeElement),ae=RM(ue,Y,te);ae&&setTimeout(()=>ae.ref.current.focus())}),z=g.useCallback((Y,ue,te)=>{const ae=!F.current&&!te;(w.value!==void 0&&w.value===ue||ae)&&(A(Y),ae&&(F.current=!0))},[w.value]),M=g.useCallback(()=>S==null?void 0:S.focus(),[S]),G=g.useCallback((Y,ue,te)=>{const ae=!F.current&&!te;(w.value!==void 0&&w.value===ue||ae)&&I(Y)},[w.value]),ee=o==="popper"?g0:gM,re=ee===g0?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:b}:{};return d.jsx(pM,{scope:r,content:S,viewport:_,onViewportChange:N,itemRefCallback:z,selectedItem:j,onItemLeave:M,itemTextRefCallback:G,focusSelectedItem:W,selectedItemText:E,position:o,isPositioned:U,searchRef:T,children:d.jsx(mm,{as:cK,allowPinchZoom:!0,children:d.jsx(fm,{asChild:!0,trapped:w.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:xe(i,Y=>{var ue;(ue=w.trigger)==null||ue.focus({preventScroll:!0}),Y.preventDefault()}),children:d.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(ee,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Y=>Y.preventDefault(),...y,...re,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,Y=>{const ue=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ue&&Y.key.length===1&&D(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ae=O().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const le=Y.target,Se=ae.indexOf(le);ae=ae.slice(Se+1)}setTimeout(()=>L(ae)),Y.preventDefault()}})})})})})})});mM.displayName=lK;var uK="SelectItemAlignedPosition",gM=g.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:o,...i}=e,s=Ds(ja,r),a=Ls(ja,r),[l,c]=g.useState(null),[u,h]=g.useState(null),f=nt(n,C=>h(C)),m=Em(r),p=g.useRef(!1),v=g.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:y,focusSelectedItem:w}=a,S=g.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&b&&y){const C=s.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(s.dir!=="rtl"){const le=E.left-j.left,Se=A.left-le,Be=C.left-Se,ye=C.width+Be,se=Math.max(ye,j.width),Ee=window.innerWidth-lo,Pe=m0(Se,[lo,Math.max(lo,Ee-se)]);l.style.minWidth=ye+"px",l.style.left=Pe+"px"}else{const le=j.right-E.right,Se=window.innerWidth-A.right-le,Be=window.innerWidth-C.right-Se,ye=C.width+Be,se=Math.max(ye,j.width),Ee=window.innerWidth-lo,Pe=m0(Se,[lo,Math.max(lo,Ee-se)]);l.style.minWidth=ye+"px",l.style.right=Pe+"px"}const I=m(),O=window.innerHeight-lo*2,U=x.scrollHeight,P=window.getComputedStyle(u),F=parseInt(P.borderTopWidth,10),L=parseInt(P.paddingTop,10),W=parseInt(P.borderBottomWidth,10),$=parseInt(P.paddingBottom,10),R=F+L+U+$+W,T=Math.min(b.offsetHeight*5,R),D=window.getComputedStyle(x),z=parseInt(D.paddingTop,10),M=parseInt(D.paddingBottom,10),G=C.top+C.height/2-lo,ee=O-G,re=b.offsetHeight/2,Y=b.offsetTop+re,ue=F+L+Y,te=R-ue;if(ue<=G){const le=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const Se=u.clientHeight-x.offsetTop-x.offsetHeight,Be=Math.max(ee,re+(le?M:0)+Se+W),ye=ue+Be;l.style.height=ye+"px"}else{const le=I.length>0&&b===I[0].ref.current;l.style.top="0px";const Be=Math.max(G,F+x.offsetTop+(le?z:0)+re)+te;l.style.height=Be+"px",x.scrollTop=ue-G+x.offsetTop}l.style.margin=`${lo}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=O+"px",o==null||o(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,l,u,x,b,y,s.dir,o]);bn(()=>S(),[S]);const[k,_]=g.useState();bn(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=g.useCallback(C=>{C&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return d.jsx(fK,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:d.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:d.jsx(Le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gM.displayName=uK;var dK="SelectPopperPosition",g0=g.forwardRef((e,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=lo,...s}=e,a=jm(r);return d.jsx(cw,{...a,...s,ref:n,align:o,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g0.displayName=dK;var[fK,Ww]=_c(ja,{}),y0="SelectViewport",yM=g.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:o,...i}=e,s=Ls(y0,r),a=Ww(y0,r),l=nt(n,s.onViewportChange),c=g.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Cm.Slot,{scope:r,children:d.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const v=window.innerHeight-lo*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(x,b);if(y<v){const w=y+p,S=Math.min(v,w),k=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});yM.displayName=y0;var xM="SelectGroup",[hK,pK]=_c(xM),mK=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,i=wo();return d.jsx(hK,{scope:r,id:i,children:d.jsx(Le.div,{role:"group","aria-labelledby":i,...o,ref:n})})});mK.displayName=xM;var vM="SelectLabel",wM=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,i=pK(vM,r);return d.jsx(Le.div,{id:i.id,...o,ref:n})});wM.displayName=vM;var vp="SelectItem",[gK,bM]=_c(vp),SM=g.forwardRef((e,n)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:s,...a}=e,l=Ds(vp,r),c=Ls(vp,r),u=l.value===o,[h,f]=g.useState(s??""),[m,p]=g.useState(!1),v=nt(n,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,o,i)}),x=wo(),b=g.useRef("touch"),y=()=>{i||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(gK,{scope:r,value:o,disabled:i,textId:x,isSelected:u,onItemTextChange:g.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(Cm.ItemSlot,{scope:r,value:o,disabled:i,textValue:h,children:d.jsx(Le.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:xe(a.onFocus,()=>p(!0)),onBlur:xe(a.onBlur,()=>p(!1)),onClick:xe(a.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:xe(a.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:xe(a.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:xe(a.onPointerMove,w=>{var S;b.current=w.pointerType,i?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:xe(a.onKeyDown,w=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(tK.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});SM.displayName=vp;var fu="SelectItemText",kM=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:i,...s}=e,a=Ds(fu,r),l=Ls(fu,r),c=bM(fu,r),u=iK(fu,r),[h,f]=g.useState(null),m=nt(n,y=>f(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),p=h==null?void 0:h.textContent,v=g.useMemo(()=>d.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return bn(()=>(x(v),()=>b(v)),[x,b,v]),d.jsxs(d.Fragment,{children:[d.jsx(Le.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ra.createPortal(s.children,a.valueNode):null]})});kM.displayName=fu;var _M="SelectItemIndicator",NM=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return bM(_M,r).isSelected?d.jsx(Le.span,{"aria-hidden":!0,...o,ref:n}):null});NM.displayName=_M;var x0="SelectScrollUpButton",CM=g.forwardRef((e,n)=>{const r=Ls(x0,e.__scopeSelect),o=Ww(x0,e.__scopeSelect),[i,s]=g.useState(!1),a=nt(n,o.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?d.jsx(jM,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});CM.displayName=x0;var v0="SelectScrollDownButton",EM=g.forwardRef((e,n)=>{const r=Ls(v0,e.__scopeSelect),o=Ww(v0,e.__scopeSelect),[i,s]=g.useState(!1),a=nt(n,o.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;s(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?d.jsx(jM,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});EM.displayName=v0;var jM=g.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=e,s=Ls("SelectScrollButton",r),a=g.useRef(null),l=Em(r),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),bn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),d.jsx(Le.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(o,50))}),onPointerMove:xe(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(o,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{c()})})}),yK="SelectSeparator",TM=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return d.jsx(Le.div,{"aria-hidden":!0,...o,ref:n})});TM.displayName=yK;var w0="SelectArrow",xK=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,i=jm(r),s=Ds(w0,r),a=Ls(w0,r);return s.open&&a.position==="popper"?d.jsx(uw,{...i,...o,ref:n}):null});xK.displayName=w0;var vK="SelectBubbleInput",AM=g.forwardRef(({__scopeSelect:e,value:n,...r},o)=>{const i=g.useRef(null),s=nt(o,i),a=iM(n);return g.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[a,n]),d.jsx(Le.select,{...r,style:{...pE,...r.style},ref:s,defaultValue:n})});AM.displayName=vK;function PM(e){return e===""||e===void 0}function MM(e){const n=Qt(e),r=g.useRef(""),o=g.useRef(0),i=g.useCallback(a=>{const l=r.current+a;n(l),function c(u){r.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>c(""),1e3))}(l)},[n]),s=g.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,s]}function RM(e,n,r){const i=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,s=r?e.indexOf(r):-1;let a=wK(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function wK(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var bK=sM,IM=lM,SK=uM,kK=dM,_K=fM,OM=hM,NK=yM,DM=wM,LM=SM,CK=kM,EK=NM,$M=CM,zM=EM,FM=TM;const Tm=bK,Am=SK,Hd=g.forwardRef(({className:e,children:n,...r},o)=>d.jsxs(IM,{ref:o,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,d.jsx(kK,{asChild:!0,children:d.jsx(vs,{className:"h-4 w-4 opacity-50"})})]}));Hd.displayName=IM.displayName;const UM=g.forwardRef(({className:e,...n},r)=>d.jsx($M,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...n,children:d.jsx(BE,{className:"h-4 w-4"})}));UM.displayName=$M.displayName;const BM=g.forwardRef(({className:e,...n},r)=>d.jsx(zM,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...n,children:d.jsx(vs,{className:"h-4 w-4"})}));BM.displayName=zM.displayName;const Vd=g.forwardRef(({className:e,children:n,position:r="popper",...o},i)=>d.jsx(_K,{children:d.jsxs(OM,{ref:i,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[d.jsx(UM,{}),d.jsx(NK,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),d.jsx(BM,{})]})}));Vd.displayName=OM.displayName;const jK=g.forwardRef(({className:e,...n},r)=>d.jsx(DM,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));jK.displayName=DM.displayName;const rc=g.forwardRef(({className:e,children:n,...r},o)=>d.jsxs(LM,{ref:o,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(EK,{children:d.jsx(Kv,{className:"h-4 w-4"})})}),d.jsx(CK,{children:n})]}));rc.displayName=LM.displayName;const TK=g.forwardRef(({className:e,...n},r)=>d.jsx(FM,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...n}));TK.displayName=FM.displayName;var AK="Separator",qk="horizontal",PK=["horizontal","vertical"],HM=g.forwardRef((e,n)=>{const{decorative:r,orientation:o=qk,...i}=e,s=MK(o)?o:qk,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(Le.div,{"data-orientation":s,...l,...i,ref:n})});HM.displayName=AK;function MK(e){return PK.includes(e)}var VM=HM;const Wd=g.forwardRef(({className:e,orientation:n="horizontal",decorative:r=!0,...o},i)=>d.jsx(VM,{ref:i,decorative:r,orientation:n,className:me("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));Wd.displayName=VM.displayName;var Pm="Switch",[RK,nle]=Ir(Pm),[IK,OK]=RK(Pm),WM=g.forwardRef((e,n)=>{const{__scopeSwitch:r,name:o,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[m,p]=g.useState(null),v=nt(n,S=>p(S)),x=g.useRef(!1),b=m?h||!!m.closest("form"):!0,[y,w]=Ni({prop:i,defaultProp:s??!1,onChange:u,caller:Pm});return d.jsxs(IK,{scope:r,checked:y,disabled:l,children:[d.jsx(Le.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":YM(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:xe(e.onClick,S=>{w(k=>!k),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&d.jsx(KM,{control:m,bubbles:!x.current,name:o,value:c,checked:y,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});WM.displayName=Pm;var qM="SwitchThumb",GM=g.forwardRef((e,n)=>{const{__scopeSwitch:r,...o}=e,i=OK(qM,r);return d.jsx(Le.span,{"data-state":YM(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:n})});GM.displayName=qM;var DK="SwitchBubbleInput",KM=g.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:o=!0,...i},s)=>{const a=g.useRef(null),l=nt(a,s),c=iM(r),u=kj(n);return g.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const v=new Event("click",{bubbles:o});p.call(h,r),h.dispatchEvent(v)}},[c,r,o]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KM.displayName=DK;function YM(e){return e?"checked":"unchecked"}var XM=WM,LK=GM;const oc=g.forwardRef(({className:e,...n},r)=>d.jsx(XM,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...n,ref:r,children:d.jsx(LK,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));oc.displayName=XM.displayName;const $K="flex flex-col gap-2";function zK({description:e,tooltip:n,secure:r}){return!e&&!n&&!r?null:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r&&d.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-500/10 px-2 py-0.5 text-amber-200",children:[d.jsx(rL,{className:"h-3 w-3"}),"Secret"]}),e&&d.jsx("span",{children:e}),n&&d.jsxs(N6,{children:[d.jsx(C6,{asChild:!0,children:d.jsx(YE,{className:"h-3.5 w-3.5 cursor-help"})}),d.jsx(Uj,{side:"top",children:n})]})]})}function QM({schema:e,values:n,defaults:r,disabled:o,onChange:i}){const s=g.useMemo(()=>({...r,...n}),[r,n]),a=(l,c)=>{const u={...s,[l]:c};i(u)};return e.length?d.jsx("div",{className:"flex flex-col gap-4",children:e.map(l=>{const c=s[l.key],u=l.placeholder??(l.required?"Required":"Optional");return d.jsxs("div",{className:$K,children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(lt,{className:"text-sm font-medium text-foreground",htmlFor:`config-${l.key}`,children:[l.label,l.required&&d.jsx("span",{className:"ml-1 text-red-400",children:"*"})]})}),(()=>{switch(l.type){case"textarea":return d.jsx(cr,{id:`config-${l.key}`,value:typeof c=="string"?c:"",onChange:h=>a(l.key,h.target.value),placeholder:u,disabled:o,className:"resize-none"});case"boolean":return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oc,{id:`config-${l.key}`,checked:!!c,onCheckedChange:h=>a(l.key,h),disabled:o}),d.jsx(lt,{htmlFor:`config-${l.key}`,className:"text-sm text-muted-foreground",children:u})]});case"select":return d.jsxs(Tm,{value:typeof c=="string"?c:void 0,onValueChange:h=>a(l.key,h),disabled:o,children:[d.jsx(Hd,{id:`config-${l.key}`,children:d.jsx(Am,{placeholder:u})}),d.jsx(Vd,{children:(l.options??[]).map(h=>d.jsx(rc,{value:h,children:h},h))})]});case"number":return d.jsx(qt,{id:`config-${l.key}`,type:"number",value:typeof c=="number"?c:c??"",onChange:h=>a(l.key,Number(h.target.value)),placeholder:u,disabled:o});case"password":return d.jsx(qt,{id:`config-${l.key}`,type:"password",value:typeof c=="string"?c:"",onChange:h=>a(l.key,h.target.value),placeholder:u,disabled:o});case"string":default:return d.jsx(qt,{id:`config-${l.key}`,type:"text",value:typeof c=="string"?c:c??"",onChange:h=>a(l.key,h.target.value),placeholder:u,disabled:o})}})(),zK({description:l.description,tooltip:l.tooltip,secure:l.secure})]},l.key)})}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional configuration is required."})}const FK=["idle","working","error"];function UK({agent:e,onUpdate:n,onDelete:r,isSaving:o,isDeleting:i}){const s=xp(se=>se.selectAgent),[a,l]=g.useState(""),[c,u]=g.useState(""),[h,f]=g.useState(""),[m,p]=g.useState(""),[v,x]=g.useState("idle"),[b,y]=g.useState(!1),[w,S]=g.useState(null),[k,_]=g.useState(!1),[N,C]=g.useState(!1),[j,A]=g.useState([]),[E,I]=g.useState({}),[O,U]=g.useState(""),[P,F]=g.useState(""),[L,W]=g.useState(!1),[$,R]=g.useState(null),[T,D]=g.useState(null),[z,M]=g.useState(!1),{toast:G}=Td();g.useEffect(()=>{var Ee,Pe,ie,$e;if(!e){l(""),u(""),f(""),p(""),x("idle"),S(null);return}l(e.name),u(e.role);const se=Array.isArray(e.objectives)?e.objectives:typeof e.objectives=="string"?[e.objectives]:[];f(se.join(`
`)),p(e.memory_context??""),x(e.status??"idle"),y(!!e.internet_access_enabled),S(null),A(((Ee=e.config)==null?void 0:Ee.schema)??[]),I(((Pe=e.config)==null?void 0:Pe.values)??{}),U(((ie=e.config)==null?void 0:ie.agentType)??e.agent_type??e.role),F((($e=e.config)==null?void 0:$e.summary)??e.config_summary??""),R(null),D(null)},[e]);const{data:ee,isFetching:re}=Ko({queryKey:["agents",e==null?void 0:e.id,"memory"],queryFn:()=>Xe.getAgentMemory(e.id,10),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),{data:Y,isFetching:ue,refetch:te}=Ko({queryKey:["agent-config",e==null?void 0:e.id],queryFn:()=>Xe.fetchAgentConfig(e.id),enabled:!!(e!=null&&e.id),staleTime:6e4});g.useEffect(()=>{Y&&(A(Y.configSchema??[]),I(Y.values??{}),U(Y.agentType??(e==null?void 0:e.agent_type)??(e==null?void 0:e.role)??""),F(Y.description??(e==null?void 0:e.config_summary)??""),R(null),D(null))},[Y,e==null?void 0:e.agent_type,e==null?void 0:e.config_summary,e==null?void 0:e.role]);const ae=g.useMemo(()=>e!=null&&e.tools?Object.entries(e.tools).filter(([se,Ee])=>!!se&&!!Ee).map(([se])=>se):[],[e]),le=async()=>{if(e){_(!0),S(null);try{const se=h.split(/\n/).map(Ee=>Ee.trim()).filter(Boolean);await n(e.id,{name:a.trim(),role:c.trim(),objectives:se,memory_context:m.trim(),status:v,internet_access_enabled:b})}catch(se){S(se instanceof Error?se.message:"Failed to update agent")}finally{_(!1)}}},Se=async()=>{if(e){C(!0),S(null);try{await r(e.id),s(null)}catch(se){S(se instanceof Error?se.message:"Failed to delete agent")}finally{C(!1)}}},Be=async()=>{if(!(!e||j.length===0)){W(!0),R(null),D(null);try{await Xe.updateAgentConfig(e.id,{agentType:O||e.agent_type||e.role,summary:P||e.config_summary||e.role,schema:j,values:E}),R("Configuration saved"),G({title:"Configuration updated",description:`${e.name} can now use its tools.`}),await te()}catch(se){const Ee=se instanceof Error?se.message:"Failed to update configuration";D(Ee),G({title:"Configuration error",description:Ee,variant:"destructive"})}finally{W(!1)}}},ye=async()=>{if(e){M(!0),D(null),R(null);try{const se=await Xe.generateAgentConfig(e.role||e.name,{existingAgents:[],preferredTools:Object.keys(e.tools??{})});A(se.configSchema??[]),I(se.defaults??{}),U(se.agentType??e.agent_type??e.role),F(se.description??e.config_summary??"")}catch(se){const Ee=se instanceof Error?se.message:"Failed to infer configuration";D(Ee),G({title:"Could not infer config",description:Ee,variant:"destructive"})}finally{M(!1)}}};return e?d.jsxs("div",{className:"w-[380px] h-full bg-card border-l border-border flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Manage sandbox access, goals, and routing."})]}),d.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Se,disabled:N||i,children:N||i?d.jsx(Cr,{className:"h-4 w-4 animate-spin"}):d.jsx(em,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"agent-name",children:"Name"}),d.jsx(qt,{id:"agent-name",value:a,onChange:se=>l(se.target.value),className:"bg-background border-border"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"agent-role",children:"Instructions"}),d.jsx(cr,{id:"agent-role",value:c,onChange:se=>u(se.target.value),className:"bg-background border-border min-h-[120px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(lt,{htmlFor:"agent-status",children:"Status"})}),d.jsxs(Tm,{value:v,onValueChange:se=>x(se),children:[d.jsx(Hd,{className:"bg-background border-border",children:d.jsx(Am,{})}),d.jsx(Vd,{className:"bg-popover border-border",children:FK.map(se=>d.jsx(rc,{value:se,className:"capitalize",children:se},se))})]})]}),d.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/60 bg-muted/10 p-3",children:[d.jsxs("div",{children:[d.jsx(lt,{className:"text-sm",children:"Autonomous internet access"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Toggle to allow this agent to call the sandboxed internet module. Disabled by default."})]}),d.jsx(oc,{checked:b,onCheckedChange:y})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"agent-objectives",children:"Objectives"}),d.jsx(cr,{id:"agent-objectives",placeholder:"One per line",value:h,onChange:se=>f(se.target.value),className:"bg-background border-border min-h-[120px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"agent-memory",children:"Memory context"}),d.jsx(cr,{id:"agent-memory",placeholder:"Persistent context shared with the sandbox",value:m,onChange:se=>p(se.target.value),className:"bg-background border-border min-h-[100px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"Tools"}),ae.length===0?d.jsx("p",{className:"text-xs text-muted-foreground",children:"No tools configured"}):d.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map(se=>d.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",children:se},se))})]}),d.jsxs("div",{className:"space-y-3 rounded-lg border border-border/60 bg-muted/10 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(lt,{className:"text-sm",children:"Tool configuration"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Store sandbox credentials securely per agent."})]}),(ue||z)&&d.jsx(Cr,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),T&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[d.jsx(Ju,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:T})]}),j.length===0?d.jsx(be,{variant:"outline",onClick:ye,disabled:z,className:"w-full",children:z?"Detecting configuration...":"Detect configuration fields"}):d.jsxs("div",{className:"space-y-3",children:[d.jsx(QM,{schema:j,values:E,onChange:se=>{I(se),R(null)},defaults:void 0,disabled:L}),d.jsxs("div",{className:"flex items-center justify-between",children:[$&&d.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[d.jsx(Yv,{className:"h-3.5 w-3.5"}),$]}),d.jsx(be,{onClick:Be,disabled:L,children:L?"Saving...":"Save configuration"})]})]})]}),d.jsx(Wd,{}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{children:"Recent memory"}),re&&d.jsx(Cr,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),d.jsxs("div",{className:"space-y-3",children:[((ee==null?void 0:ee.items)??[]).slice(0,5).map(se=>{var Qe;const Ee=((Qe=se.metadata)==null?void 0:Qe.retention)??{},Pe=typeof Ee.reason=="string"?Ee.reason:null,ie=se.memory_type==="short_term"?typeof Ee.expiresAt=="string"?Ee.expiresAt:se.expires_at:null,$e=ie?new Date(ie):null,Ye=se.memory_type==="short_term"?"bg-sky-500/15 text-sky-300 border border-sky-500/40":"bg-emerald-500/15 text-emerald-300 border border-emerald-500/30";return d.jsxs("div",{className:"rounded-lg border border-border/60 bg-muted/20 p-3 space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsx("p",{className:"text-xs text-foreground line-clamp-3",children:se.content}),d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full whitespace-nowrap ${Ye}`,children:se.memory_type==="short_term"?"STM":"LTM"})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-[10px] text-muted-foreground",children:[d.jsx("span",{children:se.memory_type==="short_term"?$e?`Expires ${$e.toLocaleString()}`:"Short-term context":`Captured ${new Date(se.created_at).toLocaleString()}`}),Pe&&d.jsxs("span",{className:"italic",children:["Reason: ",Pe]})]})]},se.id)}),(!ee||ee.items.length===0)&&!re&&d.jsx("p",{className:"text-xs text-muted-foreground",children:"No memory captured yet."})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"Task summary"}),d.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries((ee==null?void 0:ee.taskCounts)??{}).map(([se,Ee])=>d.jsxs("div",{className:"rounded border border-border/60 bg-muted/10 p-2 text-center",children:[d.jsx("p",{className:"font-semibold text-foreground",children:Ee}),d.jsx("p",{className:"text-muted-foreground capitalize",children:se})]},se))})]}),w&&d.jsx("p",{className:"text-xs text-destructive",children:w})]}),d.jsx("div",{className:"border-t border-border/60 p-4",children:d.jsx(be,{onClick:le,disabled:k||o,className:"w-full",children:k||o?"Saving...":"Save changes"})})]}):null}var Mm="Dialog",[JM,rle]=Ir(Mm),[BK,jo]=JM(Mm),ZM=e=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,h]=Ni({prop:o,defaultProp:i??!1,onChange:s,caller:Mm});return d.jsx(BK,{scope:n,triggerRef:l,contentRef:c,contentId:wo(),titleId:wo(),descriptionId:wo(),open:u,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};ZM.displayName=Mm;var eR="DialogTrigger",tR=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,i=jo(eR,r),s=nt(n,i.triggerRef);return d.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kw(i.open),...o,ref:s,onClick:xe(e.onClick,i.onOpenToggle)})});tR.displayName=eR;var qw="DialogPortal",[HK,nR]=JM(qw,{forceMount:void 0}),rR=e=>{const{__scopeDialog:n,forceMount:r,children:o,container:i}=e,s=jo(qw,n);return d.jsx(HK,{scope:n,forceMount:r,children:g.Children.map(o,a=>d.jsx(Xn,{present:r||s.open,children:d.jsx(Ad,{asChild:!0,container:i,children:a})}))})};rR.displayName=qw;var wp="DialogOverlay",oR=g.forwardRef((e,n)=>{const r=nR(wp,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,s=jo(wp,e.__scopeDialog);return s.modal?d.jsx(Xn,{present:o||s.open,children:d.jsx(WK,{...i,ref:n})}):null});oR.displayName=wp;var VK=ba("DialogOverlay.RemoveScroll"),WK=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,i=jo(wp,r);return d.jsx(mm,{as:VK,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Le.div,{"data-state":Kw(i.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),Ta="DialogContent",iR=g.forwardRef((e,n)=>{const r=nR(Ta,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,s=jo(Ta,e.__scopeDialog);return d.jsx(Xn,{present:o||s.open,children:s.modal?d.jsx(qK,{...i,ref:n}):d.jsx(GK,{...i,ref:n})})});iR.displayName=Ta;var qK=g.forwardRef((e,n)=>{const r=jo(Ta,e.__scopeDialog),o=g.useRef(null),i=nt(n,r.contentRef,o);return g.useEffect(()=>{const s=o.current;if(s)return yw(s)},[]),d.jsx(sR,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,s=>s.preventDefault())})}),GK=g.forwardRef((e,n)=>{const r=jo(Ta,e.__scopeDialog),o=g.useRef(!1),i=g.useRef(!1);return d.jsx(sR,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(o.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),sR=g.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=jo(Ta,r),c=g.useRef(null),u=nt(n,c);return gw(),d.jsxs(d.Fragment,{children:[d.jsx(fm,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(gc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(KK,{titleId:l.titleId}),d.jsx(XK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Gw="DialogTitle",aR=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,i=jo(Gw,r);return d.jsx(Le.h2,{id:i.titleId,...o,ref:n})});aR.displayName=Gw;var lR="DialogDescription",cR=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,i=jo(lR,r);return d.jsx(Le.p,{id:i.descriptionId,...o,ref:n})});cR.displayName=lR;var uR="DialogClose",dR=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,i=jo(uR,r);return d.jsx(Le.button,{type:"button",...o,ref:n,onClick:xe(e.onClick,()=>i.onOpenChange(!1))})});dR.displayName=uR;function Kw(e){return e?"open":"closed"}var fR="DialogTitleWarning",[ole,hR]=VO(fR,{contentName:Ta,titleName:Gw,docsSlug:"dialog"}),KK=({titleId:e})=>{const n=hR(fR),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},YK="DialogDescriptionWarning",XK=({contentRef:e,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hR(YK).contentName}}.`;return g.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(o))},[o,e,n]),null},pR=ZM,QK=tR,mR=rR,Rm=oR,Im=iR,Om=aR,Dm=cR,Yw=dR;const JK=pR,ZK=mR,gR=g.forwardRef(({className:e,...n},r)=>d.jsx(Rm,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));gR.displayName=Rm.displayName;const eY=yc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),yR=g.forwardRef(({side:e="right",className:n,children:r,...o},i)=>d.jsxs(ZK,{children:[d.jsx(gR,{}),d.jsxs(Im,{ref:i,className:me(eY({side:e}),n),...o,children:[r,d.jsxs(Yw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(tm,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yR.displayName=Im.displayName;const xR=({className:e,...n})=>d.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...n});xR.displayName="SheetHeader";const vR=g.forwardRef(({className:e,...n},r)=>d.jsx(Om,{ref:r,className:me("text-lg font-semibold text-foreground",e),...n}));vR.displayName=Om.displayName;const wR=g.forwardRef(({className:e,...n},r)=>d.jsx(Dm,{ref:r,className:me("text-sm text-muted-foreground",e),...n}));wR.displayName=Dm.displayName;var Lm="Tabs",[tY,ile]=Ir(Lm,[hm]),bR=hm(),[nY,Xw]=tY(Lm),SR=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Od(l),[f,m]=Ni({prop:o,onChange:i,defaultProp:s??"",caller:Lm});return d.jsx(nY,{scope:r,baseId:wo(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:d.jsx(Le.div,{dir:h,"data-orientation":a,...u,ref:n})})});SR.displayName=Lm;var kR="TabsList",_R=g.forwardRef((e,n)=>{const{__scopeTabs:r,loop:o=!0,...i}=e,s=Xw(kR,r),a=bR(r);return d.jsx(NT,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:o,children:d.jsx(Le.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:n})})});_R.displayName=kR;var NR="TabsTrigger",CR=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,disabled:i=!1,...s}=e,a=Xw(NR,r),l=bR(r),c=TR(a.baseId,o),u=AR(a.baseId,o),h=o===a.value;return d.jsx(CT,{asChild:!0,...l,focusable:!i,active:h,children:d.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:n,onMouseDown:xe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(o):f.preventDefault()}),onKeyDown:xe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(o)}),onFocus:xe(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!i&&f&&a.onValueChange(o)})})})});CR.displayName=NR;var ER="TabsContent",jR=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,forceMount:i,children:s,...a}=e,l=Xw(ER,r),c=TR(l.baseId,o),u=AR(l.baseId,o),h=o===l.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),d.jsx(Xn,{present:i||h,children:({present:m})=>d.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:n,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});jR.displayName=ER;function TR(e,n){return`${e}-trigger-${n}`}function AR(e,n){return`${e}-content-${n}`}var rY=SR,PR=_R,MR=CR,RR=jR;const oY=rY,IR=g.forwardRef(({className:e,...n},r)=>d.jsx(PR,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));IR.displayName=PR.displayName;const b0=g.forwardRef(({className:e,...n},r)=>d.jsx(MR,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...n}));b0.displayName=MR.displayName;const S0=g.forwardRef(({className:e,...n},r)=>d.jsx(RR,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));S0.displayName=RR.displayName;const iY=yc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bo({className:e,variant:n,...r}){return d.jsx("div",{className:me(iY({variant:n}),e),...r})}function sY({open:e,onOpenChange:n,onCreateManual:r,onGenerateFromPrompt:o}){var Pe;const[i,s]=g.useState("natural"),[a,l]=g.useState(""),[c,u]=g.useState("Generalist Agent"),[h,f]=g.useState(""),[m,p]=g.useState(""),[v,x]=g.useState(""),[b,y]=g.useState(!1),[w,S]=g.useState(!1),[k,_]=g.useState(null),[N,C]=g.useState(""),[j,A]=g.useState(!1),[E,I]=g.useState(!1),[O,U]=g.useState(null),[P,F]=g.useState(null),[L,W]=g.useState(null),[$,R]=g.useState({}),[T,D]=g.useState(!1),[z,M]=g.useState(!1),[G,ee]=g.useState(null),[re,Y]=g.useState(!1),{toast:ue}=Td(),te=Rd(),ae=()=>{l(""),u("Generalist Agent"),f(""),p(""),x(""),y(!1),S(!1),_(null),C(""),A(!1),I(!1),U(null),F(null),W(null),R({}),D(!1),M(!1),ee(null),Y(!1),s("natural")},le=ie=>{ie||ae(),n(ie)},Se=async()=>{if(!a.trim()){_("Name is required");return}_(null),S(!0);try{const ie=m.split(/[,\n]/).map(Ye=>Ye.trim()).filter(Boolean).reduce((Ye,Qe)=>(Ye[Qe]=!0,Ye),{}),$e=h.split(/\n/).map(Ye=>Ye.trim()).filter(Boolean);await r({name:a.trim(),role:c.trim()||"Generalist Agent",tools:ie,objectives:$e,memory_context:v.trim()||void 0,internet_access_enabled:b}),ae(),n(!1)}catch(ie){_(ie instanceof Error?ie.message:"Failed to create agent")}finally{S(!1)}},Be=async()=>{var ie,$e;if(!N.trim()){U("Describe the agent you want to build");return}U(null),W(null),R({}),ee(null),Y(!1),I(!0),D(!0);try{const Ye=N.trim(),Qe=await o(Ye,{persist:!0,spawn:j||void 0,creator:"atlas-ui"});F(Qe);try{const ut=await Xe.generateAgentConfig(Ye);W(ut);const qe=ut.defaults??{},Zt=(($e=(ie=Qe.savedAgent)==null?void 0:ie.config)==null?void 0:$e.values)??{};R({...qe,...Zt})}catch(ut){const qe=ut instanceof Error?ut.message:"Failed to infer configuration";W(null),ee(qe)}}catch(Ye){F(null);const Qe=Ye instanceof Error?Ye.message:"Failed to generate agent";U(Qe),ee(Qe)}finally{I(!1),D(!1)}},ye=async()=>{var ie;if(!L||L.configSchema.length===0){ue({title:"No configuration to save",description:"Generate a configuration schema first."});return}ee(null),M(!0),Y(!1);try{const $e={agentType:L.agentType,summary:L.description,schema:L.configSchema,values:$};let Ye=((ie=P==null?void 0:P.savedAgent)==null?void 0:ie.id)??null;if(Ye)await Xe.updateAgent(Ye,{config:$e});else{const Qe=P==null?void 0:P.spec,ut=await Xe.createAgent({name:(Qe==null?void 0:Qe.name)??"Generated Agent",role:(Qe==null?void 0:Qe.description)??"Autonomous Agent",tools:{},objectives:(Qe==null?void 0:Qe.goals)??[],memory_context:(Qe==null?void 0:Qe.description)??"",internet_access_enabled:!1,config:$e});Ye=ut.id,F(qe=>qe&&{...qe,savedAgent:ut})}Y(!0),ue({title:"Configuration saved",description:"Credentials stored for this agent."}),te.invalidateQueries({queryKey:["agents"]})}catch($e){const Ye=$e instanceof Error?$e.message:"Failed to save configuration";ee(Ye),ue({title:"Configuration error",description:Ye,variant:"destructive"})}finally{M(!1)}},se=P==null?void 0:P.spec.securityProfile,Ee=g.useMemo(()=>se?[{label:"Sandbox",value:se.sandbox?"Enabled":"Disabled",highlight:se.sandbox},{label:"Internet",value:se.network.allowInternet?`Allowed (${se.network.domainsAllowed.join(", ")||"all domains"})`:"Disabled",highlight:se.network.allowInternet},{label:"Filesystem",value:`Read ${se.filesystem.read.join(", ")||"none"}  Write ${se.filesystem.write.join(", ")||"none"}`},{label:"Permissions",value:se.permissions.join(", ")||"None"},{label:"Timeout",value:`${se.executionTimeout}s`}]:null,[se]);return d.jsx(JK,{open:e,onOpenChange:le,children:d.jsxs(yR,{side:"right",className:"w-[520px] sm:w-[540px] overflow-y-auto",children:[d.jsxs(xR,{className:"space-y-2",children:[d.jsx(vR,{children:"Create a new agent"}),d.jsx(wR,{children:"Generate a secure agent from natural language or configure one manually with full sandbox controls."})]}),d.jsxs(oY,{value:i,onValueChange:ie=>s(ie),className:"mt-6",children:[d.jsxs(IR,{className:"grid grid-cols-2",children:[d.jsx(b0,{value:"natural",children:"Natural language"}),d.jsx(b0,{value:"manual",children:"Manual setup"})]}),d.jsxs(S0,{value:"natural",className:"mt-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"prompt",children:"Describe your agent"}),d.jsx(cr,{id:"prompt",placeholder:"Create an agent that monitors tech news every morning and emails me a summary",value:N,onChange:ie=>C(ie.target.value),className:"h-32 resize-none"}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oc,{id:"spawn-now",checked:j,onCheckedChange:A}),d.jsx(lt,{htmlFor:"spawn-now",children:"Launch sandbox after creation"})]}),d.jsxs("span",{children:[N.trim().length," characters"]})]})]}),O&&d.jsx("p",{className:"text-xs text-destructive",children:O}),d.jsx(be,{onClick:Be,disabled:E,className:"w-full",children:E?"Generating...":"Generate agent"}),T&&d.jsx("p",{className:"text-xs text-muted-foreground",children:"Inferring required configuration"}),G&&!T&&!L&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[d.jsx(Ju,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:G})]}),L&&d.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Tool configuration"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide credentials and defaults so the agent can act autonomously."})]}),G&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[d.jsx(Ju,{className:"h-3.5 w-3.5"}),d.jsx("span",{children:G})]}),d.jsx(QM,{schema:L.configSchema,values:$,defaults:L.defaults,disabled:z,onChange:ie=>{R(ie),Y(!1)}}),d.jsxs("div",{className:"flex items-center justify-between",children:[re&&d.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[d.jsx(Yv,{className:"h-3.5 w-3.5"}),"Saved"]}),d.jsx(be,{onClick:ye,disabled:z,className:"ml-auto",children:z?"Saving...":"Save configuration"})]})]}),P&&d.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:P.spec.name}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Model: ",P.spec.model]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P.spec.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Goals"}),d.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:P.spec.goals.map(ie=>d.jsx(bo,{variant:"secondary",className:"text-[11px]",children:ie},ie))})]}),Ee&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Security profile"}),d.jsx("div",{className:"mt-2 space-y-2 text-xs",children:Ee.map(ie=>d.jsxs("div",{className:"flex justify-between gap-4",children:[d.jsx("span",{className:"text-muted-foreground",children:ie.label}),d.jsx("span",{className:ie.highlight?"text-atlas-success":"text-foreground",children:ie.value})]},ie.label))})]})]}),d.jsx(Wd,{}),d.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[d.jsxs("p",{children:["Sandbox ID: ",P.spawnResult?P.spawnResult.sandboxId??"pending":"not launched"]}),Array.isArray((Pe=P.spawnResult)==null?void 0:Pe.logs)&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium text-foreground",children:"Launch log"}),d.jsx("ul",{className:"space-y-0.5",children:P.spawnResult.logs.map(ie=>d.jsx("li",{children:ie.message},`${ie.timestamp}-${ie.message}`))})]})]}),d.jsx(be,{variant:"secondary",onClick:()=>n(!1),className:"w-full",children:"Done"})]})]}),d.jsxs(S0,{value:"manual",className:"mt-6 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"name",children:"Agent name"}),d.jsx(qt,{id:"name",value:a,onChange:ie=>l(ie.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"role",children:"Role & instructions"}),d.jsx(cr,{id:"role",value:c,onChange:ie=>u(ie.target.value),className:"min-h-[100px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"objectives",children:"Objectives"}),d.jsx(cr,{id:"objectives",placeholder:"One objective per line",value:h,onChange:ie=>f(ie.target.value),className:"min-h-[100px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"tools",children:"Tools (comma separated)"}),d.jsx(cr,{id:"tools",placeholder:"Slack, Notion, CRM",value:m,onChange:ie=>p(ie.target.value),className:"min-h-[80px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"memory",children:"Memory context"}),d.jsx(cr,{id:"memory",placeholder:"Provide any default context or shared state",value:v,onChange:ie=>x(ie.target.value),className:"min-h-[80px]"})]}),d.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-border/60 bg-muted/10 p-4",children:[d.jsxs("div",{className:"space-y-1 pr-4",children:[d.jsx(lt,{className:"text-sm font-semibold",children:"Autonomous internet access"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Disabled by default. Enable to allow browsing, summarization, and citations via the secure proxy."})]}),d.jsx(oc,{checked:b,onCheckedChange:y})]}),k&&d.jsx("p",{className:"text-xs text-destructive",children:k}),d.jsx(be,{onClick:Se,disabled:w,className:"w-full",children:w?"Creating...":"Create agent"})]})]})]})})}const ju=dm(e=>({agents:{},links:{},lastMessage:void 0,updateGraph:n=>e(()=>({agents:Object.fromEntries(n.agents.map(r=>[r.id,r])),links:Object.fromEntries(n.links.map(r=>[r.id,r]))})),updateState:n=>e(r=>{const o=r.agents[n.agentId],i={...r.agents};o&&typeof n.isTalking=="boolean"&&(i[n.agentId]={...o,isTalking:n.isTalking});const s={...r.links};if(n.linkActivity){const a=`${n.agentId}::${n.linkActivity.targetId}`,l=s[a]??{id:a,source:n.agentId,target:n.linkActivity.targetId,isActive:!1};s[a]={...l,isActive:n.linkActivity.isActive,lastMessageId:n.linkActivity.messageId??l.lastMessageId}}return{agents:i,links:s,lastMessage:n.message??r.lastMessage}}),pushMessage:n=>e(()=>({lastMessage:n})),clear:()=>e({agents:{},links:{},lastMessage:void 0})}));function aY(e){return JSON.parse(JSON.stringify(e))}const ly=dm(e=>({pipeline:null,sessionId:null,setPipeline:(n,r)=>e({pipeline:aY(n),sessionId:r??null}),clear:()=>e({pipeline:null,sessionId:null})})),OR="atlas_automations",Li="atlas_last_automation_id",Gk=2e3,ar=e=>typeof e=="object"&&e!==null,Sr=(e,n)=>`${e}::${n}`,DR=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`automation-${Math.random().toString(36).slice(2,10)}`,Kk=e=>{var s,a,l,c,u,h;const n=((a=(s=e.id)==null?void 0:s.toLowerCase)==null?void 0:a.call(s))??"",r=((c=(l=e.name)==null?void 0:l.toLowerCase)==null?void 0:c.call(l))??"",o=((h=(u=e.role)==null?void 0:u.toLowerCase)==null?void 0:h.call(u))??"",i=e.is_meta===!0;return n==="meta-controller"||i||r.includes("meta")||o.includes("meta")},qd=()=>{if(typeof window>"u")return null;const e=window.supabase??window.__supabase__;return e&&typeof e.from=="function"?e:null},Gd=()=>{if(typeof window>"u")return"remote";const e=window.atlasConfig;return((e==null?void 0:e.persistenceMode)??void 0??"remote")==="local"?"local":"remote"},cy=e=>e.length===0?"":e.length===1?e[0]:e.length===2?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`,Kd=e=>{if(!ar(e))return null;const n=typeof e.id=="string"?e.id:typeof e.uuid=="string"?e.uuid:DR(),r=e.name??e.title??"Untitled Automation",o=typeof r=="string"&&r.trim().length>0?r:"Untitled Automation",i=typeof e.description=="string"?e.description:typeof e.summary=="string"?e.summary:void 0,s=e.data??e.blueprint??e.payload??{},a=typeof e.createdAt=="string"?e.createdAt:typeof e.created_at=="string"?e.created_at:new Date().toISOString(),l=typeof e.updatedAt=="string"?e.updatedAt:typeof e.updated_at=="string"?e.updated_at:a;let c;if(ar(s))c=s;else try{c=JSON.parse(String(s))}catch{c={}}return{id:n,name:o,description:i,data:c,createdAt:a,updatedAt:l}},ic=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem(OR);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n.map(o=>Kd(o)).filter(o=>o!==null):[]}catch(e){return console.warn("Failed to read automations from localStorage",e),[]}},Qw=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(OR,JSON.stringify(e))}catch(n){console.warn("Failed to write automations to localStorage",n)}};async function lY(){var e;if(Gd()==="remote"){const n=qd();if(n)try{const r=n.from("automations");let o=(e=r.select)==null?void 0:e.call(r,"*");o&&typeof o.order=="function"&&(o=o.order("created_at",{ascending:!0}));const{data:i,error:s}=await o??{data:null,error:null};if(s)throw new Error(s.message??"Failed to load automations from Supabase");return Array.isArray(i)?i.map(a=>Kd(a)).filter(a=>a!==null):[]}catch(r){return console.warn("Supabase automation load failed, falling back to localStorage",r),ic()}}return ic()}async function cY(e){var r,o,i,s,a,l,c,u;if(Gd()==="remote"){const h=qd();if(h)try{const f=h.from("automations"),m=(a=(i=(r=f.select)==null?void 0:(o=r.call(f,"*")).eq)==null?void 0:(s=i.call(o,"id",e)).maybeSingle)==null?void 0:a.call(s),{data:p,error:v}=await(m??((u=(l=f.select)==null?void 0:(c=l.call(f,"*")).eq)==null?void 0:u.call(c,"id",e)))??{data:null,error:null};if(v)throw new Error(v.message??"Failed to load automation");return Kd(p)}catch(f){console.warn("Supabase automation lookup failed, falling back to local cache",f)}}return ic().find(h=>h.id===e)??null}async function uY(e,n,r){var a,l,c;const o=new Date().toISOString(),i={id:DR(),name:e.trim().length>0?e:"Untitled Automation",description:(n==null?void 0:n.trim())||void 0,data:r,createdAt:o,updatedAt:o};if(Gd()==="remote"){const u=qd();if(u)try{const h=u.from("automations");let f=(a=h.insert)==null?void 0:a.call(h,[{id:i.id,name:i.name,description:i.description??null,data:i.data,created_at:i.createdAt,updated_at:i.updatedAt}]);f&&typeof f.select=="function"&&(f=((c=(l=f.select("*")).maybeSingle)==null?void 0:c.call(l))??f.select("*"));const{data:m,error:p}=await f??{data:null,error:null};if(p)throw new Error(p.message??"Failed to create automation");const v=Kd(m);if(v)return v}catch(h){console.warn("Supabase automation creation failed, falling back to localStorage",h)}}const s=ic();return s.push(i),Qw(s),i}async function dY(e,n,r,o){var h,f,m,p,v;const i=new Date().toISOString(),s={id:e,name:n.trim().length>0?n:"Untitled Automation",description:(r==null?void 0:r.trim())||void 0,data:o,updated_at:i,updatedAt:i};if(Gd()==="remote"){const x=qd();if(x)try{const b=x.from("automations");let y=(m=(h=b.update)==null?void 0:(f=h.call(b,{name:s.name,description:s.description??null,data:s.data,updated_at:s.updated_at})).eq)==null?void 0:m.call(f,"id",e);y&&typeof y.select=="function"&&(y=((v=(p=y.select("*")).maybeSingle)==null?void 0:v.call(p))??y.select("*"));const{data:w,error:S}=await y??{data:null,error:null};if(S)throw new Error(S.message??"Failed to save automation");const k=Kd(w);return k||{id:e,name:s.name,description:s.description,data:s.data,createdAt:i,updatedAt:i}}catch(b){console.warn("Supabase automation save failed, falling back to localStorage",b)}}const a=ic(),l=a.findIndex(x=>x.id===e),c=a[l],u={id:e,name:s.name,description:s.description,data:o,createdAt:(c==null?void 0:c.createdAt)??i,updatedAt:i};return l>=0?a[l]=u:a.push(u),Qw(a),u}async function fY(e){var r,o,i,s;if(!e)return;if(Gd()==="remote"){const a=qd();if(a)try{const l=a.from("automations");await(((i=(r=l.delete)==null?void 0:(o=r.call(l)).eq)==null?void 0:i.call(o,"id",e))??((s=l.delete)==null?void 0:s.call(l)))}catch(l){console.warn("Supabase automation delete failed, falling back to localStorage",l)}}const n=ic().filter(a=>a.id!==e);Qw(n)}const hY=e=>{if(!ar(e))return null;const n=typeof e.version=="number"?e.version:1;let r={};if(ar(e.positions)){const l={};for(const[c,u]of Object.entries(e.positions))ar(u)&&typeof u.x=="number"&&typeof u.y=="number"&&(l[c]={x:u.x,y:u.y});r=l}else if(Array.isArray(e.nodes)){const l={};for(const c of e.nodes)ar(c)&&typeof c.id=="string"&&ar(c.position)&&typeof c.position.x=="number"&&typeof c.position.y=="number"&&(l[c.id]={x:c.position.x,y:c.position.y});r=l}const o=[],i=Array.isArray(e.edges)?e.edges:Array.isArray(e.links)?e.links:[];for(const l of i){if(!ar(l))continue;const c=typeof l.source=="string"?l.source:typeof l.from=="string"?l.from:void 0,u=typeof l.target=="string"?l.target:typeof l.to=="string"?l.to:void 0;if(!c||!u)continue;const h=typeof l.id=="string"&&l.id.length>0?l.id:typeof l.key=="string"?l.key:Sr(c,u),f=ar(l.metadata)?l.metadata:void 0;o.some(m=>m.id===h)||o.push({id:h,source:c,target:u,metadata:f})}const s=ar(e.metadata)?e.metadata:void 0;let a=null;if(ar(e.pipeline))try{a=JSON.parse(JSON.stringify(e.pipeline))}catch{a=e.pipeline}return{version:n,positions:r,edges:o,metadata:s,pipeline:a}},pY=(e,n,r,o,i)=>{const s={};e.forEach((c,u)=>{const h=Za(u,e.length),f=n[c.id]??h;s[c.id]={x:f.x,y:f.y}});const a=[],l=new Set;return r.forEach(c=>{const u=Sr(c.source,c.target);l.has(u)||(l.add(u),a.push(c))}),{version:1,positions:s,edges:a.map(c=>({id:c.id,source:c.source,target:c.target,metadata:c.metadata})),metadata:i,pipeline:o?JSON.parse(JSON.stringify(o)):null}},mY=({data:e})=>d.jsxs("div",{className:"rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-white shadow-sm",children:[d.jsx(Ps,{type:"target",position:Re.Top,className:"w-2 h-2 bg-white/70"}),d.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:"Condition"}),d.jsx("div",{className:"text-sm font-medium text-white",children:e.label??"Condition"}),e.condition?d.jsx("div",{className:"mt-1 text-xs text-white/70",children:e.condition}):null,e.description?d.jsx("div",{className:"mt-1 text-[11px] text-white/60",children:e.description}):null,d.jsx(Ps,{type:"source",position:Re.Bottom,className:"w-2 h-2 bg-white/70"})]}),gY={agent:QG,condition:mY},ci={AtlasContractsAgent:{objectives:["Continuously ingest and summarize new contract updates coming from Atlas systems.","Surface risks, key dates, and required actions to the Atlas Meta Controller.","Keep downstream agents informed about contract status changes and approvals."],memoryContext:"Maintain a running digest of all contract negotiations, approvals, obligations, and deadlines. Include current owners, counterparties, renewal windows, and signature status for each agreement.",instructions:["Poll Atlas Bridge contracts endpoint on the cadence provided by the orchestrator.","Annotate each contract event with risk level, next action, and responsible team.","Publish concise summaries to the routing queue for finance and operations agents."]},AtlasTasksAgent:{objectives:["Aggregate tasks created across Atlas products and partner systems.","Detect blockers or overdue work and notify the responsible Atlas squad.","Feed prioritized task lists to downstream execution agents."],memoryContext:"Track active tasks, owners, dependencies, and due dates. Record context about blockers, escalation status, and linked documents so other agents can execute without re-querying the source.",instructions:["Ingest task updates from Atlas Bridge every time the orchestrator signals new activity.","Normalize task metadata (status, owner, effort) and highlight changes since last poll.","Dispatch curated task summaries to the Atlas Meta Controller and subscribers."]},AtlasInvoicesAgent:{objectives:["Monitor invoices flowing through Atlas finance and flag anomalies.","Coordinate with Atlas Contracts and Accounts Receivable agents to resolve issues.","Provide real-time reporting on invoice status, payments, and delinquencies."],memoryContext:"Maintain invoice ledgers with invoice numbers, customers, payment status, and outstanding balances. Include cross-links to underlying contracts and tasks required for resolution.",instructions:["Fetch invoice snapshots from Atlas Bridge finance endpoints on each trigger.","Detect discrepancies such as overdue invoices, missing PO numbers, or mismatched totals.","Escalate critical invoice events to the Meta Controller and notify finance stakeholders."]},AtlasNotifyAgent:{objectives:["Broadcast critical Atlas platform events to subscribed channels.","Route notifications to the correct downstream agents based on severity and topic.","Ensure Meta Controller has concise digests for decision making."],memoryContext:"Store notification templates, routing preferences, and recent alerts. Track which squads have acknowledged alerts and outstanding follow-ups.",instructions:["Receive upstream events from Atlas agents and format them for the notify pipeline.","Select delivery channels (Slack, email, dashboards) based on routing rules.","Log delivery receipts and escalate if acknowledgements are missing."]},AtlasWorkspaceAgent:{objectives:["Synthesize Atlas workspace activity into actionable summaries.","Highlight collaboration hotspots, blockers, and opportunities.","Support other agents with contextual workspace intelligence."],memoryContext:"Capture workspace artifacts, recent collaboration threads, and project milestones. Maintain snapshots so other agents can reference historical context without re-fetching data.",instructions:["Query Atlas workspace APIs on demand from orchestration triggers.","Summarize key updates, tagging the relevant squads and linking follow-up tasks.","Publish structured insights to downstream automation pipelines."]},AtlasBridgeAgent:{objectives:["Serve as the gateway between Atlas agents and external data sources.","Normalize responses from Atlas Bridge endpoints for downstream consumption.","Enforce rate limiting and authentication policies for bridge traffic."],memoryContext:"Retain metadata about recent bridge calls, caching policies, and API schemas. Keep diagnostics for throttling events and upstream errors to assist debugging.",instructions:["Handle bridge requests from sibling agents, applying auth credentials securely.","Transform responses into standardized payloads and flag anomalies.","Record usage metrics and surface them to monitoring agents."]}},yY=(e,n,r)=>{const o=r.objectives,i=Array.isArray(o)?o.map(h=>String(h).trim()).filter(h=>h.length>0):typeof o=="string"?o.split(/[\n\r]+/).map(h=>h.trim()).filter(h=>h.length>0):[],s=r.memoryContext??r.memory_context??r.memory,a=typeof s=="string"&&s.trim().length>0?s.trim():void 0,l=r.instructions??r.workplan,c=Array.isArray(l)?l.map(h=>String(h).trim()).filter(h=>h.length>0):typeof l=="string"?l.split(/[\n\r]+/).map(h=>h.trim()).filter(h=>h.length>0):[];if(i.length||c.length){const h=Yk(e,n);return{objectives:i.length?i:h.objectives,memoryContext:a??h.memoryContext,instructions:c.length?c:h.instructions}}const u=e&&ci[e];return u||Yk(e,n)},Yk=(e,n)=>{if(e&&ci[e])return ci[e];const r=n.toLowerCase();if(r.includes("contract"))return ci.AtlasContractsAgent;if(r.includes("invoice")||r.includes("bill"))return ci.AtlasInvoicesAgent;if(r.includes("task")||r.includes("todo"))return ci.AtlasTasksAgent;if(r.includes("notify")||r.includes("alert"))return ci.AtlasNotifyAgent;if(r.includes("workspace"))return ci.AtlasWorkspaceAgent;if(r.includes("bridge"))return ci.AtlasBridgeAgent;const o=n.trim().length>0?n.trim():"Atlas Agent";return{objectives:[`Execute the "${o}" responsibilities for the Atlas automation network.`,"Collaborate with sibling agents by publishing actionable summaries.","Report key outcomes and anomalies back to the Atlas Meta Controller."],memoryContext:`Maintain the working memory for the ${o} agent, capturing inputs, decisions, escalations, and outputs so that sibling agents can pick up work seamlessly.`,instructions:[`Ingest relevant signals for the "${o}" domain.`,"Transform raw data into structured insights and tasks for downstream agents.","Log context-rich updates to the shared memory store for auditability."]}},Kc=e=>e.startsWith("pipeline:")?e.slice(9):e,Za=(e,n)=>{if(n<=0)return{x:0,y:0};const i=Math.max(320,n*180/(2*Math.PI)),s=e/n*2*Math.PI;return{x:Math.cos(s)*i,y:Math.sin(s)*i}};function xY(){const e=Rd(),{toast:n}=Td(),[r,o]=g.useState(!1),[i,s]=g.useState(!1),[a,l]=g.useState({}),[c,u]=g.useState("Untitled Automation"),[h,f]=g.useState(""),[m,p]=g.useState(!1),[v,x]=g.useState(!1),[b,y]=g.useState("__new"),[w,S]=g.useState([]),[k,_]=g.useState(!1),[N,C]=g.useState(null),[j,A]=g.useState([]),[E,I]=g.useState(null),[O,U]=g.useState(!1),[P,F]=g.useState(!1),[L,W]=g.useState([]),[$,R]=g.useState(null),[T,D]=g.useState(null),[z,M]=g.useState(!1),[G,ee]=g.useState(!1),[re,Y]=g.useState(""),[ue,te]=g.useState(!1),[ae,le]=g.useState(null),Se=ly(K=>K.setPipeline),Be=ly(K=>K.clear),ye=ly(K=>K.pipeline),[se,Ee]=g.useState(!1),Pe=g.useRef(""),ie=g.useRef(null),$e=g.useRef(null),Ye=g.useRef(!1),Qe=g.useRef(null),ut=g.useRef(null),[qe,Zt]=g.useState(null),gt=g.useCallback(()=>{W([]),M(!1),D(null),R(null)},[]),J=ju(K=>K.agents),V=ju(K=>K.links),{data:Z=[],isLoading:ve}=Ko({queryKey:["agents"],queryFn:()=>Xe.listAgents(),select:K=>K.items,refetchInterval:15e3});g.useEffect(()=>{l(K=>{const X={...K};let ne=!1;const fe=Z.length;return Z.forEach((we,ce)=>{X[we.id]||(X[we.id]=Za(ce,fe),ne=!0)}),ne?X:K})},[Z]);const _e=Fg({mutationFn:K=>Xe.createAgent(K),onSuccess:K=>{n({title:"Agent created",description:`${K.name} is now available.`}),e.invalidateQueries({queryKey:["agents"]})},onError:K=>{n({title:"Failed to create agent",description:K.message,variant:"destructive"})}}),Ie=Fg({mutationFn:K=>Xe.deleteAgent(K),onSuccess:()=>{n({title:"Agent removed"}),e.invalidateQueries({queryKey:["agents"]})},onError:K=>{n({title:"Failed to delete agent",description:K.message,variant:"destructive"})}}),De=Fg({mutationFn:({id:K,updates:X})=>Xe.updateAgent(K,X),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})},onError:K=>{n({title:"Failed to update agent",description:K.message,variant:"destructive"})}}),ze=xp(K=>K.selectedAgentId),Ae=xp(K=>K.selectAgent),He=g.useMemo(()=>Z.find(K=>K.id===ze)??null,[Z,ze]),Ge=g.useMemo(()=>new Set(L),[L]),rt=g.useCallback(K=>{if(gt(),!K){I(null),y("__new"),u("Untitled Automation"),f(""),A([]),l({}),x(!1),Be(),Ae(null),Ee(!1),ie.current=null,typeof window<"u"&&window.localStorage.removeItem(Li);return}I(K),y(K.id),u(K.name),f(K.description??""),x(!1);const X=hY(K.data);if(X){l(()=>{const fe={};return Object.entries(X.positions).forEach(([we,ce])=>{fe[Kc(we)]=ce}),fe}),A(X.edges.map(fe=>({id:fe.id,source:fe.source,target:fe.target,metadata:fe.metadata}))),X.pipeline?Se(X.pipeline,null):Be(),X.metadata&&typeof X.metadata.selectedAgentId=="string"?Ae(X.metadata.selectedAgentId):Ae(null);const ne=(()=>{try{return JSON.stringify({pipeline:X.pipeline??null,positions:X.positions,persistedEdges:X.edges,name:K.name.trim(),description:(K.description??"").trim()})}catch{return`${Date.now()}`}})();ie.current=ne}else l({}),A([]),Be(),Ae(null),ie.current=null;$e.current&&(window.clearTimeout($e.current),$e.current=null),Ee(!1),typeof window<"u"&&window.localStorage.setItem(Li,K.id),console.log(`[automation-persist] Auto-loaded automation "${K.name}"`)},[gt,Be,Ae,Se,f,u]),Je=g.useCallback(async K=>{var F1;if(gt(),Ae(null),!K||K.length===0)return"No changes detected.";const X=b==="__new"&&(!ye||ye.nodes.length===0),ne=["if","when","whenever","only if","depending on","in case","conditional"],fe=(Pe.current??"").toLowerCase(),we=JSON.stringify(K??[]).toLowerCase(),ce=ne.some(Q=>fe.includes(Q)||we.includes(Q)),We=X||!ye?{name:"",nodes:[],edges:[]}:JSON.parse(JSON.stringify(ye)),Ce=JSON.parse(JSON.stringify(We)),yt=new Set,un=[],Yt=[],nn=[],ro=[],oo=new Set;let tr=!1,ni=!1,To=!1,Ao=!1,$a=null,O1=!1;const ef=Q=>{const oe=(Q&&Q.trim().length>0?Q.trim():void 0)??`node-${Math.random().toString(36).slice(2,8)}`;if(!Ce.nodes.some(Me=>Me.id===oe))return oe;let de=2,Te=`${oe}-${de}`;for(;Ce.nodes.some(Me=>Me.id===Te);)de+=1,Te=`${oe}-${de}`;return Te},tf=new Map,D1=new Map,jc=Q=>{if(!Q.agent)return;const oe=Q.agent.toLowerCase();oe.includes("slack")&&(Q.config={...Q.config??{},connector:"slack",integrationId:"slack",permissions:"full",useIntegration:!0,detectConfigFields:!1}),oe.includes("jira")&&(Q.config={...Q.config??{},connector:"jira",integrationId:"jira",permissions:"full",useIntegration:!0,detectConfigFields:!1})},dn=(Q,oe)=>{if(!Q)return;const de=Q.trim().toLowerCase();de&&tf.set(de,oe)};Ce.nodes.forEach(Q=>{var oe,de;jc(Q),dn(Q.id,Q.id),typeof Q.agent=="string"&&dn(Q.agent,Q.id),typeof((oe=Q.config)==null?void 0:oe.label)=="string"&&dn(Q.config.label,Q.id),typeof((de=Q.config)==null?void 0:de.agentId)=="string"&&dn(Q.config.agentId,Q.config.agentId)});const Us=X?[]:[...Z];Us.forEach(Q=>{dn(Q.id,Q.id),dn(Q.name,Q.id),dn(Q.role,Q.id)});const rI=Q=>{const oe=Ce.nodes.find(Me=>Me.id===Q);if(oe)return jc(oe),oe;const de=ef(Q),Te={id:de,agent:Q,type:"Action",config:{}};return jc(Te),Ce.nodes.push(Te),yt.add(Q),nn.push(de),tr=!0,Te},xr=Q=>{const oe=Q.trim().toLowerCase(),de=tf.get(oe);if(de)return de;if(Ce.nodes.some(Me=>Me.id===Q||Me.id.toLowerCase()===oe)||Us.some(Me=>{var ht,At;return Me.id===Q||((At=(ht=Me.id).toLowerCase)==null?void 0:At.call(ht))===oe}))return Q;const Te=Us.find(Me=>{var rn,fn,nr,Or;const ht=((fn=(rn=Me.name)==null?void 0:rn.toLowerCase)==null?void 0:fn.call(rn))??"",At=((Or=(nr=Me.role)==null?void 0:nr.toLowerCase)==null?void 0:Or.call(nr))??"";return ht===oe||At===oe});return Te?(dn(Q,Te.id),Te.id):rI(Q).id},oI=Q=>Q?["persist","persistent","save","persistEdge"].some(de=>Q[de]===!0||Q[de]==="true"):!1,iI=(Q,oe)=>{const de=Sr(Q,oe),Te=D1.get(de);if(Te)return Te;const Me=ef(`condition-${YG(6)}`),ht={condition:fe||"Conditional flow",description:fe||"Conditional flow"};return Ce.nodes.push({id:Me,agent:"condition",type:"condition",label:"Condition",data:ht,position:{x:0,y:0},config:{}}),nn.push(Me),D1.set(de,Me),l(At=>At[Me]?At:{...At,[Me]:{x:0,y:0}}),tr=!0,Me},ng=(Q,oe,de)=>{Ce.edges.some(Me=>Me.from===Q&&Me.to===oe)||(Ce.edges.push({from:Q,to:oe}),tr=!0),oI(de)&&sI(Q,oe,de)},L1=(Q,oe,de)=>{const Te=Me=>Ce.nodes.some(ht=>ht.id===Me&&ht.type==="condition");if(ce&&!Te(Q)&&!Te(oe)){const Me=iI(Q,oe);ng(Q,Me,de),ng(Me,oe,de),un.push(`${Q}  ${Me}  ${oe}`);return}ng(Q,oe,de),un.push(`${Q}  ${oe}`)},sI=(Q,oe,de)=>{const Te=Sr(Q,oe);oo.delete(Te),ro.push({id:typeof(de==null?void 0:de.id)=="string"&&de.id.length>0?de.id:Te,source:Q,target:oe,metadata:de})},$1=(Q,oe)=>{const de=Sr(Q,oe);oo.add(de)},aI=Q=>{j.forEach(oe=>{(oe.source===Q||oe.target===Q)&&oo.add(Sr(oe.source,oe.target))})},rg=(Q,oe)=>{const de=xr(Q),Te=Kc(de);l(Me=>{const ht={...Me},At=ht[Te];return At&&At.x===oe.x&&At.y===oe.y?Me:(To=!0,ht[Te]={x:oe.x,y:oe.y},ht)})},lI=async Q=>{var Bs;const oe=ar(Q.metadata)?Q.metadata:{},Te=[typeof oe.agentId=="string"?oe.agentId:void 0,Q.id,Q.agentType,Q.label].map(kt=>typeof kt=="string"?kt.trim():"").filter(kt=>kt.length>0);let Me=null;for(const kt of Te){const bt=tf.get(kt.toLowerCase());if(bt){Me=bt;break}}if(!Me)for(const kt of Te){const bt=kt.toLowerCase(),on=Us.find(vr=>{if(vr.id===kt)return!0;const Tc=typeof vr.name=="string"?vr.name.toLowerCase():"",Ac=typeof vr.role=="string"?vr.role.toLowerCase():"";return Tc===bt||Ac===bt});if(on){Te.forEach(vr=>dn(vr,on.id)),Me=on.id;break}}if(!Me){const kt=((Bs=Q.agentType)==null?void 0:Bs.trim().toLowerCase())??"",bt=Us.find(on=>{var nf,U1,rf,B1,of,H1;const vr=((U1=(nf=on.id)==null?void 0:nf.toLowerCase)==null?void 0:U1.call(nf))??"",Tc=((B1=(rf=on.name)==null?void 0:rf.toLowerCase)==null?void 0:B1.call(rf))??"",Ac=((H1=(of=on.role)==null?void 0:of.toLowerCase)==null?void 0:H1.call(of))??"",uI=kt.length>0&&(vr===kt||Tc===kt||Ac===kt),dI=kt.includes("slack")&&(vr.includes("slack")||Tc.includes("slack")||Ac.includes("slack")),fI=kt.includes("jira")&&(vr.includes("jira")||Tc.includes("jira")||Ac.includes("jira"));return uI||dI||fI});bt&&(Te.forEach(on=>dn(on,bt.id)),Me=bt.id)}const ht=(Q.label&&Q.label.trim().length>0?Q.label.trim():Q.agentType&&Q.agentType.trim().length>0?Q.agentType.trim():Q.id&&Q.id.trim().length>0?Q.id.trim():`Agent ${Math.random().toString(36).slice(2,6)}`).slice(0,80),At=typeof oe.role=="string"?oe.role.trim():"",rn=At.length>0?At:Q.agentType??ht,fn=yY(Q.agentType,ht,oe),nr={};ar(oe.tools)&&Object.entries(oe.tools).forEach(([kt,bt])=>{kt&&typeof kt=="string"&&(nr[kt]=!!bt)});let Or=Me;if(!Or){const kt={name:ht,role:rn,tools:nr,objectives:fn.objectives};kt.memory_context=fn.memoryContext,typeof oe.internet_access_enabled=="boolean"&&(kt.internet_access_enabled=oe.internet_access_enabled);try{const bt=await Xe.createAgent(kt);Us.push(bt),e.setQueryData(["agents"],on=>on?on.items.some(vr=>vr.id===bt.id)?on:{items:[...on.items,bt]}:{items:[bt]}),Te.forEach(on=>dn(on,bt.id)),dn(bt.name,bt.id),dn(bt.role,bt.id),dn(bt.id,bt.id),yt.add(bt.name),O1=!0,Or=bt.id}catch(bt){console.error("[automation-builder] Failed to create agent from prompt",bt),n({title:"Failed to create agent",description:bt instanceof Error?bt.message:"Unknown error occurred.",variant:"destructive"});const on=ef(Q.id??Q.label);dn(on,on),yt.add(ht),Or=on}}return Or||(Or=ef(Q.id??Q.label)),oe.objectives=fn.objectives,oe.memoryContext=fn.memoryContext,oe.instructions=fn.instructions,{id:Or,profile:fn}},cI=K.filter(Q=>Q.type==="create_node");for(const Q of cI){const oe=Q.node??{},{id:de,profile:Te}=await lI(oe),Me=Us.some(kt=>kt.id===de);Me&&!tf.has(de.toLowerCase())&&dn(de,de),dn(oe.id,de),dn(oe.agentType,de),dn(oe.label,de);const ht=oe.agentType??oe.id??de,At=oe.type??"Action",rn={...oe.config??{}};oe.label&&(rn.label=oe.label);const fn=ar(oe.metadata)?{...oe.metadata}:{};fn.objectives=Te.objectives,fn.memoryContext=Te.memoryContext,fn.instructions=Te.instructions,rn.metadata=fn,rn.agentId=de;const nr={agent:ht,config:rn};jc(nr);const Or=nr.config??rn,Bs=Ce.nodes.findIndex(kt=>kt.id===de);Bs>=0?Ce.nodes[Bs]={...Ce.nodes[Bs],agent:ht,type:At,config:{...Ce.nodes[Bs].config,...Or}}:(Ce.nodes.push({id:de,agent:ht,type:At,config:Or}),nn.push(de)),tr=!0,Me||yt.add(oe.label??ht??de),oe.position&&rg(de,oe.position)}for(const Q of K.filter(oe=>oe.type!=="create_node"))switch(Q.type){case"update_node":{const oe=xr(Q.id),de=Ce.nodes.find(Me=>Me.id===oe);if(!de){console.warn("[automation-builder] update_node target not found",Q.id);break}Q.agentType&&(de.agent=Q.agentType),Q.nodeType&&(Q.nodeType==="Trigger"||Q.nodeType==="Processor"||Q.nodeType==="Action")&&(de.type=Q.nodeType),Q.config&&(de.config={...de.config,...Q.config}),Q.label&&(de.config={...de.config,label:Q.label}),Q.metadata&&(de.config={...de.config,metadata:{...(F1=de.config)==null?void 0:F1.metadata,...Q.metadata}});const Te={agent:de.agent,config:de.config};jc(Te),de.config=Te.config,Q.position&&rg(oe,Q.position),tr=!0;break}case"delete_node":{const oe=xr(Q.id),de=Ce.nodes.findIndex(Te=>Te.id===oe);de>=0&&(Ce.nodes.splice(de,1),Ce.edges=Ce.edges.filter(Te=>Te.from!==oe&&Te.to!==oe),aI(oe),tr=!0);break}case"connect_nodes":{const oe=xr(Q.from),de=xr(Q.to);L1(oe,de,Q.metadata);break}case"disconnect_nodes":{const oe=xr(Q.from),de=xr(Q.to),Te=Ce.edges.length;Ce.edges=Ce.edges.filter(Me=>!(Me.from===oe&&Me.to===de)),Ce.edges.length!==Te&&(tr=!0),$1(oe,de);break}case"create_edge":{const oe=xr(Q.edge.from),de=xr(Q.edge.to);L1(oe,de,Q.edge.metadata);break}case"delete_edge":{const oe=xr(Q.edge.from),de=xr(Q.edge.to),Te=Ce.edges.length;Ce.edges=Ce.edges.filter(Me=>!(Me.from===oe&&Me.to===de)),Ce.edges.length!==Te&&(tr=!0),$1(oe,de);break}case"set_position":{rg(Q.id,Q.position);break}case"set_positions":{const oe=Object.entries(Q.positions??{});oe.length>0&&l(de=>{const Te={...de};let Me=!1;return oe.forEach(([ht,At])=>{const rn=xr(ht),fn=Kc(rn),nr=Te[fn];(!nr||nr.x!==At.x||nr.y!==At.y)&&(Te[fn]={x:At.x,y:At.y},Me=!0)}),Me?(To=!0,Te):de});break}case"focus_node":{const oe=xr(Q.id);(Z.some(de=>de.id===oe)||Ce.nodes.some(de=>de.id===oe))&&($a=oe);break}case"update_metadata":{Q.name&&Q.name.trim().length>0&&(Ce.name=Q.name.trim(),u(Q.name.trim()),Yt.push(`name  ${Q.name.trim()}`),ni=!0),typeof Q.description=="string"&&(f(Q.description),Yt.push("description"),ni=!0),Q.data&&Object.keys(Q.data).length>0&&(Yt.push("metadata"),ni=!0);break}default:{console.warn("[automation-builder] Unhandled instruction action",Q);break}}if(nn.length>0&&l(Q=>{const oe={...Q};let de=Object.keys(oe).length+1,Te=!1;return nn.forEach(Me=>{const ht=Kc(Me);oe[ht]||(oe[ht]=Za(de,de+1),de+=1,Te=!0)}),Te?(To=!0,oe):Q}),(ro.length>0||oo.size>0)&&A(Q=>{let oe=Q.filter(Te=>!oo.has(Sr(Te.source,Te.target))),de=oe.length!==Q.length;return ro.forEach(Te=>{const Me=Sr(Te.source,Te.target),ht=oe.findIndex(rn=>Sr(rn.source,rn.target)===Me),At=JSON.stringify(Te.metadata??{});if(ht>=0){const rn=oe[ht],fn=JSON.stringify(rn.metadata??{});(rn.id!==Te.id||fn!==At)&&(oe=[...oe.slice(0,ht),Te,...oe.slice(ht+1)],de=!0)}else oe=[...oe,Te],de=!0}),de?(Ao=!0,oe):Q}),(tr||ni)&&Se(Ce,null),(tr||ni||To||Ao)&&Ee(!0),$a&&Z.some(Q=>Q.id===$a)&&Ae($a),O1)try{await e.invalidateQueries({queryKey:["agents"]})}catch(Q){console.warn("[automation-builder] failed to refresh agents",Q)}const za=[],z1=Array.from(yt);return z1.length&&za.push(`Created ${cy(z1)}`),un.length&&za.push(`Connected ${cy(un)}`),Yt.length&&za.push(`Updated ${cy(Yt)}`),!za.length&&!tr&&!ni&&!To&&!Ao&&za.push("No changes applied"),`${za.join(". ")}.`},[Z,c,ye,gt,Ae,f,Ee,u,j,A,l,Se,e,n]),Ht=g.useCallback(async()=>{_(!0);try{const K=await lY();return S(K),C(null),K}catch(K){const X=K instanceof Error?K.message:"Failed to load automations";return C(X),n({title:"Failed to load automations",description:X,variant:"destructive"}),[]}finally{_(!1)}},[n]);g.useEffect(()=>{let K=!0;return(async()=>{const X=await Ht();if(K)if(X.length>0){const ne=typeof window<"u"?window.localStorage.getItem(Li):null,fe=(ne?X.find(we=>we.id===ne):void 0)??X[0];rt(fe)}else rt(null)})(),()=>{K=!1}},[rt,Ht]);const Sn=g.useMemo(()=>{const K=(ye==null?void 0:ye.nodes.map((ne,fe)=>{var nn,ro,oo,tr,ni;if(ne.type==="condition"){const To=`pipeline:${ne.id}`,Ao=ne.data??((nn=ne.config)==null?void 0:nn.conditionData),$a=a[ne.id]??Za(fe,((ye==null?void 0:ye.nodes.length)??0)+Z.length+1);return{id:To,type:"condition",position:$a,data:{label:ne.label??((ro=ne.config)==null?void 0:ro.label)??"Condition",condition:(Ao==null?void 0:Ao.condition)??"",description:(Ao==null?void 0:Ao.description)??""},draggable:!0,selectable:!0,selected:Ge.has(To)}}const we=typeof((oo=ne.config)==null?void 0:oo.agentId)=="string"?ne.config.agentId:void 0,ce=we?Z.find(To=>To.id===we):void 0,We=`pipeline:${ne.id}`;if(ce)return null;const Ce=(ce==null?void 0:ce.name)??(typeof((tr=ne.config)==null?void 0:tr.label)=="string"&&ne.config.label.trim().length>0?ne.config.label.trim():ne.agent??ne.id)??`Node ${fe+1}`,yt=a[ne.id]??Za(fe,((ye==null?void 0:ye.nodes.length)??0)+Z.length+1),un=(ce==null?void 0:ce.id)??ne.id,Yt=!ce;return{id:We,type:"agent",position:yt,data:{name:Ce,status:(ce==null?void 0:ce.status)??"design",role:(ce==null?void 0:ce.role)??ne.type,isTalking:ce?((ni=J[ce.id])==null?void 0:ni.isTalking)??!1:!1,isVirtual:Yt,sourceId:un},draggable:!0,selectable:!0,selected:Ge.has(We)}}).filter(ne=>ne!==null))??[],X=Z.map((ne,fe)=>{var we;return{id:ne.id,type:"agent",position:a[ne.id]??Za(fe,Z.length),data:{name:ne.name,status:ne.status,role:ne.role,isTalking:((we=J[ne.id])==null?void 0:we.isTalking)??!1,isVirtual:!1,sourceId:ne.id},selected:ze===ne.id||Ge.has(ne.id)}});return[...K,...X]},[Z,ye,J,a,ze,Ge]);g.useEffect(()=>{if(!qe||Sn.length===0)return;const K=requestAnimationFrame(()=>{try{qe.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(X){console.warn("[agent-network] fitView failed",X)}});return()=>cancelAnimationFrame(K)},[Sn,qe]);const no=g.useMemo(()=>{const K=new Set(Z.map(X=>X.id));return Object.values(V).filter(X=>K.has(X.source)&&K.has(X.target)).map(X=>({id:X.id,source:X.source,target:X.target,animated:X.isActive,style:{stroke:X.isActive?"#facc15":"#6366f1",strokeWidth:X.isActive?3:1.5,opacity:X.isActive?1:.8},data:{isActive:X.isActive}}))},[V,Z]),Zn=g.useMemo(()=>{const K=new Set(Z.map(X=>X.id));return j.filter(X=>K.has(X.source)&&K.has(X.target)).map(X=>({id:`saved-${X.id}`,source:X.source,target:X.target,animated:!1,style:{stroke:"#818cf8",strokeWidth:2,opacity:.85,strokeDasharray:"6 3"},data:{persisted:!0,metadata:X.metadata}}))},[Z,j]),$t=g.useMemo(()=>{if(!ye)return[];const K=new Set(ye.nodes.map(ne=>ne.id)),X=new Map;return ye.nodes.forEach(ne=>{var we;const fe=typeof((we=ne.config)==null?void 0:we.agentId)=="string"?ne.config.agentId:void 0;fe&&Z.some(ce=>ce.id===fe)&&X.set(ne.id,fe)}),ye.edges.map(ne=>{const fe=X.get(ne.from),we=X.get(ne.to),ce=K.has(ne.from),We=K.has(ne.to),Ce=fe??(ce?`pipeline:${ne.from}`:ne.from),yt=we??(We?`pipeline:${ne.to}`:ne.to);return{id:`pipeline-${Ce}-${yt}`,source:Ce,target:yt,animated:!0,style:{stroke:"#a855f7",strokeWidth:2,opacity:.9,strokeDasharray:"4 2"},data:{pipeline:!0}}})},[Z,ye]),kn=g.useMemo(()=>{const K=new Set,X=[],ne=we=>{const ce=Sr(we.source,we.target);K.has(ce)||(K.add(ce),X.push(we))};Zn.forEach(ne),no.forEach(ne),$t.forEach(ne);const fe=new Set;return Z.forEach(we=>fe.add(we.id)),((ye==null?void 0:ye.nodes)??[]).forEach(we=>fe.add(`pipeline:${we.id}`)),X.filter(we=>fe.has(we.source)&&fe.has(we.target))},[Z,ye,no,$t,Zn]),Ve=g.useCallback(()=>{const K=new Map;return j.forEach(X=>{K.set(Sr(X.source,X.target),X)}),Object.values(V).forEach(X=>{K.set(Sr(X.source,X.target),{id:X.id??Sr(X.source,X.target),source:X.source,target:X.target,metadata:{isActive:X.isActive??!1,lastMessageId:X.lastMessageId??null}})}),Array.from(K.values())},[V,j]),ot=g.useCallback(()=>{const K={pipeline:ye??null,positions:a,persistedEdges:j,name:c.trim(),description:h.trim()};try{return JSON.stringify(K)}catch{return`${Date.now()}`}},[h,c,ye,j,a]),ft=g.useCallback(async K=>{const X=b;if(!X||X==="__new"){ie.current=ot(),Ee(!1);return}if(Ye.current&&Qe.current){await Qe.current;return}const ne=async()=>{const we=ye?JSON.parse(JSON.stringify(ye)):{name:c.trim()||"Untitled Automation",nodes:[],edges:[]},ce={selectedAgentId:ze??null,description:h??"",updatedAt:new Date().toISOString()},We=pY(Z,a,Ve(),we,ce);try{console.log(`[automation-persist] Saving automation "${c.trim()||"Untitled Automation"}"...`);const Ce=await dY(X,c.trim()||"Untitled Automation",h,We);I(Ce),u(Ce.name),f(Ce.description??""),typeof window<"u"&&window.localStorage.setItem(Li,Ce.id),S(yt=>{const un=yt.findIndex(Yt=>Yt.id===Ce.id);if(un>=0){const Yt=[...yt];return Yt[un]=Ce,Yt}return[...yt,Ce]}),ie.current=K??ot(),Ee(!1),console.log(`[automation-persist] Saved automation "${Ce.name}" at ${new Date().toISOString()}`)}catch(Ce){console.error("[automation-persist] failed to save automation",Ce),n({title:"Failed to save automation",description:Ce instanceof Error?Ce.message:"Unknown error occurred.",variant:"destructive"})}};Ye.current=!0;const fe=ne().finally(()=>{Ye.current=!1,Qe.current=null});Qe.current=fe,await fe},[Z,h,c,ye,Ve,ot,a,b,ze,n]),Ct=g.useCallback(async()=>{$e.current&&(window.clearTimeout($e.current),$e.current=null),(Ye.current||se)&&await ft()},[se,ft]);g.useEffect(()=>()=>{Ct()},[Ct]);const en=g.useCallback(async()=>{await Ct();const K={name:"",nodes:[],edges:[]},X={version:1,positions:{},edges:[],metadata:{createdAt:new Date().toISOString(),createdBy:"Atlas UI"},pipeline:K};try{const ne=await uY("Untitled Automation","",X);gt(),Se(K,null),l({}),A([]),u(ne.name),f(ne.description??""),p(!0),Ee(!1),I(ne),y(ne.id),S(fe=>fe.some(we=>we.id===ne.id)?fe:[...fe,ne]),typeof window<"u"&&window.localStorage.setItem(Li,ne.id),ie.current=(()=>{try{return JSON.stringify({pipeline:K,positions:{},persistedEdges:[],name:ne.name??"",description:ne.description??""})}catch{return`${Date.now()}`}})(),n({title:"New automation ready",description:"Blank canvas created. Add an agent or type a prompt below."})}catch(ne){console.error("[automation-builder] failed to create new automation",ne),n({title:"Failed to create automation",description:ne instanceof Error?ne.message:"Unknown error occurred.",variant:"destructive"})}},[gt,Ct,n,Se]),er=g.useCallback(async()=>{if(!b||b==="__new"){p(!1),I(null),u("Untitled Automation"),f(""),A([]),l({}),Be(),Ae(null),S(X=>X.filter(ne=>ne.id!=="__new")),typeof window<"u"&&window.localStorage.removeItem(Li);return}if(window.confirm(`Delete automation "${c.trim()||"Untitled Automation"}"? This cannot be undone.`)){F(!0);try{await Ct(),await fY(b),S(ne=>ne.filter(fe=>fe.id!==b)),typeof window<"u"&&window.localStorage.getItem(Li)===b&&window.localStorage.removeItem(Li),n({title:"Automation deleted",description:`${c.trim()||"Untitled Automation"} removed.`}),gt(),p(!1);const X=w.filter(ne=>ne.id!==b);X.length>0?rt(X[0]):rt(null)}catch(X){console.error("[automation-builder] failed to delete automation",X),n({title:"Failed to delete automation",description:X instanceof Error?X.message:"Unknown error occurred.",variant:"destructive"})}finally{F(!1)}}},[rt,w,c,gt,Be,Ct,Ae,b,n]),yn=g.useCallback(K=>{var we;if(!qe)return;const X=new Set(Z.filter(ce=>Kk(ce)).map(ce=>ce.id)),ne=new Set;qe.getNodes().forEach(ce=>{if(ce.type!=="agent"||!ce.positionAbsolute)return;const Ce=(ce.data??{}).sourceId??(ce.id.startsWith("pipeline:")?ce.id.replace(/^pipeline:/,""):ce.id);if(Ce&&X.has(Ce))return;const yt=ce.width??0,un=ce.height??0,Yt=ce.positionAbsolute.x+yt/2,nn=ce.positionAbsolute.y+un/2;Yt>=K.x1&&Yt<=K.x2&&nn>=K.y1&&nn<=K.y2&&ne.add(ce.id)});const fe=Array.from(ne);if(W(ce=>ce.length===fe.length&&ce.every(We=>ne.has(We))?ce:fe),ne.size===1){const[ce]=fe;let We=null;if(ce.startsWith("pipeline:")){const Ce=ce.replace(/^pipeline:/,""),yt=ye==null?void 0:ye.nodes.find(Yt=>Yt.id===Ce),un=((we=yt==null?void 0:yt.config)==null?void 0:we.agentId)??null;un&&!X.has(un)&&(We=un)}else X.has(ce)||(We=ce);We&&Z.some(Ce=>Ce.id===We)?Ae(We):Ae(null)}else Ae(null)},[Z,ye,qe,Ae]),ln=g.useCallback(K=>{if(!G||K.button!==0)return;const X=K.target;if(X.closest(".react-flow__node")||X.closest(".react-flow__edge")||X.closest(".react-flow__handle")||X.closest(".react-flow__controls")||X.closest(".react-flow__minimap")||!qe||!ut.current)return;K.preventDefault(),K.stopPropagation();const{left:ne,top:fe}=ut.current.getBoundingClientRect(),we={x:K.clientX,y:K.clientY};gt(),Ae(null),R(we),D({left:we.x-ne,top:we.y-fe,width:0,height:0}),M(!0)},[gt,G,qe,Ae]),zn=g.useCallback(K=>{if(!z||!$||!qe||!ut.current)return;K.preventDefault(),K.stopPropagation();const{left:X,top:ne}=ut.current.getBoundingClientRect(),fe={x:K.clientX,y:K.clientY},we={left:Math.min($.x,fe.x)-X,top:Math.min($.y,fe.y)-ne,width:Math.abs(fe.x-$.x),height:Math.abs(fe.y-$.y)};D(we);const ce=qe.project({x:$.x-X,y:$.y-ne}),We=qe.project({x:fe.x-X,y:fe.y-ne}),Ce={x1:Math.min(ce.x,We.x),x2:Math.max(ce.x,We.x),y1:Math.min(ce.y,We.y),y2:Math.max(ce.y,We.y)};yn(Ce)},[z,$,qe,yn]),ti=g.useCallback(()=>{z&&(M(!1),D(null),R(null))},[z]);g.useEffect(()=>{G||(M(!1),D(null),R(null))},[G]);const zt=g.useCallback(K=>{if(z){if(K.preventDefault(),K.stopPropagation(),$&&qe&&ut.current){const{left:X,top:ne}=ut.current.getBoundingClientRect(),fe={x:K.clientX,y:K.clientY},we=qe.project({x:$.x-X,y:$.y-ne}),ce=qe.project({x:fe.x-X,y:fe.y-ne}),We={x1:Math.min(we.x,ce.x),x2:Math.max(we.x,ce.x),y1:Math.min(we.y,ce.y),y2:Math.max(we.y,ce.y)};yn(We)}ti()}},[ti,z,$,qe,yn]),tn=g.useCallback(K=>{if(z){if(K.preventDefault(),K.stopPropagation(),$&&qe&&ut.current){const{left:X,top:ne}=ut.current.getBoundingClientRect(),fe={x:K.clientX,y:K.clientY},we=qe.project({x:$.x-X,y:$.y-ne}),ce=qe.project({x:fe.x-X,y:fe.y-ne}),We={x1:Math.min(we.x,ce.x),x2:Math.max(we.x,ce.x),y1:Math.min(we.y,ce.y),y2:Math.max(we.y,ce.y)};yn(We)}ti()}},[ti,z,$,qe,yn]),cn=g.useCallback(async()=>{if(!L.length)return;const K=new Set(Z.filter(fe=>Kk(fe)).map(fe=>fe.id)),X=new Set,ne=new Set;if(L.forEach(fe=>{if(fe.startsWith("pipeline:")){X.add(fe.replace(/^pipeline:/,""));return}!K.has(fe)&&Z.some(we=>we.id===fe)&&ne.add(fe)}),ye&&ye.nodes.forEach(fe=>{var ce;const we=(ce=fe.config)==null?void 0:ce.agentId;we&&ne.has(we)&&X.add(fe.id)}),ye&&X.size>0){const fe=ye.nodes.filter(ce=>!X.has(ce.id)),we=ye.edges.filter(ce=>!X.has(ce.from)&&!X.has(ce.to));Se({...ye,nodes:fe,edges:we},null),l(ce=>{const We={...ce};return X.forEach(Ce=>{delete We[Ce],delete We[`pipeline:${Ce}`]}),We}),A(ce=>ce.filter(We=>!X.has(We.source)&&!X.has(We.target))),Ee(!0)}if(ne.size>0){for(const fe of ne)try{await Ie.mutateAsync(fe)}catch(we){console.error("[automation-builder] failed to delete agent",we)}l(fe=>{const we={...fe};return ne.forEach(ce=>{delete we[ce],delete we[`pipeline:${ce}`]}),we}),A(fe=>fe.filter(we=>!ne.has(we.source)&&!ne.has(we.target)))}gt(),Ae(null)},[Z,ye,gt,Ie,Ae,L,Ee,A,l,Se]);g.useEffect(()=>{const K=X=>{(X.key==="Delete"||X.key==="Backspace")&&L.length>0&&(X.preventDefault(),cn()),X.key==="Escape"&&(z||L.length>0)&&(X.preventDefault(),gt(),Ae(null))};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[gt,cn,z,Ae,L.length]);const zs=g.useCallback(async K=>{if(await Ct(),K==="__new"){await en();return}_(!0);try{const X=await cY(K);X?(S(ne=>{const fe=ne.findIndex(ce=>ce.id===X.id);if(fe===-1)return[...ne,X];const we=[...ne];return we[fe]=X,we}),rt(X),p(!0),n({title:"Loaded automation",description:X.name})):n({title:"Automation not found",description:"The selected automation could not be loaded.",variant:"destructive"})}catch(X){n({title:"Failed to load automation",description:X instanceof Error?X.message:"Unknown error occurred.",variant:"destructive"})}finally{_(!1)}},[rt,Ct,en,p,n]);g.useEffect(()=>{if(!b||b==="__new"||Ye.current)return;const K=ot();K!==ie.current&&(Ee(!0),$e.current&&window.clearTimeout($e.current),console.log(`[automation-persist] Change detected  saving in ${Gk/1e3}s`),$e.current=window.setTimeout(()=>{$e.current=null,ft(K).catch(X=>{console.error("[automation-persist] auto-save failed",X)})},Gk))},[ot,ft,b]);const Xm=g.useCallback(async()=>{await Ct(),n({title:"Automation saved",description:`${c.trim()||"Untitled Automation"} saved successfully.`})},[c,Ct,n]),Fs=g.useCallback(K=>{const X=Kc(K.id);l(ne=>{const fe=ne[X],we={x:K.position.x,y:K.position.y};return fe&&fe.x===we.x&&fe.y===we.y?ne:{...ne,[X]:we}})},[]),Qm=g.useCallback((K,X)=>{X.id!=="start"&&Fs(X)},[Fs]),Jm=g.useCallback((K,X)=>{X.id!=="start"&&Fs(X)},[Fs]),Zm=g.useCallback(()=>{gt(),Ae(null)},[gt,Ae]),eg=g.useCallback(()=>{o(!0)},[]),Ec=g.useMemo(()=>{const K=Z.length,X=j.length,ne=Object.values(V).length;return{totalAgents:K,savedConnections:X,liveConnections:ne}},[Z.length,V,j.length]),Zd=g.useMemo(()=>{if(!E)return null;try{return new Date(E.updatedAt).toLocaleString()}catch{return E.updatedAt}},[E]),tg=g.useCallback(async K=>{var we;K.preventDefault();const X=re.trim();if(!X||ue)return;Pe.current=X,te(!0),le("Routing prompt...");let ne=!1;const fe=b==="__new"&&(!ye||ye.nodes.length===0);try{try{if(fe)throw{status:422};const nn=await Xe.dispatchToolAgentPrompt(X,{limit:25});le(`Dispatched to ${nn.agent.name}. Check the Tool Agent Console for runtime output.`),Y(""),n({title:`Sent to ${nn.agent.name}`,description:"Open the Tool Agent Console to monitor the agent logs."});return}catch(nn){if(nn.status===422)ne=!0,le("Interpreting prompt...");else{const oo=nn instanceof Error?nn.message:"Failed to dispatch prompt to a tool agent.";le(` ${oo}`),n({title:"Prompt dispatch failed",description:oo,variant:"destructive"});return}}if(!ne)return;const ce={name:c,description:h};ye&&!fe?ce.pipeline=ye:ce.pipeline={name:"",nodes:[],edges:[]};const We=await Xe.interpretAutomationPrompt(X,ce);if(!(We!=null&&We.actions)||We.actions.length===0)throw new Error((We==null?void 0:We.message)??"Could not understand prompt.");const Ce=await Je(We.actions),yt=((we=We.message)==null?void 0:we.trim())??Ce??"Automation updated.";le(yt),Y("");const un=yt.startsWith("")?yt:` ${yt}`,Yt=Ce&&Ce!==yt?Ce:We.message&&We.message!==yt?We.message:void 0;n({title:un,description:Yt})}catch(ce){console.error("[automation-builder] prompt submission failed",ce);const We=ce instanceof Error?ce.message:"Unknown error occurred.";le("Could not understand prompt."),n({title:" Could not process prompt",description:We,variant:"destructive"})}finally{te(!1)}},[Je,h,c,ye,ue,re,n]);return d.jsxs("div",{className:"h-screen w-full flex bg-[#0b0b0f]",children:[d.jsxs("div",{ref:ut,className:"flex-1 relative",onMouseDown:ln,onMouseMove:zn,onMouseUp:zt,onMouseLeave:tn,children:[d.jsxs(QP,{nodes:Sn,edges:kn,onNodeDrag:Qm,onNodeDragStop:Jm,onPaneClick:Zm,onMove:eg,nodeTypes:gY,fitView:!0,fitViewOptions:{padding:.35,includeHiddenNodes:!0},className:"bg-[#0b0b0f] dot-grid-background",onInit:K=>{Zt(K),requestAnimationFrame(()=>{try{K.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(X){console.warn("[agent-network] initial fitView failed",X)}})},panOnDrag:!G,selectionOnDrag:G,children:[d.jsx(GG,{variant:Jr.Dots,gap:20,size:1,color:"#222",className:"opacity-50"}),d.jsxs(FG,{className:"bg-card/80 backdrop-blur-sm border border-border rounded-lg",children:[d.jsx("button",{type:"button",title:"Lasso select (toggle)",className:me("react-flow__controls-button hover:bg-primary/70",G?"bg-primary text-primary-foreground":"bg-transparent text-white/80"),onClick:()=>ee(!0),children:d.jsx(uL,{className:"h-4 w-4"})}),d.jsx("button",{type:"button",title:"Pan mode (toggle)",className:me("react-flow__controls-button hover:bg-primary/70",G?"bg-transparent text-white/80":"bg-primary text-primary-foreground"),onClick:()=>ee(!1),children:d.jsx(JD,{className:"h-4 w-4"})})]}),r&&d.jsx(MG,{className:"!bg-card/60 !backdrop-blur-sm border border-border/50 rounded-lg",maskColor:"rgba(11, 11, 15, 0.6)",nodeColor:K=>K.type==="start"?"#10b981":"#3b82f6"})]}),T?d.jsx("div",{className:"pointer-events-none absolute rounded-sm border border-sky-400/70 bg-sky-400/20",style:{left:T.left,top:T.top,width:T.width,height:T.height}}):null,ue&&d.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 bg-neutral-900 border border-neutral-800 px-4 py-2 rounded-xl text-sm text-neutral-400 animate-pulse",children:"Interpreting prompt..."}),d.jsxs(mt,{className:"absolute left-1/2 top-6 z-30 w-[420px] -translate-x-1/2 bg-black/40 backdrop-blur border border-white/10 shadow-lg",children:[d.jsxs("button",{type:"button",onClick:()=>p(K=>!K),className:"flex w-full items-center gap-3 px-5 py-4 text-left transition hover:bg-white/5",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10",children:d.jsx(ej,{className:"h-5 w-5 text-white/80"})}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(lt,{className:"text-xs font-semibold uppercase tracking-[0.28em] text-white/60",children:"Automation"}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("span",{className:"flex items-center gap-1 text-xs font-semibold text-white/80",children:[d.jsx("span",{className:me("inline-flex h-2.5 w-2.5 rounded-full shadow-[0_0_8px]",se?"bg-amber-400 shadow-amber-400/70":"bg-emerald-400 shadow-emerald-400/60")}),se?"Unsaved":"Saved"]})})]}),v?d.jsx(qt,{autoFocus:!0,value:c,onChange:K=>u(K.target.value),onBlur:()=>x(!1),onKeyDown:K=>{K.key==="Enter"&&K.currentTarget.blur()},placeholder:"Atlas launch playbook",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"}):d.jsx("button",{type:"button",className:"w-full text-sm font-medium text-white text-left hover:text-white/80",onClick:()=>x(!0),children:c.trim()||"Name your automation"})]}),d.jsx(vs,{className:me("h-4 w-4 text-white/70 transition-transform duration-300",m?"rotate-180":"rotate-0")})]}),m&&d.jsxs("div",{className:"space-y-4 border-t border-white/10 px-5 py-4",children:[N?d.jsx("div",{className:"rounded-lg border border-red-400/40 bg-red-900/20 px-3 py-2 text-xs text-red-200",children:N}):null,d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Load existing"}),d.jsxs(Tm,{value:b,onValueChange:zs,disabled:k||O,children:[d.jsx(Hd,{className:"border-white/10 bg-white/5 text-white",children:d.jsx(Am,{placeholder:w.length?"Select automation":"No automations saved yet"})}),d.jsxs(Vd,{className:"bg-black/80 backdrop-blur border-white/10 text-white",children:[w.map(K=>d.jsx(rc,{value:K.id,children:K.name},K.id)),d.jsx(rc,{value:"__new",children:"New automation"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Name"}),d.jsx(qt,{value:c,onChange:K=>u(K.target.value),placeholder:"Atlas launch playbook",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Description"}),d.jsx(cr,{value:h,onChange:K=>f(K.target.value),placeholder:"High-level goal or context for this automation",className:"min-h-[72px] border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Blueprint Snapshot"}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-xs text-white/80 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Agents mapped"}),d.jsx("span",{className:"font-semibold text-white",children:Ec.totalAgents})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Saved connections"}),d.jsx("span",{className:"font-semibold text-white",children:Ec.savedConnections})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Live connections"}),d.jsx("span",{className:"font-semibold text-white",children:Ec.liveConnections})]}),Zd?d.jsxs("div",{className:"flex items-center justify-between text-white/60",children:[d.jsx("span",{children:"Last saved"}),d.jsx("span",{children:Zd})]}):d.jsx("div",{className:"text-white/60",children:"Not saved yet."})]})]}),d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx(be,{variant:"ghost",className:"text-white/70 hover:bg-white/10",onClick:()=>p(!1),children:"Close"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(be,{variant:"destructive",className:"text-white",onClick:er,disabled:O||k||P,children:P?"Deleting":"Delete"}),d.jsx(be,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:en,disabled:O||k,children:O?"Working":"New"}),d.jsx(be,{className:"bg-white/10 hover:bg-white/20 text-white",disabled:O||k,onClick:Xm,children:O?"Saving":"Save"})]})]})]})]}),d.jsxs(be,{onClick:()=>s(!0),disabled:ve,className:"absolute top-6 right-6 rounded-full h-11 px-6 bg-primary/90 hover:bg-primary text-primary-foreground shadow-lg backdrop-blur-sm border border-white/10",children:[d.jsx(Xv,{className:"h-4 w-4 mr-2"}),"New Agent"]}),d.jsx("div",{className:"pointer-events-none absolute bottom-6 left-1/2 z-30 flex -translate-x-1/2 justify-center px-6",children:d.jsxs("form",{onSubmit:tg,className:"pointer-events-auto flex w-full min-w-[320px] max-w-[680px] flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-white/20 bg-black/60 px-4 py-2.5 text-sm text-white/80 backdrop-blur-lg shadow-lg",children:[d.jsx("input",{value:re,onChange:K=>Y(K.target.value),className:"flex-1 bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none",placeholder:"Type in a change youd like to see",disabled:ue}),d.jsx(be,{type:"submit",size:"icon",className:"h-9 w-9 rounded-full border border-white/30 bg-white/10 text-white hover:bg-white/20",disabled:ue||re.trim().length===0,children:ue?d.jsx(Cr,{className:"h-4 w-4 animate-spin"}):d.jsx(JE,{className:"h-4 w-4"})})]}),ae&&!ae.toLowerCase().startsWith("awaiting_key")?d.jsx("span",{className:"text-xs text-white/60",children:ae}):null]})})]}),d.jsx("div",{className:me("relative flex-shrink-0 overflow-hidden transition-all duration-500 ease-out",He?"w-[400px] max-w-[400px]":"w-0 max-w-0 pointer-events-none"),children:d.jsx("div",{className:me("h-full transform transition-transform duration-500 ease-out",He?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:He&&d.jsx(UK,{agent:He,onDelete:K=>Ie.mutateAsync(K),onUpdate:(K,X)=>De.mutateAsync({id:K,updates:X}),isDeleting:Ie.isPending,isSaving:De.isPending})})}),d.jsx(sY,{open:i,onOpenChange:s,onCreateManual:async K=>{await _e.mutateAsync(K)},onGenerateFromPrompt:async(K,X)=>{const ne=await Xe.buildAgentFromPrompt(K,X);return n({title:"Agent generated",description:ne.spec.name}),e.invalidateQueries({queryKey:["agents"]}),ne}})]})}const vY={P1:"bg-red-500/20 text-red-400 border-red-500/30",P2:"bg-orange-500/20 text-orange-400 border-orange-500/30",P3:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",P4:"bg-green-500/20 text-green-400 border-green-500/30"};function wY({tickets:e,selectedTicket:n,onSelectTicket:r}){const o=e.reduce((s,a)=>(s[a.priority]||(s[a.priority]=[]),s[a.priority].push(a),s),{}),i=["P1","P2","P3","P4"];return d.jsx("div",{className:"space-y-6",children:i.map(s=>{const a=o[s];return a!=null&&a.length?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:me("text-xs font-medium px-2 py-0.5 rounded border",vY[s]),children:s}),d.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.length," ticket",a.length>1?"s":""]})]}),d.jsx("div",{className:"space-y-2",children:a.map(l=>d.jsxs("button",{onClick:()=>r(l),className:me("w-full text-left p-3 rounded-lg border transition-all",(n==null?void 0:n.id)===l.id?"bg-atlas-glow/10 border-atlas-glow/50":"bg-card/50 border-border/50 hover:border-border hover:bg-card/80"),children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:l.key}),d.jsx("span",{className:me("text-[10px] px-1.5 py-0.5 rounded",l.status==="open"?"bg-blue-500/20 text-blue-400":l.status==="in-progress"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:l.status})]}),d.jsx("p",{className:"text-sm font-medium text-foreground line-clamp-1",children:l.title}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:l.description})]},l.id))})]},s):null})})}function bY({ticket:e,onBack:n,details:r,similarIssues:o}){const[i,s]=g.useState("Comments"),[a,l]=g.useState(!0),c=["All","Comments","History","Work log","Approvals"],u=(r==null?void 0:r.comments)??e.comments??[];return d.jsxs("div",{className:"flex flex-col h-full break-words",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[d.jsx(BD,{className:"w-4 h-4"}),"Back"]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-0.5 rounded",children:e.key})}),d.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[d.jsx(be,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:d.jsx(BE,{className:"w-4 h-4"})}),d.jsx(be,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:d.jsx(vs,{className:"w-4 h-4"})})]})]}),d.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:e.title}),d.jsxs("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[d.jsxs(be,{variant:"outline",size:"sm",className:"text-xs h-8",children:[d.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Create subtask"]}),d.jsxs(be,{variant:"outline",size:"sm",className:"text-xs h-8",children:[d.jsx(tL,{className:"w-3.5 h-3.5 mr-1.5"}),"Link work item"]}),d.jsxs(be,{variant:"outline",size:"sm",className:"text-xs h-8",children:["Create",d.jsx(vs,{className:"w-3 h-3 ml-1"})]}),d.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",children:d.jsx(qE,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4 mb-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-xs font-medium text-white",children:e.reporter.split(" ").map(h=>h[0]).join("")}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"font-medium text-foreground",children:e.reporter}),d.jsx("span",{className:"text-muted-foreground",children:" raised this request via "}),d.jsx("span",{className:"font-medium text-foreground",children:e.source})]}),r!=null&&r.url?d.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",className:"text-xs text-atlas-glow hover:underline",children:"View request in portal"}):d.jsx("span",{className:"text-xs text-muted-foreground",children:"View request in portal"})]})]}),d.jsxs("button",{onClick:()=>l(!a),className:"text-xs text-atlas-glow hover:underline",children:[a?"Hide":"Show"," details"]})]}),a&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),r!=null&&r.descriptionHtml?d.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.descriptionHtml}}):d.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:e.description||"No description provided."})]})]}),d.jsx("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4 mb-6",children:d.jsxs("button",{className:"w-full flex items-center justify-between text-sm",children:[d.jsx("span",{className:"font-medium text-foreground",children:"Similar requests"}),d.jsx(vs,{className:"w-4 h-4 text-muted-foreground"})]})}),d.jsxs("div",{className:"flex-1 min-h-0",children:[d.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Activity"}),d.jsx("div",{className:"flex flex-wrap items-center gap-1 mb-4",children:c.map(h=>d.jsx("button",{onClick:()=>s(h),className:me("px-3 py-1.5 text-xs rounded-md transition-colors",i===h?"bg-atlas-glow/20 text-atlas-glow":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:h},h))}),d.jsxs("div",{className:"flex items-center gap-3 bg-card/50 border border-border/50 rounded-lg p-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-xs font-medium text-white",children:"ZM"}),d.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[d.jsx("button",{className:"text-xs text-atlas-glow hover:underline",children:"Add internal note"}),d.jsx("span",{className:"text-muted-foreground",children:"/"}),d.jsx("button",{className:"text-xs text-atlas-glow hover:underline",children:"Reply to customer"})]}),d.jsx(be,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:d.jsx(aL,{className:"w-4 h-4"})})]}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[d.jsx("span",{className:"font-medium",children:"Pro tip:"})," press"," ",d.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-[10px]",children:"M"})," to comment"]}),u.length>0&&d.jsx("div",{className:"mt-4 space-y-3",children:u.map((h,f)=>d.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-foreground",children:h.author||"Comment"}),h.created&&d.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(h.created).toLocaleString()})]}),d.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:h.body||"No content"})]},f))}),o&&o.length>0&&d.jsxs("div",{className:"mt-6",children:[d.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Similar solved tickets"}),d.jsx("div",{className:"space-y-3",children:o.map((h,f)=>d.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-foreground",children:h.key}),h.similarityScore!==void 0&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:[(h.similarityScore*100).toFixed(0),"% match"]})]}),h.summary&&d.jsx("p",{className:"text-sm text-foreground mt-1",children:h.summary}),h.howSolved&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.jsx("span",{className:"font-medium",children:"How solved:"})," ",h.howSolved]}),h.rootCause&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.jsx("span",{className:"font-medium",children:"Root cause:"})," ",h.rootCause]}),h.resolutionComment&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.jsx("span",{className:"font-medium",children:"Resolution comment:"})," ",h.resolutionComment]}),h.solvedBy&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.jsx("span",{className:"font-medium",children:"Solved by:"})," ",h.solvedBy]}),h.timeTaken&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d.jsx("span",{className:"font-medium",children:"Time taken:"})," ",h.timeTaken]})]},h.key||f))})]})]})]})}function SY({tickets:e,selectedTicket:n,onSelectTicket:r,onClearSelection:o,onResolveTicket:i,loading:s,issueDetails:a,similarIssues:l,view:c="pending",onChangeView:u}){const h=e.filter(f=>c==="pending"?f.status!=="closed":f.status==="closed");return d.jsx("div",{className:"h-full bg-card/30 backdrop-blur-sm border border-border/50 rounded-2xl p-5 flex flex-col",children:n?d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:d.jsx(bY,{ticket:n,onBack:o,details:a==null?void 0:a[n.key],similarIssues:l==null?void 0:l[n.key]})}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{onClick:()=>i==null?void 0:i(n),className:"w-full text-center py-2 px-3 rounded-md bg-blue-500 text-white text-sm font-medium hover:bg-blue-600 transition-colors",children:"Resolve ticket"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("button",{onClick:()=>u==null?void 0:u("pending"),className:me("flex-1 text-sm py-2 rounded-lg border",c==="pending"?"border-atlas-glow/60 text-foreground":"border-border/50 text-muted-foreground hover:text-foreground"),children:"Pending"}),d.jsx("button",{onClick:()=>u==null?void 0:u("resolved"),className:me("flex-1 text-sm py-2 rounded-lg border",c==="resolved"?"border-atlas-glow/60 text-foreground":"border-border/50 text-muted-foreground hover:text-foreground"),children:"Resolved"})]}),d.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Your Tickets"}),s?d.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading your assigned Jira issues..."}):h.length?d.jsx(wY,{tickets:h,selectedTicket:n,onSelectTicket:r}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No assigned Jira issues found."})]})})}async function kY(e,n={}){const r=await fetch(`${mo}/connectors/jira/api/issues/${encodeURIComponent(e)}`,{headers:{"Content-Type":"application/json",...n},credentials:"include"});if(!r.ok){const i=await r.text();throw new Error(i||r.statusText)}return(await r.json()).issue}function _Y(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const NY=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CY=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,EY={};function Xk(e,n){return(EY.jsx?CY:NY).test(e)}const jY=/[ \t\n\f\r]/g;function TY(e){return typeof e=="object"?e.type==="text"?Qk(e.value):!1:Qk(e)}function Qk(e){return e.replace(jY,"")===""}class Yd{constructor(n,r,o){this.normal=r,this.property=n,o&&(this.space=o)}}Yd.prototype.normal={};Yd.prototype.property={};Yd.prototype.space=void 0;function LR(e,n){const r={},o={};for(const i of e)Object.assign(r,i.property),Object.assign(o,i.normal);return new Yd(r,o,n)}function k0(e){return e.toLowerCase()}class gr{constructor(n,r){this.attribute=r,this.property=n}}gr.prototype.attribute="";gr.prototype.booleanish=!1;gr.prototype.boolean=!1;gr.prototype.commaOrSpaceSeparated=!1;gr.prototype.commaSeparated=!1;gr.prototype.defined=!1;gr.prototype.mustUseProperty=!1;gr.prototype.number=!1;gr.prototype.overloadedBoolean=!1;gr.prototype.property="";gr.prototype.spaceSeparated=!1;gr.prototype.space=void 0;let AY=0;const et=La(),sn=La(),_0=La(),pe=La(),Et=La(),Al=La(),wr=La();function La(){return 2**++AY}const N0=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:sn,commaOrSpaceSeparated:wr,commaSeparated:Al,number:pe,overloadedBoolean:_0,spaceSeparated:Et},Symbol.toStringTag,{value:"Module"})),uy=Object.keys(N0);class Jw extends gr{constructor(n,r,o,i){let s=-1;if(super(n,r),Jk(this,"space",i),typeof o=="number")for(;++s<uy.length;){const a=uy[s];Jk(this,uy[s],(o&N0[a])===N0[a])}}}Jw.prototype.defined=!0;function Jk(e,n,r){r&&(e[n]=r)}function Nc(e){const n={},r={};for(const[o,i]of Object.entries(e.properties)){const s=new Jw(o,e.transform(e.attributes||{},o),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(s.mustUseProperty=!0),n[o]=s,r[k0(o)]=o,r[k0(s.attribute)]=o}return new Yd(n,r,e.space)}const $R=Nc({properties:{ariaActiveDescendant:null,ariaAtomic:sn,ariaAutoComplete:null,ariaBusy:sn,ariaChecked:sn,ariaColCount:pe,ariaColIndex:pe,ariaColSpan:pe,ariaControls:Et,ariaCurrent:null,ariaDescribedBy:Et,ariaDetails:null,ariaDisabled:sn,ariaDropEffect:Et,ariaErrorMessage:null,ariaExpanded:sn,ariaFlowTo:Et,ariaGrabbed:sn,ariaHasPopup:null,ariaHidden:sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Et,ariaLevel:pe,ariaLive:null,ariaModal:sn,ariaMultiLine:sn,ariaMultiSelectable:sn,ariaOrientation:null,ariaOwns:Et,ariaPlaceholder:null,ariaPosInSet:pe,ariaPressed:sn,ariaReadOnly:sn,ariaRelevant:null,ariaRequired:sn,ariaRoleDescription:Et,ariaRowCount:pe,ariaRowIndex:pe,ariaRowSpan:pe,ariaSelected:sn,ariaSetSize:pe,ariaSort:null,ariaValueMax:pe,ariaValueMin:pe,ariaValueNow:pe,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function zR(e,n){return n in e?e[n]:n}function FR(e,n){return zR(e,n.toLowerCase())}const PY=Nc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Al,acceptCharset:Et,accessKey:Et,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Et,autoFocus:et,autoPlay:et,blocking:Et,capture:null,charSet:null,checked:et,cite:null,className:Et,cols:pe,colSpan:null,content:null,contentEditable:sn,controls:et,controlsList:Et,coords:pe|Al,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:_0,draggable:sn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Et,height:pe,hidden:_0,high:pe,href:null,hrefLang:null,htmlFor:Et,httpEquiv:Et,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Et,itemRef:Et,itemScope:et,itemType:Et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:pe,manifest:null,max:null,maxLength:pe,media:null,method:null,min:null,minLength:pe,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:pe,pattern:null,ping:Et,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Et,required:et,reversed:et,rows:pe,rowSpan:pe,sandbox:Et,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:pe,sizes:null,slot:null,span:pe,spellCheck:sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pe,step:null,style:null,tabIndex:pe,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:sn,width:pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Et,axis:null,background:null,bgColor:null,border:pe,borderColor:null,bottomMargin:pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:pe,leftMargin:pe,link:null,longDesc:null,lowSrc:null,marginHeight:pe,marginWidth:pe,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:pe,rules:null,scheme:null,scrolling:sn,standby:null,summary:null,text:null,topMargin:pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:pe,security:null,unselectable:null},space:"html",transform:FR}),MY=Nc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wr,accentHeight:pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pe,amplitude:pe,arabicForm:null,ascent:pe,attributeName:null,attributeType:null,azimuth:pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pe,by:null,calcMode:null,capHeight:pe,className:Et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pe,diffuseConstant:pe,direction:null,display:null,dur:null,divisor:pe,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:pe,enableBackground:null,end:null,event:null,exponent:pe,externalResourcesRequired:null,fill:null,fillOpacity:pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Al,g2:Al,glyphName:Al,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pe,horizOriginX:pe,horizOriginY:pe,id:null,ideographic:pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pe,k:pe,k1:pe,k2:pe,k3:pe,k4:pe,kernelMatrix:wr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pe,overlineThickness:pe,paintOrder:null,panose1:null,path:null,pathLength:pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pe,pointsAtY:pe,pointsAtZ:pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wr,rev:wr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wr,requiredFeatures:wr,requiredFonts:wr,requiredFormats:wr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pe,specularExponent:pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pe,strikethroughThickness:pe,string:null,stroke:null,strokeDashArray:wr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pe,strokeOpacity:pe,strokeWidth:null,style:null,surfaceScale:pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wr,tabIndex:pe,tableValues:null,target:null,targetX:pe,targetY:pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pe,underlineThickness:pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pe,values:null,vAlphabetic:pe,vMathematical:pe,vectorEffect:null,vHanging:pe,vIdeographic:pe,version:null,vertAdvY:pe,vertOriginX:pe,vertOriginY:pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zR}),UR=Nc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),BR=Nc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FR}),HR=Nc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),RY={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},IY=/[A-Z]/g,Zk=/-[a-z]/g,OY=/^data[-\w.:]+$/i;function DY(e,n){const r=k0(n);let o=n,i=gr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&OY.test(n)){if(n.charAt(4)==="-"){const s=n.slice(5).replace(Zk,$Y);o="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=n.slice(4);if(!Zk.test(s)){let a=s.replace(IY,LY);a.charAt(0)!=="-"&&(a="-"+a),n="data"+a}}i=Jw}return new i(o,n)}function LY(e){return"-"+e.toLowerCase()}function $Y(e){return e.charAt(1).toUpperCase()}const zY=LR([$R,PY,UR,BR,HR],"html"),Zw=LR([$R,MY,UR,BR,HR],"svg");function FY(e){return e.join(" ").trim()}var e1={},e2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,UY=/\n/g,BY=/^\s*/,HY=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,VY=/^:\s*/,WY=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,qY=/^[;\s]*/,GY=/^\s+|\s+$/g,KY=`
`,t2="/",n2="*",Ys="",YY="comment",XY="declaration";function QY(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var r=1,o=1;function i(v){var x=v.match(UY);x&&(r+=x.length);var b=v.lastIndexOf(KY);o=~b?v.length-b:o+v.length}function s(){var v={line:r,column:o};return function(x){return x.position=new a(v),u(),x}}function a(v){this.start=v,this.end={line:r,column:o},this.source=n.source}a.prototype.content=e;function l(v){var x=new Error(n.source+":"+r+":"+o+": "+v);if(x.reason=v,x.filename=n.source,x.line=r,x.column=o,x.source=e,!n.silent)throw x}function c(v){var x=v.exec(e);if(x){var b=x[0];return i(b),e=e.slice(b.length),x}}function u(){c(BY)}function h(v){var x;for(v=v||[];x=f();)x!==!1&&v.push(x);return v}function f(){var v=s();if(!(t2!=e.charAt(0)||n2!=e.charAt(1))){for(var x=2;Ys!=e.charAt(x)&&(n2!=e.charAt(x)||t2!=e.charAt(x+1));)++x;if(x+=2,Ys===e.charAt(x-1))return l("End of comment missing");var b=e.slice(2,x-2);return o+=2,i(b),e=e.slice(x),o+=2,v({type:YY,comment:b})}}function m(){var v=s(),x=c(HY);if(x){if(f(),!c(VY))return l("property missing ':'");var b=c(WY),y=v({type:XY,property:r2(x[0].replace(e2,Ys)),value:b?r2(b[0].replace(e2,Ys)):Ys});return c(qY),y}}function p(){var v=[];h(v);for(var x;x=m();)x!==!1&&(v.push(x),h(v));return v}return u(),p()}function r2(e){return e?e.replace(GY,Ys):Ys}var JY=QY,ZY=Sh&&Sh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e1,"__esModule",{value:!0});e1.default=tX;const eX=ZY(JY);function tX(e,n){let r=null;if(!e||typeof e!="string")return r;const o=(0,eX.default)(e),i=typeof n=="function";return o.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:l}=s;i?n(a,l,s):l&&(r=r||{},r[a]=l)}),r}var $m={};Object.defineProperty($m,"__esModule",{value:!0});$m.camelCase=void 0;var nX=/^--[a-zA-Z0-9_-]+$/,rX=/-([a-z])/g,oX=/^[^-]+$/,iX=/^-(webkit|moz|ms|o|khtml)-/,sX=/^-(ms)-/,aX=function(e){return!e||oX.test(e)||nX.test(e)},lX=function(e,n){return n.toUpperCase()},o2=function(e,n){return"".concat(n,"-")},cX=function(e,n){return n===void 0&&(n={}),aX(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(sX,o2):e=e.replace(iX,o2),e.replace(rX,lX))};$m.camelCase=cX;var uX=Sh&&Sh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dX=uX(e1),fX=$m;function C0(e,n){var r={};return!e||typeof e!="string"||(0,dX.default)(e,function(o,i){o&&i&&(r[(0,fX.camelCase)(o,n)]=i)}),r}C0.default=C0;var hX=C0;const pX=fc(hX),VR=WR("end"),t1=WR("start");function WR(e){return n;function n(r){const o=r&&r.position&&r.position[e]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function mX(e){const n=t1(e),r=VR(e);if(n&&r)return{start:n,end:r}}function Tu(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?i2(e.position):"start"in e||"end"in e?i2(e):"line"in e||"column"in e?E0(e):""}function E0(e){return s2(e&&e.line)+":"+s2(e&&e.column)}function i2(e){return E0(e&&e.start)+"-"+E0(e&&e.end)}function s2(e){return e&&typeof e=="number"?e:1}class $n extends Error{constructor(n,r,o){super(),typeof r=="string"&&(o=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof n=="string"?i=n:!s.cause&&n&&(a=!0,i=n.message,s.cause=n),!s.ruleId&&!s.source&&typeof o=="string"){const c=o.indexOf(":");c===-1?s.ruleId=o:(s.source=o.slice(0,c),s.ruleId=o.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Tu(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}$n.prototype.file="";$n.prototype.name="";$n.prototype.reason="";$n.prototype.message="";$n.prototype.stack="";$n.prototype.column=void 0;$n.prototype.line=void 0;$n.prototype.ancestors=void 0;$n.prototype.cause=void 0;$n.prototype.fatal=void 0;$n.prototype.place=void 0;$n.prototype.ruleId=void 0;$n.prototype.source=void 0;const n1={}.hasOwnProperty,gX=new Map,yX=/[A-Z]/g,xX=new Set(["table","tbody","thead","tfoot","tr"]),vX=new Set(["td","th"]),qR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wX(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let o;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=jX(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=EX(r,n.jsx,n.jsxs)}const i={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:o,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Zw:zY,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},s=GR(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function GR(e,n,r){if(n.type==="element")return bX(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return SX(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return _X(e,n,r);if(n.type==="mdxjsEsm")return kX(e,n);if(n.type==="root")return NX(e,n,r);if(n.type==="text")return CX(e,n)}function bX(e,n,r){const o=e.schema;let i=o;n.tagName.toLowerCase()==="svg"&&o.space==="html"&&(i=Zw,e.schema=i),e.ancestors.push(n);const s=YR(e,n.tagName,!1),a=TX(e,n);let l=o1(e,n);return xX.has(n.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!TY(c):!0})),KR(e,a,s,n),r1(a,l),e.ancestors.pop(),e.schema=o,e.create(n,s,a,r)}function SX(e,n){if(n.data&&n.data.estree&&e.evaluater){const o=n.data.estree.body[0];return o.type,e.evaluater.evaluateExpression(o.expression)}md(e,n.position)}function kX(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);md(e,n.position)}function _X(e,n,r){const o=e.schema;let i=o;n.name==="svg"&&o.space==="html"&&(i=Zw,e.schema=i),e.ancestors.push(n);const s=n.name===null?e.Fragment:YR(e,n.name,!0),a=AX(e,n),l=o1(e,n);return KR(e,a,s,n),r1(a,l),e.ancestors.pop(),e.schema=o,e.create(n,s,a,r)}function NX(e,n,r){const o={};return r1(o,o1(e,n)),e.create(n,e.Fragment,o,r)}function CX(e,n){return n.value}function KR(e,n,r,o){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=o)}function r1(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function EX(e,n,r){return o;function o(i,s,a,l){const u=Array.isArray(a.children)?r:n;return l?u(s,a,l):u(s,a)}}function jX(e,n){return r;function r(o,i,s,a){const l=Array.isArray(s.children),c=t1(o);return n(i,s,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function TX(e,n){const r={};let o,i;for(i in n.properties)if(i!=="children"&&n1.call(n.properties,i)){const s=PX(e,i,n.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&vX.has(n.tagName)?o=l:r[a]=l}}if(o){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return r}function AX(e,n){const r={};for(const o of n.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&e.evaluater){const s=o.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else md(e,n.position);else{const i=o.name;let s;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&e.evaluater){const l=o.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else md(e,n.position);else s=o.value===null?!0:o.value;r[i]=s}return r}function o1(e,n){const r=[];let o=-1;const i=e.passKeys?new Map:gX;for(;++o<n.children.length;){const s=n.children[o];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const l=GR(e,s,a);l!==void 0&&r.push(l)}return r}function PX(e,n,r){const o=DY(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=o.commaSeparated?_Y(r):FY(r)),o.property==="style"){let i=typeof r=="object"?r:MX(e,String(r));return e.stylePropertyNameCase==="css"&&(i=RX(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&o.space?RY[o.property]||o.property:o.attribute,r]}}function MX(e,n){try{return pX(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const o=r,i=new $n("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=qR+"#cannot-parse-style-attribute",i}}function YR(e,n,r){let o;if(!r)o={type:"Literal",value:n};else if(n.includes(".")){const i=n.split(".");let s=-1,a;for(;++s<i.length;){const l=Xk(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}o=a}else o=Xk(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(o.type==="Literal"){const i=o.value;return n1.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(o);md(e)}function md(e,n){const r=new $n("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=qR+"#cannot-handle-mdx-estrees-without-createevaluater",r}function RX(e){const n={};let r;for(r in e)n1.call(e,r)&&(n[IX(r)]=e[r]);return n}function IX(e){let n=e.replace(yX,OX);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function OX(e){return"-"+e.toLowerCase()}const dy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},DX={};function i1(e,n){const r=DX,o=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return XR(e,o,i)}function XR(e,n,r){if(LX(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return a2(e.children,n,r)}return Array.isArray(e)?a2(e,n,r):""}function a2(e,n,r){const o=[];let i=-1;for(;++i<e.length;)o[i]=XR(e[i],n,r);return o.join("")}function LX(e){return!!(e&&typeof e=="object")}const l2=document.createElement("i");function s1(e){const n="&"+e+";";l2.innerHTML=n;const r=l2.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function Tr(e,n,r,o){const i=e.length;let s=0,a;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,r=r>0?r:0,o.length<1e4)a=Array.from(o),a.unshift(n,r),e.splice(...a);else for(r&&e.splice(n,r);s<o.length;)a=o.slice(s,s+1e4),a.unshift(n,0),e.splice(...a),s+=1e4,n+=1e4}function Vr(e,n){return e.length>0?(Tr(e,e.length,0,n),e):n}const c2={}.hasOwnProperty;function QR(e){const n={};let r=-1;for(;++r<e.length;)$X(n,e[r]);return n}function $X(e,n){let r;for(r in n){const i=(c2.call(e,r)?e[r]:void 0)||(e[r]={}),s=n[r];let a;if(s)for(a in s){c2.call(i,a)||(i[a]=[]);const l=s[a];zX(i[a],Array.isArray(l)?l:l?[l]:[])}}}function zX(e,n){let r=-1;const o=[];for(;++r<n.length;)(n[r].add==="after"?e:o).push(n[r]);Tr(e,0,0,o)}function JR(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function So(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wn=$s(/[A-Za-z]/),Dn=$s(/[\dA-Za-z]/),FX=$s(/[#-'*+\--9=?A-Z^-~]/);function bp(e){return e!==null&&(e<32||e===127)}const j0=$s(/\d/),UX=$s(/[\dA-Fa-f]/),BX=$s(/[!-/:-@[-`{-~]/);function Ue(e){return e!==null&&e<-2}function Nt(e){return e!==null&&(e<0||e===32)}function st(e){return e===-2||e===-1||e===32}const zm=$s(new RegExp("\\p{P}|\\p{S}","u")),Aa=$s(/\s/);function $s(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Cc(e){const n=[];let r=-1,o=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&Dn(e.charCodeAt(r+1))&&Dn(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(r+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(n.push(e.slice(o,r),encodeURIComponent(a)),o=r+i+1,a=""),i&&(r+=i,i=0)}return n.join("")+e.slice(o)}function dt(e,n,r,o){const i=o?o-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return st(c)?(e.enter(r),l(c)):n(c)}function l(c){return st(c)&&s++<i?(e.consume(c),l):(e.exit(r),n(c))}}const HX={tokenize:VX};function VX(e){const n=e.attempt(this.parser.constructs.contentInitial,o,i);let r;return n;function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),dt(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ue(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const WX={tokenize:qX},u2={tokenize:GX};function qX(e){const n=this,r=[];let o=0,i,s,a;return l;function l(S){if(o<r.length){const k=r[o];return n.containerState=k[1],e.attempt(k[0].continuation,c,u)(S)}return u(S)}function c(S){if(o++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&w();const k=n.events.length;let _=k,N;for(;_--;)if(n.events[_][0]==="exit"&&n.events[_][1].type==="chunkFlow"){N=n.events[_][1].end;break}y(o);let C=k;for(;C<n.events.length;)n.events[C][1].end={...N},C++;return Tr(n.events,_+1,0,n.events.slice(k)),n.events.length=C,u(S)}return l(S)}function u(S){if(o===r.length){if(!i)return m(S);if(i.currentConstruct&&i.currentConstruct.concrete)return v(S);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(u2,h,f)(S)}function h(S){return i&&w(),y(o),m(S)}function f(S){return n.parser.lazy[n.now().line]=o!==r.length,a=n.now().offset,v(S)}function m(S){return n.containerState={},e.attempt(u2,p,v)(S)}function p(S){return o++,r.push([n.currentConstruct,n.containerState]),m(S)}function v(S){if(S===null){i&&w(),y(0),e.consume(S);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(S)}function x(S){if(S===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(S);return}return Ue(S)?(e.consume(S),b(e.exit("chunkFlow")),o=0,n.interrupt=void 0,l):(e.consume(S),x)}function b(S,k){const _=n.sliceStream(S);if(k&&_.push(null),S.previous=s,s&&(s.next=S),s=S,i.defineSkip(S.start),i.write(_),n.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const C=n.events.length;let j=C,A,E;for(;j--;)if(n.events[j][0]==="exit"&&n.events[j][1].type==="chunkFlow"){if(A){E=n.events[j][1].end;break}A=!0}for(y(o),N=C;N<n.events.length;)n.events[N][1].end={...E},N++;Tr(n.events,j+1,0,n.events.slice(C)),n.events.length=N}}function y(S){let k=r.length;for(;k-- >S;){const _=r[k];n.containerState=_[1],_[0].exit.call(n,e)}r.length=S}function w(){i.write([null]),s=void 0,i=void 0,n.containerState._closeFlow=void 0}}function GX(e,n,r){return dt(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sc(e){if(e===null||Nt(e)||Aa(e))return 1;if(zm(e))return 2}function Fm(e,n,r){const o=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!o.includes(s)&&(n=s(n,r),o.push(s))}return n}const T0={name:"attention",resolveAll:KX,tokenize:YX};function KX(e,n){let r=-1,o,i,s,a,l,c,u,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(o=r;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&n.sliceSerialize(e[o][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[o][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[o][1].end.offset-e[o][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[o][1].end},m={...e[r][1].start};d2(f,-c),d2(m,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[o][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:m},s={type:c>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[o][1].end={...a.start},e[r][1].start={...l.end},u=[],e[o][1].end.offset-e[o][1].start.offset&&(u=Vr(u,[["enter",e[o][1],n],["exit",e[o][1],n]])),u=Vr(u,[["enter",i,n],["enter",a,n],["exit",a,n],["enter",s,n]]),u=Vr(u,Fm(n.parser.constructs.insideSpan.null,e.slice(o+1,r),n)),u=Vr(u,[["exit",s,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,u=Vr(u,[["enter",e[r][1],n],["exit",e[r][1],n]])):h=0,Tr(e,o-1,r-o+3,u),r=o+u.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function YX(e,n){const r=this.parser.constructs.attentionMarkers.null,o=this.previous,i=sc(o);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const u=e.exit("attentionSequence"),h=sc(c),f=!h||h===2&&i||r.includes(c),m=!i||i===2&&h||r.includes(o);return u._open=!!(s===42?f:f&&(i||!m)),u._close=!!(s===42?m:m&&(h||!f)),n(c)}}function d2(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const XX={name:"autolink",tokenize:QX};function QX(e,n,r){let o=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Wn(p)?(e.consume(p),a):p===64?r(p):u(p)}function a(p){return p===43||p===45||p===46||Dn(p)?(o=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),o=0,c):(p===43||p===45||p===46||Dn(p))&&o++<32?(e.consume(p),l):(o=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):p===null||p===32||p===60||bp(p)?r(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),h):FX(p)?(e.consume(p),u):r(p)}function h(p){return Dn(p)?f(p):r(p)}function f(p){return p===46?(e.consume(p),o=0,h):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):m(p)}function m(p){if((p===45||Dn(p))&&o++<63){const v=p===45?m:f;return e.consume(p),v}return r(p)}}const Xd={partial:!0,tokenize:JX};function JX(e,n,r){return o;function o(s){return st(s)?dt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ue(s)?n(s):r(s)}}const ZR={continuation:{tokenize:eQ},exit:tQ,name:"blockQuote",tokenize:ZX};function ZX(e,n,r){const o=this;return i;function i(a){if(a===62){const l=o.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return st(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(a))}}function eQ(e,n,r){const o=this;return i;function i(a){return st(a)?dt(e,s,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(ZR,n,r)(a)}}function tQ(e){e.exit("blockQuote")}const e3={name:"characterEscape",tokenize:nQ};function nQ(e,n,r){return o;function o(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return BX(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(s)}}const t3={name:"characterReference",tokenize:rQ};function rQ(e,n,r){const o=this;let i=0,s,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Dn,h(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=UX,h):(e.enter("characterReferenceValue"),s=7,a=j0,h(f))}function h(f){if(f===59&&i){const m=e.exit("characterReferenceValue");return a===Dn&&!s1(o.sliceSerialize(m))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return a(f)&&i++<s?(e.consume(f),h):r(f)}}const f2={partial:!0,tokenize:iQ},h2={concrete:!0,name:"codeFenced",tokenize:oQ};function oQ(e,n,r){const o=this,i={partial:!0,tokenize:_};let s=0,a=0,l;return c;function c(N){return u(N)}function u(N){const C=o.events[o.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(N)}function h(N){return N===l?(a++,e.consume(N),h):a<3?r(N):(e.exit("codeFencedFenceSequence"),st(N)?dt(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Ue(N)?(e.exit("codeFencedFence"),o.interrupt?n(N):e.check(f2,x,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||Ue(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):st(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),dt(e,p,"whitespace")(N)):N===96&&N===l?r(N):(e.consume(N),m)}function p(N){return N===null||Ue(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Ue(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===l?r(N):(e.consume(N),v)}function x(N){return e.attempt(i,k,b)(N)}function b(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return s>0&&st(N)?dt(e,w,"linePrefix",s+1)(N):w(N)}function w(N){return N===null||Ue(N)?e.check(f2,x,k)(N):(e.enter("codeFlowValue"),S(N))}function S(N){return N===null||Ue(N)?(e.exit("codeFlowValue"),w(N)):(e.consume(N),S)}function k(N){return e.exit("codeFenced"),n(N)}function _(N,C,j){let A=0;return E;function E(F){return N.enter("lineEnding"),N.consume(F),N.exit("lineEnding"),I}function I(F){return N.enter("codeFencedFence"),st(F)?dt(N,O,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):O(F)}function O(F){return F===l?(N.enter("codeFencedFenceSequence"),U(F)):j(F)}function U(F){return F===l?(A++,N.consume(F),U):A>=a?(N.exit("codeFencedFenceSequence"),st(F)?dt(N,P,"whitespace")(F):P(F)):j(F)}function P(F){return F===null||Ue(F)?(N.exit("codeFencedFence"),C(F)):j(F)}}}function iQ(e,n,r){const o=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return o.parser.lazy[o.now().line]?r(a):n(a)}}const fy={name:"codeIndented",tokenize:aQ},sQ={partial:!0,tokenize:lQ};function aQ(e,n,r){const o=this;return i;function i(u){return e.enter("codeIndented"),dt(e,s,"linePrefix",5)(u)}function s(u){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?c(u):Ue(u)?e.attempt(sQ,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Ue(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),n(u)}}function lQ(e,n,r){const o=this;return i;function i(a){return o.parser.lazy[o.now().line]?r(a):Ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):dt(e,s,"linePrefix",5)(a)}function s(a){const l=o.events[o.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):Ue(a)?i(a):r(a)}}const cQ={name:"codeText",previous:dQ,resolve:uQ,tokenize:fQ};function uQ(e){let n=e.length-4,r=3,o,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(o=r;++o<n;)if(e[o][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(o=r-1,n++;++o<=n;)i===void 0?o!==n&&e[o][1].type!=="lineEnding"&&(i=o):(o===n||e[o][1].type==="lineEnding")&&(e[i][1].type="codeTextData",o!==i+2&&(e[i][1].end=e[o-1][1].end,e.splice(i+2,o-i-2),n-=o-i-2,o=i+2),i=void 0);return e}function dQ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fQ(e,n,r){let o=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),o++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,h(f)):Ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ue(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function h(f){return f===96?(e.consume(f),i++,h):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),n(f)):(s.type="codeTextData",u(f))}}class hQ{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const o=r??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(n,o):n>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(n,r,o){const i=r||0;this.setCursor(Math.trunc(n));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return o&&Yc(this.left,o),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Yc(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Yc(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);Yc(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Yc(this.left,r.reverse())}}}function Yc(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function n3(e){const n={};let r=-1,o,i,s,a,l,c,u;const h=new hQ(e);for(;++r<h.length;){for(;r in n;)r=n[r];if(o=h.get(r),r&&o[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(c=o[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(o[0]==="enter")o[1].contentType&&(Object.assign(n,pQ(h,r)),r=n[r],u=!0);else if(o[1]._container){for(s=r,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(o[1].end={...h.get(i)[1].start},l=h.slice(i,r),l.unshift(o),h.splice(i,r-i+1,l))}}return Tr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function pQ(e,n){const r=e.get(n)[1],o=e.get(n)[2];let i=n-1;const s=[];let a=r._tokenizer;a||(a=o.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let h,f,m=-1,p=r,v=0,x=0;const b=[x];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(h=o.sliceStream(p),p.next||h.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=r;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(x=m+1,b.push(x),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),m=b.length;m--;){const y=l.slice(b[m],b[m+1]),w=s.pop();c.push([w,w+y.length-1]),e.splice(w,2,y)}for(c.reverse(),m=-1;++m<c.length;)u[v+c[m][0]]=v+c[m][1],v+=c[m][1]-c[m][0]-1;return u}const mQ={resolve:yQ,tokenize:xQ},gQ={partial:!0,tokenize:vQ};function yQ(e){return n3(e),e}function xQ(e,n){let r;return o;function o(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):Ue(l)?e.check(gQ,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function a(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function vQ(e,n,r){const o=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),dt(e,s,"linePrefix")}function s(a){if(a===null||Ue(a))return r(a);const l=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):e.interrupt(o.parser.constructs.flow,r,n)(a)}}function r3(e,n,r,o,i,s,a,l,c){const u=c||Number.POSITIVE_INFINITY;let h=0;return f;function f(y){return y===60?(e.enter(o),e.enter(i),e.enter(s),e.consume(y),e.exit(s),m):y===null||y===32||y===41||bp(y)?r(y):(e.enter(o),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(y))}function m(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(o),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(l),m(y)):y===null||y===60||Ue(y)?r(y):(e.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function x(y){return!h&&(y===null||y===41||Nt(y))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(o),n(y)):h<u&&y===40?(e.consume(y),h++,x):y===41?(e.consume(y),h--,x):y===null||y===32||y===40||bp(y)?r(y):(e.consume(y),y===92?b:x)}function b(y){return y===40||y===41||y===92?(e.consume(y),x):x(y)}}function o3(e,n,r,o,i,s){const a=this;let l=0,c;return u;function u(p){return e.enter(o),e.enter(i),e.consume(p),e.exit(i),e.enter(s),h}function h(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?r(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(o),n):Ue(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Ue(p)||l++>999?(e.exit("chunkString"),h(p)):(e.consume(p),c||(c=!st(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function i3(e,n,r,o,i,s){let a;return l;function l(m){return m===34||m===39||m===40?(e.enter(o),e.enter(i),e.consume(m),e.exit(i),a=m===40?41:m,c):r(m)}function c(m){return m===a?(e.enter(i),e.consume(m),e.exit(i),e.exit(o),n):(e.enter(s),u(m))}function u(m){return m===a?(e.exit(s),c(a)):m===null?r(m):Ue(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),dt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===a||m===null||Ue(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:h)}function f(m){return m===a||m===92?(e.consume(m),h):h(m)}}function Au(e,n){let r;return o;function o(i){return Ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,o):st(i)?dt(e,o,r?"linePrefix":"lineSuffix")(i):n(i)}}const wQ={name:"definition",tokenize:SQ},bQ={partial:!0,tokenize:kQ};function SQ(e,n,r){const o=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return o3.call(o,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=So(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):r(p)}function c(p){return Nt(p)?Au(e,u)(p):u(p)}function u(p){return r3(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return e.attempt(bQ,f,f)(p)}function f(p){return st(p)?dt(e,m,"whitespace")(p):m(p)}function m(p){return p===null||Ue(p)?(e.exit("definition"),o.parser.defined.push(i),n(p)):r(p)}}function kQ(e,n,r){return o;function o(l){return Nt(l)?Au(e,i)(l):r(l)}function i(l){return i3(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return st(l)?dt(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Ue(l)?n(l):r(l)}}const _Q={name:"hardBreakEscape",tokenize:NQ};function NQ(e,n,r){return o;function o(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Ue(s)?(e.exit("hardBreakEscape"),n(s)):r(s)}}const CQ={name:"headingAtx",resolve:EQ,tokenize:jQ};function EQ(e,n){let r=e.length-2,o=3,i,s;return e[o][1].type==="whitespace"&&(o+=2),r-2>o&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(o===r-1||r-4>o&&e[r-2][1].type==="whitespace")&&(r-=o+1===r?2:4),r>o&&(i={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},s={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},Tr(e,o,r-o+1,[["enter",i,n],["enter",s,n],["exit",s,n],["exit",i,n]])),e}function jQ(e,n,r){let o=0;return i;function i(h){return e.enter("atxHeading"),s(h)}function s(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&o++<6?(e.consume(h),a):h===null||Nt(h)?(e.exit("atxHeadingSequence"),l(h)):r(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||Ue(h)?(e.exit("atxHeading"),n(h)):st(h)?dt(e,l,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function u(h){return h===null||h===35||Nt(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),u)}}const TQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],p2=["pre","script","style","textarea"],AQ={concrete:!0,name:"htmlFlow",resolveTo:RQ,tokenize:IQ},PQ={partial:!0,tokenize:DQ},MQ={partial:!0,tokenize:OQ};function RQ(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function IQ(e,n,r){const o=this;let i,s,a,l,c;return u;function u(M){return h(M)}function h(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),f}function f(M){return M===33?(e.consume(M),m):M===47?(e.consume(M),s=!0,x):M===63?(e.consume(M),i=3,o.interrupt?n:T):Wn(M)?(e.consume(M),a=String.fromCharCode(M),b):r(M)}function m(M){return M===45?(e.consume(M),i=2,p):M===91?(e.consume(M),i=5,l=0,v):Wn(M)?(e.consume(M),i=4,o.interrupt?n:T):r(M)}function p(M){return M===45?(e.consume(M),o.interrupt?n:T):r(M)}function v(M){const G="CDATA[";return M===G.charCodeAt(l++)?(e.consume(M),l===G.length?o.interrupt?n:O:v):r(M)}function x(M){return Wn(M)?(e.consume(M),a=String.fromCharCode(M),b):r(M)}function b(M){if(M===null||M===47||M===62||Nt(M)){const G=M===47,ee=a.toLowerCase();return!G&&!s&&p2.includes(ee)?(i=1,o.interrupt?n(M):O(M)):TQ.includes(a.toLowerCase())?(i=6,G?(e.consume(M),y):o.interrupt?n(M):O(M)):(i=7,o.interrupt&&!o.parser.lazy[o.now().line]?r(M):s?w(M):S(M))}return M===45||Dn(M)?(e.consume(M),a+=String.fromCharCode(M),b):r(M)}function y(M){return M===62?(e.consume(M),o.interrupt?n:O):r(M)}function w(M){return st(M)?(e.consume(M),w):E(M)}function S(M){return M===47?(e.consume(M),E):M===58||M===95||Wn(M)?(e.consume(M),k):st(M)?(e.consume(M),S):E(M)}function k(M){return M===45||M===46||M===58||M===95||Dn(M)?(e.consume(M),k):_(M)}function _(M){return M===61?(e.consume(M),N):st(M)?(e.consume(M),_):S(M)}function N(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),c=M,C):st(M)?(e.consume(M),N):j(M)}function C(M){return M===c?(e.consume(M),c=null,A):M===null||Ue(M)?r(M):(e.consume(M),C)}function j(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Nt(M)?_(M):(e.consume(M),j)}function A(M){return M===47||M===62||st(M)?S(M):r(M)}function E(M){return M===62?(e.consume(M),I):r(M)}function I(M){return M===null||Ue(M)?O(M):st(M)?(e.consume(M),I):r(M)}function O(M){return M===45&&i===2?(e.consume(M),L):M===60&&i===1?(e.consume(M),W):M===62&&i===4?(e.consume(M),D):M===63&&i===3?(e.consume(M),T):M===93&&i===5?(e.consume(M),R):Ue(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(PQ,z,U)(M)):M===null||Ue(M)?(e.exit("htmlFlowData"),U(M)):(e.consume(M),O)}function U(M){return e.check(MQ,P,z)(M)}function P(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),F}function F(M){return M===null||Ue(M)?U(M):(e.enter("htmlFlowData"),O(M))}function L(M){return M===45?(e.consume(M),T):O(M)}function W(M){return M===47?(e.consume(M),a="",$):O(M)}function $(M){if(M===62){const G=a.toLowerCase();return p2.includes(G)?(e.consume(M),D):O(M)}return Wn(M)&&a.length<8?(e.consume(M),a+=String.fromCharCode(M),$):O(M)}function R(M){return M===93?(e.consume(M),T):O(M)}function T(M){return M===62?(e.consume(M),D):M===45&&i===2?(e.consume(M),T):O(M)}function D(M){return M===null||Ue(M)?(e.exit("htmlFlowData"),z(M)):(e.consume(M),D)}function z(M){return e.exit("htmlFlow"),n(M)}}function OQ(e,n,r){const o=this;return i;function i(a){return Ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return o.parser.lazy[o.now().line]?r(a):n(a)}}function DQ(e,n,r){return o;function o(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Xd,n,r)}}const LQ={name:"htmlText",tokenize:$Q};function $Q(e,n,r){const o=this;let i,s,a;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),c}function c(T){return T===33?(e.consume(T),u):T===47?(e.consume(T),_):T===63?(e.consume(T),S):Wn(T)?(e.consume(T),j):r(T)}function u(T){return T===45?(e.consume(T),h):T===91?(e.consume(T),s=0,v):Wn(T)?(e.consume(T),w):r(T)}function h(T){return T===45?(e.consume(T),p):r(T)}function f(T){return T===null?r(T):T===45?(e.consume(T),m):Ue(T)?(a=f,W(T)):(e.consume(T),f)}function m(T){return T===45?(e.consume(T),p):f(T)}function p(T){return T===62?L(T):T===45?m(T):f(T)}function v(T){const D="CDATA[";return T===D.charCodeAt(s++)?(e.consume(T),s===D.length?x:v):r(T)}function x(T){return T===null?r(T):T===93?(e.consume(T),b):Ue(T)?(a=x,W(T)):(e.consume(T),x)}function b(T){return T===93?(e.consume(T),y):x(T)}function y(T){return T===62?L(T):T===93?(e.consume(T),y):x(T)}function w(T){return T===null||T===62?L(T):Ue(T)?(a=w,W(T)):(e.consume(T),w)}function S(T){return T===null?r(T):T===63?(e.consume(T),k):Ue(T)?(a=S,W(T)):(e.consume(T),S)}function k(T){return T===62?L(T):S(T)}function _(T){return Wn(T)?(e.consume(T),N):r(T)}function N(T){return T===45||Dn(T)?(e.consume(T),N):C(T)}function C(T){return Ue(T)?(a=C,W(T)):st(T)?(e.consume(T),C):L(T)}function j(T){return T===45||Dn(T)?(e.consume(T),j):T===47||T===62||Nt(T)?A(T):r(T)}function A(T){return T===47?(e.consume(T),L):T===58||T===95||Wn(T)?(e.consume(T),E):Ue(T)?(a=A,W(T)):st(T)?(e.consume(T),A):L(T)}function E(T){return T===45||T===46||T===58||T===95||Dn(T)?(e.consume(T),E):I(T)}function I(T){return T===61?(e.consume(T),O):Ue(T)?(a=I,W(T)):st(T)?(e.consume(T),I):A(T)}function O(T){return T===null||T===60||T===61||T===62||T===96?r(T):T===34||T===39?(e.consume(T),i=T,U):Ue(T)?(a=O,W(T)):st(T)?(e.consume(T),O):(e.consume(T),P)}function U(T){return T===i?(e.consume(T),i=void 0,F):T===null?r(T):Ue(T)?(a=U,W(T)):(e.consume(T),U)}function P(T){return T===null||T===34||T===39||T===60||T===61||T===96?r(T):T===47||T===62||Nt(T)?A(T):(e.consume(T),P)}function F(T){return T===47||T===62||Nt(T)?A(T):r(T)}function L(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),n):r(T)}function W(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),$}function $(T){return st(T)?dt(e,R,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):R(T)}function R(T){return e.enter("htmlTextData"),a(T)}}const a1={name:"labelEnd",resolveAll:BQ,resolveTo:HQ,tokenize:VQ},zQ={tokenize:WQ},FQ={tokenize:qQ},UQ={tokenize:GQ};function BQ(e){let n=-1;const r=[];for(;++n<e.length;){const o=e[n][1];if(r.push(e[n]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const i=o.type==="labelImage"?4:2;o.type="data",n+=i}}return e.length!==r.length&&Tr(e,0,e.length,r),e}function HQ(e,n){let r=e.length,o=0,i,s,a,l;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){o=2;break}}else i.type==="labelEnd"&&(a=r);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[s+o+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,n],["enter",u,n]],l=Vr(l,e.slice(s+1,s+o+3)),l=Vr(l,[["enter",h,n]]),l=Vr(l,Fm(n.parser.constructs.insideSpan.null,e.slice(s+o+4,a-3),n)),l=Vr(l,[["exit",h,n],e[a-2],e[a-1],["exit",u,n]]),l=Vr(l,e.slice(a+1)),l=Vr(l,[["exit",c,n]]),Tr(e,s,e.length,l),e}function VQ(e,n,r){const o=this;let i=o.events.length,s,a;for(;i--;)if((o.events[i][1].type==="labelImage"||o.events[i][1].type==="labelLink")&&!o.events[i][1]._balanced){s=o.events[i][1];break}return l;function l(m){return s?s._inactive?f(m):(a=o.parser.defined.includes(So(o.sliceSerialize({start:s.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):r(m)}function c(m){return m===40?e.attempt(zQ,h,a?h:f)(m):m===91?e.attempt(FQ,h,a?u:f)(m):a?h(m):f(m)}function u(m){return e.attempt(UQ,h,f)(m)}function h(m){return n(m)}function f(m){return s._balanced=!0,r(m)}}function WQ(e,n,r){return o;function o(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Nt(f)?Au(e,s)(f):s(f)}function s(f){return f===41?h(f):r3(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Nt(f)?Au(e,c)(f):h(f)}function l(f){return r(f)}function c(f){return f===34||f===39||f===40?i3(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function u(f){return Nt(f)?Au(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):r(f)}}function qQ(e,n,r){const o=this;return i;function i(l){return o3.call(o,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return o.parser.defined.includes(So(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?n(l):r(l)}function a(l){return r(l)}}function GQ(e,n,r){return o;function o(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),n):r(s)}}const KQ={name:"labelStartImage",resolveAll:a1.resolveAll,tokenize:YQ};function YQ(e,n,r){const o=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):r(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(l):n(l)}}const XQ={name:"labelStartLink",resolveAll:a1.resolveAll,tokenize:QQ};function QQ(e,n,r){const o=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(a):n(a)}}const hy={name:"lineEnding",tokenize:JQ};function JQ(e,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),dt(e,n,"linePrefix")}}const xh={name:"thematicBreak",tokenize:ZQ};function ZQ(e,n,r){let o=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):o>=3&&(u===null||Ue(u))?(e.exit("thematicBreak"),n(u)):r(u)}function c(u){return u===i?(e.consume(u),o++,c):(e.exit("thematicBreakSequence"),st(u)?dt(e,l,"whitespace")(u):l(u))}}const rr={continuation:{tokenize:rJ},exit:iJ,name:"list",tokenize:nJ},eJ={partial:!0,tokenize:sJ},tJ={partial:!0,tokenize:oJ};function nJ(e,n,r){const o=this,i=o.events[o.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(p){const v=o.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!o.containerState.marker||p===o.containerState.marker:j0(p)){if(o.containerState.type||(o.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(xh,r,u)(p):u(p);if(!o.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return r(p)}function c(p){return j0(p)&&++a<10?(e.consume(p),c):(!o.interrupt||a<2)&&(o.containerState.marker?p===o.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):r(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||p,e.check(Xd,o.interrupt?r:h,e.attempt(eJ,m,f))}function h(p){return o.containerState.initialBlankLine=!0,s++,m(p)}function f(p){return st(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):r(p)}function m(p){return o.containerState.size=s+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(p)}}function rJ(e,n,r){const o=this;return o.containerState._closeFlow=void 0,e.check(Xd,i,s);function i(l){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,dt(e,n,"listItemIndent",o.containerState.size+1)(l)}function s(l){return o.containerState.furtherBlankLines||!st(l)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,a(l)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(tJ,n,a)(l))}function a(l){return o.containerState._closeFlow=!0,o.interrupt=void 0,dt(e,e.attempt(rr,n,r),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function oJ(e,n,r){const o=this;return dt(e,i,"listItemIndent",o.containerState.size+1);function i(s){const a=o.events[o.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===o.containerState.size?n(s):r(s)}}function iJ(e){e.exit(this.containerState.type)}function sJ(e,n,r){const o=this;return dt(e,i,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=o.events[o.events.length-1];return!st(s)&&a&&a[1].type==="listItemPrefixWhitespace"?n(s):r(s)}}const m2={name:"setextUnderline",resolveTo:aJ,tokenize:lJ};function aJ(e,n){let r=e.length,o,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){o=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,n]),e.splice(s+1,0,["exit",e[o][1],n]),e[o][1].end={...e[s][1].end}):e[o][1]=a,e.push(["exit",a,n]),e}function lJ(e,n,r){const o=this;let i;return s;function s(u){let h=o.events.length,f;for(;h--;)if(o.events[h][1].type!=="lineEnding"&&o.events[h][1].type!=="linePrefix"&&o.events[h][1].type!=="content"){f=o.events[h][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):r(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),st(u)?dt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Ue(u)?(e.exit("setextHeadingLine"),n(u)):r(u)}}const cJ={tokenize:uJ};function uJ(e){const n=this,r=e.attempt(Xd,o,e.attempt(this.parser.constructs.flowInitial,i,dt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(mQ,i)),"linePrefix")));return r;function o(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const dJ={resolveAll:a3()},fJ=s3("string"),hJ=s3("text");function s3(e){return{resolveAll:a3(e==="text"?pJ:void 0),tokenize:n};function n(r){const o=this,i=this.parser.constructs[e],s=r.attempt(i,a,l);return a;function a(h){return u(h)?s(h):l(h)}function l(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),c}function c(h){return u(h)?(r.exit("data"),s(h)):(r.consume(h),c)}function u(h){if(h===null)return!0;const f=i[h];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(o,o.previous))return!0}return!1}}}function a3(e){return n;function n(r,o){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,o):r}}function pJ(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const o=e[r-1][1],i=n.sliceStream(o);let s=i.length,a=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(l=0),l){const u={type:r===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:o.start._bufferIndex+a,_index:o.start._index+s,line:o.end.line,column:o.end.column-l,offset:o.end.offset-l},end:{...o.end}};o.end={...u.start},o.start.offset===o.end.offset?Object.assign(o,u):(e.splice(r,0,["enter",u,n],["exit",u,n]),r+=2)}r++}return e}const mJ={42:rr,43:rr,45:rr,48:rr,49:rr,50:rr,51:rr,52:rr,53:rr,54:rr,55:rr,56:rr,57:rr,62:ZR},gJ={91:wQ},yJ={[-2]:fy,[-1]:fy,32:fy},xJ={35:CQ,42:xh,45:[m2,xh],60:AQ,61:m2,95:xh,96:h2,126:h2},vJ={38:t3,92:e3},wJ={[-5]:hy,[-4]:hy,[-3]:hy,33:KQ,38:t3,42:T0,60:[XX,LQ],91:XQ,92:[_Q,e3],93:a1,95:T0,96:cQ},bJ={null:[T0,dJ]},SJ={null:[42,95]},kJ={null:[]},_J=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SJ,contentInitial:gJ,disable:kJ,document:mJ,flow:xJ,flowInitial:yJ,insideSpan:bJ,string:vJ,text:wJ},Symbol.toStringTag,{value:"Module"}));function NJ(e,n,r){let o={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],l=[];const c={attempt:C(_),check:C(N),consume:w,enter:S,exit:k,interrupt:C(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let h=n.tokenize.call(u,c);return n.resolveAll&&s.push(n),u;function f(I){return a=Vr(a,I),b(),a[a.length-1]!==null?[]:(j(n,0),u.events=Fm(s,u.events,u),u.events)}function m(I,O){return EJ(p(I),O)}function p(I){return CJ(a,I)}function v(){const{_bufferIndex:I,_index:O,line:U,column:P,offset:F}=o;return{_bufferIndex:I,_index:O,line:U,column:P,offset:F}}function x(I){i[I.line]=I.column,E()}function b(){let I;for(;o._index<a.length;){const O=a[o._index];if(typeof O=="string")for(I=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===I&&o._bufferIndex<O.length;)y(O.charCodeAt(o._bufferIndex));else y(O)}}function y(I){h=h(I)}function w(I){Ue(I)?(o.line++,o.column=1,o.offset+=I===-3?2:1,E()):I!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===a[o._index].length&&(o._bufferIndex=-1,o._index++)),u.previous=I}function S(I,O){const U=O||{};return U.type=I,U.start=v(),u.events.push(["enter",U,u]),l.push(U),U}function k(I){const O=l.pop();return O.end=v(),u.events.push(["exit",O,u]),O}function _(I,O){j(I,O.from)}function N(I,O){O.restore()}function C(I,O){return U;function U(P,F,L){let W,$,R,T;return Array.isArray(P)?z(P):"tokenize"in P?z([P]):D(P);function D(re){return Y;function Y(ue){const te=ue!==null&&re[ue],ae=ue!==null&&re.null,le=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return z(le)(ue)}}function z(re){return W=re,$=0,re.length===0?L:M(re[$])}function M(re){return Y;function Y(ue){return T=A(),R=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?ee():re.tokenize.call(O?Object.assign(Object.create(u),O):u,c,G,ee)(ue)}}function G(re){return I(R,T),F}function ee(re){return T.restore(),++$<W.length?M(W[$]):L}}}function j(I,O){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&Tr(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function A(){const I=v(),O=u.previous,U=u.currentConstruct,P=u.events.length,F=Array.from(l);return{from:P,restore:L};function L(){o=I,u.previous=O,u.currentConstruct=U,u.events.length=P,l=F,E()}}function E(){o.line in i&&o.column<2&&(o.column=i[o.line],o.offset+=i[o.line]-1)}}function CJ(e,n){const r=n.start._index,o=n.start._bufferIndex,i=n.end._index,s=n.end._bufferIndex;let a;if(r===i)a=[e[r].slice(o,s)];else{if(a=e.slice(r,i),o>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(o):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function EJ(e,n){let r=-1;const o=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=n?" ":"	";break}case-1:{if(!n&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,o.push(a)}return o.join("")}function jJ(e){const o={constructs:QR([_J,...(e||{}).extensions||[]]),content:i(HX),defined:[],document:i(WX),flow:i(cJ),lazy:{},string:i(fJ),text:i(hJ)};return o;function i(s){return a;function a(l){return NJ(o,s,l)}}}function TJ(e){for(;!n3(e););return e}const g2=/[\0\t\n\r]/g;function AJ(){let e=1,n="",r=!0,o;return i;function i(s,a,l){const c=[];let u,h,f,m,p;for(s=n+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,n="",r&&(s.charCodeAt(0)===65279&&f++,r=void 0);f<s.length;){if(g2.lastIndex=f,u=g2.exec(s),m=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(m),!u){n=s.slice(f);break}if(p===10&&f===m&&o)c.push(-3),o=void 0;else switch(o&&(c.push(-5),o=void 0),f<m&&(c.push(s.slice(f,m)),e+=m-f),p){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:o=!0,e=1}f=m+1}return l&&(o&&c.push(-5),n&&c.push(n),c.push(null)),c}}const PJ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MJ(e){return e.replace(PJ,RJ)}function RJ(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return JR(r.slice(s?2:1),s?16:10)}return s1(r)||e}const l3={}.hasOwnProperty;function IJ(e,n,r){return typeof n!="string"&&(r=n,n=void 0),OJ(r)(TJ(jJ(r).document().write(AJ()(e,n,!0))))}function OJ(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s($e),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(se),blockQuote:s(ae),characterEscape:A,characterReference:A,codeFenced:s(le),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(le,a),codeText:s(Se,a),codeTextData:A,data:A,codeFlowValue:A,definition:s(Be),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(ye),hardBreakEscape:s(Ee),hardBreakTrailing:s(Ee),htmlFlow:s(Pe,a),htmlFlowData:A,htmlText:s(Pe,a),htmlTextData:A,image:s(ie),label:a,link:s($e),listItem:s(Qe),listItemValue:m,listOrdered:s(Ye,f),listUnordered:s(Ye),paragraph:s(ut),reference:M,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(se),strong:s(qe),thematicBreak:s(gt)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:te,autolinkProtocol:ue,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:re,characterReference:Y,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:E,codeIndented:c(y),codeText:c(F),codeTextData:E,data:E,definition:c(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:S,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(U),htmlFlowData:E,htmlText:c(P),htmlTextData:E,image:c(W),label:R,labelText:$,lineEnding:I,link:c(L),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:T,resourceTitleString:D,resource:z,setextHeading:c(j),setextHeadingLineSequence:C,setextHeadingText:N,strong:c(),thematicBreak:c()}};c3(n,(e||{}).mdastExtensions||[]);const r={};return o;function o(J){let V={type:"root",children:[]};const Z={stack:[V],tokenStack:[],config:n,enter:l,exit:u,buffer:a,resume:h,data:r},ve=[];let _e=-1;for(;++_e<J.length;)if(J[_e][1].type==="listOrdered"||J[_e][1].type==="listUnordered")if(J[_e][0]==="enter")ve.push(_e);else{const Ie=ve.pop();_e=i(J,Ie,_e)}for(_e=-1;++_e<J.length;){const Ie=n[J[_e][0]];l3.call(Ie,J[_e][1].type)&&Ie[J[_e][1].type].call(Object.assign({sliceSerialize:J[_e][2].sliceSerialize},Z),J[_e][1])}if(Z.tokenStack.length>0){const Ie=Z.tokenStack[Z.tokenStack.length-1];(Ie[1]||y2).call(Z,void 0,Ie[0])}for(V.position={start:$i(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:$i(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},_e=-1;++_e<n.transforms.length;)V=n.transforms[_e](V)||V;return V}function i(J,V,Z){let ve=V-1,_e=-1,Ie=!1,De,ze,Ae,He;for(;++ve<=Z;){const Ge=J[ve];switch(Ge[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ge[0]==="enter"?_e++:_e--,He=void 0;break}case"lineEndingBlank":{Ge[0]==="enter"&&(De&&!He&&!_e&&!Ae&&(Ae=ve),He=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:He=void 0}if(!_e&&Ge[0]==="enter"&&Ge[1].type==="listItemPrefix"||_e===-1&&Ge[0]==="exit"&&(Ge[1].type==="listUnordered"||Ge[1].type==="listOrdered")){if(De){let rt=ve;for(ze=void 0;rt--;){const Je=J[rt];if(Je[1].type==="lineEnding"||Je[1].type==="lineEndingBlank"){if(Je[0]==="exit")continue;ze&&(J[ze][1].type="lineEndingBlank",Ie=!0),Je[1].type="lineEnding",ze=rt}else if(!(Je[1].type==="linePrefix"||Je[1].type==="blockQuotePrefix"||Je[1].type==="blockQuotePrefixWhitespace"||Je[1].type==="blockQuoteMarker"||Je[1].type==="listItemIndent"))break}Ae&&(!ze||Ae<ze)&&(De._spread=!0),De.end=Object.assign({},ze?J[ze][1].start:Ge[1].end),J.splice(ze||ve,0,["exit",De,Ge[2]]),ve++,Z++}if(Ge[1].type==="listItemPrefix"){const rt={type:"listItem",_spread:!1,start:Object.assign({},Ge[1].start),end:void 0};De=rt,J.splice(ve,0,["enter",rt,Ge[2]]),ve++,Z++,Ae=void 0,He=!0}}}return J[V][1]._spread=Ie,Z}function s(J,V){return Z;function Z(ve){l.call(this,J(ve),ve),V&&V.call(this,ve)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(J,V,Z){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([V,Z||void 0]),J.position={start:$i(V.start),end:void 0}}function c(J){return V;function V(Z){J&&J.call(this,Z),u.call(this,Z)}}function u(J,V){const Z=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==J.type&&(V?V.call(this,J,ve[0]):(ve[1]||y2).call(this,J,ve[0]));else throw new Error("Cannot close `"+J.type+"` ("+Tu({start:J.start,end:J.end})+"): its not open");Z.position.end=$i(J.end)}function h(){return i1(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(J){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function p(){const J=this.resume(),V=this.stack[this.stack.length-1];V.lang=J}function v(){const J=this.resume(),V=this.stack[this.stack.length-1];V.meta=J}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const J=this.resume(),V=this.stack[this.stack.length-1];V.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const J=this.resume(),V=this.stack[this.stack.length-1];V.value=J.replace(/(\r?\n|\r)$/g,"")}function w(J){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.label=V,Z.identifier=So(this.sliceSerialize(J)).toLowerCase()}function S(){const J=this.resume(),V=this.stack[this.stack.length-1];V.title=J}function k(){const J=this.resume(),V=this.stack[this.stack.length-1];V.url=J}function _(J){const V=this.stack[this.stack.length-1];if(!V.depth){const Z=this.sliceSerialize(J).length;V.depth=Z}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function C(J){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function A(J){const Z=this.stack[this.stack.length-1].children;let ve=Z[Z.length-1];(!ve||ve.type!=="text")&&(ve=Zt(),ve.position={start:$i(J.start),end:void 0},Z.push(ve)),this.stack.push(ve)}function E(J){const V=this.stack.pop();V.value+=this.sliceSerialize(J),V.position.end=$i(J.end)}function I(J){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=V.children[V.children.length-1];Z.position.end=$i(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(V.type)&&(A.call(this,J),E.call(this,J))}function O(){this.data.atHardBreak=!0}function U(){const J=this.resume(),V=this.stack[this.stack.length-1];V.value=J}function P(){const J=this.resume(),V=this.stack[this.stack.length-1];V.value=J}function F(){const J=this.resume(),V=this.stack[this.stack.length-1];V.value=J}function L(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=V,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function W(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=V,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function $(J){const V=this.sliceSerialize(J),Z=this.stack[this.stack.length-2];Z.label=MJ(V),Z.identifier=So(V).toLowerCase()}function R(){const J=this.stack[this.stack.length-1],V=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const ve=J.children;Z.children=ve}else Z.alt=V}function T(){const J=this.resume(),V=this.stack[this.stack.length-1];V.url=J}function D(){const J=this.resume(),V=this.stack[this.stack.length-1];V.title=J}function z(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function G(J){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.label=V,Z.identifier=So(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function ee(J){this.data.characterReferenceType=J.type}function re(J){const V=this.sliceSerialize(J),Z=this.data.characterReferenceType;let ve;Z?(ve=JR(V,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=s1(V);const _e=this.stack[this.stack.length-1];_e.value+=ve}function Y(J){const V=this.stack.pop();V.position.end=$i(J.end)}function ue(J){E.call(this,J);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(J)}function te(J){E.call(this,J);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(J)}function ae(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function Be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function se(){return{type:"heading",depth:0,children:[]}}function Ee(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function ie(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function Ye(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function Qe(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function ut(){return{type:"paragraph",children:[]}}function qe(){return{type:"strong",children:[]}}function Zt(){return{type:"text",value:""}}function gt(){return{type:"thematicBreak"}}}function $i(e){return{line:e.line,column:e.column,offset:e.offset}}function c3(e,n){let r=-1;for(;++r<n.length;){const o=n[r];Array.isArray(o)?c3(e,o):DJ(e,o)}}function DJ(e,n){let r;for(r in n)if(l3.call(n,r))switch(r){case"canContainEols":{const o=n[r];o&&e[r].push(...o);break}case"transforms":{const o=n[r];o&&e[r].push(...o);break}case"enter":case"exit":{const o=n[r];o&&Object.assign(e[r],o);break}}}function y2(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Tu({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Tu({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Tu({start:n.start,end:n.end})+") is still open")}function LJ(e){const n=this;n.parser=r;function r(o){return IJ(o,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function $J(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function zJ(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function FJ(e,n){const r=n.value?n.value+`
`:"",o={},i=n.lang?n.lang.split(/\s+/):[];i.length>0&&(o.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:o,children:[{type:"text",value:r}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function UJ(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function BJ(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function HJ(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",o=String(n.identifier).toUpperCase(),i=Cc(o.toLowerCase()),s=e.footnoteOrder.indexOf(o);let a,l=e.footnoteCounts.get(o);l===void 0?(l=0,e.footnoteOrder.push(o),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(o,l);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(n,u),e.applyData(n,u)}function VJ(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function WJ(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function u3(e,n){const r=n.referenceType;let o="]";if(r==="collapsed"?o+="[]":r==="full"&&(o+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+o}];const i=e.all(n),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=o:i.push({type:"text",value:o}),i}function qJ(e,n){const r=String(n.identifier).toUpperCase(),o=e.definitionById.get(r);if(!o)return u3(e,n);const i={src:Cc(o.url||""),alt:n.alt};o.title!==null&&o.title!==void 0&&(i.title=o.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,s),e.applyData(n,s)}function GJ(e,n){const r={src:Cc(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,o),e.applyData(n,o)}function KJ(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const o={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,o),e.applyData(n,o)}function YJ(e,n){const r=String(n.identifier).toUpperCase(),o=e.definitionById.get(r);if(!o)return u3(e,n);const i={href:Cc(o.url||"")};o.title!==null&&o.title!==void 0&&(i.title=o.title);const s={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,s),e.applyData(n,s)}function XJ(e,n){const r={href:Cc(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function QJ(e,n,r){const o=e.all(n),i=r?JJ(r):d3(n),s={},a=[];if(typeof n.checked=="boolean"){const h=o[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},o.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<o.length;){const h=o[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const c=o[o.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(n,u),e.applyData(n,u)}function JJ(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let o=-1;for(;!n&&++o<r.length;)n=d3(r[o])}return n}function d3(e){const n=e.spread;return n??e.children.length>1}function ZJ(e,n){const r={},o=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++i<o.length;){const a=o[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(o,!0)};return e.patch(n,s),e.applyData(n,s)}function eZ(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function tZ(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function nZ(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function rZ(e,n){const r=e.all(n),o=r.shift(),i=[];if(o){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([o],!0)};e.patch(n.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=t1(n.children[1]),c=VR(n.children[n.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,s),e.applyData(n,s)}function oZ(e,n,r){const o=r?r.children:void 0,s=(o?o.indexOf(n):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,l=a?a.length:n.children.length;let c=-1;const u=[];for(;++c<l;){const f=n.children[c],m={},p=a?a[c]:void 0;p&&(m.align=p);let v={type:"element",tagName:s,properties:m,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),u.push(v)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(n,h),e.applyData(n,h)}function iZ(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const x2=9,v2=32;function sZ(e){const n=String(e),r=/\r?\n|\r/g;let o=r.exec(n),i=0;const s=[];for(;o;)s.push(w2(n.slice(i,o.index),i>0,!0),o[0]),i=o.index+o[0].length,o=r.exec(n);return s.push(w2(n.slice(i),i>0,!1)),s.join("")}function w2(e,n,r){let o=0,i=e.length;if(n){let s=e.codePointAt(o);for(;s===x2||s===v2;)o++,s=e.codePointAt(o)}if(r){let s=e.codePointAt(i-1);for(;s===x2||s===v2;)i--,s=e.codePointAt(i-1)}return i>o?e.slice(o,i):""}function aZ(e,n){const r={type:"text",value:sZ(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function lZ(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const cZ={blockquote:$J,break:zJ,code:FJ,delete:UJ,emphasis:BJ,footnoteReference:HJ,heading:VJ,html:WJ,imageReference:qJ,image:GJ,inlineCode:KJ,linkReference:YJ,link:XJ,listItem:QJ,list:ZJ,paragraph:eZ,root:tZ,strong:nZ,table:rZ,tableCell:iZ,tableRow:oZ,text:aZ,thematicBreak:lZ,toml:Bf,yaml:Bf,definition:Bf,footnoteDefinition:Bf};function Bf(){}const f3=-1,Um=0,Pu=1,Sp=2,l1=3,c1=4,u1=5,d1=6,h3=7,p3=8,b2=typeof self=="object"?self:globalThis,uZ=(e,n)=>{const r=(i,s)=>(e.set(s,i),i),o=i=>{if(e.has(i))return e.get(i);const[s,a]=n[i];switch(s){case Um:case f3:return r(a,i);case Pu:{const l=r([],i);for(const c of a)l.push(o(c));return l}case Sp:{const l=r({},i);for(const[c,u]of a)l[o(c)]=o(u);return l}case l1:return r(new Date(a),i);case c1:{const{source:l,flags:c}=a;return r(new RegExp(l,c),i)}case u1:{const l=r(new Map,i);for(const[c,u]of a)l.set(o(c),o(u));return l}case d1:{const l=r(new Set,i);for(const c of a)l.add(o(c));return l}case h3:{const{name:l,message:c}=a;return r(new b2[l](c),i)}case p3:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return r(new DataView(l),a)}}return r(new b2[s](a),i)};return o},S2=e=>uZ(new Map,e)(0),Ka="",{toString:dZ}={},{keys:fZ}=Object,Xc=e=>{const n=typeof e;if(n!=="object"||!e)return[Um,n];const r=dZ.call(e).slice(8,-1);switch(r){case"Array":return[Pu,Ka];case"Object":return[Sp,Ka];case"Date":return[l1,Ka];case"RegExp":return[c1,Ka];case"Map":return[u1,Ka];case"Set":return[d1,Ka];case"DataView":return[Pu,r]}return r.includes("Array")?[Pu,r]:r.includes("Error")?[h3,r]:[Sp,r]},Hf=([e,n])=>e===Um&&(n==="function"||n==="symbol"),hZ=(e,n,r,o)=>{const i=(a,l)=>{const c=o.push(a)-1;return r.set(l,c),c},s=a=>{if(r.has(a))return r.get(a);let[l,c]=Xc(a);switch(l){case Um:{let h=a;switch(c){case"bigint":l=p3,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([f3],a)}return i([l,h],a)}case Pu:{if(c){let m=a;return c==="DataView"?m=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(a)),i([c,[...m]],a)}const h=[],f=i([l,h],a);for(const m of a)h.push(s(m));return f}case Sp:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(n&&"toJSON"in a)return s(a.toJSON());const h=[],f=i([l,h],a);for(const m of fZ(a))(e||!Hf(Xc(a[m])))&&h.push([s(m),s(a[m])]);return f}case l1:return i([l,a.toISOString()],a);case c1:{const{source:h,flags:f}=a;return i([l,{source:h,flags:f}],a)}case u1:{const h=[],f=i([l,h],a);for(const[m,p]of a)(e||!(Hf(Xc(m))||Hf(Xc(p))))&&h.push([s(m),s(p)]);return f}case d1:{const h=[],f=i([l,h],a);for(const m of a)(e||!Hf(Xc(m)))&&h.push(s(m));return f}}const{message:u}=a;return i([l,{name:c,message:u}],a)};return s},k2=(e,{json:n,lossy:r}={})=>{const o=[];return hZ(!(n||r),!!n,new Map,o)(e),o},kp=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?S2(k2(e,n)):structuredClone(e):(e,n)=>S2(k2(e,n));function pZ(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function mZ(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function gZ(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||pZ,o=e.options.footnoteBackLabel||mZ,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const h=e.all(u),f=String(u.identifier).toUpperCase(),m=Cc(f.toLowerCase());let p=0;const v=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++p<=x;){v.length>0&&v.push({type:"text",value:" "});let w=typeof r=="string"?r:r(c,p);typeof w=="string"&&(w={type:"text",value:w}),v.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else h.push(...v);const y={type:"element",tagName:"li",properties:{id:n+"fn-"+m},children:e.wrap(h,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...kp(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Bm=function(e){if(e==null)return wZ;if(typeof e=="function")return Hm(e);if(typeof e=="object")return Array.isArray(e)?yZ(e):xZ(e);if(typeof e=="string")return vZ(e);throw new Error("Expected function, string, or object as test")};function yZ(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Bm(e[r]);return Hm(o);function o(...i){let s=-1;for(;++s<n.length;)if(n[s].apply(this,i))return!0;return!1}}function xZ(e){const n=e;return Hm(r);function r(o){const i=o;let s;for(s in e)if(i[s]!==n[s])return!1;return!0}}function vZ(e){return Hm(n);function n(r){return r&&r.type===e}}function Hm(e){return n;function n(r,o,i){return!!(bZ(r)&&e.call(this,r,typeof o=="number"?o:void 0,i||void 0))}}function wZ(){return!0}function bZ(e){return e!==null&&typeof e=="object"&&"type"in e}const m3=[],SZ=!0,A0=!1,kZ="skip";function g3(e,n,r,o){let i;typeof n=="function"&&typeof r!="function"?(o=r,r=n):i=n;const s=Bm(i),a=o?-1:1;l(e,void 0,[])();function l(c,u,h){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=m3,v,x,b;if((!n||s(c,u,h[h.length-1]||void 0))&&(p=_Z(r(c,h)),p[0]===A0))return p;if("children"in c&&c.children){const y=c;if(y.children&&p[0]!==kZ)for(x=(o?y.children.length:-1)+a,b=h.concat(y);x>-1&&x<y.children.length;){const w=y.children[x];if(v=l(w,x,b)(),v[0]===A0)return v;x=typeof v[1]=="number"?v[1]:x+a}}return p}}}function _Z(e){return Array.isArray(e)?e:typeof e=="number"?[SZ,e]:e==null?m3:[e]}function f1(e,n,r,o){let i,s,a;typeof n=="function"&&typeof r!="function"?(s=void 0,a=n,i=r):(s=n,a=r,i=o),g3(e,s,l,i);function l(c,u){const h=u[u.length-1],f=h?h.children.indexOf(c):void 0;return a(c,f,h)}}const P0={}.hasOwnProperty,NZ={};function CZ(e,n){const r=n||NZ,o=new Map,i=new Map,s=new Map,a={...cZ,...r.handlers},l={all:u,applyData:jZ,definitionById:o,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:r,patch:EZ,wrap:AZ};return f1(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?o:i,m=String(h.identifier).toUpperCase();f.has(m)||f.set(m,h)}}),l;function c(h,f){const m=h.type,p=l.handlers[m];if(P0.call(l.handlers,m)&&p)return p(l,h,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in h){const{children:x,...b}=h,y=kp(b);return y.children=l.all(h),y}return kp(h)}return(l.options.unknownHandler||TZ)(l,h,f)}function u(h){const f=[];if("children"in h){const m=h.children;let p=-1;for(;++p<m.length;){const v=l.one(m[p],h);if(v){if(p&&m[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=_2(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=_2(x.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function EZ(e,n){e.position&&(n.position=mX(e))}function jZ(e,n){let r=n;if(e&&e.data){const o=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof o=="string")if(r.type==="element")r.tagName=o;else{const a="children"in r?r.children:[r];r={type:"element",tagName:o,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,kp(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function TZ(e,n){const r=n.data||{},o="value"in n&&!(P0.call(r,"hProperties")||P0.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function AZ(e,n){const r=[];let o=-1;for(n&&r.push({type:"text",value:`
`});++o<e.length;)o&&r.push({type:"text",value:`
`}),r.push(e[o]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function _2(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function N2(e,n){const r=CZ(e,n),o=r.one(e,void 0),i=gZ(r),s=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function PZ(e,n){return e&&"run"in e?async function(r,o){const i=N2(r,{file:o,...n});await e.run(i,o)}:function(r,o){return N2(r,{file:o,...e||n})}}function C2(e){if(e)throw e}var vh=Object.prototype.hasOwnProperty,y3=Object.prototype.toString,E2=Object.defineProperty,j2=Object.getOwnPropertyDescriptor,T2=function(n){return typeof Array.isArray=="function"?Array.isArray(n):y3.call(n)==="[object Array]"},A2=function(n){if(!n||y3.call(n)!=="[object Object]")return!1;var r=vh.call(n,"constructor"),o=n.constructor&&n.constructor.prototype&&vh.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!o)return!1;var i;for(i in n);return typeof i>"u"||vh.call(n,i)},P2=function(n,r){E2&&r.name==="__proto__"?E2(n,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):n[r.name]=r.newValue},M2=function(n,r){if(r==="__proto__")if(vh.call(n,r)){if(j2)return j2(n,r).value}else return;return n[r]},MZ=function e(){var n,r,o,i,s,a,l=arguments[0],c=1,u=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(n=arguments[c],n!=null)for(r in n)o=M2(l,r),i=M2(n,r),l!==i&&(h&&i&&(A2(i)||(s=T2(i)))?(s?(s=!1,a=o&&T2(o)?o:[]):a=o&&A2(o)?o:{},P2(l,{name:r,newValue:e(h,a,i)})):typeof i<"u"&&P2(l,{name:r,newValue:i}));return l};const py=fc(MZ);function M0(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function RZ(){const e=[],n={run:r,use:o};return n;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...u){const h=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,h?IZ(h,l)(...u):a(null,...u)}}function o(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function IZ(e,n){let r;return o;function o(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(u){const h=u;if(l&&r)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...l){r||(r=!0,n(a,...l))}function s(a){i(null,a)}}const Io={basename:OZ,dirname:DZ,extname:LZ,join:$Z,sep:"/"};function OZ(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Qd(e);let r=0,o=-1,i=e.length,s;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else o<0&&(s=!0,o=i+1);return o<0?"":e.slice(r,o)}if(n===e)return"";let a=-1,l=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===n.codePointAt(l--)?l<0&&(o=i):(l=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)}function DZ(e){if(Qd(e),e.length===0)return".";let n=-1,r=e.length,o;for(;--r;)if(e.codePointAt(r)===47){if(o){n=r;break}}else o||(o=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function LZ(e){Qd(e);let n=e.length,r=-1,o=0,i=-1,s=0,a;for(;n--;){const l=e.codePointAt(n);if(l===47){if(a){o=n+1;break}continue}r<0&&(a=!0,r=n+1),l===46?i<0?i=n:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===o+1?"":e.slice(i,r)}function $Z(...e){let n=-1,r;for(;++n<e.length;)Qd(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":zZ(r)}function zZ(e){Qd(e);const n=e.codePointAt(0)===47;let r=FZ(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function FZ(e,n){let r="",o=0,i=-1,s=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||o!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",o=0):(r=r.slice(0,c),o=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",o=0,i=a,s=0;continue}}n&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),o=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return r}function Qd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const UZ={cwd:BZ};function BZ(){return"/"}function R0(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function HZ(e){if(typeof e=="string")e=new URL(e);else if(!R0(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return VZ(e)}function VZ(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const o=n.codePointAt(r+2);if(o===70||o===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const my=["history","path","basename","stem","extname","dirname"];class x3{constructor(n){let r;n?R0(n)?r={path:n}:typeof n=="string"||WZ(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":UZ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<my.length;){const s=my[o];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)my.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Io.basename(this.path):void 0}set basename(n){yy(n,"basename"),gy(n,"basename"),this.path=Io.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?Io.dirname(this.path):void 0}set dirname(n){R2(this.basename,"dirname"),this.path=Io.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?Io.extname(this.path):void 0}set extname(n){if(gy(n,"extname"),R2(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Io.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){R0(n)&&(n=HZ(n)),yy(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?Io.basename(this.path,this.extname):void 0}set stem(n){yy(n,"stem"),gy(n,"stem"),this.path=Io.join(this.dirname||"",n+(this.extname||""))}fail(n,r,o){const i=this.message(n,r,o);throw i.fatal=!0,i}info(n,r,o){const i=this.message(n,r,o);return i.fatal=void 0,i}message(n,r,o){const i=new $n(n,r,o);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function gy(e,n){if(e&&e.includes(Io.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+Io.sep+"`")}function yy(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function R2(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function WZ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qZ=function(e){const o=this.constructor.prototype,i=o[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,o),s},GZ={}.hasOwnProperty;class h1 extends qZ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=RZ()}copy(){const n=new h1;let r=-1;for(;++r<this.attachers.length;){const o=this.attachers[r];n.use(...o)}return n.data(py(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(wy("data",this.frozen),this.namespace[n]=r,this):GZ.call(this.namespace,n)&&this.namespace[n]||void 0:n?(wy("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const i=r.call(n,...o);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=Vf(n),o=this.parser||this.Parser;return xy("parse",o),o(String(r),r)}process(n,r){const o=this;return this.freeze(),xy("process",this.parser||this.Parser),vy("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const l=Vf(n),c=o.parse(l);o.run(c,l,function(h,f,m){if(h||!f||!m)return u(h);const p=f,v=o.stringify(p,m);XZ(v)?m.value=v:m.result=v,u(h,m)});function u(h,f){h||!f?a(h):s?s(f):r(void 0,f)}}}processSync(n){let r=!1,o;return this.freeze(),xy("processSync",this.parser||this.Parser),vy("processSync",this.compiler||this.Compiler),this.process(n,i),O2("processSync","process",r),o;function i(s,a){r=!0,C2(s),o=a}}run(n,r,o){I2(n),this.freeze();const i=this.transformers;return!o&&typeof r=="function"&&(o=r,r=void 0),o?s(void 0,o):new Promise(s);function s(a,l){const c=Vf(r);i.run(n,c,u);function u(h,f,m){const p=f||n;h?l(h):a?a(p):o(void 0,p,m)}}}runSync(n,r){let o=!1,i;return this.run(n,r,s),O2("runSync","run",o),i;function s(a,l){C2(a),i=l,o=!0}}stringify(n,r){this.freeze();const o=Vf(r),i=this.compiler||this.Compiler;return vy("stringify",i),I2(n),i(n,o)}use(n,...r){const o=this.attachers,i=this.namespace;if(wy("use",this.frozen),n!=null)if(typeof n=="function")c(n,r);else if(typeof n=="object")Array.isArray(n)?l(n):a(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...f]=u;c(h,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=py(!0,i.settings,u.settings))}function l(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const f=u[h];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,h){let f=-1,m=-1;for(;++f<o.length;)if(o[f][0]===u){m=f;break}if(m===-1)o.push([u,...h]);else if(h.length>0){let[p,...v]=h;const x=o[m][1];M0(x)&&M0(p)&&(p=py(!0,x,p)),o[m]=[u,p,...v]}}}}const KZ=new h1().freeze();function xy(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vy(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wy(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function I2(e){if(!M0(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function O2(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Vf(e){return YZ(e)?e:new x3(e)}function YZ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function XZ(e){return typeof e=="string"||QZ(e)}function QZ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JZ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",D2=[],L2={allowDangerousHtml:!0},ZZ=/^(https?|ircs?|mailto|xmpp)$/i,eee=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tee(e){const n=nee(e),r=ree(e);return oee(n.runSync(n.parse(r),r),e)}function nee(e){const n=e.rehypePlugins||D2,r=e.remarkPlugins||D2,o=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...L2}:L2;return KZ().use(LJ).use(r).use(PZ,o).use(n)}function ree(e){const n=e.children||"",r=new x3;return typeof n=="string"&&(r.value=n),r}function oee(e,n){const r=n.allowedElements,o=n.allowElement,i=n.components,s=n.disallowedElements,a=n.skipHtml,l=n.unwrapDisallowed,c=n.urlTransform||iee;for(const h of eee)Object.hasOwn(n,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+JZ+h.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),f1(e,u),wX(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(h,f,m){if(h.type==="raw"&&m&&typeof f=="number")return a?m.children.splice(f,1):m.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let p;for(p in dy)if(Object.hasOwn(dy,p)&&Object.hasOwn(h.properties,p)){const v=h.properties[p],x=dy[p];(x===null||x.includes(h.tagName))&&(h.properties[p]=c(String(v||""),p,h))}}if(h.type==="element"){let p=r?!r.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&o&&typeof f=="number"&&(p=!o(h,f,m)),p&&m&&typeof f=="number")return l&&h.children?m.children.splice(f,1,...h.children):m.children.splice(f,1),f}}}function iee(e){const n=e.indexOf(":"),r=e.indexOf("?"),o=e.indexOf("#"),i=e.indexOf("/");return n===-1||i!==-1&&n>i||r!==-1&&n>r||o!==-1&&n>o||ZZ.test(e.slice(0,n))?e:""}function $2(e,n){const r=String(e);if(typeof n!="string")throw new TypeError("Expected character");let o=0,i=r.indexOf(n);for(;i!==-1;)o++,i=r.indexOf(n,i+n.length);return o}function see(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function aee(e,n,r){const i=Bm((r||{}).ignore||[]),s=lee(n);let a=-1;for(;++a<s.length;)g3(e,"text",l);function l(u,h){let f=-1,m;for(;++f<h.length;){const p=h[f],v=m?m.children:void 0;if(i(p,v?v.indexOf(p):void 0,m))return;m=p}if(m)return c(u,h)}function c(u,h){const f=h[h.length-1],m=s[a][0],p=s[a][1];let v=0;const b=f.children.indexOf(u);let y=!1,w=[];m.lastIndex=0;let S=m.exec(u.value);for(;S;){const k=S.index,_={index:S.index,input:S.input,stack:[...h,u]};let N=p(...S,_);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?m.lastIndex=k+1:(v!==k&&w.push({type:"text",value:u.value.slice(v,k)}),Array.isArray(N)?w.push(...N):N&&w.push(N),v=k+S[0].length,y=!0),!m.global)break;S=m.exec(u.value)}return y?(v<u.value.length&&w.push({type:"text",value:u.value.slice(v)}),f.children.splice(b,1,...w)):w=[u],b+w.length}}function lee(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<r.length;){const i=r[o];n.push([cee(i[0]),uee(i[1])])}return n}function cee(e){return typeof e=="string"?new RegExp(see(e),"g"):e}function uee(e){return typeof e=="function"?e:function(){return e}}const by="phrasing",Sy=["autolink","link","image","label"];function dee(){return{transforms:[xee],enter:{literalAutolink:hee,literalAutolinkEmail:ky,literalAutolinkHttp:ky,literalAutolinkWww:ky},exit:{literalAutolink:yee,literalAutolinkEmail:gee,literalAutolinkHttp:pee,literalAutolinkWww:mee}}}function fee(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:by,notInConstruct:Sy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:by,notInConstruct:Sy},{character:":",before:"[ps]",after:"\\/",inConstruct:by,notInConstruct:Sy}]}}function hee(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ky(e){this.config.enter.autolinkProtocol.call(this,e)}function pee(e){this.config.exit.autolinkProtocol.call(this,e)}function mee(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function gee(e){this.config.exit.autolinkEmail.call(this,e)}function yee(e){this.exit(e)}function xee(e){aee(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vee],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wee]],{ignore:["link","linkReference"]})}function vee(e,n,r,o,i){let s="";if(!v3(i)||(/^w/i.test(n)&&(r=n+r,n="",s="http://"),!bee(r)))return!1;const a=See(r+o);if(!a[0])return!1;const l={type:"link",title:null,url:s+n+a[0],children:[{type:"text",value:n+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function wee(e,n,r,o){return!v3(o,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function bee(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function See(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let r=n[0],o=r.indexOf(")");const i=$2(e,"(");let s=$2(e,")");for(;o!==-1&&i>s;)e+=r.slice(0,o+1),r=r.slice(o+1),o=r.indexOf(")"),s++;return[e,r]}function v3(e,n){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Aa(r)||zm(r))&&(!n||r!==47)}w3.peek=Pee;function kee(){this.buffer()}function _ee(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Nee(){this.buffer()}function Cee(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Eee(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=So(this.sliceSerialize(e)).toLowerCase(),r.label=n}function jee(e){this.exit(e)}function Tee(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=So(this.sliceSerialize(e)).toLowerCase(),r.label=n}function Aee(e){this.exit(e)}function Pee(){return"["}function w3(e,n,r,o){const i=r.createTracker(o);let s=i.move("[^");const a=r.enter("footnoteReference"),l=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function Mee(){return{enter:{gfmFootnoteCallString:kee,gfmFootnoteCall:_ee,gfmFootnoteDefinitionLabelString:Nee,gfmFootnoteDefinition:Cee},exit:{gfmFootnoteCallString:Eee,gfmFootnoteCall:jee,gfmFootnoteDefinitionLabelString:Tee,gfmFootnoteDefinition:Aee}}}function Ree(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:w3},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(o,i,s,a){const l=s.createTracker(a);let c=l.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return c+=l.move(s.safe(s.associationId(o),{before:c,after:"]"})),h(),c+=l.move("]:"),o.children&&o.children.length>0&&(l.shift(4),c+=l.move((n?`
`:" ")+s.indentLines(s.containerFlow(o,l.current()),n?b3:Iee))),u(),c}}function Iee(e,n,r){return n===0?e:b3(e,n,r)}function b3(e,n,r){return(r?"":"    ")+e}const Oee=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];S3.peek=Fee;function Dee(){return{canContainEols:["delete"],enter:{strikethrough:$ee},exit:{strikethrough:zee}}}function Lee(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Oee}],handlers:{delete:S3}}}function $ee(e){this.enter({type:"delete",children:[]},e)}function zee(e){this.exit(e)}function S3(e,n,r,o){const i=r.createTracker(o),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Fee(){return"~"}function Uee(e){return e.length}function Bee(e,n){const r=n||{},o=(r.align||[]).concat(),i=r.stringLength||Uee,s=[],a=[],l=[],c=[];let u=0,h=-1;for(;++h<e.length;){const x=[],b=[];let y=-1;for(e[h].length>u&&(u=e[h].length);++y<e[h].length;){const w=Hee(e[h][y]);if(r.alignDelimiters!==!1){const S=i(w);b[y]=S,(c[y]===void 0||S>c[y])&&(c[y]=S)}x.push(w)}a[h]=x,l[h]=b}let f=-1;if(typeof o=="object"&&"length"in o)for(;++f<u;)s[f]=z2(o[f]);else{const x=z2(o);for(;++f<u;)s[f]=x}f=-1;const m=[],p=[];for(;++f<u;){const x=s[f];let b="",y="";x===99?(b=":",y=":"):x===108?b=":":x===114&&(y=":");let w=r.alignDelimiters===!1?1:Math.max(1,c[f]-b.length-y.length);const S=b+"-".repeat(w)+y;r.alignDelimiters!==!1&&(w=b.length+w+y.length,w>c[f]&&(c[f]=w),p[f]=w),m[f]=S}a.splice(1,0,m),l.splice(1,0,p),h=-1;const v=[];for(;++h<a.length;){const x=a[h],b=l[h];f=-1;const y=[];for(;++f<u;){const w=x[f]||"";let S="",k="";if(r.alignDelimiters!==!1){const _=c[f]-(b[f]||0),N=s[f];N===114?S=" ".repeat(_):N===99?_%2?(S=" ".repeat(_/2+.5),k=" ".repeat(_/2-.5)):(S=" ".repeat(_/2),k=S):k=" ".repeat(_)}r.delimiterStart!==!1&&!f&&y.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&w==="")&&(r.delimiterStart!==!1||f)&&y.push(" "),r.alignDelimiters!==!1&&y.push(S),y.push(w),r.alignDelimiters!==!1&&y.push(k),r.padding!==!1&&y.push(" "),(r.delimiterEnd!==!1||f!==u-1)&&y.push("|")}v.push(r.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return v.join(`
`)}function Hee(e){return e==null?"":String(e)}function z2(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function Vee(e,n,r,o){const i=r.enter("blockquote"),s=r.createTracker(o);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Wee);return i(),a}function Wee(e,n,r){return">"+(r?"":" ")+e}function qee(e,n){return F2(e,n.inConstruct,!0)&&!F2(e,n.notInConstruct,!1)}function F2(e,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let o=-1;for(;++o<n.length;)if(e.includes(n[o]))return!0;return!1}function U2(e,n,r,o){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&qee(r.stack,r.unsafe[i]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function Gee(e,n){const r=String(e);let o=r.indexOf(n),i=o,s=0,a=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===i?++s>a&&(a=s):s=1,i=o+n.length,o=r.indexOf(n,i);return a}function Kee(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Yee(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function Xee(e,n,r,o){const i=Yee(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Kee(e,r)){const f=r.enter("codeIndented"),m=r.indentLines(s,Qee);return f(),m}const l=r.createTracker(o),c=i.repeat(Math.max(Gee(s,i)+1,3)),u=r.enter("codeFenced");let h=l.move(c);if(e.lang){const f=r.enter(`codeFencedLang${a}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${a}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),f()}return h+=l.move(`
`),s&&(h+=l.move(s+`
`)),h+=l.move(c),u(),h}function Qee(e,n,r){return(r?"":"    ")+e}function p1(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function Jee(e,n,r,o){const i=p1(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let l=r.enter("label");const c=r.createTracker(o);let u=c.move("[");return u+=c.move(r.safe(r.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=r.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(r.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),a(),u}function Zee(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function gd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function _p(e,n,r){const o=sc(e),i=sc(n);return o===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}k3.peek=ete;function k3(e,n,r,o){const i=Zee(r),s=r.enter("emphasis"),a=r.createTracker(o),l=a.move(i);let c=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),h=_p(o.before.charCodeAt(o.before.length-1),u,i);h.inside&&(c=gd(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=_p(o.after.charCodeAt(0),f,i);m.inside&&(c=c.slice(0,-1)+gd(f));const p=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},l+c+p}function ete(e,n,r){return r.options.emphasis||"*"}function tte(e,n){let r=!1;return f1(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return r=!0,A0}),!!((!e.depth||e.depth<3)&&i1(e)&&(n.options.setext||r))}function nte(e,n,r,o){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(o);if(tte(e,r)){const h=r.enter("headingSetext"),f=r.enter("phrasing"),m=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),h(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=r.enter("headingAtx"),c=r.enter("phrasing");s.move(a+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=gd(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),c(),l(),u}_3.peek=rte;function _3(e){return e.value||""}function rte(){return"<"}N3.peek=ote;function N3(e,n,r,o){const i=p1(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let l=r.enter("label");const c=r.createTracker(o);let u=c.move("![");return u+=c.move(r.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(r.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=r.enter("destinationRaw"),u+=c.move(r.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=r.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(r.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),a(),u}function ote(){return"!"}C3.peek=ite;function C3(e,n,r,o){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const l=r.createTracker(o);let c=l.move("![");const u=r.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return a(),r.stack=h,s(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function ite(){return"!"}E3.peek=ste;function E3(e,n,r){let o=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(o);)i+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++s<r.unsafe.length;){const a=r.unsafe[s],l=r.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(o);){let u=c.index;o.charCodeAt(u)===10&&o.charCodeAt(u-1)===13&&u--,o=o.slice(0,u)+" "+o.slice(c.index+1)}}return i+o+i}function ste(){return"`"}function j3(e,n){const r=i1(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}T3.peek=ate;function T3(e,n,r,o){const i=p1(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(o);let l,c;if(j3(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let f=a.move("<");return f+=a.move(r.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),l(),r.stack=h,f}l=r.enter("link"),c=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=r.enter("destinationRaw"),u+=a.move(r.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=r.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(r.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),l(),u}function ate(e,n,r){return j3(e,r)?"<":"["}A3.peek=lte;function A3(e,n,r,o){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const l=r.createTracker(o);let c=l.move("[");const u=r.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:c,after:"]",...l.current()});return a(),r.stack=h,s(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function lte(){return"["}function m1(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function cte(e){const n=m1(e),r=e.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function ute(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function P3(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function dte(e,n,r,o){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?ute(r):m1(r);const l=e.ordered?a==="."?")":".":cte(r);let c=n&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(c=!0),P3(r)===a&&h){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),r.bulletCurrent=a;const u=r.containerFlow(e,o);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),u}function fte(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function hte(e,n,r,o){const i=fte(r);let s=r.bulletCurrent||m1(r);n&&n.type==="list"&&n.ordered&&(s=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=r.createTracker(o);l.move(s+" ".repeat(a-s.length)),l.shift(a);const c=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,l.current()),h);return c(),u;function h(f,m,p){return m?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function pte(e,n,r,o){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,o);return s(),i(),a}const mte=Bm(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function gte(e,n,r,o){return(e.children.some(function(a){return mte(a)})?r.containerPhrasing:r.containerFlow).call(r,e,o)}function yte(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}M3.peek=xte;function M3(e,n,r,o){const i=yte(r),s=r.enter("strong"),a=r.createTracker(o),l=a.move(i+i);let c=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),h=_p(o.before.charCodeAt(o.before.length-1),u,i);h.inside&&(c=gd(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=_p(o.after.charCodeAt(0),f,i);m.inside&&(c=c.slice(0,-1)+gd(f));const p=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},l+c+p}function xte(e,n,r){return r.options.strong||"*"}function vte(e,n,r,o){return r.safe(e.value,o)}function wte(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function bte(e,n,r){const o=(P3(r)+(r.options.ruleSpaces?" ":"")).repeat(wte(r));return r.options.ruleSpaces?o.slice(0,-1):o}const R3={blockquote:Vee,break:U2,code:Xee,definition:Jee,emphasis:k3,hardBreak:U2,heading:nte,html:_3,image:N3,imageReference:C3,inlineCode:E3,link:T3,linkReference:A3,list:dte,listItem:hte,paragraph:pte,root:gte,strong:M3,text:vte,thematicBreak:bte};function Ste(){return{enter:{table:kte,tableData:B2,tableHeader:B2,tableRow:Nte},exit:{codeText:Cte,table:_te,tableData:_y,tableHeader:_y,tableRow:_y}}}function kte(e){const n=e._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function _te(e){this.exit(e),this.data.inTable=void 0}function Nte(e){this.enter({type:"tableRow",children:[]},e)}function _y(e){this.exit(e)}function B2(e){this.enter({type:"tableCell",children:[]},e)}function Cte(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,Ete));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(e)}function Ete(e,n){return n==="|"?n:e}function jte(e){const n=e||{},r=n.tableCellPadding,o=n.tablePipeAlign,i=n.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:c,tableRow:l}};function a(p,v,x,b){return u(h(p,x,b),p.align)}function l(p,v,x,b){const y=f(p,x,b),w=u([y]);return w.slice(0,w.indexOf(`
`))}function c(p,v,x,b){const y=x.enter("tableCell"),w=x.enter("phrasing"),S=x.containerPhrasing(p,{...b,before:s,after:s});return w(),y(),S}function u(p,v){return Bee(p,{align:v,alignDelimiters:o,padding:r,stringLength:i})}function h(p,v,x){const b=p.children;let y=-1;const w=[],S=v.enter("table");for(;++y<b.length;)w[y]=f(b[y],v,x);return S(),w}function f(p,v,x){const b=p.children;let y=-1;const w=[],S=v.enter("tableRow");for(;++y<b.length;)w[y]=c(b[y],p,v,x);return S(),w}function m(p,v,x){let b=R3.inlineCode(p,v,x);return x.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Tte(){return{exit:{taskListCheckValueChecked:H2,taskListCheckValueUnchecked:H2,paragraph:Pte}}}function Ate(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Mte}}}function H2(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function Pte(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const o=r.children[0];if(o&&o.type==="text"){const i=n.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===r&&(o.value=o.value.slice(1),o.value.length===0?r.children.shift():r.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,r.position.start=Object.assign({},o.position.start)))}}this.exit(e)}function Mte(e,n,r,o){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=r.createTracker(o);s&&l.move(a);let c=R3.listItem(e,n,r,{...o,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(h){return h+a}}function Rte(){return[dee(),Mee(),Dee(),Ste(),Tte()]}function Ite(e){return{extensions:[fee(),Ree(e),Lee(),jte(e),Ate()]}}const Ote={tokenize:Ute,partial:!0},I3={tokenize:Bte,partial:!0},O3={tokenize:Hte,partial:!0},D3={tokenize:Vte,partial:!0},Dte={tokenize:Wte,partial:!0},L3={name:"wwwAutolink",tokenize:zte,previous:z3},$3={name:"protocolAutolink",tokenize:Fte,previous:F3},Mi={name:"emailAutolink",tokenize:$te,previous:U3},Zo={};function Lte(){return{text:Zo}}let Hs=48;for(;Hs<123;)Zo[Hs]=Mi,Hs++,Hs===58?Hs=65:Hs===91&&(Hs=97);Zo[43]=Mi;Zo[45]=Mi;Zo[46]=Mi;Zo[95]=Mi;Zo[72]=[Mi,$3];Zo[104]=[Mi,$3];Zo[87]=[Mi,L3];Zo[119]=[Mi,L3];function $te(e,n,r){const o=this;let i,s;return a;function a(f){return!I0(f)||!U3.call(o,o.previous)||g1(o.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return I0(f)?(e.consume(f),l):f===64?(e.consume(f),c):r(f)}function c(f){return f===46?e.check(Dte,h,u)(f):f===45||f===95||Dn(f)?(s=!0,e.consume(f),c):h(f)}function u(f){return e.consume(f),i=!0,c}function h(f){return s&&i&&Wn(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(f)):r(f)}}function zte(e,n,r){const o=this;return i;function i(a){return a!==87&&a!==119||!z3.call(o,o.previous)||g1(o.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Ote,e.attempt(I3,e.attempt(O3,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(a)}}function Fte(e,n,r){const o=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&F3.call(o,o.previous)&&!g1(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):r(f)}function l(f){if(Wn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(f),c}return r(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):r(f)}function u(f){return f===null||bp(f)||Nt(f)||Aa(f)||zm(f)?r(f):e.attempt(I3,e.attempt(O3,h),r)(f)}function h(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(f)}}function Ute(e,n,r){let o=0;return i;function i(a){return(a===87||a===119)&&o<3?(o++,e.consume(a),i):a===46&&o===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):n(a)}}function Bte(e,n,r){let o,i,s;return a;function a(u){return u===46||u===95?e.check(D3,c,l)(u):u===null||Nt(u)||Aa(u)||u!==45&&zm(u)?c(u):(s=!0,e.consume(u),a)}function l(u){return u===95?o=!0:(i=o,o=void 0),e.consume(u),a}function c(u){return i||o||!s?r(u):n(u)}}function Hte(e,n){let r=0,o=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&o<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(D3,n,s)(a):a===null||Nt(a)||Aa(a)?n(a):(e.consume(a),i)}function s(a){return a===41&&o++,e.consume(a),i}}function Vte(e,n,r){return o;function o(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),o):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||Nt(l)||Aa(l)?n(l):r(l)}function i(l){return l===null||l===40||l===91||Nt(l)||Aa(l)?n(l):o(l)}function s(l){return Wn(l)?a(l):r(l)}function a(l){return l===59?(e.consume(l),o):Wn(l)?(e.consume(l),a):r(l)}}function Wte(e,n,r){return o;function o(s){return e.consume(s),i}function i(s){return Dn(s)?r(s):n(s)}}function z3(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Nt(e)}function F3(e){return!Wn(e)}function U3(e){return!(e===47||I0(e))}function I0(e){return e===43||e===45||e===46||e===95||Dn(e)}function g1(e){let n=e.length,r=!1;for(;n--;){const o=e[n][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){r=!0;break}if(o._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const qte={tokenize:ene,partial:!0};function Gte(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Qte,continuation:{tokenize:Jte},exit:Zte}},text:{91:{name:"gfmFootnoteCall",tokenize:Xte},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Kte,resolveTo:Yte}}}}function Kte(e,n,r){const o=this;let i=o.events.length;const s=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let a;for(;i--;){const c=o.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return r(c);const u=So(o.sliceSerialize({start:a.end,end:o.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?r(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),n(c))}}function Yte(e,n){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[r+1],e[r+2],["enter",o,n],e[r+3],e[r+4],["enter",i,n],["exit",i,n],["enter",s,n],["enter",a,n],["exit",a,n],["exit",s,n],e[e.length-2],e[e.length-1],["exit",o,n]];return e.splice(r,e.length-r+1,...l),e}function Xte(e,n,r){const o=this,i=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let s=0,a;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||Nt(f))return r(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(So(o.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):r(f)}return Nt(f)||(a=!0),s++,e.consume(f),f===92?h:u}function h(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function Qte(e,n,r){const o=this,i=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let s,a=0,l;return c;function c(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(v)}function h(v){if(a>999||v===93&&!l||v===null||v===91||Nt(v))return r(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=So(o.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Nt(v)||(l=!0),a++,e.consume(v),v===92?f:h}function f(v){return v===91||v===92||v===93?(e.consume(v),a++,h):h(v)}function m(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(s)||i.push(s),dt(e,p,"gfmFootnoteDefinitionWhitespace")):r(v)}function p(v){return n(v)}}function Jte(e,n,r){return e.check(Xd,n,e.attempt(qte,n,r))}function Zte(e){e.exit("gfmFootnoteDefinition")}function ene(e,n,r){const o=this;return dt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=o.events[o.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?n(s):r(s)}}function tne(e){let r=(e||{}).singleTilde;const o={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},m=[["enter",h,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&Tr(m,m.length,0,Fm(p,a.slice(u+1,c),l)),Tr(m,m.length,0,[["exit",f,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",h,l]]),Tr(a,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,l,c){const u=this.previous,h=this.events;let f=0;return m;function m(v){return u===126&&h[h.length-1][1].type!=="characterEscape"?c(v):(a.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const x=sc(u);if(v===126)return f>1?c(v):(a.consume(v),f++,p);if(f<2&&!r)return c(v);const b=a.exit("strikethroughSequenceTemporary"),y=sc(v);return b._open=!y||y===2&&!!x,b._close=!x||x===2&&!!y,l(v)}}}class nne{constructor(){this.map=[]}add(n,r,o){rne(this,n,r,o)}consume(n){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const o=[];for(;r>0;)r-=1,o.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];o.push(n.slice()),n.length=0;let i=o.pop();for(;i;){for(const s of i)n.push(s);i=o.pop()}this.map.length=0}}function rne(e,n,r,o){let i=0;if(!(r===0&&o.length===0)){for(;i<e.map.length;){if(e.map[i][0]===n){e.map[i][1]+=r,e.map[i][2].push(...o);return}i+=1}e.map.push([n,r,o])}}function one(e,n){let r=!1;const o=[];for(;n<e.length;){const i=e[n];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&o.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const s=o.length-1;o[s]=o[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return o}function ine(){return{flow:{null:{name:"table",tokenize:sne,resolveAll:ane}}}}function sne(e,n,r){const o=this;let i=0,s=0,a;return l;function l(E){let I=o.events.length-1;for(;I>-1;){const P=o.events[I][1].type;if(P==="lineEnding"||P==="linePrefix")I--;else break}const O=I>-1?o.events[I][1].type:null,U=O==="tableHead"||O==="tableRow"?N:c;return U===N&&o.parser.lazy[o.now().line]?r(E):U(E)}function c(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(a=!0,s+=1),h(E)}function h(E){return E===null?r(E):Ue(E)?s>1?(s=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),p):r(E):st(E)?dt(e,h,"whitespace")(E):(s+=1,a&&(a=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Nt(E)?(e.exit("data"),h(E)):(e.consume(E),E===92?m:f)}function m(E){return E===92||E===124?(e.consume(E),f):f(E)}function p(E){return o.interrupt=!1,o.parser.lazy[o.now().line]?r(E):(e.enter("tableDelimiterRow"),a=!1,st(E)?dt(e,v,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):v(E))}function v(E){return E===45||E===58?b(E):E===124?(a=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),x):_(E)}function x(E){return st(E)?dt(e,b,"whitespace")(E):b(E)}function b(E){return E===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),y):E===45?(s+=1,y(E)):E===null||Ue(E)?k(E):_(E)}function y(E){return E===45?(e.enter("tableDelimiterFiller"),w(E)):_(E)}function w(E){return E===45?(e.consume(E),w):E===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(E))}function S(E){return st(E)?dt(e,k,"whitespace")(E):k(E)}function k(E){return E===124?v(E):E===null||Ue(E)?!a||i!==s?_(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(E)):_(E)}function _(E){return r(E)}function N(E){return e.enter("tableRow"),C(E)}function C(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),C):E===null||Ue(E)?(e.exit("tableRow"),n(E)):st(E)?dt(e,C,"whitespace")(E):(e.enter("data"),j(E))}function j(E){return E===null||E===124||Nt(E)?(e.exit("data"),C(E)):(e.consume(E),E===92?A:j)}function A(E){return E===92||E===124?(e.consume(E),j):j(E)}}function ane(e,n){let r=-1,o=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,h,f;const m=new nne;for(;++r<e.length;){const p=e[r],v=p[1];p[0]==="enter"?v.type==="tableHead"?(l=!1,c!==0&&(V2(m,n,c,u,h),h=void 0,c=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(r,0,[["enter",u,n]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(o=!0,f=void 0,s=[0,0,0,0],a=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(r,0,[["enter",h,n]])),i=v.type==="tableDelimiterRow"?2:h?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(o=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=Wf(m,n,s,i,void 0,f),s=[0,0,0,0]),a[2]=r)):v.type==="tableCellDivider"&&(o?o=!1:(s[1]!==0&&(a[0]=a[1],f=Wf(m,n,s,i,void 0,f)),s=a,a=[s[1],r,0,0])):v.type==="tableHead"?(l=!0,c=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=r,s[1]!==0?(a[0]=a[1],f=Wf(m,n,s,i,r,f)):a[1]!==0&&(f=Wf(m,n,a,i,r,f)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=r)}for(c!==0&&V2(m,n,c,u,h),m.consume(n.events),r=-1;++r<n.events.length;){const p=n.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=one(n.events,r))}return e}function Wf(e,n,r,o,i,s){const a=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(s.end=Object.assign({},el(n.events,r[0])),e.add(r[0],0,[["exit",s,n]]));const c=el(n.events,r[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(r[1],0,[["enter",s,n]]),r[2]!==0){const u=el(n.events,r[2]),h=el(n.events,r[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",f,n]]),o!==2){const m=n.events[r[2]],p=n.events[r[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,x=r[3]-r[2]-1;e.add(v,x,[])}}e.add(r[3]+1,0,[["exit",f,n]])}return i!==void 0&&(s.end=Object.assign({},el(n.events,i)),e.add(i,0,[["exit",s,n]]),s=void 0),s}function V2(e,n,r,o,i){const s=[],a=el(n.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,n])),o.end=Object.assign({},a),s.push(["exit",o,n]),e.add(r+1,0,s)}function el(e,n){const r=e[n],o=r[0]==="enter"?"start":"end";return r[1][o]}const lne={name:"tasklistCheck",tokenize:une};function cne(){return{text:{91:lne}}}function une(e,n,r){const o=this;return i;function i(c){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?r(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Nt(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):r(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(c)}function l(c){return Ue(c)?n(c):st(c)?e.check({tokenize:dne},n,r)(c):r(c)}}function dne(e,n,r){return dt(e,o,"whitespace");function o(i){return i===null?r(i):n(i)}}function fne(e){return QR([Lte(),Gte(),tne(e),ine(),cne()])}const hne={};function pne(e){const n=this,r=e||hne,o=n.data(),i=o.micromarkExtensions||(o.micromarkExtensions=[]),s=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),a=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);i.push(fne(r)),s.push(Rte()),a.push(Ite(r))}const yd=pR,mne=QK,gne=mR,yne=Yw,B3=g.forwardRef(({className:e,...n},r)=>d.jsx(Rm,{ref:r,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));B3.displayName=Rm.displayName;const ac=g.forwardRef(({className:e,children:n,...r},o)=>d.jsxs(gne,{children:[d.jsx(B3,{}),d.jsxs(Im,{ref:o,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,d.jsxs(Yw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(tm,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ac.displayName=Im.displayName;const lc=({className:e,...n})=>d.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});lc.displayName="DialogHeader";const H3=({className:e,...n})=>d.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});H3.displayName="DialogFooter";const cc=g.forwardRef(({className:e,...n},r)=>d.jsx(Om,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...n}));cc.displayName=Om.displayName;const y1=g.forwardRef(({className:e,...n},r)=>d.jsx(Dm,{ref:r,className:me("text-sm text-muted-foreground",e),...n}));y1.displayName=Dm.displayName;const O0=e=>{if(!e)return"";if(typeof e=="string")return e.replace(/<[^>]+>/g,"").trim();if(typeof e=="object"&&e!==null&&"content"in e)try{return e.content.map(r=>{var o;return((o=r.content)==null?void 0:o.map(i=>i.text).filter(Boolean).join(" "))??""}).filter(Boolean).join(`
`).trim()}catch{return""}return""},xne=e=>{var f,m,p,v,x,b,y;if(!e)return null;const n=e.fields||{},r=String(((f=n.status)==null?void 0:f.name)??"").toLowerCase(),o=r.includes("done")||r.includes("resolved")||r.includes("closed")?"closed":r.includes("progress")?"in-progress":"open",i=String(((m=n.priority)==null?void 0:m.name)??"").toLowerCase(),s=i.includes("highest")||i.includes("blocker")||i.includes("critical")?"P1":i.includes("high")||i.includes("major")?"P2":i.includes("medium")?"P3":"P4",a=((p=e.renderedFields)==null?void 0:p.description)??n.description,l=O0(a),c=((v=n.assignee)==null?void 0:v.displayName)||((x=n.reporter)==null?void 0:x.displayName)||"Unassigned",u=n.created||new Date().toISOString(),h=(((b=n.comment)==null?void 0:b.comments)||[]).map(w=>{var S;return{author:(S=w.author)==null?void 0:S.displayName,body:O0(w.body??w.renderedBody??""),created:w.created}});return{id:e.id||e.key||n.id||n.key||`jira-${Math.random().toString(36).slice(2)}`,key:e.key||n.key||"JIRA",title:n.summary||e.key||"Jira issue",description:l,priority:s,status:o,reporter:c,createdAt:u,source:((y=n.project)==null?void 0:y.name)||"Jira",comments:h}};function vne(){var gt,J;const{user:e}=Co(),[n,r]=g.useState([]),[o,i]=g.useState(""),[s,a]=g.useState(!1),[l,c]=g.useState(!1),[u,h]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState([]),[x,b]=g.useState(!1),[y,w]=g.useState({}),[S,k]=g.useState({}),[_,N]=g.useState(null),C=[{id:"core",name:"Atlas Core"},{id:"diagnosis",name:"Diagnosis Engine"},{id:"analysis",name:"Analysis Agent"}],[j,A]=g.useState([]),[E,I]=g.useState(!1),[O,U]=g.useState(!1),[P,F]=g.useState({}),[L,W]=g.useState(C),[$,R]=g.useState(0),T=g.useRef(null),D=g.useRef(null),[z,M]=g.useState("pending"),[G,ee]=g.useState(null),re=e!=null&&e.id?`atlas-tickets-${e.id}`:null,Y=p.filter(V=>V.status==="open"||V.status==="in-progress").length,ue=p.filter(V=>V.status==="closed").length,te=V=>V.replace(/(#+\s*[^\n]+)/g,`

$1

`).replace(/---/g,`

---

`).replace(/(\n)(\d+\.|\-)\s/g,`
$2 `).replace(/(\n){3,}/g,`

`).trim(),ae=V=>V.replace(/(\S)(#+\s)/g,`$1
$2`).replace(/(\S)(\n?\d+\.\s)/g,`$1
$2`).replace(/(\S)(\n?-\s)/g,`$1
$2`).replace(/(\n){3,}/g,`

`).trim(),le=g.useCallback(async()=>{var V;b(!0);try{const Z=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),ve={};Z&&(ve.Authorization=`Bearer ${Z}`),e!=null&&e.id&&(ve["x-account-id"]=e.id);const _e=((V=e==null?void 0:e.user_metadata)==null?void 0:V.org_id)??(e==null?void 0:e.id);_e&&(ve["x-org-id"]=_e);const Ie=localStorage.getItem("forge_license_key");Ie&&(ve["x-license-key"]=Ie);const De=await fetch(`${mo}/connectors/jira/api/issues/assigned`,{headers:ve,credentials:"include"});if(!De.ok){if(De.status===404||De.status===400){v([]),re&&localStorage.removeItem(re);return}const He=await De.text();throw new Error(`Failed to load Jira issues: ${De.statusText||He||"unknown"}`)}const ze=await De.json(),Ae=Array.isArray(ze==null?void 0:ze.issues)?ze.issues.map(xne).filter(Boolean):[];v(Ae),re&&localStorage.setItem(re,JSON.stringify(Ae))}catch(Z){console.error("[console] failed to load Jira issues",Z)}finally{b(!1)}},[e,re]);g.useEffect(()=>{if(!re)return;const V=localStorage.getItem(re);if(V)try{const Z=JSON.parse(V);Array.isArray(Z)&&v(Z)}catch{}},[re]);const Se=g.useCallback(async()=>{var V;try{const Z=localStorage.getItem("forge_license_key"),ve=((V=e==null?void 0:e.user_metadata)==null?void 0:V.org_id)??(e==null?void 0:e.id),_e=await fetch(`${Ss}/exhausts${ve?`?org_id=${ve}`:""}`,{credentials:"include",headers:Z?{"x-license-key":Z}:void 0});if(!_e.ok)return;const De=((await _e.json()).items??[]).map(ze=>({id:ze.id,name:ze.name,status:"waiting",linkedTicket:null,ticketKey:null,createdBy:"You",createdAt:ze.created_at,lastActivity:ze.created_at,streamUrl:ze.ingest_url,token:ze.secret_token,logs:[]}));A(De)}catch(Z){console.error("[console] failed to load log streams",Z)}},[e]),Be=g.useCallback(async V=>{var ve;const Z=P[V];if(!Z)return"";try{const _e=await fetch(`${Ss}/streams/${Z.id}`,{credentials:"include"});if(!_e.ok)return"";const Ie=await _e.json(),Ae=(((ve=Ie==null?void 0:Ie.stream)==null?void 0:ve.logs)??[]).slice(-20).map(He=>`[${He.timestamp}] ${He.level}${He.source?` ${He.source}`:""} ${He.message}`).join(`
`);return`Log stream: ${Z.name} (${Z.id}) linked to ticket ${V}
${Ae}`}catch(_e){return console.error("[console] failed to load log context",_e),""}},[P]);g.useEffect(()=>{le(),Se()},[le,Se]);const ye=async V=>{var Ae;const Z={},ve=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");ve&&(Z.Authorization=`Bearer ${ve}`);const _e=((Ae=e==null?void 0:e.user_metadata)==null?void 0:Ae.org_id)??(e==null?void 0:e.id);_e&&(Z["x-org-id"]=_e),e!=null&&e.id&&(Z["x-account-id"]=e.id);const Ie=localStorage.getItem("forge_license_key");Ie&&(Z["x-license-key"]=Ie);const De=y[V.key],ze={issue:{key:V.key,fields:{summary:(De==null?void 0:De.summary)??V.title,description:(De==null?void 0:De.descriptionHtml)??V.description,status:{name:"Done"},reporter:{displayName:V.reporter},priority:{name:V.priority}},changelog:De==null?void 0:De.changelog}};try{await fetch(`${mo}/connectors/jira/api/issues/${V.key}`,{method:"PATCH",headers:{"Content-Type":"application/json",...Z},credentials:"include",body:JSON.stringify({fields:{resolution:{name:"Done"},status:{name:"Done"}}})}),await fetch(`${mo}/connectors/jira/api/issues/ingest`,{method:"POST",headers:{"Content-Type":"application/json",...Z},credentials:"include",body:JSON.stringify(ze)}),v(He=>He.map(Ge=>Ge.key===V.key?{...Ge,status:"closed"}:Ge)),M("resolved"),r(He=>[...He,{role:"assistant",content:`Ticket ${V.key} resolved and ingested.`}]),ee(`Ticket ${V.key} resolved`),setTimeout(()=>ee(null),3e3)}catch(He){console.error("[console] failed to ingest resolved ticket",He)}},se=async()=>{var rt;if(!o.trim())return;const V=/\b(zscaler|zpa|zia|zdx|zs cloud|zero trust|z-tunnel|z tunnel|private access|internet access)\b/i.test(o),Z=n.filter(Je=>Je.content&&Je.content!=="__streaming__").map(Je=>`${Je.role==="user"?"User":"Assistant"}: ${Je.content}`).join(`
`),ve=u?await Be(u.key):"",_e=V?`

When the user mentions Zscaler, search the Zscaler KB, cite sources, and answer concisely.`:`

Always search the internal KB embeddings first and cite sources; if no relevant matches are found, fall back to LLM.`,Ie=`

Cite sources inline using [source-name](url) and end with a bullet list under 'Sources:'; if no sources, explicitly say 'No sources found.'`,De=ve?`

Live Log Context:
${ve}`:"",ze=Z?`${Z}${De}
User: ${o}${_e}${Ie}`:`${De}${o}${_e}${Ie}`,Ae={role:"user",content:o};r(Je=>[...Je,Ae]),i(""),a(!0);const He=JSON.stringify({message:ze,conversationId:f??void 0}),Ge=new AbortController;try{const Je=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),Ht=localStorage.getItem("forge_license_key"),Sn=((rt=e==null?void 0:e.user_metadata)==null?void 0:rt.org_id)??(e==null?void 0:e.id),no=e==null?void 0:e.id,Zn=await fetch(`${mo}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json",...Je?{Authorization:`Bearer ${Je}`}:{},...Ht?{"x-license-key":Ht}:{},...Sn?{"x-org-id":Sn}:{},...no?{"x-account-id":no}:{}},body:He,signal:Ge.signal,credentials:"include"});if(!Zn.ok||!Zn.body)throw new Error(`Chat failed: ${Zn.statusText}`);let $t="",kn="",Ve=!1;const ot=Zn.body.getReader();for(;;){const{value:ft,done:Ct}=await ot.read();if(Ct)break;$t+=new TextDecoder().decode(ft,{stream:!0});const en=$t.split(`

`);$t=en.pop()??"";for(const er of en){const yn=er.split(`
`);let ln=null;const zn=[];for(const zt of yn)zt.startsWith("event:")&&(ln=zt.replace("event:","").trim()),zt.startsWith("data:")&&zn.push(zt.replace(/^data:\s?/,""));const ti=zn.join(`
`);if(ln==="token"&&(kn+=ti,r(zt=>{if(!Ve)return Ve=!0,[...zt,{role:"assistant",content:kn||"__streaming__"}];if(!zt.length)return[{role:"assistant",content:kn||"__streaming__"}];const tn=[...zt],cn=tn.length-1;return tn[cn].role==="assistant"?tn[cn]={...tn[cn],content:kn||"__streaming__"}:tn.push({role:"assistant",content:kn||"__streaming__"}),tn})),ln==="done")try{const zt=JSON.parse(ti);zt!=null&&zt.conversationId&&m(zt.conversationId),zt!=null&&zt.messageId&&r(tn=>{if(!tn.length)return[{role:"assistant",content:kn}];const cn=[...tn],zs=cn.length-1;return cn[zs].role==="assistant"?cn[zs]={...cn[zs],content:kn}:cn.push({role:"assistant",content:kn}),cn})}catch{r(zt=>{if(!zt.length)return[{role:"assistant",content:kn}];const tn=[...zt],cn=tn.length-1;return tn[cn].role==="assistant"?tn[cn]={...tn[cn],content:kn}:tn.push({role:"assistant",content:kn}),tn})}}}}catch(Je){r(Ht=>[...Ht,{role:"assistant",content:"Sorry, I hit an error responding."}]),console.error(Je)}finally{a(!1)}},Ee=V=>{if(_!==null&&L.length){if(V.key==="ArrowDown"){V.preventDefault(),R(Z=>(Z+1)%L.length);return}if(V.key==="ArrowUp"){V.preventDefault(),R(Z=>(Z-1+L.length)%L.length);return}if(V.key==="Enter"){V.preventDefault(),ie(L[$]);return}}V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),se())},Pe=V=>{const Z=V.target.value;i(Z);const ve=V.target.selectionStart??Z.length,Ie=Z.slice(0,ve).match(/@([\w-]*)$/);if(Ie){const De=Ie[1],ze=C.filter(Ae=>`${Ae.id} ${Ae.name}`.toLowerCase().includes(De.toLowerCase()));N(De),W(ze),R(0)}else N(null),W(C)},ie=V=>{const Z=`@${V.id}`;i(ve=>{var rt;const _e=((rt=T.current)==null?void 0:rt.selectionStart)??ve.length,Ie=ve.slice(0,_e),De=ve.slice(_e),ze=Ie.match(/@[\w-]*$/),Ae=ze?_e-ze[0].length:_e,He=`${ve.slice(0,Ae)}${Z} ${De}`,Ge=Ae+Z.length+1;return requestAnimationFrame(()=>{T.current&&(T.current.focus(),T.current.setSelectionRange(Ge,Ge))}),He}),N(null),W(C),R(0)},$e=()=>{c(!0),le(),r([{role:"assistant",content:"I've loaded your Jira issues. Select one from the panel on the right to inspect it."}])},Ye=async V=>{var De,ze,Ae;h(V),r(He=>[...He,{role:"assistant",content:`Loading ${V.key}... fetching full details and similar issues.`}]);const Z={},ve=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");ve&&(Z.Authorization=`Bearer ${ve}`);const _e=((De=e==null?void 0:e.user_metadata)==null?void 0:De.org_id)??(e==null?void 0:e.id);_e&&(Z["x-org-id"]=_e),e!=null&&e.id&&(Z["x-account-id"]=e.id);const Ie=localStorage.getItem("forge_license_key");Ie&&(Z["x-license-key"]=Ie);try{const He=await kY(V.key,Z);w(Je=>({...Je,[V.key]:He}));const Ge=JSON.stringify({projectKey:(Ae=(ze=He.key)==null?void 0:ze.split("-"))==null?void 0:Ae[0],summary:He.summary,description:He.descriptionHtml,limit:5});try{const Je=await fetch(`${mo}/connectors/jira/api/issues/similar`,{method:"POST",headers:{"Content-Type":"application/json",...Z},credentials:"include",body:Ge});if(Je.ok){const Ht=await Je.json();k(Sn=>({...Sn,[V.key]:Ht.items??[]}))}else k(Ht=>({...Ht,[V.key]:[]}))}catch(Je){console.error("[console] failed to load similar issues",Je),k(Ht=>({...Ht,[V.key]:[]}))}const rt=He.descriptionHtml?O0(He.descriptionHtml):V.description;r(Je=>[...Je.filter(Ht=>!Ht.content.startsWith("Loading ")),{role:"assistant",content:`**${V.key}: ${He.summary||V.title}**

**Priority:** ${V.priority}
**Reporter:** ${V.reporter}
**Status:** ${V.status}

**Description:**
${rt}

Would you like me to proceed with analyzing and fixing this issue?`}])}catch(He){console.error("[console] failed to load issue details",He),r(Ge=>[...Ge.filter(rt=>!rt.content.startsWith("Loading ")),{role:"assistant",content:`**${V.key}: ${V.title}**

**Priority:** ${V.priority}
**Reporter:** ${V.reporter}
**Status:** ${V.status}

**Description:**
${V.description||"Description not available."}

Would you like me to proceed with analyzing and fixing this issue?`}])}};g.useEffect(()=>{f&&localStorage.setItem(`atlas-chat-${f}`,JSON.stringify(n))},[n,f]),g.useEffect(()=>{const V=localStorage.getItem("atlas-last-conversation-id");V&&m(V)},[]),g.useEffect(()=>{if(!f)return;localStorage.setItem("atlas-last-conversation-id",f);const V=localStorage.getItem(`atlas-chat-${f}`);if(V)try{const Z=JSON.parse(V);Array.isArray(Z)&&r(Z)}catch{r([])}else r(Z=>Z.length?Z:[])},[f]),g.useEffect(()=>{D.current&&(D.current.scrollTop=D.current.scrollHeight)},[n]);const Qe=()=>d.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-6 animate-fade-in",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Kh,{className:"w-8 h-8 text-atlas-glow"})}),d.jsxs("div",{className:"text-center space-y-1",children:[d.jsx("h1",{className:"text-4xl font-normal",children:d.jsx("span",{className:"text-atlas-glow",children:"Hello, Founder"})}),d.jsx("p",{className:"text-3xl font-normal text-muted-foreground/80",children:"What should we build today?"})]}),d.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-semibold text-red-400",children:Y}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending tickets"})]}),d.jsx("div",{className:"w-px h-6 bg-border"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-semibold text-blue-400",children:ue}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Closed tickets"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[d.jsxs("button",{onClick:$e,className:"flex items-center gap-2 px-5 py-3 text-sm border border-border rounded-xl hover:border-atlas-glow/50 hover:bg-muted/30 transition-all",children:[d.jsx(vL,{className:"w-4 h-4"}),"View my tickets"]}),d.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 text-sm border border-border rounded-xl hover:border-atlas-glow/50 hover:bg-muted/30 transition-all",children:[d.jsx(Kh,{className:"w-4 h-4"}),"Create new agent"]})]})]}),ut=l&&n.length===1&&((gt=n[0])==null?void 0:gt.role)==="assistant"&&((J=n[0])==null?void 0:J.content.includes("I've loaded your Jira issues")),qe=()=>d.jsxs("div",{className:me("max-w-3xl mx-auto space-y-6",ut&&"h-full flex flex-col justify-center items-center"),children:[n.map((V,Z)=>d.jsx("div",{className:`flex ${ut?"justify-center":V.role==="user"?"justify-end":"justify-start"} animate-fade-in`,children:d.jsx("div",{className:me("max-w-[80%] whitespace-pre-wrap",V.role==="user"?"rounded-2xl px-4 py-3 bg-atlas-glow/20 text-foreground ml-auto":"text-foreground prose prose-invert max-w-none",ut&&"text-center"),children:V.role==="assistant"?d.jsx(tee,{remarkPlugins:[pne],components:{a:({node:ve,..._e})=>d.jsx("a",{className:"text-blue-400 underline",target:"_blank",rel:"noreferrer",..._e}),ul:({node:ve,..._e})=>d.jsx("ul",{className:"list-disc pl-4 space-y-1",..._e}),ol:({node:ve,..._e})=>d.jsx("ol",{className:"list-decimal pl-4 space-y-1",..._e})},children:ae(V.content)}):te(V.content)})},Z)),s&&d.jsx("div",{className:"flex justify-start animate-fade-in",children:d.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:d.jsx("div",{className:"w-3 h-3 rounded-full bg-atlas-glow animate-pulse-scale"})})})]}),Zt=()=>d.jsx("div",{className:"bg-background p-6",children:d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"relative bg-card/40 backdrop-blur-sm border border-border/50 rounded-[28px] hover:border-border transition-colors",children:[_!==null&&d.jsx("div",{className:"absolute bottom-full left-5 mb-2 w-64 rounded-xl border border-border bg-card shadow-md overflow-hidden",children:L.length?L.map((V,Z)=>d.jsxs("button",{className:me("w-full text-left px-4 py-2 text-sm hover:bg-muted transition-colors",Z===$&&"bg-muted"),onMouseDown:ve=>{ve.preventDefault(),ie(V)},children:[V.name," (",V.id,")"]},V.id)):d.jsx("div",{className:"px-4 py-2 text-sm text-muted-foreground",children:"No matches"})}),d.jsxs("div",{className:"flex items-center gap-3 px-5 py-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(be,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9",onClick:()=>U(V=>!V),children:d.jsx(Xv,{className:"h-5 w-5"})}),O&&d.jsx("div",{className:"absolute left-0 mt-2 w-40 rounded-xl border border-border bg-card shadow-lg z-10",children:d.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-muted transition-colors rounded-t-xl",onMouseDown:V=>V.preventDefault(),onClick:()=>{U(!1),I(!0)},children:"Connect logs"})})]}),d.jsx("input",{type:"text",value:o,onChange:Pe,onKeyDown:Ee,placeholder:"Ask Atlas Core...",ref:T,className:"flex-1 bg-transparent border-0 text-base text-foreground placeholder:text-muted-foreground/60 focus:outline-none"}),d.jsxs("button",{className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors px-3 py-1.5 rounded-lg hover:bg-muted/50",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),d.jsx("span",{children:"Tools"})]}),d.jsx(be,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9",children:d.jsx(iL,{className:"h-5 w-5"})})]})]})})});return l?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex h-screen gap-4 p-4 max-w-7xl mx-auto relative",children:[d.jsxs("div",{className:"flex-[3] flex flex-col bg-card/30 backdrop-blur-sm border border-border/50 rounded-2xl overflow-hidden",children:[G&&d.jsx("div",{className:"absolute top-6 right-6 z-50",children:d.jsx("div",{className:"bg-card/90 border border-border text-foreground px-4 py-3 rounded-xl shadow-lg animate-fade-in",children:G})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-8",ref:D,children:qe()}),Zt()]}),d.jsx("div",{className:"flex-1 min-w-[320px] max-w-[400px]",children:d.jsx(SY,{tickets:p,selectedTicket:u,onSelectTicket:Ye,onClearSelection:()=>h(null),loading:x,issueDetails:y,similarIssues:S,view:z,onChangeView:M,onResolveTicket:ye})})]}),d.jsx(yd,{open:E,onOpenChange:I,children:d.jsxs(ac,{className:"max-w-lg",children:[d.jsx(lc,{children:d.jsx(cc,{children:"Connect logs"})}),d.jsx("div",{className:"space-y-3",children:j.length===0?d.jsx("p",{className:"text-sm text-muted-foreground",children:"No log streams yet. Create one in Exhausts."}):j.map(V=>{var Z;return d.jsxs("div",{className:"p-3 rounded-lg border border-border/50 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold truncate",children:V.name}),d.jsx("div",{className:"text-xs text-muted-foreground truncate",children:V.streamUrl}),u&&d.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["Ticket: ",u.key,((Z=P[u.key])==null?void 0:Z.id)===V.id?" (attached)":""]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{className:"text-sm text-blue-400 hover:underline",onClick:()=>{navigator.clipboard.writeText(`curl -X POST ${V.streamUrl} -H "Authorization: Bearer ${V.token}" --data-binary @/path/to/logfile.log`)},children:"Copy"}),u&&d.jsx("button",{className:"text-sm text-emerald-400 hover:underline",onClick:()=>{F(ve=>({...ve,[u.key]:V})),ee(`Logs linked to ${u.key}`),I(!1)},children:"Attach"})]})]},V.id)})})]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col h-screen",children:[d.jsx("div",{className:"flex-1 overflow-y-auto p-8",ref:D,children:n.length===0?Qe():qe()}),Zt()]}),d.jsx(yd,{open:E,onOpenChange:I,children:d.jsxs(ac,{className:"max-w-lg",children:[d.jsx(lc,{children:d.jsx(cc,{children:"Connect logs"})}),d.jsx("div",{className:"space-y-3",children:j.length===0?d.jsx("p",{className:"text-sm text-muted-foreground",children:"No log streams yet. Create one in Exhausts."}):j.map(V=>d.jsxs("div",{className:"p-3 rounded-lg border border-border/50 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold",children:V.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:V.streamUrl})]}),d.jsx("button",{className:"text-sm text-blue-400 hover:underline",onClick:()=>{navigator.clipboard.writeText(`curl -X POST ${V.streamUrl} -H "Authorization: Bearer ${V.token}" --data-binary @/path/to/logfile.log`),I(!1)},children:"Copy command"})]},V.id))})]})})]})}function wne(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function bne(e,n,r){return n=Tne(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function W2(e,n){return _ne(e)||wne(e,n)||V3(e,n)||Ene()}function Sne(e){return kne(e)||Nne(e)||V3(e)||Cne()}function kne(e){if(Array.isArray(e))return D0(e)}function _ne(e){if(Array.isArray(e))return e}function Nne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V3(e,n){if(e){if(typeof e=="string")return D0(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(e,n)}}function D0(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function Cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Tne(e){var n=jne(e,"string");return typeof n=="symbol"?n:String(n)}var Ane=function(n,r){var o=new Set(r);return Object.assign.apply(Object,[{}].concat(Sne(Object.entries(n).filter(function(i){var s=W2(i,1),a=s[0];return!o.has(a)}).map(function(i){var s=W2(i,2),a=s[0],l=s[1];return bne({},a,l)}))))};function L0(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function Pne(e){if(Array.isArray(e))return e}function Mne(e){if(Array.isArray(e))return L0(e)}function Rne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ine(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n!==0)for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(e,n){return Pne(e)||Ine(e,n)||W3(e,n)||One()}function q2(e){return Mne(e)||Rne(e)||W3(e)||Dne()}function W3(e,n){if(e){if(typeof e=="string")return L0(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L0(e,n):void 0}}function $ne(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,o=r===void 0?"div":r,i=n.nodeMapper,s=i===void 0?function(h){return h}:i,a=n.methodNames,l=a===void 0?[]:a,c=n.initPropNames,u=c===void 0?[]:c;return g.forwardRef(function(h,f){var m=g.useRef(),p=g.useMemo(function(){var b=Object.fromEntries(u.filter(function(y){return h.hasOwnProperty(y)}).map(function(y){return[y,h[y]]}));return e(b)},[]);G2(function(){p(s(m.current))},g.useLayoutEffect),G2(function(){return p._destructor instanceof Function?p._destructor:void 0});var v=g.useCallback(function(b){for(var y=arguments.length,w=new Array(y>1?y-1:0),S=1;S<y;S++)w[S-1]=arguments[S];return p[b]instanceof Function?p[b].apply(p,w):void 0},[p]),x=g.useRef({});return Object.keys(Ane(h,[].concat(q2(l),q2(u)))).filter(function(b){return x.current[b]!==h[b]}).forEach(function(b){return v(b,h[b])}),x.current=h,g.useImperativeHandle(f,function(){return Object.fromEntries(l.map(function(b){return[b,function(){for(var y=arguments.length,w=new Array(y),S=0;S<y;S++)w[S]=arguments[S];return v.apply(void 0,[b].concat(w))}]}))},[v]),B.createElement(o,{ref:m})})}function G2(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.useEffect,r=g.useRef(),o=g.useRef(!1),i=g.useRef(!1),s=g.useState(0),a=Lne(s,2);a[0];var l=a[1];o.current&&(i.current=!0),n(function(){return o.current||(r.current=e(),o.current=!0),l(function(c){return c+1}),function(){i.current&&r.current&&r.current()}},[])}class K2 extends Map{constructor(n,r=Une){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[o,i]of n)this.set(o,i)}get(n){return super.get(Y2(this,n))}has(n){return super.has(Y2(this,n))}set(n,r){return super.set(zne(this,n),r)}delete(n){return super.delete(Fne(this,n))}}function Y2({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):r}function zne({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function Fne({_intern:e,_key:n},r){const o=n(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function Une(e){return e!==null&&typeof e=="object"?e.valueOf():e}function X2(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let i of e)(i=n(i,++o,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Q2(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let i of e)(i=n(i,++o,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function Bne(e,n){let r=0;for(let o of e)(o=+o)&&(r+=o);return r}var Hne=typeof global=="object"&&global&&global.Object===Object&&global,Vne=typeof self=="object"&&self&&self.Object===Object&&self,q3=Hne||Vne||Function("return this")(),Np=q3.Symbol,G3=Object.prototype,Wne=G3.hasOwnProperty,qne=G3.toString,Qc=Np?Np.toStringTag:void 0;function Gne(e){var n=Wne.call(e,Qc),r=e[Qc];try{e[Qc]=void 0;var o=!0}catch{}var i=qne.call(e);return o&&(n?e[Qc]=r:delete e[Qc]),i}var Kne=Object.prototype,Yne=Kne.toString;function Xne(e){return Yne.call(e)}var Qne="[object Null]",Jne="[object Undefined]",J2=Np?Np.toStringTag:void 0;function Zne(e){return e==null?e===void 0?Jne:Qne:J2&&J2 in Object(e)?Gne(e):Xne(e)}function ere(e){return e!=null&&typeof e=="object"}var tre="[object Symbol]";function nre(e){return typeof e=="symbol"||ere(e)&&Zne(e)==tre}var rre=/\s/;function ore(e){for(var n=e.length;n--&&rre.test(e.charAt(n)););return n}var ire=/^\s+/;function sre(e){return e&&e.slice(0,ore(e)+1).replace(ire,"")}function Cp(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Z2=NaN,are=/^[-+]0x[0-9a-f]+$/i,lre=/^0b[01]+$/i,cre=/^0o[0-7]+$/i,ure=parseInt;function e_(e){if(typeof e=="number")return e;if(nre(e))return Z2;if(Cp(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Cp(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=sre(e);var r=lre.test(e);return r||cre.test(e)?ure(e.slice(2),r?2:8):are.test(e)?Z2:+e}var Ny=function(){return q3.Date.now()},dre="Expected a function",fre=Math.max,hre=Math.min;function K3(e,n,r){var o,i,s,a,l,c,u=0,h=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(dre);n=e_(n)||0,Cp(r)&&(h=!!r.leading,f="maxWait"in r,s=f?fre(e_(r.maxWait)||0,n):s,m="trailing"in r?!!r.trailing:m);function p(N){var C=o,j=i;return o=i=void 0,u=N,a=e.apply(j,C),a}function v(N){return u=N,l=setTimeout(y,n),h?p(N):a}function x(N){var C=N-c,j=N-u,A=n-C;return f?hre(A,s-j):A}function b(N){var C=N-c,j=N-u;return c===void 0||C>=n||C<0||f&&j>=s}function y(){var N=Ny();if(b(N))return w(N);l=setTimeout(y,x(N))}function w(N){return l=void 0,m&&o?p(N):(o=i=void 0,a)}function S(){l!==void 0&&clearTimeout(l),u=0,o=c=i=l=void 0}function k(){return l===void 0?a:w(Ny())}function _(){var N=Ny(),C=b(N);if(o=arguments,i=this,c=N,C){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(y,n),p(c)}return l===void 0&&(l=setTimeout(y,n)),a}return _.cancel=S,_.flush=k,_}var pre="Expected a function";function mre(e,n,r){var o=!0,i=!0;if(typeof e!="function")throw new TypeError(pre);return Cp(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),K3(e,n,{leading:o,maxWait:n,trailing:i})}var ma=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-ma.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?ma.Bounce.In(e*2)*.5:ma.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),hu=function(){return performance.now()},Y3=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(var i=0,s=r;i<s.length;i++){var a=s[i];(n=a._group)===null||n===void 0||n.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];s._group=void 0,delete this._tweens[s.getId()],delete this._tweensAddedDuringUpdate[s.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=hu()),r===void 0&&(r=!0);var o=Object.keys(this._tweens);if(o.length!==0)for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<o.length;i++){var s=this._tweens[o[i]],a=!r;s&&s.update(n,a)===!1&&!r&&this.remove(s)}o=Object.keys(this._tweensAddedDuringUpdate)}},e}(),ml={Linear:function(e,n){var r=e.length-1,o=r*n,i=Math.floor(o),s=ml.Utils.Linear;return n<0?s(e[0],e[1],o):n>1?s(e[r],e[r-1],r-o):s(e[i],e[i+1>r?r:i+1],o-i)},Bezier:function(e,n){for(var r=0,o=e.length-1,i=Math.pow,s=ml.Utils.Bernstein,a=0;a<=o;a++)r+=i(1-n,o-a)*i(n,a)*e[a]*s(o,a);return r},CatmullRom:function(e,n){var r=e.length-1,o=r*n,i=Math.floor(o),s=ml.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(i=Math.floor(o=r*(1+n))),s(e[(i-1+r)%r],e[i],e[(i+1)%r],e[(i+2)%r],o-i)):n<0?e[0]-(s(e[0],e[0],e[1],e[1],-o)-e[0]):n>1?e[r]-(s(e[r],e[r],e[r-1],e[r-1],o-r)-e[r]):s(e[i?i-1:0],e[i],e[r<i+1?r:i+1],e[r<i+2?r:i+2],o-i)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=ml.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:function(){var e=[1];return function(n){var r=1;if(e[n])return e[n];for(var o=n;o>1;o--)r*=o;return e[n]=r,r}}(),CatmullRom:function(e,n,r,o,i){var s=(r-e)*.5,a=(o-n)*.5,l=i*i,c=i*l;return(2*n-2*r+s+a)*c+(-3*n+3*r-2*s-a)*l+s*i+n}}},gre=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),$0=new Y3,t_=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ma.Linear.None,this._interpolationFunction=ml.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=gre.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=$0,$0.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=hu()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,o,i,s){for(var a in o){var l=n[a],c=Array.isArray(l),u=c?"array":typeof l,h=!c&&Array.isArray(o[a]);if(!(u==="undefined"||u==="function")){if(h){var f=o[a];if(f.length===0)continue;for(var m=[l],p=0,v=f.length;p<v;p+=1){var x=this._handleRelativeValue(l,f[p]);if(isNaN(x)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(x)}h&&(o[a]=m)}if((u==="object"||c)&&l&&!h){r[a]=c?[]:{};var b=l;for(var y in b)r[a][y]=b[y];i[a]=c?[]:{};var f=o[a];if(!this._isDynamic){var w={};for(var y in f)w[y]=f[y];o[a]=f=w}this._setupProperties(b,r[a],f,i[a],s)}else(typeof r[a]>"u"||s)&&(r[a]=l),c||(r[a]*=1),h?i[a]=o[a].slice().reverse():i[a]=r[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=hu()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=hu()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=ma.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=ml.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var o=this,i;if(n===void 0&&(n=hu()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var s;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=n-this._startTime,l=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(o._duration===0||a>c)return 1;var x=Math.trunc(a/l),b=a-x*l,y=Math.min(b/o._duration,1);return y===0&&a===o._duration?1:y},h=u(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||a>=this._duration)if(this._repeat>0){var m=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=m);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*m,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,v=this._chainedTweens.length;p<v;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,o,i){for(var s in o)if(r[s]!==void 0){var a=r[s]||0,l=o[s],c=Array.isArray(n[s]),u=Array.isArray(l),h=!c&&u;h?n[s]=this._interpolationFunction(l,i):typeof l=="object"&&l?this._updateProperties(n[s],a,l,i):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(n[s]=a+(l-a)*i))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],o=this._valuesEnd[n];typeof o=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(o):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}(),Yo=$0;Yo.getAll.bind(Yo);Yo.removeAll.bind(Yo);Yo.add.bind(Yo);Yo.remove.bind(Yo);Yo.update.bind(Yo);function n_(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function yre(e){if(Array.isArray(e))return e}function xre(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vre(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function wre(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n!==0)for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(e,n){return yre(e)||wre(e,n)||kre(e,n)||bre()}function kre(e,n){if(e){if(typeof e=="string")return n_(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n_(e,n):void 0}}var _re=vre(function e(n,r){var o=r.default,i=o===void 0?null:o,s=r.triggerUpdate,a=s===void 0?!0:s,l=r.onChange,c=l===void 0?function(u,h){}:l;xre(this,e),this.name=n,this.defaultVal=i,this.triggerUpdate=a,this.onChange=c});function x1(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,o=e.props,i=o===void 0?{}:o,s=e.methods,a=s===void 0?{}:s,l=e.aliases,c=l===void 0?{}:l,u=e.init,h=u===void 0?function(){}:u,f=e.update,m=f===void 0?function(){}:f,p=Object.keys(i).map(function(v){return new _re(v,i[v])});return function v(){for(var x=arguments.length,b=new Array(x),y=0;y<x;y++)b[y]=arguments[y];var w=!!(this instanceof v&&this.constructor),S=w?b.shift():void 0,k=b[0],_=k===void 0?{}:k,N=Object.assign({},r instanceof Function?r(_):r,{initialised:!1}),C={};function j(I){return A(I,_),E(),j}var A=function(O,U){h.call(j,O,N,U),N.initialised=!0},E=K3(function(){N.initialised&&(m.call(j,N,C),C={})},1);return p.forEach(function(I){j[I.name]=O(I);function O(U){var P=U.name,F=U.triggerUpdate,L=F===void 0?!1:F,W=U.onChange,$=W===void 0?function(D,z){}:W,R=U.defaultVal,T=R===void 0?null:R;return function(D){var z=N[P];if(!arguments.length)return z;var M=D===void 0?T:D;return N[P]=M,$.call(j,M,N,z),!C.hasOwnProperty(P)&&(C[P]=z),L&&E(),j}}}),Object.keys(a).forEach(function(I){j[I]=function(){for(var O,U=arguments.length,P=new Array(U),F=0;F<U;F++)P[F]=arguments[F];return(O=a[I]).call.apply(O,[j,N].concat(P))}}),Object.entries(c).forEach(function(I){var O=Sre(I,2),U=O[0],P=O[1];return j[U]=j[P]}),j.resetProps=function(){return p.forEach(function(I){j[I.name](I.defaultVal)}),j},j.resetProps(),N._rerender=E,w&&S&&j(S),j}}var xt=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ep(e)}var Nre=/^\s+/,Cre=/\s+$/;function Oe(e,n){if(e=e||"",n=n||{},e instanceof Oe)return e;if(!(this instanceof Oe))return new Oe(e,n);var r=Ere(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Oe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,o,i,s,a,l;return r=n.r/255,o=n.g/255,i=n.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),o<=.03928?a=o/12.92:a=Math.pow((o+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*l},setAlpha:function(n){return this._a=X3(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=o_(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=o_(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),i=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+o+"%, "+i+"%)":"hsva("+r+", "+o+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var n=r_(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=r_(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),i=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+o+"%, "+i+"%)":"hsla("+r+", "+o+"%, "+i+"%, "+this._roundA+")"},toHex:function(n){return i_(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return Pre(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ot(this._r,255)*100)+"%",g:Math.round(Ot(this._g,255)*100)+"%",b:Math.round(Ot(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ot(this._r,255)*100)+"%, "+Math.round(Ot(this._g,255)*100)+"%, "+Math.round(Ot(this._b,255)*100)+"%)":"rgba("+Math.round(Ot(this._r,255)*100)+"%, "+Math.round(Ot(this._g,255)*100)+"%, "+Math.round(Ot(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Hre[i_(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+s_(this._r,this._g,this._b,this._a),o=r,i=this._gradientType?"GradientType = 1, ":"";if(n){var s=Oe(n);o="#"+s_(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+o+")"},toString:function(n){var r=!!n;n=n||this._format;var o=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return s?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(o=this.toRgbString()),n==="prgb"&&(o=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(o=this.toHexString()),n==="hex3"&&(o=this.toHexString(!0)),n==="hex4"&&(o=this.toHex8String(!0)),n==="hex8"&&(o=this.toHex8String()),n==="name"&&(o=this.toName()),n==="hsl"&&(o=this.toHslString()),n==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return Oe(this.toString())},_applyModification:function(n,r){var o=n.apply(null,[this].concat([].slice.call(r)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(Ore,arguments)},brighten:function(){return this._applyModification(Dre,arguments)},darken:function(){return this._applyModification(Lre,arguments)},desaturate:function(){return this._applyModification(Mre,arguments)},saturate:function(){return this._applyModification(Rre,arguments)},greyscale:function(){return this._applyModification(Ire,arguments)},spin:function(){return this._applyModification($re,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Ure,arguments)},complement:function(){return this._applyCombination(zre,arguments)},monochromatic:function(){return this._applyCombination(Bre,arguments)},splitcomplement:function(){return this._applyCombination(Fre,arguments)},triad:function(){return this._applyCombination(a_,[3])},tetrad:function(){return this._applyCombination(a_,[4])}};Oe.fromRatio=function(e,n){if(Ep(e)=="object"){var r={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?r[o]=e[o]:r[o]=pu(e[o]));e=r}return Oe(e,n)};function Ere(e){var n={r:0,g:0,b:0},r=1,o=null,i=null,s=null,a=!1,l=!1;return typeof e=="string"&&(e=Gre(e)),Ep(e)=="object"&&(ii(e.r)&&ii(e.g)&&ii(e.b)?(n=jre(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ii(e.h)&&ii(e.s)&&ii(e.v)?(o=pu(e.s),i=pu(e.v),n=Are(e.h,o,i),a=!0,l="hsv"):ii(e.h)&&ii(e.s)&&ii(e.l)&&(o=pu(e.s),s=pu(e.l),n=Tre(e.h,o,s),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=X3(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function jre(e,n,r){return{r:Ot(e,255)*255,g:Ot(n,255)*255,b:Ot(r,255)*255}}function r_(e,n,r){e=Ot(e,255),n=Ot(n,255),r=Ot(r,255);var o=Math.max(e,n,r),i=Math.min(e,n,r),s,a,l=(o+i)/2;if(o==i)s=a=0;else{var c=o-i;switch(a=l>.5?c/(2-o-i):c/(o+i),o){case e:s=(n-r)/c+(n<r?6:0);break;case n:s=(r-e)/c+2;break;case r:s=(e-n)/c+4;break}s/=6}return{h:s,s:a,l}}function Tre(e,n,r){var o,i,s;e=Ot(e,360),n=Ot(n,100),r=Ot(r,100);function a(u,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(h-u)*6*f:f<1/2?h:f<2/3?u+(h-u)*(2/3-f)*6:u}if(n===0)o=i=s=r;else{var l=r<.5?r*(1+n):r+n-r*n,c=2*r-l;o=a(c,l,e+1/3),i=a(c,l,e),s=a(c,l,e-1/3)}return{r:o*255,g:i*255,b:s*255}}function o_(e,n,r){e=Ot(e,255),n=Ot(n,255),r=Ot(r,255);var o=Math.max(e,n,r),i=Math.min(e,n,r),s,a,l=o,c=o-i;if(a=o===0?0:c/o,o==i)s=0;else{switch(o){case e:s=(n-r)/c+(n<r?6:0);break;case n:s=(r-e)/c+2;break;case r:s=(e-n)/c+4;break}s/=6}return{h:s,s:a,v:l}}function Are(e,n,r){e=Ot(e,360)*6,n=Ot(n,100),r=Ot(r,100);var o=Math.floor(e),i=e-o,s=r*(1-n),a=r*(1-i*n),l=r*(1-(1-i)*n),c=o%6,u=[r,a,s,s,l,r][c],h=[l,r,r,a,s,s][c],f=[s,s,l,r,r,a][c];return{r:u*255,g:h*255,b:f*255}}function i_(e,n,r,o){var i=[yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16)),yo(Math.round(r).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pre(e,n,r,o,i){var s=[yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16)),yo(Math.round(r).toString(16)),yo(Q3(o))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function s_(e,n,r,o){var i=[yo(Q3(o)),yo(Math.round(e).toString(16)),yo(Math.round(n).toString(16)),yo(Math.round(r).toString(16))];return i.join("")}Oe.equals=function(e,n){return!e||!n?!1:Oe(e).toRgbString()==Oe(n).toRgbString()};Oe.random=function(){return Oe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Mre(e,n){n=n===0?0:n||10;var r=Oe(e).toHsl();return r.s-=n/100,r.s=Vm(r.s),Oe(r)}function Rre(e,n){n=n===0?0:n||10;var r=Oe(e).toHsl();return r.s+=n/100,r.s=Vm(r.s),Oe(r)}function Ire(e){return Oe(e).desaturate(100)}function Ore(e,n){n=n===0?0:n||10;var r=Oe(e).toHsl();return r.l+=n/100,r.l=Vm(r.l),Oe(r)}function Dre(e,n){n=n===0?0:n||10;var r=Oe(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),Oe(r)}function Lre(e,n){n=n===0?0:n||10;var r=Oe(e).toHsl();return r.l-=n/100,r.l=Vm(r.l),Oe(r)}function $re(e,n){var r=Oe(e).toHsl(),o=(r.h+n)%360;return r.h=o<0?360+o:o,Oe(r)}function zre(e){var n=Oe(e).toHsl();return n.h=(n.h+180)%360,Oe(n)}function a_(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Oe(e).toHsl(),o=[Oe(e)],i=360/n,s=1;s<n;s++)o.push(Oe({h:(r.h+s*i)%360,s:r.s,l:r.l}));return o}function Fre(e){var n=Oe(e).toHsl(),r=n.h;return[Oe(e),Oe({h:(r+72)%360,s:n.s,l:n.l}),Oe({h:(r+216)%360,s:n.s,l:n.l})]}function Ure(e,n,r){n=n||6,r=r||30;var o=Oe(e).toHsl(),i=360/r,s=[Oe(e)];for(o.h=(o.h-(i*n>>1)+720)%360;--n;)o.h=(o.h+i)%360,s.push(Oe(o));return s}function Bre(e,n){n=n||6;for(var r=Oe(e).toHsv(),o=r.h,i=r.s,s=r.v,a=[],l=1/n;n--;)a.push(Oe({h:o,s:i,v:s})),s=(s+l)%1;return a}Oe.mix=function(e,n,r){r=r===0?0:r||50;var o=Oe(e).toRgb(),i=Oe(n).toRgb(),s=r/100,a={r:(i.r-o.r)*s+o.r,g:(i.g-o.g)*s+o.g,b:(i.b-o.b)*s+o.b,a:(i.a-o.a)*s+o.a};return Oe(a)};Oe.readability=function(e,n){var r=Oe(e),o=Oe(n);return(Math.max(r.getLuminance(),o.getLuminance())+.05)/(Math.min(r.getLuminance(),o.getLuminance())+.05)};Oe.isReadable=function(e,n,r){var o=Oe.readability(e,n),i,s;switch(s=!1,i=Kre(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=o>=4.5;break;case"AAlarge":s=o>=3;break;case"AAAsmall":s=o>=7;break}return s};Oe.mostReadable=function(e,n,r){var o=null,i=0,s,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<n.length;u++)s=Oe.readability(e,n[u]),s>i&&(i=s,o=Oe(n[u]));return Oe.isReadable(e,o,{level:l,size:c})||!a?o:(r.includeFallbackColors=!1,Oe.mostReadable(e,["#fff","#000"],r))};var z0=Oe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Hre=Oe.hexNames=Vre(z0);function Vre(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function X3(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ot(e,n){Wre(e)&&(e="100%");var r=qre(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Vm(e){return Math.min(1,Math.max(0,e))}function br(e){return parseInt(e,16)}function Wre(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function qre(e){return typeof e=="string"&&e.indexOf("%")!=-1}function yo(e){return e.length==1?"0"+e:""+e}function pu(e){return e<=1&&(e=e*100+"%"),e}function Q3(e){return Math.round(parseFloat(e)*255).toString(16)}function l_(e){return br(e)/255}var ao=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ii(e){return!!ao.CSS_UNIT.exec(e)}function Gre(e){e=e.replace(Nre,"").replace(Cre,"").toLowerCase();var n=!1;if(z0[e])e=z0[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=ao.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=ao.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ao.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=ao.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ao.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=ao.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ao.hex8.exec(e))?{r:br(r[1]),g:br(r[2]),b:br(r[3]),a:l_(r[4]),format:n?"name":"hex8"}:(r=ao.hex6.exec(e))?{r:br(r[1]),g:br(r[2]),b:br(r[3]),format:n?"name":"hex"}:(r=ao.hex4.exec(e))?{r:br(r[1]+""+r[1]),g:br(r[2]+""+r[2]),b:br(r[3]+""+r[3]),a:l_(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=ao.hex3.exec(e))?{r:br(r[1]+""+r[1]),g:br(r[2]+""+r[2]),b:br(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function Kre(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function F0(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function Yre(e){if(Array.isArray(e))return F0(e)}function J3(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function Xre(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qre(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Dr(e,n){return e.get(J3(e,n))}function c_(e,n,r){Xre(e,n),n.set(e,r)}function u_(e,n,r){return e.set(J3(e,n),r),r}function Jre(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ooe(o.key),o)}}function Zre(e,n,r){return n&&Jre(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function noe(e){return Yre(e)||eoe(e)||ioe(e)||toe()}function roe(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ooe(e){var n=roe(e,"string");return typeof n=="symbol"?n:n+""}function ioe(e,n){if(e){if(typeof e=="string")return F0(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F0(e,n):void 0}}var soe=123,aoe=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Z3=function(n,r,o){return(n<<16)+(r<<8)+o},loe=function(n){var r=Oe(n).toRgb(),o=r.r,i=r.g,s=r.b;return Z3(o,i,s)},d_=function(n,r){return n*soe%Math.pow(2,r)},Vs=new WeakMap,si=new WeakMap,coe=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Qre(this,e),c_(this,Vs,void 0),c_(this,si,void 0),u_(si,this,n),this.reset()}return Zre(e,[{key:"reset",value:function(){u_(Vs,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Dr(Vs,this).length>=Math.pow(2,24-Dr(si,this)))return null;var o=Dr(Vs,this).length,i=d_(o,Dr(si,this)),s=aoe(o+(i<<24-Dr(si,this)));return Dr(Vs,this).push(r),s}},{key:"lookup",value:function(r){if(!r)return null;var o=typeof r=="string"?loe(r):Z3.apply(void 0,noe(r));if(!o)return null;var i=o&Math.pow(2,24-Dr(si,this))-1,s=o>>24-Dr(si,this)&Math.pow(2,Dr(si,this))-1;return d_(i,Dr(si,this))!==s||i>=Dr(Vs,this).length?null:Dr(Vs,this)[i]}}])}(),Jd,Lt,e5,t5,Xs,f_,n5,r5,o5,v1,U0,B0,xd={},i5=[],uoe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Wm=Array.isArray;function Uo(e,n){for(var r in n)e[r]=n[r];return e}function w1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function doe(e,n,r){var o,i,s,a={};for(s in n)s=="key"?o=n[s]:s=="ref"?i=n[s]:a[s]=n[s];if(arguments.length>2&&(a.children=arguments.length>3?Jd.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)a[s]===void 0&&(a[s]=e.defaultProps[s]);return Mu(e,a,o,i,null)}function Mu(e,n,r,o,i){var s={type:e,props:n,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++e5,__i:-1,__u:0};return i==null&&Lt.vnode!=null&&Lt.vnode(s),s}function qm(e){return e.children}function wh(e,n){this.props=e,this.context=n}function uc(e,n){if(n==null)return e.__?uc(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?uc(e):null}function s5(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return s5(e)}}function h_(e){(!e.__d&&(e.__d=!0)&&Xs.push(e)&&!jp.__r++||f_!=Lt.debounceRendering)&&((f_=Lt.debounceRendering)||n5)(jp)}function jp(){for(var e,n,r,o,i,s,a,l=1;Xs.length;)Xs.length>l&&Xs.sort(r5),e=Xs.shift(),l=Xs.length,e.__d&&(r=void 0,o=void 0,i=(o=(n=e).__v).__e,s=[],a=[],n.__P&&((r=Uo({},o)).__v=o.__v+1,Lt.vnode&&Lt.vnode(r),b1(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,s,i??uc(o),!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,c5(s,r,a),o.__e=o.__=null,r.__e!=i&&s5(r)));jp.__r=0}function a5(e,n,r,o,i,s,a,l,c,u,h){var f,m,p,v,x,b,y,w=o&&o.__k||i5,S=n.length;for(c=foe(r,n,w,c,S),f=0;f<S;f++)(p=r.__k[f])!=null&&(m=p.__i==-1?xd:w[p.__i]||xd,p.__i=f,b=b1(e,p,m,i,s,a,l,c,u,h),v=p.__e,p.ref&&m.ref!=p.ref&&(m.ref&&S1(m.ref,null,p),h.push(p.ref,p.__c||v,p)),x==null&&v!=null&&(x=v),(y=!!(4&p.__u))||m.__k===p.__k?c=l5(p,c,e,y):typeof p.type=="function"&&b!==void 0?c=b:v&&(c=v.nextSibling),p.__u&=-7);return r.__e=x,c}function foe(e,n,r,o,i){var s,a,l,c,u,h=r.length,f=h,m=0;for(e.__k=new Array(i),s=0;s<i;s++)(a=n[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=s+m,(a=e.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Mu(null,a,null,null,null):Wm(a)?Mu(qm,{children:a},null,null,null):a.constructor==null&&a.__b>0?Mu(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(u=a.__i=hoe(a,r,c,f))!=-1&&(f--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(i>h?m--:i<h&&m++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?m--:u==c+1?m++:(u>c?m--:m++,a.__u|=4))):e.__k[s]=null;if(f)for(s=0;s<h;s++)(l=r[s])!=null&&!(2&l.__u)&&(l.__e==o&&(o=uc(l)),d5(l,l));return o}function l5(e,n,r,o){var i,s;if(typeof e.type=="function"){for(i=e.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=e,n=l5(i[s],n,r,o));return n}e.__e!=n&&(o&&(n&&e.type&&!n.parentNode&&(n=uc(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function hoe(e,n,r,o){var i,s,a,l=e.key,c=e.type,u=n[r],h=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||h&&l==u.key&&c==u.type)return r;if(o>(h?1:0)){for(i=r-1,s=r+1;i>=0||s<n.length;)if((u=n[a=i>=0?i--:s++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function p_(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||uoe.test(n)?r:r+"px"}function qf(e,n,r,o,i){var s,a;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(n in o)r&&n in r||p_(e.style,n,"");if(r)for(n in r)o&&r[n]==o[n]||p_(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")s=n!=(n=n.replace(o5,"$1")),a=n.toLowerCase(),n=a in e||n=="onFocusOut"||n=="onFocusIn"?a.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+s]=r,r?o?r.u=o.u:(r.u=v1,e.addEventListener(n,s?B0:U0,s)):e.removeEventListener(n,s?B0:U0,s);else{if(i=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function m_(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=v1++;else if(n.t<r.u)return;return r(Lt.event?Lt.event(n):n)}}}function b1(e,n,r,o,i,s,a,l,c,u){var h,f,m,p,v,x,b,y,w,S,k,_,N,C,j,A,E,I=n.type;if(n.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),s=[l=n.__e=r.__e]),(h=Lt.__b)&&h(n);e:if(typeof I=="function")try{if(y=n.props,w="prototype"in I&&I.prototype.render,S=(h=I.contextType)&&o[h.__c],k=h?S?S.props.value:h.__:o,r.__c?b=(f=n.__c=r.__c).__=f.__E:(w?n.__c=f=new I(y,k):(n.__c=f=new wh(y,k),f.constructor=I,f.render=moe),S&&S.sub(f),f.props=y,f.state||(f.state={}),f.context=k,f.__n=o,m=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&I.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Uo({},f.__s)),Uo(f.__s,I.getDerivedStateFromProps(y,f.__s))),p=f.props,v=f.state,f.__v=n,m)w&&I.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&I.getDerivedStateFromProps==null&&y!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,k),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,k)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(O){O&&(O.__=n)}),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,k),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,v,x)})}if(f.context=k,f.props=y,f.__P=e,f.__e=!1,N=Lt.__r,C=0,w){for(f.state=f.__s,f.__d=!1,N&&N(n),h=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do f.__d=!1,N&&N(n),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++C<25);f.state=f.__s,f.getChildContext!=null&&(o=Uo(Uo({},o),f.getChildContext())),w&&!m&&f.getSnapshotBeforeUpdate!=null&&(x=f.getSnapshotBeforeUpdate(p,v)),A=h,h!=null&&h.type===qm&&h.key==null&&(A=u5(h.props.children)),l=a5(e,Wm(A)?A:[A],n,r,o,i,s,a,l,c,u),f.base=n.__e,n.__u&=-161,f.__h.length&&a.push(f),b&&(f.__E=f.__=null)}catch(O){if(n.__v=null,c||s!=null)if(O.then){for(n.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,n.__e=l}else{for(E=s.length;E--;)w1(s[E]);H0(n)}else n.__e=r.__e,n.__k=r.__k,O.then||H0(n);Lt.__e(O,n,r)}else s==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):l=n.__e=poe(r.__e,n,r,o,i,s,a,c,u);return(h=Lt.diffed)&&h(n),128&n.__u?void 0:l}function H0(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(H0)}function c5(e,n,r){for(var o=0;o<r.length;o++)S1(r[o],r[++o],r[++o]);Lt.__c&&Lt.__c(n,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){Lt.__e(s,i.__v)}})}function u5(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Wm(e)?e.map(u5):Uo({},e)}function poe(e,n,r,o,i,s,a,l,c){var u,h,f,m,p,v,x,b=r.props,y=n.props,w=n.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((p=s[u])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){e=p,s[u]=null;break}}if(e==null){if(w==null)return document.createTextNode(y);e=document.createElementNS(i,w,y.is&&y),l&&(Lt.__m&&Lt.__m(n,s),l=!1),s=null}if(w==null)b===y||l&&e.data==y||(e.data=y);else{if(s=s&&Jd.call(e.childNodes),b=r.props||xd,!l&&s!=null)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=p;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;qf(e,u,null,p,i)}}for(u in y)p=y[u],u=="children"?m=p:u=="dangerouslySetInnerHTML"?h=p:u=="value"?v=p:u=="checked"?x=p:l&&typeof p!="function"||b[u]===p||qf(e,u,p,b[u],i);if(h)l||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(f&&(e.innerHTML=""),a5(n.type=="template"?e.content:e,Wm(m)?m:[m],n,r,o,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&uc(r,0),l,c),s!=null)for(u=s.length;u--;)w1(s[u]);l||(u="value",w=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[u]||w=="progress"&&!v||w=="option"&&v!=b[u])&&qf(e,u,v,b[u],i),u="checked",x!=null&&x!=e[u]&&qf(e,u,x,b[u],i))}return e}function S1(e,n,r){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&n==null||(e.__u=e(n))}else e.current=n}catch(i){Lt.__e(i,r)}}function d5(e,n,r){var o,i;if(Lt.unmount&&Lt.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||S1(o,null,n)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){Lt.__e(s,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&d5(o[i],n,r||typeof e.type!="function");r||w1(e.__e),e.__c=e.__=e.__e=void 0}function moe(e,n,r){return this.constructor(e,r)}function goe(e,n,r){var o,i,s,a;n==document&&(n=document.documentElement),Lt.__&&Lt.__(e,n),i=(o=typeof r=="function")?null:n.__k,s=[],a=[],b1(n,e=(!o&&r||n).__k=doe(qm,null,[e]),i||xd,xd,n.namespaceURI,!o&&r?[r]:i?null:n.firstChild?Jd.call(n.childNodes):null,s,!o&&r?r:i?i.__e:n.firstChild,o,a),c5(s,e,a)}function f5(e,n,r){var o,i,s,a,l=Uo({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)s=="key"?o=n[s]:s=="ref"?i=n[s]:l[s]=n[s]===void 0&&a!=null?a[s]:n[s];return arguments.length>2&&(l.children=arguments.length>3?Jd.call(arguments,2):r),Mu(e.type,l,o||e.key,i||e.ref,null)}Jd=i5.slice,Lt={__e:function(e,n,r,o){for(var i,s,a;n=n.__;)if((i=n.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,o||{}),a=i.__d),a)return i.__E=i}catch(l){e=l}throw e}},e5=0,t5=function(e){return e!=null&&e.constructor==null},wh.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Uo({},this.state),typeof e=="function"&&(e=e(Uo({},r),this.props)),e&&Uo(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),h_(this))},wh.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),h_(this))},wh.prototype.render=qm,Xs=[],n5=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r5=function(e,n){return e.__v.__b-n.__v.__b},jp.__r=0,o5=/(PointerCapture)$|Capture$/i,v1=0,U0=m_(!1),B0=m_(!0);function g_(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function yoe(e){if(Array.isArray(e))return e}function xoe(e,n,r){return(n=_oe(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function voe(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n!==0)for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function boe(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?y_(Object(r),!0).forEach(function(o){xoe(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Soe(e,n){return yoe(e)||voe(e,n)||Noe(e,n)||woe()}function koe(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _oe(e){var n=koe(e,"string");return typeof n=="symbol"?n:n+""}function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tp(e)}function Noe(e,n){if(e){if(typeof e=="string")return g_(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g_(e,n):void 0}}var V0=function(n){if(Tp(n)!=="object")return n;var r=f5(n);if(r.props){var o;r.props=boe({},r.props),r!=null&&(o=r.props)!==null&&o!==void 0&&o.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(V0):V0(r.props.children))}return r},Coe=function(n){return t5(f5(n))},Eoe=function(n,r){delete r.__k,goe(V0(n),r)};function joe(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Toe=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;joe(Toe);var Aoe=x1({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.style,s=i===void 0?{}:i,a=!!n&&Tp(n)==="object"&&!!n.node&&typeof n.node=="function",l=Vn(a?n.node():n);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(s).forEach(function(u){var h=Soe(u,2),f=h[0],m=h[1];return r.tooltipEl.style(f,m)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var h=Ur(u),f=l.node(),m=f.offsetWidth,p=f.offsetHeight,v=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/m*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(v.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Coe(n.content)?(n.tooltipEl.text(""),Eoe(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function Poe(e,n,r){var o,i=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function s(){var a,l=o.length,c,u=0,h=0,f=0;for(a=0;a<l;++a)c=o[a],u+=c.x||0,h+=c.y||0,f+=c.z||0;for(u=(u/l-e)*i,h=(h/l-n)*i,f=(f/l-r)*i,a=0;a<l;++a)c=o[a],u&&(c.x-=u),h&&(c.y-=h),f&&(c.z-=f)}return s.initialize=function(a){o=a},s.x=function(a){return arguments.length?(e=+a,s):e},s.y=function(a){return arguments.length?(n=+a,s):n},s.z=function(a){return arguments.length?(r=+a,s):r},s.strength=function(a){return arguments.length?(i=+a,s):i},s}function Moe(e){const n=+this._x.call(null,e);return h5(this.cover(n),n,e)}function h5(e,n,r){if(isNaN(n))return e;var o,i=e._root,s={data:r},a=e._x0,l=e._x1,c,u,h,f,m;if(!i)return e._root=s,e;for(;i.length;)if((h=n>=(c=(a+l)/2))?a=c:l=c,o=i,!(i=i[f=+h]))return o[f]=s,e;if(u=+e._x.call(null,i.data),n===u)return s.next=i,o?o[f]=s:e._root=s,e;do o=o?o[f]=new Array(2):e._root=new Array(2),(h=n>=(c=(a+l)/2))?a=c:l=c;while((f=+h)==(m=+(u>=c)));return o[m]=i,o[f]=s,e}function Roe(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let o=1/0,i=-1/0;for(let s=0,a;s<n;++s)isNaN(a=+this._x.call(null,e[s]))||(r[s]=a,a<o&&(o=a),a>i&&(i=a));if(o>i)return this;this.cover(o).cover(i);for(let s=0;s<n;++s)h5(this,r[s],e[s]);return this}function Ioe(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var o=r-n||1,i=this._root,s,a;n>e||e>=r;)switch(a=+(e<n),s=new Array(2),s[a]=i,i=s,o*=2,a){case 0:r=n+o;break;case 1:n=r-o;break}this._root&&this._root.length&&(this._root=i)}return this._x0=n,this._x1=r,this}function Ooe(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Doe(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function vi(e,n,r){this.node=e,this.x0=n,this.x1=r}function Loe(e,n){var r,o=this._x0,i,s,a=this._x1,l=[],c=this._root,u,h;for(c&&l.push(new vi(c,o,a)),n==null?n=1/0:(o=e-n,a=e+n);u=l.pop();)if(!(!(c=u.node)||(i=u.x0)>a||(s=u.x1)<o))if(c.length){var f=(i+s)/2;l.push(new vi(c[1],f,s),new vi(c[0],i,f)),(h=+(e>=f))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=u)}else{var m=Math.abs(e-+this._x.call(null,c.data));m<n&&(n=m,o=e-m,a=e+m,r=c.data)}return r}function $oe(e){if(isNaN(c=+this._x.call(null,e)))return this;var n,r=this._root,o,i,s,a=this._x0,l=this._x1,c,u,h,f,m;if(!r)return this;if(r.length)for(;;){if((h=c>=(u=(a+l)/2))?a=u:l=u,n=r,!(r=r[f=+h]))return this;if(!r.length)break;n[f+1&1]&&(o=n,m=f)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,i?(s?i.next=s:delete i.next,this):n?(s?n[f]=s:delete n[f],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(o?o[m]=r:this._root=r),this):(this._root=s,this)}function zoe(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Foe(){return this._root}function Uoe(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Boe(e){var n=[],r,o=this._root,i,s,a;for(o&&n.push(new vi(o,this._x0,this._x1));r=n.pop();)if(!e(o=r.node,s=r.x0,a=r.x1)&&o.length){var l=(s+a)/2;(i=o[1])&&n.push(new vi(i,l,a)),(i=o[0])&&n.push(new vi(i,s,l))}return this}function Hoe(e){var n=[],r=[],o;for(this._root&&n.push(new vi(this._root,this._x0,this._x1));o=n.pop();){var i=o.node;if(i.length){var s,a=o.x0,l=o.x1,c=(a+l)/2;(s=i[0])&&n.push(new vi(s,a,c)),(s=i[1])&&n.push(new vi(s,c,l))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.x1);return this}function Voe(e){return e[0]}function Woe(e){return arguments.length?(this._x=e,this):this._x}function p5(e,n){var r=new k1(n??Voe,NaN,NaN);return e==null?r:r.addAll(e)}function k1(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function x_(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var yr=p5.prototype=k1.prototype;yr.copy=function(){var e=new k1(this._x,this._x0,this._x1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=x_(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var i=0;i<2;++i)(o=n.source[i])&&(o.length?r.push({source:o,target:n.target[i]=new Array(2)}):n.target[i]=x_(o));return e};yr.add=Moe;yr.addAll=Roe;yr.cover=Ioe;yr.data=Ooe;yr.extent=Doe;yr.find=Loe;yr.remove=$oe;yr.removeAll=zoe;yr.root=Foe;yr.size=Uoe;yr.visit=Boe;yr.visitAfter=Hoe;yr.x=Woe;function qoe(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return m5(this.cover(n,r),n,r,e)}function m5(e,n,r,o){if(isNaN(n)||isNaN(r))return e;var i,s=e._root,a={data:o},l=e._x0,c=e._y0,u=e._x1,h=e._y1,f,m,p,v,x,b,y,w;if(!s)return e._root=a,e;for(;s.length;)if((x=n>=(f=(l+u)/2))?l=f:u=f,(b=r>=(m=(c+h)/2))?c=m:h=m,i=s,!(s=s[y=b<<1|x]))return i[y]=a,e;if(p=+e._x.call(null,s.data),v=+e._y.call(null,s.data),n===p&&r===v)return a.next=s,i?i[y]=a:e._root=a,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(x=n>=(f=(l+u)/2))?l=f:u=f,(b=r>=(m=(c+h)/2))?c=m:h=m;while((y=b<<1|x)===(w=(v>=m)<<1|p>=f));return i[w]=s,i[y]=a,e}function Goe(e){var n,r,o=e.length,i,s,a=new Array(o),l=new Array(o),c=1/0,u=1/0,h=-1/0,f=-1/0;for(r=0;r<o;++r)isNaN(i=+this._x.call(null,n=e[r]))||isNaN(s=+this._y.call(null,n))||(a[r]=i,l[r]=s,i<c&&(c=i),i>h&&(h=i),s<u&&(u=s),s>f&&(f=s));if(c>h||u>f)return this;for(this.cover(c,u).cover(h,f),r=0;r<o;++r)m5(this,a[r],l[r],e[r]);return this}function Koe(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,o=this._y0,i=this._x1,s=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,s=(o=Math.floor(n))+1;else{for(var a=i-r||1,l=this._root,c,u;r>e||e>=i||o>n||n>=s;)switch(u=(n<o)<<1|e<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:i=r+a,s=o+a;break;case 1:r=i-a,s=o+a;break;case 2:i=r+a,o=s-a;break;case 3:r=i-a,o=s-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=o,this._x1=i,this._y1=s,this}function Yoe(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Xoe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function qn(e,n,r,o,i){this.node=e,this.x0=n,this.y0=r,this.x1=o,this.y1=i}function Qoe(e,n,r){var o,i=this._x0,s=this._y0,a,l,c,u,h=this._x1,f=this._y1,m=[],p=this._root,v,x;for(p&&m.push(new qn(p,i,s,h,f)),r==null?r=1/0:(i=e-r,s=n-r,h=e+r,f=n+r,r*=r);v=m.pop();)if(!(!(p=v.node)||(a=v.x0)>h||(l=v.y0)>f||(c=v.x1)<i||(u=v.y1)<s))if(p.length){var b=(a+c)/2,y=(l+u)/2;m.push(new qn(p[3],b,y,c,u),new qn(p[2],a,y,b,u),new qn(p[1],b,l,c,y),new qn(p[0],a,l,b,y)),(x=(n>=y)<<1|e>=b)&&(v=m[m.length-1],m[m.length-1]=m[m.length-1-x],m[m.length-1-x]=v)}else{var w=e-+this._x.call(null,p.data),S=n-+this._y.call(null,p.data),k=w*w+S*S;if(k<r){var _=Math.sqrt(r=k);i=e-_,s=n-_,h=e+_,f=n+_,o=p.data}}return o}function Joe(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var n,r=this._root,o,i,s,a=this._x0,l=this._y0,c=this._x1,u=this._y1,h,f,m,p,v,x,b,y;if(!r)return this;if(r.length)for(;;){if((v=h>=(m=(a+c)/2))?a=m:c=m,(x=f>=(p=(l+u)/2))?l=p:u=p,n=r,!(r=r[b=x<<1|v]))return this;if(!r.length)break;(n[b+1&3]||n[b+2&3]||n[b+3&3])&&(o=n,y=b)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,i?(s?i.next=s:delete i.next,this):n?(s?n[b]=s:delete n[b],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[y]=r:this._root=r),this):(this._root=s,this)}function Zoe(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function eie(){return this._root}function tie(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function nie(e){var n=[],r,o=this._root,i,s,a,l,c;for(o&&n.push(new qn(o,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(o=r.node,s=r.x0,a=r.y0,l=r.x1,c=r.y1)&&o.length){var u=(s+l)/2,h=(a+c)/2;(i=o[3])&&n.push(new qn(i,u,h,l,c)),(i=o[2])&&n.push(new qn(i,s,h,u,c)),(i=o[1])&&n.push(new qn(i,u,a,l,h)),(i=o[0])&&n.push(new qn(i,s,a,u,h))}return this}function rie(e){var n=[],r=[],o;for(this._root&&n.push(new qn(this._root,this._x0,this._y0,this._x1,this._y1));o=n.pop();){var i=o.node;if(i.length){var s,a=o.x0,l=o.y0,c=o.x1,u=o.y1,h=(a+c)/2,f=(l+u)/2;(s=i[0])&&n.push(new qn(s,a,l,h,f)),(s=i[1])&&n.push(new qn(s,h,l,c,f)),(s=i[2])&&n.push(new qn(s,a,f,h,u)),(s=i[3])&&n.push(new qn(s,h,f,c,u))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function oie(e){return e[0]}function iie(e){return arguments.length?(this._x=e,this):this._x}function sie(e){return e[1]}function aie(e){return arguments.length?(this._y=e,this):this._y}function g5(e,n,r){var o=new _1(n??oie,r??sie,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function _1(e,n,r,o,i,s){this._x=e,this._y=n,this._x0=r,this._y0=o,this._x1=i,this._y1=s,this._root=void 0}function v_(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Jn=g5.prototype=_1.prototype;Jn.copy=function(){var e=new _1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=v_(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var i=0;i<4;++i)(o=n.source[i])&&(o.length?r.push({source:o,target:n.target[i]=new Array(4)}):n.target[i]=v_(o));return e};Jn.add=qoe;Jn.addAll=Goe;Jn.cover=Koe;Jn.data=Yoe;Jn.extent=Xoe;Jn.find=Qoe;Jn.remove=Joe;Jn.removeAll=Zoe;Jn.root=eie;Jn.size=tie;Jn.visit=nie;Jn.visitAfter=rie;Jn.x=iie;Jn.y=aie;function lie(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),o=+this._z.call(null,e);return y5(this.cover(n,r,o),n,r,o,e)}function y5(e,n,r,o,i){if(isNaN(n)||isNaN(r)||isNaN(o))return e;var s,a=e._root,l={data:i},c=e._x0,u=e._y0,h=e._z0,f=e._x1,m=e._y1,p=e._z1,v,x,b,y,w,S,k,_,N,C,j;if(!a)return e._root=l,e;for(;a.length;)if((k=n>=(v=(c+f)/2))?c=v:f=v,(_=r>=(x=(u+m)/2))?u=x:m=x,(N=o>=(b=(h+p)/2))?h=b:p=b,s=a,!(a=a[C=N<<2|_<<1|k]))return s[C]=l,e;if(y=+e._x.call(null,a.data),w=+e._y.call(null,a.data),S=+e._z.call(null,a.data),n===y&&r===w&&o===S)return l.next=a,s?s[C]=l:e._root=l,e;do s=s?s[C]=new Array(8):e._root=new Array(8),(k=n>=(v=(c+f)/2))?c=v:f=v,(_=r>=(x=(u+m)/2))?u=x:m=x,(N=o>=(b=(h+p)/2))?h=b:p=b;while((C=N<<2|_<<1|k)===(j=(S>=b)<<2|(w>=x)<<1|y>=v));return s[j]=a,s[C]=l,e}function cie(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),o=new Float64Array(n),i=new Float64Array(n);let s=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,h=-1/0;for(let f=0,m,p,v,x;f<n;++f)isNaN(p=+this._x.call(null,m=e[f]))||isNaN(v=+this._y.call(null,m))||isNaN(x=+this._z.call(null,m))||(r[f]=p,o[f]=v,i[f]=x,p<s&&(s=p),p>c&&(c=p),v<a&&(a=v),v>u&&(u=v),x<l&&(l=x),x>h&&(h=x));if(s>c||a>u||l>h)return this;this.cover(s,a,l).cover(c,u,h);for(let f=0;f<n;++f)y5(this,r[f],o[f],i[f],e[f]);return this}function uie(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var o=this._x0,i=this._y0,s=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(o))a=(o=Math.floor(e))+1,l=(i=Math.floor(n))+1,c=(s=Math.floor(r))+1;else{for(var u=a-o||1,h=this._root,f,m;o>e||e>=a||i>n||n>=l||s>r||r>=c;)switch(m=(r<s)<<2|(n<i)<<1|e<o,f=new Array(8),f[m]=h,h=f,u*=2,m){case 0:a=o+u,l=i+u,c=s+u;break;case 1:o=a-u,l=i+u,c=s+u;break;case 2:a=o+u,i=l-u,c=s+u;break;case 3:o=a-u,i=l-u,c=s+u;break;case 4:a=o+u,l=i+u,s=c-u;break;case 5:o=a-u,l=i+u,s=c-u;break;case 6:a=o+u,i=l-u,s=c-u;break;case 7:o=a-u,i=l-u,s=c-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=o,this._y0=i,this._z0=s,this._x1=a,this._y1=l,this._z1=c,this}function die(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function fie(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function _t(e,n,r,o,i,s,a){this.node=e,this.x0=n,this.y0=r,this.z0=o,this.x1=i,this.y1=s,this.z1=a}function hie(e,n,r,o){var i,s=this._x0,a=this._y0,l=this._z0,c,u,h,f,m,p,v=this._x1,x=this._y1,b=this._z1,y=[],w=this._root,S,k;for(w&&y.push(new _t(w,s,a,l,v,x,b)),o==null?o=1/0:(s=e-o,a=n-o,l=r-o,v=e+o,x=n+o,b=r+o,o*=o);S=y.pop();)if(!(!(w=S.node)||(c=S.x0)>v||(u=S.y0)>x||(h=S.z0)>b||(f=S.x1)<s||(m=S.y1)<a||(p=S.z1)<l))if(w.length){var _=(c+f)/2,N=(u+m)/2,C=(h+p)/2;y.push(new _t(w[7],_,N,C,f,m,p),new _t(w[6],c,N,C,_,m,p),new _t(w[5],_,u,C,f,N,p),new _t(w[4],c,u,C,_,N,p),new _t(w[3],_,N,h,f,m,C),new _t(w[2],c,N,h,_,m,C),new _t(w[1],_,u,h,f,N,C),new _t(w[0],c,u,h,_,N,C)),(k=(r>=C)<<2|(n>=N)<<1|e>=_)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-k],y[y.length-1-k]=S)}else{var j=e-+this._x.call(null,w.data),A=n-+this._y.call(null,w.data),E=r-+this._z.call(null,w.data),I=j*j+A*A+E*E;if(I<o){var O=Math.sqrt(o=I);s=e-O,a=n-O,l=r-O,v=e+O,x=n+O,b=r+O,i=w.data}}return i}const pie=(e,n,r,o,i,s)=>Math.sqrt((e-o)**2+(n-i)**2+(r-s)**2);function mie(e,n,r,o){const i=[],s=e-o,a=n-o,l=r-o,c=e+o,u=n+o,h=r+o;return this.visit((f,m,p,v,x,b,y)=>{if(!f.length)do{const w=f.data;pie(e,n,r,this._x(w),this._y(w),this._z(w))<=o&&i.push(w)}while(f=f.next);return m>c||p>u||v>h||x<s||b<a||y<l}),i}function gie(e){if(isNaN(m=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(v=+this._z.call(null,e)))return this;var n,r=this._root,o,i,s,a=this._x0,l=this._y0,c=this._z0,u=this._x1,h=this._y1,f=this._z1,m,p,v,x,b,y,w,S,k,_,N;if(!r)return this;if(r.length)for(;;){if((w=m>=(x=(a+u)/2))?a=x:u=x,(S=p>=(b=(l+h)/2))?l=b:h=b,(k=v>=(y=(c+f)/2))?c=y:f=y,n=r,!(r=r[_=k<<2|S<<1|w]))return this;if(!r.length)break;(n[_+1&7]||n[_+2&7]||n[_+3&7]||n[_+4&7]||n[_+5&7]||n[_+6&7]||n[_+7&7])&&(o=n,N=_)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(s=r.next)&&delete r.next,i?(s?i.next=s:delete i.next,this):n?(s?n[_]=s:delete n[_],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[N]=r:this._root=r),this):(this._root=s,this)}function yie(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function xie(){return this._root}function vie(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function wie(e){var n=[],r,o=this._root,i,s,a,l,c,u,h;for(o&&n.push(new _t(o,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(o=r.node,s=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,h=r.z1)&&o.length){var f=(s+c)/2,m=(a+u)/2,p=(l+h)/2;(i=o[7])&&n.push(new _t(i,f,m,p,c,u,h)),(i=o[6])&&n.push(new _t(i,s,m,p,f,u,h)),(i=o[5])&&n.push(new _t(i,f,a,p,c,m,h)),(i=o[4])&&n.push(new _t(i,s,a,p,f,m,h)),(i=o[3])&&n.push(new _t(i,f,m,l,c,u,p)),(i=o[2])&&n.push(new _t(i,s,m,l,f,u,p)),(i=o[1])&&n.push(new _t(i,f,a,l,c,m,p)),(i=o[0])&&n.push(new _t(i,s,a,l,f,m,p))}return this}function bie(e){var n=[],r=[],o;for(this._root&&n.push(new _t(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));o=n.pop();){var i=o.node;if(i.length){var s,a=o.x0,l=o.y0,c=o.z0,u=o.x1,h=o.y1,f=o.z1,m=(a+u)/2,p=(l+h)/2,v=(c+f)/2;(s=i[0])&&n.push(new _t(s,a,l,c,m,p,v)),(s=i[1])&&n.push(new _t(s,m,l,c,u,p,v)),(s=i[2])&&n.push(new _t(s,a,p,c,m,h,v)),(s=i[3])&&n.push(new _t(s,m,p,c,u,h,v)),(s=i[4])&&n.push(new _t(s,a,l,v,m,p,f)),(s=i[5])&&n.push(new _t(s,m,l,v,u,p,f)),(s=i[6])&&n.push(new _t(s,a,p,v,m,h,f)),(s=i[7])&&n.push(new _t(s,m,p,v,u,h,f))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.z0,o.x1,o.y1,o.z1);return this}function Sie(e){return e[0]}function kie(e){return arguments.length?(this._x=e,this):this._x}function _ie(e){return e[1]}function Nie(e){return arguments.length?(this._y=e,this):this._y}function Cie(e){return e[2]}function Eie(e){return arguments.length?(this._z=e,this):this._z}function x5(e,n,r,o){var i=new N1(n??Sie,r??_ie,o??Cie,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function N1(e,n,r,o,i,s,a,l,c){this._x=e,this._y=n,this._z=r,this._x0=o,this._y0=i,this._z0=s,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function w_(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Tn=x5.prototype=N1.prototype;Tn.copy=function(){var e=new N1(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=w_(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var i=0;i<8;++i)(o=n.source[i])&&(o.length?r.push({source:o,target:n.target[i]=new Array(8)}):n.target[i]=w_(o));return e};Tn.add=lie;Tn.addAll=cie;Tn.cover=uie;Tn.data=die;Tn.extent=fie;Tn.find=hie;Tn.findAllWithinRadius=mie;Tn.remove=gie;Tn.removeAll=yie;Tn.root=xie;Tn.size=vie;Tn.visit=wie;Tn.visitAfter=bie;Tn.x=kie;Tn.y=Nie;Tn.z=Eie;function Nn(e){return function(){return e}}function fi(e){return(e()-.5)*1e-6}function jie(e){return e.index}function b_(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Tie(e){var n=jie,r=m,o,i=Nn(30),s,a,l,c,u,h,f=1;e==null&&(e=[]);function m(y){return 1/Math.min(c[y.source.index],c[y.target.index])}function p(y){for(var w=0,S=e.length;w<f;++w)for(var k=0,_,N,C,j=0,A=0,E=0,I,O;k<S;++k)_=e[k],N=_.source,C=_.target,j=C.x+C.vx-N.x-N.vx||fi(h),l>1&&(A=C.y+C.vy-N.y-N.vy||fi(h)),l>2&&(E=C.z+C.vz-N.z-N.vz||fi(h)),I=Math.sqrt(j*j+A*A+E*E),I=(I-s[k])/I*y*o[k],j*=I,A*=I,E*=I,C.vx-=j*(O=u[k]),l>1&&(C.vy-=A*O),l>2&&(C.vz-=E*O),N.vx+=j*(O=1-O),l>1&&(N.vy+=A*O),l>2&&(N.vz+=E*O)}function v(){if(a){var y,w=a.length,S=e.length,k=new Map(a.map((N,C)=>[n(N,C,a),N])),_;for(y=0,c=new Array(w);y<S;++y)_=e[y],_.index=y,typeof _.source!="object"&&(_.source=b_(k,_.source)),typeof _.target!="object"&&(_.target=b_(k,_.target)),c[_.source.index]=(c[_.source.index]||0)+1,c[_.target.index]=(c[_.target.index]||0)+1;for(y=0,u=new Array(S);y<S;++y)_=e[y],u[y]=c[_.source.index]/(c[_.source.index]+c[_.target.index]);o=new Array(S),x(),s=new Array(S),b()}}function x(){if(a)for(var y=0,w=e.length;y<w;++y)o[y]=+r(e[y],y,e)}function b(){if(a)for(var y=0,w=e.length;y<w;++y)s[y]=+i(e[y],y,e)}return p.initialize=function(y,...w){a=y,h=w.find(S=>typeof S=="function")||Math.random,l=w.find(S=>[1,2,3].includes(S))||2,v()},p.links=function(y){return arguments.length?(e=y,v(),p):e},p.id=function(y){return arguments.length?(n=y,p):n},p.iterations=function(y){return arguments.length?(f=+y,p):f},p.strength=function(y){return arguments.length?(r=typeof y=="function"?y:Nn(+y),x(),p):r},p.distance=function(y){return arguments.length?(i=typeof y=="function"?y:Nn(+y),b(),p):i},p}const Aie=1664525,Pie=1013904223,S_=4294967296;function Mie(){let e=1;return()=>(e=(Aie*e+Pie)%S_)/S_}var k_=3;function Cy(e){return e.x}function __(e){return e.y}function Rie(e){return e.z}var Iie=10,Oie=Math.PI*(3-Math.sqrt(5)),Die=Math.PI*20/(9+Math.sqrt(221));function Lie(e,n){n=n||2;var r=Math.min(k_,Math.max(1,Math.round(n))),o,i=1,s=.001,a=1-Math.pow(s,1/300),l=0,c=.6,u=new Map,h=Aw(p),f=zd("tick","end"),m=Mie();e==null&&(e=[]);function p(){v(),f.call("tick",o),i<s&&(h.stop(),f.call("end",o))}function v(y){var w,S=e.length,k;y===void 0&&(y=1);for(var _=0;_<y;++_)for(i+=(l-i)*a,u.forEach(function(N){N(i)}),w=0;w<S;++w)k=e[w],k.fx==null?k.x+=k.vx*=c:(k.x=k.fx,k.vx=0),r>1&&(k.fy==null?k.y+=k.vy*=c:(k.y=k.fy,k.vy=0)),r>2&&(k.fz==null?k.z+=k.vz*=c:(k.z=k.fz,k.vz=0));return o}function x(){for(var y=0,w=e.length,S;y<w;++y){if(S=e[y],S.index=y,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||r>1&&isNaN(S.y)||r>2&&isNaN(S.z)){var k=Iie*(r>2?Math.cbrt(.5+y):r>1?Math.sqrt(.5+y):y),_=y*Oie,N=y*Die;r===1?S.x=k:r===2?(S.x=k*Math.cos(_),S.y=k*Math.sin(_)):(S.x=k*Math.sin(_)*Math.cos(N),S.y=k*Math.cos(_),S.z=k*Math.sin(_)*Math.sin(N))}(isNaN(S.vx)||r>1&&isNaN(S.vy)||r>2&&isNaN(S.vz))&&(S.vx=0,r>1&&(S.vy=0),r>2&&(S.vz=0))}}function b(y){return y.initialize&&y.initialize(e,m,r),y}return x(),o={tick:v,restart:function(){return h.restart(p),o},stop:function(){return h.stop(),o},numDimensions:function(y){return arguments.length?(r=Math.min(k_,Math.max(1,Math.round(y))),u.forEach(b),o):r},nodes:function(y){return arguments.length?(e=y,x(),u.forEach(b),o):e},alpha:function(y){return arguments.length?(i=+y,o):i},alphaMin:function(y){return arguments.length?(s=+y,o):s},alphaDecay:function(y){return arguments.length?(a=+y,o):+a},alphaTarget:function(y){return arguments.length?(l=+y,o):l},velocityDecay:function(y){return arguments.length?(c=1-y,o):1-c},randomSource:function(y){return arguments.length?(m=y,u.forEach(b),o):m},force:function(y,w){return arguments.length>1?(w==null?u.delete(y):u.set(y,b(w)),o):u.get(y)},find:function(){var y=Array.prototype.slice.call(arguments),w=y.shift()||0,S=(r>1?y.shift():null)||0,k=(r>2?y.shift():null)||0,_=y.shift()||1/0,N=0,C=e.length,j,A,E,I,O,U;for(_*=_,N=0;N<C;++N)O=e[N],j=w-O.x,A=S-(O.y||0),E=k-(O.z||0),I=j*j+A*A+E*E,I<_&&(U=O,_=I);return U},on:function(y,w){return arguments.length>1?(f.on(y,w),o):f.on(y)}}}function $ie(){var e,n,r,o,i,s=Nn(-30),a,l=1,c=1/0,u=.81;function h(v){var x,b=e.length,y=(n===1?p5(e,Cy):n===2?g5(e,Cy,__):n===3?x5(e,Cy,__,Rie):null).visitAfter(m);for(i=v,x=0;x<b;++x)r=e[x],y.visit(p)}function f(){if(e){var v,x=e.length,b;for(a=new Array(x),v=0;v<x;++v)b=e[v],a[b.index]=+s(b,v,e)}}function m(v){var x=0,b,y,w=0,S,k,_,N,C=v.length;if(C){for(S=k=_=N=0;N<C;++N)(b=v[N])&&(y=Math.abs(b.value))&&(x+=b.value,w+=y,S+=y*(b.x||0),k+=y*(b.y||0),_+=y*(b.z||0));x*=Math.sqrt(4/C),v.x=S/w,n>1&&(v.y=k/w),n>2&&(v.z=_/w)}else{b=v,b.x=b.data.x,n>1&&(b.y=b.data.y),n>2&&(b.z=b.data.z);do x+=a[b.data.index];while(b=b.next)}v.value=x}function p(v,x,b,y,w){if(!v.value)return!0;var S=[b,y,w][n-1],k=v.x-r.x,_=n>1?v.y-r.y:0,N=n>2?v.z-r.z:0,C=S-x,j=k*k+_*_+N*N;if(C*C/u<j)return j<c&&(k===0&&(k=fi(o),j+=k*k),n>1&&_===0&&(_=fi(o),j+=_*_),n>2&&N===0&&(N=fi(o),j+=N*N),j<l&&(j=Math.sqrt(l*j)),r.vx+=k*v.value*i/j,n>1&&(r.vy+=_*v.value*i/j),n>2&&(r.vz+=N*v.value*i/j)),!0;if(v.length||j>=c)return;(v.data!==r||v.next)&&(k===0&&(k=fi(o),j+=k*k),n>1&&_===0&&(_=fi(o),j+=_*_),n>2&&N===0&&(N=fi(o),j+=N*N),j<l&&(j=Math.sqrt(l*j)));do v.data!==r&&(C=a[v.data.index]*i/j,r.vx+=k*C,n>1&&(r.vy+=_*C),n>2&&(r.vz+=N*C));while(v=v.next)}return h.initialize=function(v,...x){e=v,o=x.find(b=>typeof b=="function")||Math.random,n=x.find(b=>[1,2,3].includes(b))||2,f()},h.strength=function(v){return arguments.length?(s=typeof v=="function"?v:Nn(+v),f(),h):s},h.distanceMin=function(v){return arguments.length?(l=v*v,h):Math.sqrt(l)},h.distanceMax=function(v){return arguments.length?(c=v*v,h):Math.sqrt(c)},h.theta=function(v){return arguments.length?(u=v*v,h):Math.sqrt(u)},h}function zie(e,n,r,o){var i,s,a=Nn(.1),l,c;typeof e!="function"&&(e=Nn(+e)),n==null&&(n=0),r==null&&(r=0),o==null&&(o=0);function u(f){for(var m=0,p=i.length;m<p;++m){var v=i[m],x=v.x-n||1e-6,b=(v.y||0)-r||1e-6,y=(v.z||0)-o||1e-6,w=Math.sqrt(x*x+b*b+y*y),S=(c[m]-w)*l[m]*f/w;v.vx+=x*S,s>1&&(v.vy+=b*S),s>2&&(v.vz+=y*S)}}function h(){if(i){var f,m=i.length;for(l=new Array(m),c=new Array(m),f=0;f<m;++f)c[f]=+e(i[f],f,i),l[f]=isNaN(c[f])?0:+a(i[f],f,i)}}return u.initialize=function(f,...m){i=f,s=m.find(p=>[1,2,3].includes(p))||2,h()},u.strength=function(f){return arguments.length?(a=typeof f=="function"?f:Nn(+f),h(),u):a},u.radius=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),h(),u):e},u.x=function(f){return arguments.length?(n=+f,u):n},u.y=function(f){return arguments.length?(r=+f,u):r},u.z=function(f){return arguments.length?(o=+f,u):o},u}function Fie(e){var n=Nn(.1),r,o,i;typeof e!="function"&&(e=Nn(e==null?0:+e));function s(l){for(var c=0,u=r.length,h;c<u;++c)h=r[c],h.vx+=(i[c]-h.x)*o[c]*l}function a(){if(r){var l,c=r.length;for(o=new Array(c),i=new Array(c),l=0;l<c;++l)o[l]=isNaN(i[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(n=typeof l=="function"?l:Nn(+l),a(),s):n},s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Nn(+l),a(),s):e},s}function Uie(e){var n=Nn(.1),r,o,i;typeof e!="function"&&(e=Nn(e==null?0:+e));function s(l){for(var c=0,u=r.length,h;c<u;++c)h=r[c],h.vy+=(i[c]-h.y)*o[c]*l}function a(){if(r){var l,c=r.length;for(o=new Array(c),i=new Array(c),l=0;l<c;++l)o[l]=isNaN(i[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return s.initialize=function(l){r=l,a()},s.strength=function(l){return arguments.length?(n=typeof l=="function"?l:Nn(+l),a(),s):n},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nn(+l),a(),s):e},s}const{abs:Jc,cos:ai,sin:Ya,acos:Bie,atan2:Zc,sqrt:zi,pow:Lr}=Math;function eu(e){return e<0?-Lr(-e,1/3):Lr(e,1/3)}const v5=Math.PI,Gf=2*v5,Fi=v5/2,Hie=1e-6,Ey=Number.MAX_SAFE_INTEGER||9007199254740991,jy=Number.MIN_SAFE_INTEGER||-9007199254740991,Vie={x:0,y:0,z:0},ge={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let o=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(o+=r.z*r.z),zi(o)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const o=n.length-1;if(e===1)return n[o].t=1,n[o];const i=1-e;let s=n;if(o===0)return n[0].t=e,n[0];if(o===1){const l={x:i*s[0].x+e*s[1].x,y:i*s[0].y+e*s[1].y,t:e};return r&&(l.z=i*s[0].z+e*s[1].z),l}if(o<4){let l=i*i,c=e*e,u,h,f,m=0;o===2?(s=[s[0],s[1],s[2],Vie],u=l,h=i*e*2,f=c):o===3&&(u=l*i,h=l*e*3,f=i*c*3,m=e*c);const p={x:u*s[0].x+h*s[1].x+f*s[2].x+m*s[3].x,y:u*s[0].y+h*s[1].y+f*s[2].y+m*s[3].y,t:e};return r&&(p.z=u*s[0].z+h*s[1].z+f*s[2].z+m*s[3].z),p}const a=JSON.parse(JSON.stringify(n));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*e,y:a[l].y+(a[l+1].y-a[l].y)*e},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,n,r,o){const i=1-e,s=r,a=n;let l=s[0],c=s[1],u=s[2],h=s[3],f;if(l*=i,c*=e,a.length===2)return f=l+c,{x:(l*a[0].x+c*a[1].x)/f,y:(l*a[0].y+c*a[1].y)/f,z:o?(l*a[0].z+c*a[1].z)/f:!1,t:e};if(l*=i,c*=2*i,u*=e*e,a.length===3)return f=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/f,y:(l*a[0].y+c*a[1].y+u*a[2].y)/f,z:o?(l*a[0].z+c*a[1].z+u*a[2].z)/f:!1,t:e};if(l*=i,c*=1.5*i,u*=3*i,h*=e*e*e,a.length===4)return f=l+c+u+h,{x:(l*a[0].x+c*a[1].x+u*a[2].x+h*a[3].x)/f,y:(l*a[0].y+c*a[1].y+u*a[2].y+h*a[3].y)/f,z:o?(l*a[0].z+c*a[1].z+u*a[2].z+h*a[3].z)/f:!1,t:e}},derive:function(e,n){const r=[];for(let o=e,i=o.length,s=i-1;i>1;i--,s--){const a=[];for(let l=0,c;l<s;l++)c={x:s*(o[l+1].x-o[l].x),y:s*(o[l+1].y-o[l].y)},n&&(c.z=s*(o[l+1].z-o[l].z)),a.push(c);r.push(a),o=a}return r},between:function(e,n,r){return n<=e&&e<=r||ge.approximately(e,n)||ge.approximately(e,r)},approximately:function(e,n,r){return Jc(e-n)<=(r||Hie)},length:function(e){const r=ge.Tvalues.length;let o=0;for(let i=0,s;i<r;i++)s=.5*ge.Tvalues[i]+.5,o+=ge.Cvalues[i]*ge.arcfn(s,e);return .5*o},map:function(e,n,r,o,i){const s=r-n,a=i-o,l=e-n,c=l/s;return o+a*c},lerp:function(e,n,r){const o={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(o.z=n.z+e*(r.z-n.z)),o},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(ge.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const o=n.x-e.x,i=n.y-e.y,s=r.x-e.x,a=r.y-e.y,l=o*a-i*s,c=o*s+i*a;return Zc(l,c)},round:function(e,n){const r=""+e,o=r.indexOf(".");return parseFloat(r.substring(0,o+1+n))},dist:function(e,n){const r=e.x-n.x,o=e.y-n.y;return zi(r*r+o*o)},closest:function(e,n){let r=Lr(2,63),o,i;return e.forEach(function(s,a){i=ge.dist(n,s),i<r&&(r=i,o=a)}),{mdist:r,mpos:o}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Lr(e,n)+Lr(1-e,n),o=r-1;return Jc(o/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Lr(1-e,n),o=Lr(e,n)+r;return r/o},lli8:function(e,n,r,o,i,s,a,l){const c=(e*o-n*r)*(i-a)-(e-r)*(i*l-s*a),u=(e*o-n*r)*(s-l)-(n-o)*(i*l-s*a),h=(e-r)*(s-l)-(n-o)*(i-a);return h==0?!1:{x:c/h,y:u/h}},lli4:function(e,n,r,o){const i=e.x,s=e.y,a=n.x,l=n.y,c=r.x,u=r.y,h=o.x,f=o.y;return ge.lli8(i,s,a,l,c,u,h,f)},lli:function(e,n){return ge.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Rt(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=Ey,r=Ey,o=jy,i=jy;return e.forEach(function(s){const a=s.bbox();n>a.x.min&&(n=a.x.min),r>a.y.min&&(r=a.y.min),o<a.x.max&&(o=a.x.max),i<a.y.max&&(i=a.y.max)}),{x:{min:n,mid:(n+o)/2,max:o,size:o-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(e,n,r,o,i){if(!ge.bboxoverlap(n,o))return[];const s=[],a=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const h=c.intersects(u,i);h.length>0&&(h.c1=c,h.c2=u,h.s1=e,h.s2=r,s.push(h))})}),s},makeshape:function(e,n,r){const o=n.points.length,i=e.points.length,s=ge.makeline(n.points[o-1],e.points[0]),a=ge.makeline(e.points[i-1],n.points[0]),l={startcap:s,forward:e,back:n,endcap:a,bbox:ge.findbbox([s,e,n,a])};return l.intersections=function(c){return ge.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let o=Ey,i=jy,s,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)s=r[l],a=e.get(s),a[n]<o&&(o=a[n]),a[n]>i&&(i=a[n]);return{min:o,mid:(o+i)/2,max:i,size:i-o}},align:function(e,n){const r=n.p1.x,o=n.p1.y,i=-Zc(n.p2.y-o,n.p2.x-r),s=function(a){return{x:(a.x-r)*ai(i)-(a.y-o)*Ya(i),y:(a.x-r)*Ya(i)+(a.y-o)*ai(i)}};return e.map(s)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,o=ge.align(e,n),i=function(C){return 0<=C&&C<=1};if(r===2){const C=o[0].y,j=o[1].y,A=o[2].y,E=C-2*j+A;if(E!==0){const I=-zi(j*j-C*A),O=-C+j,U=-(I+O)/E,P=-(-I+O)/E;return[U,P].filter(i)}else if(j!==A&&E===0)return[(2*j-A)/(2*j-2*A)].filter(i);return[]}const s=o[0].y,a=o[1].y,l=o[2].y,c=o[3].y;let u=-s+3*a-3*l+c,h=3*s-6*a+3*l,f=-3*s+3*a,m=s;if(ge.approximately(u,0)){if(ge.approximately(h,0))return ge.approximately(f,0)?[]:[-m/f].filter(i);const C=zi(f*f-4*h*m),j=2*h;return[(C-f)/j,(-f-C)/j].filter(i)}h/=u,f/=u,m/=u;const p=(3*f-h*h)/3,v=p/3,x=(2*h*h*h-9*h*f+27*m)/27,b=x/2,y=b*b+v*v*v;let w,S,k,_,N;if(y<0){const C=-p/3,j=C*C*C,A=zi(j),E=-x/(2*A),I=E<-1?-1:E>1?1:E,O=Bie(I),U=eu(A),P=2*U;return k=P*ai(O/3)-h/3,_=P*ai((O+Gf)/3)-h/3,N=P*ai((O+2*Gf)/3)-h/3,[k,_,N].filter(i)}else{if(y===0)return w=b<0?eu(-b):-eu(b),k=2*w-h/3,_=-w-h/3,[k,_].filter(i);{const C=zi(y);return w=eu(-b+C),S=eu(b+C),[w-S-h/3].filter(i)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],o=e[2],i=n-2*r+o;if(i!==0){const s=-zi(r*r-n*o),a=-n+r,l=-(s+a)/i,c=-(-s+a)/i;return[l,c]}else if(r!==o&&i===0)return[(2*r-o)/(2*(r-o))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,o,i){let s,a,l,c,u=0,h=0;const f=ge.compute(e,n),m=ge.compute(e,r),p=f.x*f.x+f.y*f.y;if(o?(s=zi(Lr(f.y*m.z-m.y*f.z,2)+Lr(f.z*m.x-m.z*f.x,2)+Lr(f.x*m.y-m.x*f.y,2)),a=Lr(p+f.z*f.z,3/2)):(s=f.x*m.y-f.y*m.x,a=Lr(p,3/2)),s===0||a===0)return{k:0,r:0};if(u=s/a,h=a/s,!i){const v=ge.curvature(e-.001,n,r,o,!0).k,x=ge.curvature(e+.001,n,r,o,!0).k;c=(x-u+(u-v))/2,l=(Jc(x-u)+Jc(u-v))/2}return{k:u,r:h,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];const n=ge.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,o=n[3].x*n[1].y,i=n[1].x*n[2].y,s=n[3].x*n[2].y,a=18*(-3*r+2*o+3*i-s),l=18*(3*r-o-3*i),c=18*(i-r);if(ge.approximately(a,0)){if(!ge.approximately(l,0)){let m=-c/l;if(0<=m&&m<=1)return[m]}return[]}const u=2*a;if(ge.approximately(u,0))return[];const h=l*l-4*a*c;if(h<0)return[];const f=Math.sqrt(h);return[(f-l)/u,-(l+f)/u].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(e,n){const r=["x","y"],o=r.length;for(let i=0,s,a,l,c;i<o;i++)if(s=r[i],a=e[s].mid,l=n[s].mid,c=(e[s].size+n[s].size)/2,Jc(a-l)>=c)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const o=e.bbox(),i=n.bbox(),s=1e5,a=r||.5;if(o.x.size+o.y.size<a&&i.x.size+i.y.size<a)return[(s*(e._t1+e._t2)/2|0)/s+"/"+(s*(n._t1+n._t2)/2|0)/s];let l=e.split(.5),c=n.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(f){return ge.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return u.length===0||(u.forEach(function(f){h=h.concat(ge.pairiteration(f.left,f.right,a))}),h=h.filter(function(f,m){return h.indexOf(f)===m})),h},getccenter:function(e,n,r){const o=n.x-e.x,i=n.y-e.y,s=r.x-n.x,a=r.y-n.y,l=o*ai(Fi)-i*Ya(Fi),c=o*Ya(Fi)+i*ai(Fi),u=s*ai(Fi)-a*Ya(Fi),h=s*Ya(Fi)+a*ai(Fi),f=(e.x+n.x)/2,m=(e.y+n.y)/2,p=(n.x+r.x)/2,v=(n.y+r.y)/2,x=f+l,b=m+c,y=p+u,w=v+h,S=ge.lli8(f,m,x,b,p,v,y,w),k=ge.dist(S,e);let _=Zc(e.y-S.y,e.x-S.x),N=Zc(n.y-S.y,n.x-S.x),C=Zc(r.y-S.y,r.x-S.x),j;return _<C?((_>N||N>C)&&(_+=Gf),_>C&&(j=C,C=_,_=j)):C<N&&N<_?(j=C,C=_,_=j):C+=Gf,S.s=_,S.e=C,S.r=k,S},numberSort:function(e,n){return e-n}};class Ru{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ge.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),o=1;o<n.length;o++)ge.expandbox(r,n[o].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(o){r.push(...o.offset(n))}),new Ru(r)}}const{abs:tu,min:N_,max:C_,cos:Wie,sin:qie,acos:Gie,sqrt:nu}=Math,Kie=Math.PI;class Rt{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),o=!1;if(typeof r[0]=="object"){o=r.length;const p=[];r.forEach(function(v){["x","y","z"].forEach(function(x){typeof v[x]<"u"&&p.push(v[x])})}),r=p}let i=!1;const s=r.length;if(o){if(o>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(s!==6&&s!==8&&s!==9&&s!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!i&&(s===9||s===12)||n&&n[0]&&typeof n[0].z<"u",l=this.points=[];for(let p=0,v=a?3:2;p<s;p+=v){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,h=this.dims=["x","y"];a&&h.push("z"),this.dimlen=h.length;const f=ge.align(l,{p1:l[0],p2:l[u]}),m=ge.dist(l[0],l[u]);this._linear=f.reduce((p,v)=>p+tu(v.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,o,i){if(typeof i>"u"&&(i=.5),i===0)return new Rt(r,r,o);if(i===1)return new Rt(n,r,r);const s=Rt.getABC(2,n,r,o,i);return new Rt(n,s.A,o)}static cubicFromPoints(n,r,o,i,s){typeof i>"u"&&(i=.5);const a=Rt.getABC(3,n,r,o,i);typeof s>"u"&&(s=ge.dist(r,a.C));const l=s*(1-i)/i,c=ge.dist(n,o),u=(o.x-n.x)/c,h=(o.y-n.y)/c,f=s*u,m=s*h,p=l*u,v=l*h,x={x:r.x-f,y:r.y-m},b={x:r.x+p,y:r.y+v},y=a.A,w={x:y.x+(x.x-y.x)/(1-i),y:y.y+(x.y-y.y)/(1-i)},S={x:y.x+(b.x-y.x)/i,y:y.y+(b.y-y.y)/i},k={x:n.x+(w.x-n.x)/i,y:n.y+(w.y-n.y)/i},_={x:o.x+(S.x-o.x)/(1-i),y:o.y+(S.y-o.y)/(1-i)};return new Rt(n,k,_,o)}static getUtils(){return ge}getUtils(){return Rt.getUtils()}static get PolyBezier(){return Ru}valueOf(){return this.toString()}toString(){return ge.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,o=n[0].y,i=["M",r,o,this.order===2?"Q":"C"];for(let s=1,a=n.length;s<a;s++)i.push(n[s].x),i.push(n[s].y);return i.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ge.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=ge.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return ge.length(this.derivative.bind(this))}static getABC(n=2,r,o,i,s=.5){const a=ge.projectionratio(s,n),l=1-a,c={x:a*r.x+l*i.x,y:a*r.y+l*i.y},u=ge.abcratio(s,n);return{A:{x:o.x+(o.x-c.x)/u,y:o.y+(o.y-c.y)/u},B:o,C:c,S:r,E:i}}getABC(n,r){r=r||this.get(n);let o=this.points[0],i=this.points[this.order];return Rt.getABC(this.order,o,r,i,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,o,i;r<n;r++)i=r/(n-1),o=this.compute(i),o.t=i,this._lut.push(o);return this._lut}on(n,r){r=r||5;const o=this.getLUT(),i=[];for(let s=0,a,l=0;s<o.length;s++)a=o[s],ge.dist(a,n)<r&&(i.push(a),l+=s/o.length);return i.length?t/=i.length:!1}project(n){const r=this.getLUT(),o=r.length-1,i=ge.closest(r,n),s=i.mpos,a=(s-1)/o,l=(s+1)/o,c=.1/o;let u=i.mdist,h=a,f=h,m;u+=1;for(let p;h<l+c;h+=c)m=this.compute(h),p=ge.dist(n,m),p<u&&(u=p,f=h);return f=f<0?0:f>1?1:f,m=this.compute(f),m.t=f,m.d=u,m}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ge.computeWithRatios(n,this.points,this.ratios,this._3d):ge.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],o=n.length;for(let i=1,s,a;i<o;i++)s=n[i],a=n[i-1],r[i]={x:(o-i)/o*s.x+i/o*a.x,y:(o-i)/o*s.y+i/o*a.y};return r[o]=n[o-1],new Rt(r)}derivative(n){return ge.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ge.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Rt(ge.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ge.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ge.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),o=nu(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/o,y:r.x/o}}__normal3(n){const r=this.derivative(n),o=this.derivative(n+.01),i=nu(r.x*r.x+r.y*r.y+r.z*r.z),s=nu(o.x*o.x+o.y*o.y+o.z*o.z);r.x/=i,r.y/=i,r.z/=i,o.x/=s,o.y/=s,o.z/=s;const a={x:o.y*r.z-o.z*r.y,y:o.z*r.x-o.x*r.z,z:o.x*r.y-o.y*r.x},l=nu(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:n,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(n){let r=this.points,o=[],i=[],s=0;for(i[s++]=r[0],i[s++]=r[1],i[s++]=r[2],this.order===3&&(i[s++]=r[3]);r.length>1;){o=[];for(let a=0,l,c=r.length-1;a<c;a++)l=ge.lerp(n,r[a],r[a+1]),i[s++]=l,o.push(l);r=o}return i}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const o=this.hull(n),i={left:this.order===2?new Rt([o[0],o[3],o[5]]):new Rt([o[0],o[4],o[7],o[9]]),right:this.order===2?new Rt([o[5],o[4],o[2]]):new Rt([o[9],o[8],o[6],o[3]]),span:o};return i.left._t1=ge.map(0,0,1,this._t1,this._t2),i.left._t2=ge.map(n,0,1,this._t1,this._t2),i.right._t1=ge.map(n,0,1,this._t1,this._t2),i.right._t2=ge.map(1,0,1,this._t1,this._t2),r?(r=ge.map(r,n,1,0,1),i.right.split(r).left):i}extrema(){const n={};let r=[];return this.dims.forEach((function(o){let i=function(a){return a[o]},s=this.dpoints[0].map(i);n[o]=ge.droots(s),this.order===3&&(s=this.dpoints[1].map(i),n[o]=n[o].concat(ge.droots(s))),n[o]=n[o].filter(function(a){return a>=0&&a<=1}),r=r.concat(n[o].sort(ge.numberSort))}).bind(this)),n.values=r.sort(ge.numberSort).filter(function(o,i){return r.indexOf(o)===i}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(o){r[o]=ge.getminmax(this,o,n[o])}).bind(this)),r}overlaps(n){const r=this.bbox(),o=n.bbox();return ge.bboxoverlap(r,o)}offset(n,r){if(typeof r<"u"){const o=this.get(n),i=this.normal(n),s={c:o,n:i,x:o.x+i.x*r,y:o.y+i.y*r};return this._3d&&(s.z=o.z+i.z*r),s}if(this._linear){const o=this.normal(0),i=this.points.map(function(s){const a={x:s.x+n*o.x,y:s.y+n*o.y};return s.z&&o.z&&(a.z=s.z+n*o.z),a});return[new Rt(i)]}return this.reduce().map(function(o){return o._linear?o.offset(n)[0]:o.scale(n)})}simple(){if(this.order===3){const i=ge.angle(this.points[0],this.points[3],this.points[1]),s=ge.angle(this.points[0],this.points[3],this.points[2]);if(i>0&&s<0||i<0&&s>0)return!1}const n=this.normal(0),r=this.normal(1);let o=n.x*r.x+n.y*r.y;return this._3d&&(o+=n.z*r.z),tu(Gie(o))<Kie/3}reduce(){let n,r=0,o=0,i=.01,s,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],n=1;n<c.length;n++)o=c[n],s=this.split(r,o),s._t1=r,s._t2=o,a.push(s),r=o;return a.forEach(function(u){for(r=0,o=0;o<=1;)for(o=r+i;o<=1+i;o+=i)if(s=u.split(r,o),!s.simple()){if(o-=i,tu(r-o)<i)return[];s=u.split(r,o),s._t1=ge.map(r,0,1,u._t1,u._t2),s._t2=ge.map(o,0,1,u._t1,u._t2),l.push(s),r=o;break}r<1&&(s=u.split(r,1),s._t1=ge.map(r,0,1,u._t1,u._t2),s._t2=u._t2,l.push(s))}),l}translate(n,r,o){o=typeof o=="number"?o:r;const i=this.order;let s=this.points.map((a,l)=>(1-l/i)*r+l/i*o);return new Rt(this.points.map((a,l)=>({x:a.x+n.x*s[l],y:a.y+n.y*s[l]})))}scale(n){const r=this.order;let o=!1;if(typeof n=="function"&&(o=n),o&&r===2)return this.raise().scale(o);const i=this.clockwise,s=this.points;if(this._linear)return this.translate(this.normal(0),o?o(0):n,o?o(1):n);const a=o?o(0):n,l=o?o(1):n,c=[this.offset(0,10),this.offset(1,10)],u=[],h=ge.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const m=u[f*r]=ge.copy(s[f*r]);m.x+=(f?l:a)*c[f].n.x,m.y+=(f?l:a)*c[f].n.y}),o?([0,1].forEach(function(f){if(!(r===2&&f)){var m=s[f+1],p={x:m.x-h.x,y:m.y-h.y},v=o?o((f+1)/r):n;o&&!i&&(v=-v);var x=nu(p.x*p.x+p.y*p.y);p.x/=x,p.y/=x,u[f+1]={x:m.x+v*p.x,y:m.y+v*p.y}}}),new Rt(u)):([0,1].forEach(f=>{if(r===2&&f)return;const m=u[f*r],p=this.derivative(f),v={x:m.x+p.x,y:m.y+p.y};u[f+1]=ge.lli4(m,v,h,s[f+1])}),new Rt(u))}outline(n,r,o,i){if(r=r===void 0?n:r,this._linear){const _=this.normal(0),N=this.points[0],C=this.points[this.points.length-1];let j,A,E;o===void 0&&(o=n,i=r),j={x:N.x+_.x*n,y:N.y+_.y*n},E={x:C.x+_.x*o,y:C.y+_.y*o},A={x:(j.x+E.x)/2,y:(j.y+E.y)/2};const I=[j,A,E];j={x:N.x-_.x*r,y:N.y-_.y*r},E={x:C.x-_.x*i,y:C.y-_.y*i},A={x:(j.x+E.x)/2,y:(j.y+E.y)/2};const O=[E,A,j],U=ge.makeline(O[2],I[0]),P=ge.makeline(I[2],O[0]),F=[U,new Rt(I),P,new Rt(O)];return new Ru(F)}const s=this.reduce(),a=s.length,l=[];let c=[],u,h=0,f=this.length();const m=typeof o<"u"&&typeof i<"u";function p(_,N,C,j,A){return function(E){const I=j/C,O=(j+A)/C,U=N-_;return ge.map(E,0,1,_+I*U,_+O*U)}}s.forEach(function(_){const N=_.length();m?(l.push(_.scale(p(n,o,f,h,N))),c.push(_.scale(p(-r,-i,f,h,N)))):(l.push(_.scale(n)),c.push(_.scale(-r))),h+=N}),c=c.map(function(_){return u=_.points,u[3]?_.points=[u[3],u[2],u[1],u[0]]:_.points=[u[2],u[1],u[0]],_}).reverse();const v=l[0].points[0],x=l[a-1].points[l[a-1].points.length-1],b=c[a-1].points[c[a-1].points.length-1],y=c[0].points[0],w=ge.makeline(b,v),S=ge.makeline(x,y),k=[w].concat(l).concat([S]).concat(c);return new Ru(k)}outlineshapes(n,r,o){r=r||n;const i=this.outline(n,r).curves,s=[];for(let a=1,l=i.length;a<l/2;a++){const c=ge.makeshape(i[a],i[l-a],o);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,s.push(c)}return s}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Rt&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=N_(n.p1.x,n.p2.x),o=N_(n.p1.y,n.p2.y),i=C_(n.p1.x,n.p2.x),s=C_(n.p1.y,n.p2.y);return ge.roots(this.points,n).filter(a=>{var l=this.get(a);return ge.between(l.x,r,i)&&ge.between(l.y,o,s)})}selfintersects(n){const r=this.reduce(),o=r.length-2,i=[];for(let s=0,a,l,c;s<o;s++)l=r.slice(s,s+1),c=r.slice(s+2),a=this.curveintersects(l,c,n),i.push(...a);return i}curveintersects(n,r,o){const i=[];n.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&i.push({left:a,right:l})})});let s=[];return i.forEach(function(a){const l=ge.pairiteration(a.left,a.right,o);l.length>0&&(s=s.concat(l))}),s}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,o,i){const s=(i-o)/4,a=this.get(o+s),l=this.get(i-s),c=ge.dist(n,r),u=ge.dist(n,a),h=ge.dist(n,l);return tu(u-c)+tu(h-c)}_iterate(n,r){let o=0,i=1,s;do{s=0,i=1;let a=this.get(o),l,c,u,h,f=!1,m=!1,p,v=i,x=1;do if(m=f,h=u,v=(o+i)/2,l=this.get(v),c=this.get(i),u=ge.getccenter(a,l,c),u.interval={start:o,end:i},f=this._error(u,a,o,i)<=n,p=m&&!f,p||(x=i),f){if(i>=1){if(u.interval.end=x=1,h=u,i>1){let y={x:u.x+u.r*Wie(u.e),y:u.y+u.r*qie(u.e)};u.e+=ge.angle({x:u.x,y:u.y},y,this.get(1))}break}i=i+(i-o)/2}else i=v;while(!p&&s++<100);if(s>=100)break;h=h||u,r.push(h),o=x}while(i<1);return r}}function W0(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function Yie(e){if(Array.isArray(e))return e}function Xie(e){if(Array.isArray(e))return W0(e)}function Qie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jie(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n!==0)for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(e,n){if(e==null)return{};var r,o,i=nse(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nse(e,n){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.includes(o))continue;r[o]=e[o]}return r}function rse(e,n){return Yie(e)||Jie(e,n)||w5(e,n)||Zie()}function ose(e){return Xie(e)||Qie(e)||w5(e)||ese()}function ise(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sse(e){var n=ise(e,"string");return typeof n=="symbol"?n:n+""}function w5(e,n){if(e){if(typeof e=="string")return W0(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W0(e,n):void 0}}var ase=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),s=e.reduce(function(l,c){var u=l,h=c;return i.forEach(function(f,m){var p=f.keyAccessor,v=f.isProp,x;if(v){var b=h,y=b[p],w=tse(b,[p].map(sse));x=y,h=w}else x=p(h,m);m+1<i.length?(u.hasOwnProperty(x)||(u[x]={}),u=u[x]):r?(u.hasOwnProperty(x)||(u[x]=[]),u[x].push(h)):u[x]=h}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===i.length?Object.keys(c).forEach(function(h){return c[h]=r(c[h])}):Object.values(c).forEach(function(h){return l(h,u+1)})}(s);var a=s;return o&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===i.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(h){var f=rse(h,2),m=f[0],p=f[1];return l(p,[].concat(ose(u),[m]))})}(s),n instanceof Array&&n.length===0&&a.length===1&&(a[0].keys=[])),a};function lse(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const E_=Symbol("implicit");function b5(){var e=new K2,n=[],r=[],o=E_;function i(s){let a=e.get(s);if(a===void 0){if(o!==E_)return o;e.set(s,a=n.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return n.slice();n=[],e=new K2;for(const a of s)e.has(a)||e.set(a,n.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(o=s,i):o},i.copy=function(){return b5(n,r).unknown(o)},lse.apply(i,arguments),i}function cse(e){for(var n=e.length/6|0,r=new Array(n),o=0;o<n;)r[o]="#"+e.slice(o*6,++o*6);return r}const use=cse("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function dse(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var fse=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;dse(fse);function q0(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function hse(e){if(Array.isArray(e))return e}function pse(e){if(Array.isArray(e))return q0(e)}function j_(e,n,r){if(S5())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var i=new(e.bind.apply(e,o));return i}function vd(e,n,r){return(n=wse(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function S5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!e})()}function mse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gse(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,n!==0)for(;!(c=(o=s.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,o)}return r}function Xa(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?T_(Object(r),!0).forEach(function(o){vd(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Iu(e,n){return hse(e)||gse(e,n)||k5(e,n)||yse()}function Gr(e){return pse(e)||mse(e)||k5(e)||xse()}function vse(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function wse(e){var n=vse(e,"string");return typeof n=="symbol"?n:n+""}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},G0(e)}function k5(e,n){if(e){if(typeof e=="string")return q0(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q0(e,n):void 0}}var bse=b5(use);function A_(e,n,r){!n||typeof r!="string"||e.filter(function(o){return!o[r]}).forEach(function(o){o[r]=bse(n(o))})}function Sse(e,n){var r=e.nodes,o=e.links,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.nodeFilter,a=s===void 0?function(){return!0}:s,l=i.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[n(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),o.forEach(function(p){var v=p.source,x=p.target,b=k(v),y=k(x);if(!u.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!u.hasOwnProperty(y))throw"Missing target node with id: ".concat(y);var w=u[b],S=u[y];w.out.push(S);function k(_){return G0(_)==="object"?n(_):_}});var h=[];m(Object.values(u));var f=Object.assign.apply(Object,[{}].concat(Gr(Object.entries(u).filter(function(p){var v=Iu(p,2),x=v[1];return!x.skip}).map(function(p){var v=Iu(p,2),x=v[0],b=v[1];return vd({},x,b.depth)}))));return f;function m(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var k=p[y];if(v.indexOf(k)!==-1){var _=[].concat(Gr(v.slice(v.indexOf(k))),[k]).map(function(N){return n(N.data)});return h.some(function(N){return N.length===_.length&&N.every(function(C,j){return C===_[j]})})||(h.push(_),c(_)),1}x>k.depth&&(k.depth=x,m(k.out,[].concat(Gr(v),[k]),x+(k.skip?0:1)))},y=0,w=p.length;y<w;y++)b()}}var kse=2,Mn=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},P_=function(n,r){if(!r.isShadow){var o=xt(r.linkDirectionalParticles);r.graphData.links.forEach(function(i){var s=Math.round(Math.abs(o(i)));s?i.__photons=Gr(Array(s)).map(function(){return{}}):delete i.__photons})}},Ap=x1({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,P_(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(o){return o.fx=o.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Mn},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Mn},nodeColor:{default:"color",triggerUpdate:!1,onChange:Mn},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Mn},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Mn},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Mn},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Mn},linkColor:{default:"color",triggerUpdate:!1,onChange:Mn},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Mn},linkWidth:{default:1,triggerUpdate:!1,onChange:Mn},linkCurvature:{default:0,triggerUpdate:!1,onChange:Mn},linkCanvasObject:{triggerUpdate:!1,onChange:Mn},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Mn},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Mn},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Mn},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Mn},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:P_},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,o){return o===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,o),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),i(),!n.isShadow&&s(),!n.isShadow&&a(),o(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function o(){var l=xt(n.nodeVisibility),c=xt(n.nodeVal),u=xt(n.nodeColor),h=xt(n.nodeCanvasObjectMode),f=n.ctx,m=n.isShadow/n.globalScale,p=n.graphData.nodes.filter(l);f.save(),p.forEach(function(v){var x=h(v);if(n.nodeCanvasObject&&(x==="before"||x==="replace")&&(n.nodeCanvasObject(v,f,n.globalScale),x==="replace")){f.restore();return}var b=Math.sqrt(Math.max(0,c(v)||1))*n.nodeRelSize+m;f.beginPath(),f.arc(v.x,v.y,b,0,2*Math.PI,!1),f.fillStyle=u(v)||"rgba(31, 120, 180, 0.92)",f.fill(),n.nodeCanvasObject&&x==="after"&&n.nodeCanvasObject(v,n.ctx,n.globalScale)}),f.restore()}function i(){var l=xt(n.linkVisibility),c=xt(n.linkColor),u=xt(n.linkWidth),h=xt(n.linkLineDash),f=xt(n.linkCurvature),m=xt(n.linkCanvasObjectMode),p=n.ctx,v=n.isShadow*2,x=n.graphData.links.filter(l);x.forEach(N);var b=[],y=[],w=x;if(n.linkCanvasObject){var S=[],k=[];x.forEach(function(C){return({before:b,after:y,replace:S}[m(C)]||k).push(C)}),w=[].concat(Gr(b),y,k),b=b.concat(S)}p.save(),b.forEach(function(C){return n.linkCanvasObject(C,p,n.globalScale)}),p.restore();var _=ase(w,[c,u,h]);p.save(),Object.entries(_).forEach(function(C){var j=Iu(C,2),A=j[0],E=j[1],I=!A||A==="undefined"?"rgba(0,0,0,0.15)":A;Object.entries(E).forEach(function(O){var U=Iu(O,2),P=U[0],F=U[1],L=(P||1)/n.globalScale+v;Object.entries(F).forEach(function(W){var $=Iu(W,2);$[0];var R=$[1],T=h(R[0]);p.beginPath(),R.forEach(function(D){var z=D.source,M=D.target;if(!(!z||!M||!z.hasOwnProperty("x")||!M.hasOwnProperty("x"))){p.moveTo(z.x,z.y);var G=D.__controlPoints;G?p[G.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,Gr(G).concat([M.x,M.y])):p.lineTo(M.x,M.y)}}),p.strokeStyle=I,p.lineWidth=L,p.setLineDash(T||[]),p.stroke()})})}),p.restore(),p.save(),y.forEach(function(C){return n.linkCanvasObject(C,p,n.globalScale)}),p.restore();function N(C){var j=f(C);if(!j){C.__controlPoints=null;return}var A=C.source,E=C.target;if(!(!A||!E||!A.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var I=Math.sqrt(Math.pow(E.x-A.x,2)+Math.pow(E.y-A.y,2));if(I>0){var O=Math.atan2(E.y-A.y,E.x-A.x),U=I*j,P={x:(A.x+E.x)/2+U*Math.cos(O-Math.PI/2),y:(A.y+E.y)/2+U*Math.sin(O-Math.PI/2)};C.__controlPoints=[P.x,P.y]}else{var F=j*70;C.__controlPoints=[E.x,E.y-F,E.x+F,E.y]}}}}function s(){var l=1.6,c=.2,u=xt(n.linkDirectionalArrowLength),h=xt(n.linkDirectionalArrowRelPos),f=xt(n.linkVisibility),m=xt(n.linkDirectionalArrowColor||n.linkColor),p=xt(n.nodeVal),v=n.ctx;v.save(),n.graphData.links.filter(f).forEach(function(x){var b=u(x);if(!(!b||b<0)){var y=x.source,w=x.target;if(!(!y||!w||!y.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,p(y)||1))*n.nodeRelSize,k=Math.sqrt(Math.max(0,p(w)||1))*n.nodeRelSize,_=Math.min(1,Math.max(0,h(x))),N=m(x)||"rgba(0,0,0,0.28)",C=b/l/2,j=x.__controlPoints&&j_(Rt,[y.x,y.y].concat(Gr(x.__controlPoints),[w.x,w.y])),A=j?function(L){return j.get(L)}:function(L){return{x:y.x+(w.x-y.x)*L||0,y:y.y+(w.y-y.y)*L||0}},E=j?j.length():Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2)),I=S+b+(E-S-k-b)*_,O=A(I/E),U=A((I-b)/E),P=A((I-b*(1-c))/E),F=Math.atan2(O.y-U.y,O.x-U.x)-Math.PI/2;v.beginPath(),v.moveTo(O.x,O.y),v.lineTo(U.x+C*Math.cos(F),U.y+C*Math.sin(F)),v.lineTo(P.x,P.y),v.lineTo(U.x-C*Math.cos(F),U.y-C*Math.sin(F)),v.fillStyle=N,v.fill()}}}),v.restore()}function a(){var l=xt(n.linkDirectionalParticles),c=xt(n.linkDirectionalParticleSpeed),u=xt(n.linkDirectionalParticleOffset),h=xt(n.linkDirectionalParticleWidth),f=xt(n.linkVisibility),m=xt(n.linkDirectionalParticleColor||n.linkColor),p=n.ctx;p.save(),n.graphData.links.filter(f).forEach(function(v){var x=l(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var b=v.source,y=v.target;if(!(!b||!y||!b.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var w=c(v),S=Math.abs(u(v)),k=v.__photons||[],_=Math.max(0,h(v)/2)/Math.sqrt(n.globalScale),N=m(v)||"rgba(0,0,0,0.28)";p.fillStyle=N;var C=v.__controlPoints?j_(Rt,[b.x,b.y].concat(Gr(v.__controlPoints),[y.x,y.y])):null,j=0,A=!1;k.forEach(function(E){var I=!!E.__singleHop;if(E.hasOwnProperty("__progressRatio")||(E.__progressRatio=I?0:(j+S)/x),!I&&j++,E.__progressRatio+=w,E.__progressRatio>=1)if(!I)E.__progressRatio=E.__progressRatio%1;else{A=!0;return}var O=E.__progressRatio,U=C?C.get(O):{x:b.x+(y.x-b.x)*O||0,y:b.y+(y.y-b.y)*O||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(U.x,U.y,v,p,n.globalScale):(p.beginPath(),p.arc(U.x,U.y,_,0,2*Math.PI,!1),p.fill())}),A&&(v.__photons=v.__photons.filter(function(E){return!E.__singleHop||E.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Lie().force("link",Tie()).force("charge",$ie()).force("center",Poe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&A_(n.graphData.nodes,xt(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&A_(n.graphData.links,xt(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(m){m.source=m[n.linkSource],m.target=m[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var o=n.forceLayout.force("link");o&&o.id(function(m){return m[n.nodeId]}).links(n.graphData.links);var i=n.dagMode&&Sse(n.graphData,function(m){return m[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),s=Math.max.apply(Math,Gr(Object.values(i||[]))),a=n.dagLevelDistance||n.graphData.nodes.length/(s||1)*kse*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return delete m[l]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["rl","bu"].includes(n.dagMode),u=function(p){return(i[p[n.nodeId]]-s/2)*a*(c?-1:1)},h=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return m[h]=u(m)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?zie(function(m){var p=i[m[n.nodeId]]||-1;return(n.dagMode==="radialin"?s-p:p)*a}).strength(function(m){return n.dagNodeFilter(m)?1:0}):null);for(var f=0;f<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);f++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function _5(e,n){var r=e instanceof Array?e:[e],o=new n;return o._destructor&&o._destructor(),{linkProp:function(s){return{default:o[s](),onChange:function(l,c){r.forEach(function(u){return c[u][s](l)})},triggerUpdate:!1}},linkMethod:function(s){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var h=[];return r.forEach(function(f){var m=a[f],p=m[s].apply(m,c);p!==m&&h.push(p)}),h.length?h[0]:this}}}}var _se=800,Nse=4,Cse=5,N5=_5("forceGraph",Ap),Ese=_5(["forceGraph","shadowGraph"],Ap),jse=Object.assign.apply(Object,Gr(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return vd({},e,N5.linkProp(e))})).concat(Gr(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return vd({},e,Ese.linkProp(e))})))),Tse=Object.assign.apply(Object,Gr(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return vd({},e,N5.linkMethod(e))})));function Ty(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var o=window.devicePixelRatio;n/=o,r/=o,[e.canvas,e.shadowCanvas].forEach(function(s){s.style.width="".concat(e.width,"px"),s.style.height="".concat(e.height,"px"),s.width=e.width*o,s.height=e.height*o,!n&&!r&&s.getContext("2d").scale(o,o)});var i=Ro(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/i,(e.height-r)/2/i),e.needsRedraw=!0}}function C5(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function M_(e,n,r){e.save(),C5(e),e.clearRect(0,0,n,r),e.restore()}var Ase=x1({props:Xa({width:{default:window.innerWidth,onChange:function(n,r){return Ty(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Ty(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(i){return(i||[]).every(function(s){return!s.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(o),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function o(i){var s=i.type,a=i.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:s,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(o,i,s){return n(o,o.__indexColor,i,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(o,i,s){return n(o,o.__indexColor,i,s)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},jse),aliases:{stopAnimation:"pauseAnimation"},methods:Xa({graph2ScreenCoords:function(n,r,o){var i=Ro(n.canvas);return{x:r*i.k+i.x,y:o*i.k+i.y}},screen2GraphCoords:function(n,r,o){var i=Ro(n.canvas);return{x:(r-i.x)/i.k,y:(o-i.y)/i.k}},centerAt:function(n,r,o,i){if(!n.canvas)return null;if(r!==void 0||o!==void 0){var s=Object.assign({},r!==void 0?{x:r}:{},o!==void 0?{y:o}:{});return i?n.tweenGroup.add(new t_(a()).to(s,i).easing(ma.Quadratic.Out).onUpdate(l).start()):l(s),this}return a();function a(){var c=Ro(n.canvas);return{x:(n.width/2-c.x)/c.k,y:(n.height/2-c.y)/c.k}}function l(c){var u=c.x,h=c.y;n.zoom.translateTo(n.zoom.__baseElem,u===void 0?a().x:u,h===void 0?a().y:h),n.needsRedraw=!0}},zoom:function(n,r,o){if(!n.canvas)return null;if(r!==void 0)return o?n.tweenGroup.add(new t_({k:i()}).to({k:r},o).easing(ma.Quadratic.Out).onUpdate(function(a){var l=a.k;return s(l)}).start()):s(r),this;return i();function i(){return Ro(n.canvas).k}function s(a){n.zoom.scaleTo(n.zoom.__baseElem,a),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,s=new Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,s);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(n.width-o*2)/(l.x[1]-l.x[0]),(n.height-o*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=xt(n.nodeVal),i=function(l){return Math.sqrt(Math.max(0,o(l)||1))*n.nodeRelSize},s=n.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:i(a)}});return s.length?{x:[Q2(s,function(a){return a.x-a.r}),X2(s,function(a){return a.x+a.r})],y:[Q2(s,function(a){return a.y-a.r}),X2(s,function(a){return a.y+a.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Tse),stateInit:function(){return{lastSetZoom:1,zoom:Rw(),forceGraph:new Ap,shadowGraph:new Ap().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new coe,tweenGroup:new Y3}},init:function(n,r){var o=this;n.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",n.appendChild(i),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),i.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var s=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var f=null,m=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*m,l.y*m,1,1):null;return p&&(f=r.colorTracker.lookup(p.data)),f};Vn(r.canvas).call(YA().subject(function(){if(!r.enableNodeDrag)return null;var h=c();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,m=f.__initialDragPos,p=h,v=Ro(r.canvas).k,x={x:m.x+(p.x-m.x)/v-f.x,y:m.y+(p.y-m.y)/v-f.y};["x","y"].forEach(function(b){return f["f".concat(b)]=f[b]=m[b]+(p[b]-m[b])/v}),!(!f.__dragged&&Cse>=Math.sqrt(Bne(["x","y"].map(function(b){return Math.pow(h[b]-m[b],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,f.__dragged=!0,r.onNodeDrag(f,x))}).on("end",function(h){var f=h.subject,m=f.__initialDragPos,p={x:f.x-m.x,y:f.y-m.y};m.fx===void 0&&(f.fx=void 0),m.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,r.onNodeDragEnd(f,p))})),r.zoom(r.zoom.__baseElem=Vn(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||xt(r.enableZoomInteraction)(h))&&(h.type==="wheel"||xt(r.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[s,a].forEach(function(m){C5(m),m.translate(f.x,f.y),m.scale(f.k,f.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Xa(Xa({},f),o.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Xa(Xa({},h.transform),o.centerAt()))}),Ty(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){Ro(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=Nse/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Aoe(i),["pointermove","pointerdown"].forEach(function(h){return i.addEventListener(h,function(f){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=f),!r.isPointerDragging&&f.type==="pointermove"&&r.onBackgroundClick&&(f.pressure>0||r.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(v){return Math.abs(v)>1}))&&(r.isPointerDragging=!0);var m=p(i);l.x=f.pageX-m.left,l.y=f.pageY-m.top;function p(v){var x=v.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop;return{top:x.top+y,left:x.left+b}}},{passive:!0})}),i.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var f=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var m=r["on".concat(r.hoverObj.type,"Click")];m&&m.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,f);if(h.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,f)})}},{passive:!0}),i.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(s),r.shadowGraph(a);var u=mre(function(){M_(a,r.width,r.height),r.shadowGraph.linkWidth(function(f){return xt(r.linkWidth)(f)+r.linkHoverPrecision});var h=Ro(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},_se);r.flushShadowCanvas=u.flush,(this._animationCycle=function h(){var f=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var m=r.isPointerDragging?null:c();if(m!==r.hoverObj){var p=r.hoverObj,v=p?p.type:null,x=m?m.type:null;if(v&&v!==x){var b=r["on".concat(v,"Hover")];b&&b(null,p.d)}if(x){var y=r["on".concat(x,"Hover")];y&&y(m.d,v===x?p.d:null)}r.tooltip.content(m&&xt(r["".concat(m.type.toLowerCase(),"Label")])(m.d)||null),r.canvas.classList[(m&&r["on".concat(x,"Click")]||!m&&r.onBackgroundClick)&&xt(r.showPointerCursor)(m==null?void 0:m.d)?"add":"remove"]("clickable"),r.hoverObj=m}f&&u()}if(f){M_(s,r.width,r.height);var w=Ro(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(s,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(s,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}}),E5={exports:{}},Pse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mse=Pse,Rse=Mse;function j5(){}function T5(){}T5.resetWarningCache=j5;var Ise=function(){function e(o,i,s,a,l,c){if(c!==Rse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:T5,resetWarningCache:j5};return r.PropTypes=r,r};E5.exports=Ise();var Ose=E5.exports;const q=fc(Ose),Gm={width:q.number,height:q.number,graphData:q.shape({nodes:q.arrayOf(q.object).isRequired,links:q.arrayOf(q.object).isRequired}),backgroundColor:q.string,nodeRelSize:q.number,nodeId:q.string,nodeLabel:q.oneOfType([q.string,q.func]),nodeVal:q.oneOfType([q.number,q.string,q.func]),nodeVisibility:q.oneOfType([q.bool,q.string,q.func]),nodeColor:q.oneOfType([q.string,q.func]),nodeAutoColorBy:q.oneOfType([q.string,q.func]),onNodeHover:q.func,onNodeClick:q.func,linkSource:q.string,linkTarget:q.string,linkLabel:q.oneOfType([q.string,q.func]),linkVisibility:q.oneOfType([q.bool,q.string,q.func]),linkColor:q.oneOfType([q.string,q.func]),linkAutoColorBy:q.oneOfType([q.string,q.func]),linkWidth:q.oneOfType([q.number,q.string,q.func]),linkCurvature:q.oneOfType([q.number,q.string,q.func]),linkDirectionalArrowLength:q.oneOfType([q.number,q.string,q.func]),linkDirectionalArrowColor:q.oneOfType([q.string,q.func]),linkDirectionalArrowRelPos:q.oneOfType([q.number,q.string,q.func]),linkDirectionalParticles:q.oneOfType([q.number,q.string,q.func]),linkDirectionalParticleSpeed:q.oneOfType([q.number,q.string,q.func]),linkDirectionalParticleOffset:q.oneOfType([q.number,q.string,q.func]),linkDirectionalParticleWidth:q.oneOfType([q.number,q.string,q.func]),linkDirectionalParticleColor:q.oneOfType([q.string,q.func]),onLinkHover:q.func,onLinkClick:q.func,dagMode:q.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:q.number,dagNodeFilter:q.func,onDagError:q.func,d3AlphaMin:q.number,d3AlphaDecay:q.number,d3VelocityDecay:q.number,warmupTicks:q.number,cooldownTicks:q.number,cooldownTime:q.number,onEngineTick:q.func,onEngineStop:q.func,getGraphBbox:q.func},A5={zoomToFit:q.func,onNodeRightClick:q.func,onNodeDrag:q.func,onNodeDragEnd:q.func,onLinkRightClick:q.func,linkHoverPrecision:q.number,onBackgroundClick:q.func,onBackgroundRightClick:q.func,showPointerCursor:q.oneOfType([q.bool,q.func]),enablePointerInteraction:q.bool,enableNodeDrag:q.bool},C1={showNavInfo:q.bool,nodeOpacity:q.number,nodeResolution:q.number,nodeThreeObject:q.oneOfType([q.object,q.string,q.func]),nodeThreeObjectExtend:q.oneOfType([q.bool,q.string,q.func]),nodePositionUpdate:q.func,linkOpacity:q.number,linkResolution:q.number,linkCurveRotation:q.oneOfType([q.number,q.string,q.func]),linkMaterial:q.oneOfType([q.object,q.string,q.func]),linkThreeObject:q.oneOfType([q.object,q.string,q.func]),linkThreeObjectExtend:q.oneOfType([q.bool,q.string,q.func]),linkPositionUpdate:q.func,linkDirectionalArrowResolution:q.number,linkDirectionalParticleResolution:q.number,linkDirectionalParticleThreeObject:q.oneOfType([q.object,q.string,q.func]),forceEngine:q.oneOf(["d3","ngraph"]),ngraphPhysics:q.object,numDimensions:q.oneOf([1,2,3])},Dse=Object.assign({},Gm,A5,{linkLineDash:q.oneOfType([q.arrayOf(q.number),q.string,q.func]),nodeCanvasObjectMode:q.oneOfType([q.string,q.func]),nodeCanvasObject:q.func,nodePointerAreaPaint:q.func,linkCanvasObjectMode:q.oneOfType([q.string,q.func]),linkCanvasObject:q.func,linkPointerAreaPaint:q.func,linkDirectionalParticleCanvasObject:q.func,autoPauseRedraw:q.bool,minZoom:q.number,maxZoom:q.number,enableZoomInteraction:q.oneOfType([q.bool,q.func]),enablePanInteraction:q.oneOfType([q.bool,q.func]),onZoom:q.func,onZoomEnd:q.func,onRenderFramePre:q.func,onRenderFramePost:q.func});Object.assign({},Gm,A5,C1,{enableNavigationControls:q.bool,controlType:q.oneOf(["trackball","orbit","fly"]),rendererConfig:q.object,extraRenderers:q.arrayOf(q.shape({render:q.func.isRequired}))});Object.assign({},Gm,C1,{nodeDesc:q.oneOfType([q.string,q.func]),linkDesc:q.oneOfType([q.string,q.func])});Object.assign({},Gm,C1,{markerAttrs:q.object,yOffset:q.number,glScale:q.number});const E1=$ne(Ase,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});E1.displayName="ForceGraph2D";E1.propTypes=Dse;function us(e,n=""){let r=0;const o=`${e}:${n}`;for(let i=0;i<o.length;i+=1)r=Math.imul(31,r)+o.charCodeAt(i),r|=0;return(r>>>0)%1e6/1e6}function Lse(e,n,r){const o={agent:110,integration:80,document:160,memory:210},i=us(e.id,"angle"),s=us(e.id,"lobe"),a=us(e.id,"jx"),l=us(e.id,"jy"),c=i*Math.PI*2,u=n/r*.35,h=c+u,f=140,m=s<.55?-1:1,p=o[e.type]??180,v=1.2+.35*Math.abs(Math.sin(h*1.1)),x=.8+.3*Math.cos(h*1.4),b=p*(1+.15*Math.sin(h*2)),y=b*Math.cos(h)*v,w=b*Math.sin(h)*x,S=(a-.5)*(e.type==="agent"?20:35),k=(l-.5)*(e.type==="agent"?18:28),_=m*f+y+S,N=w+k;return{x:_,y:N}}function $se({data:e}){var $,R,T;const n=g.useRef(null),r=g.useRef(),[o,i]=g.useState(null),[s,a]=g.useState(null),[l,c]=g.useState(""),[u,h]=g.useState({width:0,height:0}),[f,m]=g.useState(!1),p=s==null?void 0:s.metadata,v=(s==null?void 0:s.type)==="memory"?p==null?void 0:p.memoryType:void 0,x=(s==null?void 0:s.type)==="memory"&&typeof(p==null?void 0:p.expiresAt)=="string"?p==null?void 0:p.expiresAt:null,b=(s==null?void 0:s.type)==="memory"&&p?p.retention??{}:void 0,y=g.useMemo(()=>{const D=Math.max(1,e.nodes.length),z=e.nodes.map((te,ae)=>{const le={...te},Se=Lse(le,ae,D);le.brainX=Se.x,le.brainY=Se.y;const Be=us(te.id,"offset-x"),ye=us(te.id,"offset-y"),se=us(te.id,"nudge-x"),Ee=us(te.id,"nudge-y");return!Number.isFinite(le.x)||!Number.isFinite(le.y)?(le.x=Se.x+(Be-.5)*18,le.y=Se.y+(ye-.5)*18):(le.x+=(se-.5)*8,le.y+=(Ee-.5)*8),Number.isFinite(le.vx)||(le.vx=0),Number.isFinite(le.vy)||(le.vy=0),le}),M=new Set(z.map(te=>te.id)),G=e.links.map(te=>{const ae=typeof te.source=="string"?te.source:te.source.id,le=typeof te.target=="string"?te.target:te.target.id;return{...te,source:ae,target:le,_sourceId:ae,_targetId:le}}).filter(te=>te._sourceId!==te._targetId&&M.has(te._sourceId)&&M.has(te._targetId)).map(({_sourceId:te,_targetId:ae,...le})=>le),ee=z.filter(te=>te.type==="agent"||te.type==="integration").map(te=>te.id),re=z.filter(te=>te.type!=="agent"&&te.type!=="integration").map(te=>te.id),Y=new Set;G.forEach(te=>{const ae=`${te.source}${te.target}`,le=`${te.target}${te.source}`;Y.add(ae),Y.add(le)});const ue=[...G];for(const te of re)for(const ae of ee){const le=`${ae}${te}`;Y.has(le)||(ue.push({source:ae,target:te,relation:"shared",strength:.4}),Y.add(le),Y.add(`${te}${ae}`))}return{nodes:z,links:ue}},[e]);g.useEffect(()=>{if(!n.current)return;const D=new ResizeObserver(z=>{const M=z[0];h({width:M.contentRect.width,height:M.contentRect.height})});return D.observe(n.current),()=>D.disconnect()},[]),g.useEffect(()=>{if(!r.current||!u.width||!u.height||!y.nodes.length)return;const D=setTimeout(()=>{r.current.zoomToFit(400,40)},150);return()=>clearTimeout(D)},[y,u]),g.useEffect(()=>{if(!r.current||!y.nodes.length)return;const D=Math.max(220,Math.min(u.width,u.height)/1.9||260),z=Fie(Y=>Y.brainX??0).strength(.12),M=Uie(Y=>Y.brainY??0).strength(.12),G=r.current;if(!G||typeof G.d3Force!="function")return;G.d3Force("brain-x",z),G.d3Force("brain-y",M);const ee=G.d3Force("charge");ee&&typeof ee.strength=="function"&&(ee.strength(-80),typeof ee.distanceMin=="function"&&ee.distanceMin(12),typeof ee.distanceMax=="function"&&ee.distanceMax(D*2.6));const re=G.d3Force("link");return re!=null&&re.distance&&re.distance(Y=>{switch(Y.relation){case"derived":return D*.32;case"extends":return D*.42;case"shared":return D*.48;default:return D*.38}}),typeof G.d3ReheatSimulation=="function"?G.d3ReheatSimulation():typeof G.d3Alpha=="function"&&G.d3Alpha(.7),()=>{r.current===G&&(G.d3Force("brain-x",null),G.d3Force("brain-y",null))}},[y,u]);const w=g.useCallback(D=>{if(!D||!r.current)return;const z=r.current,M=Number.isFinite(D.x)?D.x:D.brainX??0,G=Number.isFinite(D.y)?D.y:D.brainY??0,ee=typeof z.zoom=="function"?z.zoom():void 0;if(typeof z.centerAt=="function"&&z.centerAt(M,G,600),typeof z.zoom=="function"){const re=Math.max(1.4,ee??1.6);z.zoom(re,600)}a(D)},[r]),S=g.useMemo(()=>["#22d3ee","#a855f7","#f97316","#34d399","#facc15","#38bdf8","#f472b6","#c084fc","#fb7185","#818cf8"],[]),k=g.useMemo(()=>{const D=y.nodes.filter(M=>M.type==="agent"),z=new Map;return D.forEach((M,G)=>{z.set(M.id,S[G%S.length])}),z},[y.nodes,S]),_=g.useCallback((D,z)=>{if(!D.startsWith("#")||D.length!==7&&D.length!==4)return D;let M,G,ee;return D.length===4?(M=parseInt(D[1]+D[1],16),G=parseInt(D[2]+D[2],16),ee=parseInt(D[3]+D[3],16)):(M=parseInt(D.slice(1,3),16),G=parseInt(D.slice(3,5),16),ee=parseInt(D.slice(5,7),16)),`rgba(${M}, ${G}, ${ee}, ${z})`},[]),N=l.trim().toLowerCase(),C=o==null?void 0:o.id,j=s==null?void 0:s.id,A=g.useMemo(()=>N?y.nodes.filter(D=>{var G,ee;const z=((G=D.label)==null?void 0:G.toLowerCase())??"",M=((ee=D.type)==null?void 0:ee.toLowerCase())??"";return z.includes(N)||M.includes(N)}).slice(0,8):[],[y.nodes,N]),E=D=>{var z,M;if(D.status==="forgotten")return"#dc2626";if(D.status==="expiring")return"#ea580c";if(D.status==="new")return"#fbbf24";if(D.status==="older")return"#10b981";switch(D.type){case"document":return"#8b5cf6";case"agent":return"#ffffff";case"integration":return"#f97316";case"memory":{const G=(z=D.metadata)==null?void 0:z.memoryType;if(G==="short_term")return"#38bdf8";if(G==="long_term")return"#14b8a6";const ee=(M=D.metadata)==null?void 0:M.createdBy,re=ee?k.get(ee):void 0;return re?_(re,.75):"#3b82f6"}default:return"#6b7280"}},I=D=>D.type==="agent"?3.8:D.type==="integration"?4.4:D.type==="document"?2.8:2.4,O=D=>{switch(D.relation){case"updated":return"rgba(59, 130, 246, 0.15)";case"extends":return"rgba(139, 92, 246, 0.18)";case"derived":return"rgba(20, 184, 166, 0.2)";case"similar":return"rgba(16, 185, 129, 0.12)";case"shared":return"rgba(244, 114, 182, 0.12)";default:return"rgba(100, 116, 139, 0.1)"}},U=g.useCallback(D=>{a(D)},[]),P=g.useCallback(()=>{a(null)},[]),F=()=>{r.current&&r.current.zoom(r.current.zoom()*1.2,400)},L=()=>{r.current&&r.current.zoom(r.current.zoom()/1.2,400)},W=()=>{r.current&&r.current.zoomToFit(400,50)};return d.jsxs("div",{ref:n,className:"relative h-full w-full overflow-hidden",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-3",children:[d.jsxs("div",{className:"relative w-80",children:[d.jsx(hL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(qt,{type:"text",placeholder:"Search for nodes...",value:l,onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),120),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),w(A[0])),D.key==="Escape"&&(c(""),m(!1))},onChange:D=>c(D.target.value),className:"pl-10 bg-background/95 backdrop-blur-sm border-border"}),f&&A.length>0&&d.jsx("div",{className:"absolute left-0 top-11 w-full rounded-xl border border-border/70 bg-background/95 backdrop-blur-sm shadow-lg",children:d.jsx("div",{className:"py-1",children:A.map(D=>d.jsxs("button",{onMouseDown:z=>{z.preventDefault(),w(D),c(D.label??D.id),m(!1)},className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-muted/40 flex flex-col gap-0.5",children:[d.jsx("span",{className:"font-medium",children:D.label}),d.jsx("span",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:D.type})]},D.id))})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(be,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:F,children:d.jsx(kL,{className:"h-4 w-4"})}),d.jsx(be,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:L,children:d.jsx(_L,{className:"h-4 w-4"})}),d.jsx(be,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:W,children:d.jsx(oL,{className:"h-4 w-4"})})]})]}),o&&d.jsx(mt,{className:"absolute top-24 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 space-y-2 w-72 animate-fade-in",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-foreground",children:o.label}),d.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:o.type})]}),d.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="new"?"bg-purple-500/20 text-purple-400":o.status==="forgotten"?"bg-red-500/20 text-red-400":"bg-muted text-muted-foreground"}`,children:o.status})]})}),s&&d.jsxs(mt,{className:"absolute bottom-6 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 w-96 animate-fade-in",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-semibold text-foreground",children:s.label}),d.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:s.type})]}),d.jsx("button",{onClick:()=>a(null),className:"text-muted-foreground hover:text-foreground",children:""})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:"text-foreground capitalize",children:s.status})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Connections:"}),d.jsx("span",{className:"text-foreground",children:y.links.filter(D=>{const z=typeof D.source=="string"?D.source:D.source.id,M=typeof D.target=="string"?D.target:D.target.id;return z===s.id||M===s.id}).length})]}),(($=s.metadata)==null?void 0:$.createdBy)&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Created by:"}),d.jsx("span",{className:"text-foreground",children:((R=y.nodes.find(D=>{var z;return D.id===((z=s.metadata)==null?void 0:z.createdBy)}))==null?void 0:R.label)??((T=s.metadata)==null?void 0:T.createdBy)})]}),s.type==="memory"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Memory type:"}),d.jsx("span",{className:"text-foreground capitalize",children:v==="short_term"?"Short-term":v==="long_term"?"Long-term":"Unknown"})]}),x&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Expires:"}),d.jsx("span",{className:"text-foreground",children:new Date(x).toLocaleString()})]}),(b==null?void 0:b.reason)&&typeof b.reason=="string"&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Retention logic:"}),d.jsx("span",{className:"text-foreground italic",children:b.reason})]})]})]})]}),d.jsx(E1,{ref:r,graphData:y,width:u.width,height:u.height,nodeLabel:"label",nodeColor:D=>E(D),nodeVal:D=>I(D),nodeCanvasObject:(D,z,M)=>{var se;const G=D,ee=G.label,re=10/M,Y=I(G),ue=E(G),te=G.type==="agent",ae=typeof D.x=="number"&&Number.isFinite(D.x)?D.x:0,le=typeof D.y=="number"&&Number.isFinite(D.y)?D.y:0;if(te){z.save();const Ee=Y*2.4,Pe=z.createRadialGradient(ae,le,Y*.25,ae,le,Ee);Pe.addColorStop(0,"rgba(255, 255, 255, 1)"),Pe.addColorStop(.35,"rgba(255, 255, 255, 0.85)"),Pe.addColorStop(.7,"rgba(255, 255, 255, 0.2)"),Pe.addColorStop(1,"rgba(255, 255, 255, 0)"),z.fillStyle=Pe,z.beginPath(),z.arc(ae,le,Ee,0,2*Math.PI),z.fill(),z.restore()}z.shadowBlur=te?26:15,z.shadowColor=te?"rgba(255, 255, 255, 0.85)":ue,z.beginPath(),z.arc(ae,le,Y,0,2*Math.PI),z.fillStyle=ue,z.fill(),te&&(z.shadowBlur=0,z.beginPath(),z.arc(ae,le,Y*.65,0,2*Math.PI),z.fillStyle="rgba(255, 255, 255, 0.9)",z.fill()),z.shadowBlur=0,z.strokeStyle=te?"rgba(255, 255, 255, 0.85)":ue,z.lineWidth=te?.9:.5,z.beginPath(),z.arc(ae,le,Y+(te?.2:0),0,2*Math.PI),z.stroke();const Se=N?(ee==null?void 0:ee.toLowerCase().includes(N))||((se=G.type)==null?void 0:se.toLowerCase().includes(N)):!1,Be=C===G.id||j===G.id;Se&&(z.beginPath(),z.arc(ae,le,Y+1.3,0,2*Math.PI),z.strokeStyle="rgba(250, 204, 21, 0.9)",z.lineWidth=1,z.stroke()),!!ee&&(Se||Be||M>=1.8)&&(z.shadowBlur=0,z.font=`${re}px Inter, sans-serif`,z.textAlign="center",z.textBaseline="middle",z.fillStyle="rgba(255, 255, 255, 0.7)",z.fillText(ee,ae,le+Y+re+2))},linkColor:O,linkWidth:D=>D.strength*.8,linkCurvature:.15,linkDirectionalParticles:D=>D.relation==="derived"||D.relation==="shared"?1:0,linkDirectionalParticleWidth:1.5,linkDirectionalParticleSpeed:.003,onNodeClick:U,onBackgroundClick:P,onNodeHover:D=>i(D),cooldownTicks:150,d3AlphaDecay:.015,d3VelocityDecay:.4,backgroundColor:"#0B0D17",nodeCanvasObjectMode:()=>"replace",onRenderFramePre:D=>{const G="rgba(148, 163, 184, 0.08)",ee=D.canvas.width,re=D.canvas.height;D.fillStyle=G;for(let Y=0;Y<ee;Y+=40)for(let ue=0;ue<re;ue+=40)D.beginPath(),D.arc(Y,ue,.5,0,2*Math.PI),D.fill()},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0})]})}function zse({data:e}){const n={memories:e.nodes.filter(r=>r.type==="memory").length,documents:e.nodes.filter(r=>r.type==="document").length,connections:e.links.length};return d.jsxs(mt,{className:"bg-card border-border w-80 h-full overflow-y-auto",children:[d.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Legend"}),d.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs("div",{className:"p-4 space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Statistics"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-atlas-glow"}),d.jsxs("span",{className:"text-foreground",children:[n.memories," memories"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-purple-500"}),d.jsxs("span",{className:"text-foreground",children:[n.documents," documents"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),d.jsxs("span",{className:"text-foreground",children:[e.nodes.filter(r=>r.type==="agent").length," agents"]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 bg-atlas-glow/30 rounded"}),d.jsxs("span",{className:"text-foreground",children:[n.connections," connections"]})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Nodes"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-purple-500/80"}),d.jsx("span",{className:"text-foreground",children:"Document"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-sky-400"}),d.jsx("span",{className:"text-foreground",children:"Memory (STM)"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),d.jsx("span",{className:"text-foreground",children:"Memory (LTM)"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-3 h-3 rotate-45 bg-green-500"}),d.jsx("span",{className:"text-foreground",children:"Agent"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),d.jsx("span",{className:"text-foreground",children:"Forgotten"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),d.jsx("span",{className:"text-foreground",children:"Expiring soon"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow animate-pulse-glow"}),d.jsx("span",{className:"text-foreground",children:"New memory"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Connections"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow"}),d.jsx("span",{className:"text-foreground",children:"Doc  Memory"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow/50",style:{borderTop:"1px dashed"}}),d.jsx("span",{className:"text-foreground",children:"Doc similarity"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-pink-400/70"}),d.jsx("span",{className:"text-foreground",children:"Shared memory links"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Relations"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-blue-400"}),d.jsx("span",{className:"text-foreground",children:"Updates"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-purple-400"}),d.jsx("span",{className:"text-foreground",children:"Extends"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-green-400"}),d.jsx("span",{className:"text-foreground",children:"Derives"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-8 h-0.5 bg-pink-400"}),d.jsx("span",{className:"text-foreground",children:"Shared pool"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Similarity"}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow/30"}),d.jsx("span",{className:"text-foreground",children:"Weak"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow"}),d.jsx("span",{className:"text-foreground",children:"Strong"})]})]})]})]})]})}function Fse(){const e=Rd(),{data:n,isLoading:r}=Ko({queryKey:["memory","graph"],queryFn:()=>Xe.fetchMemoryGraph(),refetchInterval:6e4}),o=n??{nodes:[],links:[]};return g.useEffect(()=>{if(typeof window>"u"||typeof window.EventSource>"u")return;const i="/memory/stream",s=As?`${As}${i}`:i,a=new window.EventSource(s);return a.onmessage=l=>{try{JSON.parse(l.data).type==="memory.created"&&e.invalidateQueries({queryKey:["memory","graph"]})}catch(c){console.error("Failed to parse memory stream payload",c)}},a.onerror=()=>{a.close()},()=>{a.close()}},[e]),d.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[d.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[d.jsx("div",{className:"border-b border-border bg-background/80 backdrop-blur-sm",children:d.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(be,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Overview"}),d.jsx(be,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Requests"}),d.jsx(be,{variant:"ghost",className:"bg-muted text-foreground",children:"Memory Graph"})]}),d.jsxs(be,{variant:"outline",className:"border-border hover:border-atlas-glow/50 gap-2",children:[d.jsx("span",{className:"text-sm",children:"Latest"}),d.jsx(vs,{className:"h-4 w-4"})]})]})}),d.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:d.jsx("div",{className:"h-full w-full rounded-3xl border border-border/60 bg-muted/10 relative overflow-hidden",children:r?d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx(Fr,{className:"h-32 w-32 rounded-full"})}):o.nodes.length===0?d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground gap-2",children:[d.jsx("p",{className:"text-sm",children:"No memory nodes available yet."}),d.jsx("p",{className:"text-xs",children:"Run agents to populate the knowledge graph."})]}):d.jsx($se,{data:o})})})]}),d.jsx("aside",{className:"w-80 shrink-0 border-l border-border bg-background",children:d.jsx(zse,{data:o})})]})}const R_=["bg-gradient-to-r from-cyan-500/40 via-cyan-400/40 to-sky-500/20 border-cyan-400/50 text-cyan-100","bg-gradient-to-r from-purple-500/40 via-purple-400/40 to-fuchsia-500/20 border-purple-400/50 text-purple-100","bg-gradient-to-r from-amber-500/40 via-amber-400/40 to-orange-500/20 border-amber-400/50 text-amber-100","bg-gradient-to-r from-emerald-500/40 via-emerald-400/40 to-teal-500/20 border-emerald-400/50 text-emerald-100","bg-gradient-to-r from-rose-500/40 via-rose-400/40 to-pink-500/20 border-rose-400/50 text-rose-100","bg-gradient-to-r from-blue-500/40 via-blue-400/40 to-indigo-500/20 border-blue-400/50 text-blue-100"],Use=e=>R_[e%R_.length],Bse=10;function Hse(){var C,j;const{toast:e}=Td(),[n,r]=g.useState("Summarize this 5-page contract and propose a fair termination clause."),[o,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState(null),[u,h]=g.useState(!1),[f,m]=g.useState(null),p=g.useRef(null),[v,x]=g.useState(!1);g.useEffect(()=>()=>{var A;(A=p.current)==null||A.close()},[]);const b=g.useMemo(()=>{for(let A=o.length-1;A>=0;A-=1){const E=o[A];if(E.to==="User")return E}return null},[o]);g.useEffect(()=>{b||x(!1)},[b]);const y=()=>{i([]),a([]),c(null),m(null),x(!1)},w=()=>{var A;(A=p.current)==null||A.close(),p.current=null,h(!1)},S=()=>{const A=n.trim();if(A.length<Bse){e({title:"Prompt too short",description:"Share a little more context so the agents can collaborate effectively."});return}try{w(),y(),h(!0);const E=`${As}/multi-agent/sessions/stream?prompt=${encodeURIComponent(A)}`,I=new EventSource(E);p.current=I,I.addEventListener("agents",O=>{const U=JSON.parse(O.data);a(U.map((P,F)=>({...P,colour:Use(F)})))}),I.addEventListener("message",O=>{const U=JSON.parse(O.data);i(P=>[...P,U]),U.to==="User"&&x(!0)}),I.addEventListener("memory",O=>{const U=JSON.parse(O.data);c(U)}),I.addEventListener("complete",O=>{const U=JSON.parse(O.data);m(U.sessionId),c(U.memory),h(!1),I.close(),p.current=null}),I.addEventListener("error",O=>{u&&(console.error("[multi-agent] stream error",O),e({variant:"destructive",title:"Collaboration interrupted",description:"The agent stream was interrupted. Please try again."})),I.close(),p.current=null,h(!1)})}catch(E){console.error("[multi-agent] failed to start session",E),e({variant:"destructive",title:"Failed to start collaboration",description:E instanceof Error?E.message:"Unknown error occurred."}),h(!1)}},k=()=>{b&&x(!0)},_=s.length>0?s.length:"",N=typeof((C=l==null?void 0:l.shared)==null?void 0:C.length)=="number"&&l.shared.length>=0?l.shared.length:"";return d.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[d.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:d.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[d.jsx(mL,{className:"h-3.5 w-3.5"}),"Meta Agent Intercommunication"]}),d.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Collaboration Lab"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Spawn specialised agents, let them debate, cross-verify, and synthesise a final answer in real time."})]}),d.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-border/60 bg-background/50 px-6 py-4 text-xs md:flex",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(SL,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-muted-foreground",children:"Agents active"}),d.jsx("span",{className:"text-foreground font-semibold",children:_})]}),d.jsx("div",{className:"h-6 w-px bg-border/80"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(UE,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-muted-foreground",children:"Shared insights"}),d.jsx("span",{className:"text-foreground font-semibold",children:N})]})]})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[d.jsx(mt,{className:"border-border/60 bg-card/80 backdrop-blur px-6 py-5",children:d.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsx("label",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"user prompt"}),d.jsx(cr,{value:n,onChange:A=>r(A.target.value),rows:4,placeholder:"Analyse the latest customer feedback from Slack, helpdesk, and NPS to identify the top 3 issues and a plan to fix them.",className:"min-h-[120px]"})]}),d.jsxs("div",{className:"space-y-2 md:w-56",children:[d.jsx(be,{onClick:S,disabled:u,className:"w-full gap-2",children:u?d.jsxs(d.Fragment,{children:[d.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Collaborating"]}):d.jsxs(d.Fragment,{children:[d.jsx(Kh,{className:"h-4 w-4"}),"Start collaboration"]})}),u&&d.jsxs(be,{variant:"ghost",onClick:w,className:"w-full gap-2 text-destructive",children:[d.jsx(WD,{className:"h-4 w-4"}),"Stop session"]})]})]})}),s.length>0&&d.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:s.map(A=>d.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${A.colour} backdrop-blur transition`,children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-foreground",children:A.name}),d.jsx("p",{className:"text-xs text-white/80",children:A.role})]}),d.jsx(bo,{variant:"secondary",className:"bg-black/40 text-white",children:A.purpose})]})},A.id))}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[2fr,1fr]",children:[d.jsxs(mt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"conversation"}),b&&d.jsxs(be,{variant:"ghost",size:"sm",className:"gap-1 text-foreground",onClick:k,children:[d.jsx(KE,{className:"h-4 w-4"}),"View Summary"]})]}),d.jsx("div",{className:"max-h-[520px] space-y-4 overflow-y-auto px-5 py-4",children:o.length===0?d.jsx("div",{className:"rounded-lg border border-dashed border-border/60 bg-muted/10 px-4 py-10 text-center text-sm text-muted-foreground",children:"Agents will appear here once the collaboration starts."}):o.map(A=>d.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/60 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[d.jsxs("span",{className:"font-semibold text-foreground",children:[A.from,"  ",A.to]}),d.jsx("span",{children:new Date(A.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),d.jsx("p",{className:"mt-2 whitespace-pre-line text-sm text-foreground",children:A.content}),A.reasoning&&d.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),d.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:A.reasoning})]}),A.references&&A.references.length>0&&d.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:"References"}),d.jsx("ul",{className:"mt-1 space-y-1",children:A.references.map(E=>d.jsx("li",{children:E},E))})]})]},A.id))})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(mt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[d.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:d.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Shared memory"})}),d.jsx("div",{className:"space-y-3 px-5 py-4 text-sm text-muted-foreground",children:(j=l==null?void 0:l.shared)!=null&&j.length?l.shared.map(A=>d.jsxs("div",{className:"rounded-lg border border-border/60 bg-background/50 p-3",children:[d.jsx("p",{className:"text-xs text-muted-foreground/80",children:new Date(A.timestamp).toLocaleString()}),d.jsx("p",{className:"mt-1 text-foreground",children:A.content}),d.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Agents: ",A.agentsInvolved.join(", ")]})]},A.id)):d.jsx("p",{children:"No shared memory recorded yet."})})]}),d.jsxs(mt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[d.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:d.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Session metadata"})}),d.jsxs("div",{className:"space-y-2 px-5 py-4 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Session ID"}),d.jsx("span",{className:"text-foreground font-medium",children:f??""})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Status"}),d.jsx("span",{className:"text-foreground font-medium",children:u?"Streaming":"Idle"})]})]})]})]})]}),v&&b&&d.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 backdrop-blur",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[d.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Final summary"}),d.jsx(be,{variant:"ghost",size:"icon",onClick:()=>x(!1),"aria-label":"Close summary",children:d.jsx(tm,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-4 px-5 py-4 text-sm",children:[d.jsx("p",{className:"whitespace-pre-line text-foreground",children:b.content}),b.reasoning&&d.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),d.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:b.reasoning})]})]})]})]})})]})}function Vse(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var j1="ScrollArea",[P5,sle]=Ir(j1),[Wse,to]=P5(j1),M5=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:o="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,c]=g.useState(null),[u,h]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(null),[x,b]=g.useState(null),[y,w]=g.useState(0),[S,k]=g.useState(0),[_,N]=g.useState(!1),[C,j]=g.useState(!1),A=nt(n,I=>c(I)),E=Od(i);return d.jsx(Wse,{scope:r,type:o,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:j,onCornerWidthChange:w,onCornerHeightChange:k,children:d.jsx(Le.div,{dir:E,...a,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});M5.displayName=j1;var R5="ScrollAreaViewport",I5=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:o,nonce:i,...s}=e,a=to(R5,r),l=g.useRef(null),c=nt(n,l,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});I5.displayName=R5;var ei="ScrollAreaScrollbar",T1=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,i=to(ei,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return g.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?d.jsx(qse,{...o,ref:n,forceMount:r}):i.type==="scroll"?d.jsx(Gse,{...o,ref:n,forceMount:r}):i.type==="auto"?d.jsx(O5,{...o,ref:n,forceMount:r}):i.type==="always"?d.jsx(A1,{...o,ref:n}):null});T1.displayName=ei;var qse=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,i=to(ei,e.__scopeScrollArea),[s,a]=g.useState(!1);return g.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(Xn,{present:r||s,children:d.jsx(O5,{"data-state":s?"visible":"hidden",...o,ref:n})})}),Gse=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,i=to(ei,e.__scopeScrollArea),s=e.orientation==="horizontal",a=Ym(()=>c("SCROLL_END"),100),[l,c]=Vse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),g.useEffect(()=>{const u=i.viewport,h=s?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const p=u[h];f!==p&&(c("SCROLL"),a()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),d.jsx(Xn,{present:r||l!=="hidden",children:d.jsx(A1,{"data-state":l==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:xe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:xe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),O5=g.forwardRef((e,n)=>{const r=to(ei,e.__scopeScrollArea),{forceMount:o,...i}=e,[s,a]=g.useState(!1),l=e.orientation==="horizontal",c=Ym(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:h)}},10);return dc(r.viewport,c),dc(r.content,c),d.jsx(Xn,{present:o||s,children:d.jsx(A1,{"data-state":s?"visible":"hidden",...i,ref:n})})}),A1=g.forwardRef((e,n)=>{const{orientation:r="vertical",...o}=e,i=to(ei,e.__scopeScrollArea),s=g.useRef(null),a=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=F5(l.viewport,l.content),h={...o,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,p){return Zse(m,a.current,l,p)}return r==="horizontal"?d.jsx(Kse,{...h,ref:n,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=I_(m,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):r==="vertical"?d.jsx(Yse,{...h,ref:n,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=I_(m,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),Kse=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...i}=e,s=to(ei,e.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),u=nt(n,c,s.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(L5,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Km(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const m=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),B5(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Mp(a.paddingLeft),paddingEnd:Mp(a.paddingRight)}})}})}),Yse=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...i}=e,s=to(ei,e.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),u=nt(n,c,s.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.jsx(L5,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Km(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const m=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),B5(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Mp(a.paddingTop),paddingEnd:Mp(a.paddingBottom)}})}})}),[Xse,D5]=P5(ei),L5=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,p=to(ei,r),[v,x]=g.useState(null),b=nt(n,A=>x(A)),y=g.useRef(null),w=g.useRef(""),S=p.viewport,k=o.content-o.viewport,_=Qt(h),N=Qt(c),C=Ym(f,10);function j(A){if(y.current){const E=A.clientX-y.current.left,I=A.clientY-y.current.top;u({x:E,y:I})}}return g.useEffect(()=>{const A=E=>{const I=E.target;(v==null?void 0:v.contains(I))&&_(E,k)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[S,v,k,_]),g.useEffect(N,[o,N]),dc(v,C),dc(p.content,C),d.jsx(Xse,{scope:r,scrollbar:v,hasThumb:i,onThumbChange:Qt(s),onThumbPointerUp:Qt(a),onThumbPositionChange:N,onThumbPointerDown:Qt(l),children:d.jsx(Le.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:xe(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),j(A))}),onPointerMove:xe(e.onPointerMove,j),onPointerUp:xe(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Pp="ScrollAreaThumb",$5=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,i=D5(Pp,e.__scopeScrollArea);return d.jsx(Xn,{present:r||i.hasThumb,children:d.jsx(Qse,{ref:n,...o})})}),Qse=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:o,...i}=e,s=to(Pp,r),a=D5(Pp,r),{onThumbPositionChange:l}=a,c=nt(n,f=>a.onThumbChange(f)),u=g.useRef(void 0),h=Ym(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=s.viewport;if(f){const m=()=>{if(h(),!u.current){const p=eae(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,h,l]),d.jsx(Le.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:xe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,x=f.clientY-p.top;a.onThumbPointerDown({x:v,y:x})}),onPointerUp:xe(e.onPointerUp,a.onThumbPointerUp)})});$5.displayName=Pp;var P1="ScrollAreaCorner",z5=g.forwardRef((e,n)=>{const r=to(P1,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?d.jsx(Jse,{...e,ref:n}):null});z5.displayName=P1;var Jse=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,...o}=e,i=to(P1,r),[s,a]=g.useState(0),[l,c]=g.useState(0),u=!!(s&&l);return dc(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),dc(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),u?d.jsx(Le.div,{...o,ref:n,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Mp(e){return e?parseInt(e,10):0}function F5(e,n){const r=e/n;return isNaN(r)?0:r}function Km(e){const n=F5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*n;return Math.max(o,18)}function Zse(e,n,r,o="ltr"){const i=Km(r),s=i/2,a=n||s,l=i-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=o==="ltr"?[0,h]:[h*-1,0];return U5([c,u],f)(e)}function I_(e,n,r="ltr"){const o=Km(n),i=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=n.scrollbar.size-i,a=n.content-n.viewport,l=s-o,c=r==="ltr"?[0,a]:[a*-1,0],u=m0(e,c);return U5([0,a],[0,l])(u)}function U5(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(r-e[0])}}function B5(e,n){return e>0&&e<n}var eae=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,l=r.top!==s.top;(a||l)&&n(),r=s,o=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(o)};function Ym(e,n){const r=Qt(e),o=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),g.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,n)},[r,n])}function dc(e,n){const r=Qt(n);bn(()=>{let o=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(o),i.unobserve(e)}}},[e,r])}var H5=M5,tae=I5,nae=z5;const V5=g.forwardRef(({className:e,children:n,...r},o)=>d.jsxs(H5,{ref:o,className:me("relative overflow-hidden",e),...r,children:[d.jsx(tae,{className:"h-full w-full rounded-[inherit]",children:n}),d.jsx(W5,{}),d.jsx(nae,{})]}));V5.displayName=H5.displayName;const W5=g.forwardRef(({className:e,orientation:n="vertical",...r},o)=>d.jsx(T1,{ref:o,orientation:n,className:me("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx($5,{className:"relative flex-1 rounded-full bg-border"})}));W5.displayName=T1.displayName;const q5=()=>{const e={},n=localStorage.getItem("forge_license_key");return n&&(e["x-license-key"]=n),e},rae=async()=>{const e=await fetch(`${As}/multi-agent/tool-agents`,{headers:q5()});if(!e.ok)throw new Error(await e.text());return(await e.json()).items??[]},O_=async(e,n=200)=>{const r=await fetch(`${As}/multi-agent/tool-agents/${e}/logs?limit=${n}`,{headers:q5()});if(!r.ok)throw new Error(await r.text());return(await r.json()).items??[]};function oae(){const[e,n]=g.useState([]),[r,o]=g.useState(null),[i,s]=g.useState(!1),[a,l]=g.useState(null),[c,u]=g.useState([]),[h,f]=g.useState(!1),[m,p]=g.useState(null),v=async()=>{s(!0),o(null);try{const w=await rae();n(w)}catch(w){const S=w instanceof Error?w.message:"Failed to load tool agents";o(S)}finally{s(!1)}};g.useEffect(()=>{v()},[]);const x=async w=>{l(w),u([]),p(null),f(!0);try{const S=await O_(w.id);u(S)}catch(S){p(S instanceof Error?S.message:"Failed to load agent logs")}finally{f(!1)}},b=async()=>{if(a){f(!0),p(null);try{const w=await O_(a.id);u(w)}catch(w){p(w instanceof Error?w.message:"Failed to load agent logs")}finally{f(!1)}}},y=()=>{l(null),u([]),p(null)};return d.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[d.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:d.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[d.jsx(Gh,{className:"h-3.5 w-3.5"}),"Tool Agent Runtime"]}),d.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Tool Agents"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor connected tool agents, verify their status, and confirm they are registered with the runtime."})]}),d.jsxs(be,{onClick:v,disabled:i,className:"gap-2",children:[i?d.jsx(Cr,{className:"h-4 w-4 animate-spin"}):d.jsx(dL,{className:"h-4 w-4"}),"Refresh"]})]})}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[r&&d.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[d.jsx(cS,{className:"h-4 w-4"}),d.jsx("span",{children:r})]}),!i&&e.length===0&&!r&&d.jsx("div",{className:"rounded-lg border border-border/60 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",children:"No tool agents are currently registered. Configure and save credentials for an agent to see it here."}),i&&e.length===0&&d.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Loading tool agents"]}),a?d.jsxs("div",{className:"rounded-lg border border-border/60 bg-[#050609]",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 bg-background/80 px-6 py-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-foreground",children:[d.jsxs(be,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:y,children:[d.jsx($E,{className:"h-4 w-4"}),"Back to agents"]}),d.jsx("span",{children:`${a.name} Logs`})]}),d.jsxs(be,{variant:"secondary",size:"sm",className:"gap-2 border border-border/50 bg-background/60 text-foreground hover:bg-background",onClick:()=>void b(),disabled:h,children:[h?d.jsx(Cr,{className:"h-4 w-4 animate-spin"}):d.jsx(fL,{className:"h-4 w-4"}),"Refresh"]})]}),m&&d.jsxs("div",{className:"mx-6 mt-4 flex items-center gap-2 rounded border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive",children:[d.jsx(cS,{className:"h-3.5 w-3.5"}),m]}),d.jsx(V5,{className:"h-[28rem] px-6 py-4",children:d.jsx("div",{className:"flex flex-col gap-3 font-mono text-xs",children:h&&c.length===0?d.jsxs("div",{className:"flex items-center justify-center gap-2 rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:[d.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Loading logs"]}):c.length===0?d.jsx("div",{className:"rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:"No recent messages for this agent."}):c.map(w=>{const S=new Date(w.timestamp),k=Number.isNaN(S.getTime())?w.timestamp:S.toLocaleTimeString(void 0,{hour12:!1}),_=Object.keys(w.metadata??{}).length?JSON.stringify(w.metadata,null,2):null;return d.jsxs("div",{className:"rounded border border-border/30 bg-black/50 px-4 py-3 leading-relaxed text-slate-200",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-slate-400",children:[d.jsx("span",{className:"text-sky-300",children:k}),d.jsx("span",{className:w.direction==="outgoing"?"text-emerald-400":"text-amber-300",children:w.direction==="outgoing"?"OUT":"IN"}),d.jsx("span",{className:"text-slate-400",children:""}),d.jsx("span",{className:"text-slate-300",children:w.counterpart}),d.jsx("span",{className:"rounded border border-slate-500/60 px-1 py-[1px] text-[10px] text-slate-200",children:w.type.toUpperCase()})]}),d.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-slate-100",children:w.content}),_&&d.jsx("pre",{className:"mt-3 rounded border border-slate-500/30 bg-slate-900/80 p-3 text-[11px] text-slate-300",children:_})]},`${w.id}-${w.timestamp}`)})})})]}):d.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-3",children:e.map(w=>d.jsx(mt,{className:"h-full border-border/60 bg-card/70 backdrop-blur",children:d.jsxs("div",{className:"space-y-4 p-5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:w.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:w.agentType}),d.jsxs("div",{className:"text-[10px] uppercase text-muted-foreground/70",children:["#",w.id.slice(0,8)]})]}),d.jsxs(bo,{variant:w.isTalking?"default":"secondary",className:"gap-1",children:[w.isTalking?d.jsx(Yv,{className:"h-3.5 w-3.5"}):d.jsx(Gh,{className:"h-3.5 w-3.5"}),w.isTalking?"Active":"Idle"]})]}),d.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[d.jsx("div",{className:"font-medium text-foreground",children:"Role"}),d.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:w.role})]}),w.description&&d.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[d.jsx("div",{className:"font-medium text-foreground",children:"Description"}),d.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:w.description})]}),d.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[d.jsx("div",{className:"font-medium text-foreground",children:"Connections"}),w.connections.length===0?d.jsx("p",{className:"mt-1",children:"No linked agents."}):d.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4",children:w.connections.map(S=>d.jsx("li",{children:S},S))})]}),d.jsxs(be,{variant:"outline",size:"sm",className:"w-full border-border/60 bg-background/60 text-foreground hover:bg-background",onClick:()=>void x(w),children:[d.jsx(ZE,{className:"mr-2 h-4 w-4"}),"View Logs"]})]})},w.id))})]})})]})}function iae(){var E;const{user:e}=Co(),n=((E=e==null?void 0:e.user_metadata)==null?void 0:E.org_id)??(e==null?void 0:e.id)??"",[r,o]=g.useState(null),[i,s]=g.useState(!1),[a,l]=g.useState(()=>localStorage.getItem("forge_license_key")??""),[c,u]=g.useState(!1),[h,f]=g.useState(null),m=async()=>{if(n){s(!0);try{const I=await Xe.fetchLicenseStatus(n,a||void 0);o(I),I.license_key&&localStorage.setItem("forge_license_key",I.license_key)}catch(I){console.warn("[settings] license status",I),o(null)}finally{s(!1)}}};g.useEffect(()=>{n&&Xe.fetchUsageSummary(n).then(I=>{f(Number((I==null?void 0:I.total_tokens)??0))}).catch(I=>{console.warn("[settings] usage summary",I),f(null)})},[n]),g.useEffect(()=>{m()},[n]);const p=async()=>{if(!(!a||!n)){s(!0);try{await Xe.applyLicense(n,a.trim()),await m(),vt.success("License applied"),u(!1),localStorage.setItem("forge_license_key",a.trim())}catch(I){console.error(I),vt.error("Failed to apply license")}finally{s(!1)}}},v=async()=>{const I=(r==null?void 0:r.license_key)||a;if(I){s(!0);try{await Xe.validateLicense(I),await m(),vt.success("License validated")}catch(O){console.error(O),vt.error("Validation failed")}finally{s(!1)}}},x=async()=>{const I=(r==null?void 0:r.license_key)||a;if(I){s(!0);try{await Xe.refreshLicense(I),await m(),vt.success("License refreshed")}catch(O){console.error(O),vt.error("Refresh failed")}finally{s(!1)}}},b=r!=null&&r.valid?"Active":r?"Invalid":"Not set",y=r!=null&&r.valid?"default":r?"destructive":"secondary",w=Number((r==null?void 0:r.seats_used)??0),S=Number((r==null?void 0:r.max_seats)??0),k=Number((r==null?void 0:r.tokens_used)??0),_=h??k,N=Number((r==null?void 0:r.max_tokens)??0),C=S?Math.max(S-w,0):0,j=N?Math.max(N-_,0):0,A=N?Math.min(_/N,1):0;return d.jsxs("div",{className:"p-8 space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),d.jsx("p",{className:"text-muted-foreground",children:"Configure your Atlas Forge workspace"})]}),d.jsxs(mt,{className:"bg-card border-border",children:[d.jsxs(Wr,{className:"flex flex-col gap-2",children:[d.jsxs(qr,{className:"flex items-center gap-2",children:["License & Entitlements"," ",d.jsx(bo,{variant:y,className:"text-xs",children:b})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your enterprise license. All features are gated by license validity."})]}),d.jsxs(In,{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"License key"}),d.jsx(qt,{value:(r==null?void 0:r.license_key)??"",readOnly:!0,placeholder:"Not set"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"License keys are read-only once applied."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Customer"}),d.jsx(qt,{value:(r==null?void 0:r.customer_name)??"",readOnly:!0,placeholder:"Unknown"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiry"}),d.jsx("p",{className:"text-lg font-semibold",children:r!=null&&r.expires_at?new Date(r.expires_at).toLocaleString():""})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Seats remaining"}),d.jsx("p",{className:"text-lg font-semibold",children:r?`${C} / ${S||0}`:""})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Tokens"}),d.jsx("p",{className:"text-lg font-semibold",children:r?`${_.toLocaleString()} / ${N.toLocaleString()}`:""}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Remaining: ",j.toLocaleString()," (",Math.round(A*100),"% used)"]})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs(yd,{open:c,onOpenChange:u,children:[d.jsx(mne,{asChild:!0,children:d.jsx(be,{variant:"secondary",children:"Apply New License"})}),d.jsxs(ac,{children:[d.jsxs(lc,{children:[d.jsx(cc,{children:"Apply license"}),d.jsx(y1,{children:"Paste the new license key to replace the current one."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"New license key"}),d.jsx(qt,{value:a,onChange:I=>l(I.target.value),placeholder:"customerId:expires:signature"})]}),d.jsxs(H3,{className:"gap-2",children:[d.jsx(yne,{asChild:!0,children:d.jsx(be,{variant:"ghost",children:"Cancel"})}),d.jsx(be,{onClick:p,disabled:i||!a,children:"Apply"})]})]})]}),d.jsx(be,{variant:"outline",onClick:v,disabled:i||!(r!=null&&r.license_key),children:"Validate License"}),d.jsx(be,{variant:"secondary",onClick:x,disabled:i||!(r!=null&&r.license_key),children:"Refresh License"}),d.jsx(be,{variant:"ghost",onClick:m,disabled:i,children:"Reload Status"})]}),(r==null?void 0:r.reason)&&!r.valid&&d.jsxs("div",{className:"text-sm text-destructive",children:["Reason: ",r.reason]})]})]})]})}const sae=[{id:"okta-saml",title:"Okta SAML SSO",description:"Enable secure SAML 2.0 authentication for enterprise customers through Okta.",icon:gL,isNew:!0,actionText:"Configure SAML"},{id:"atlas-auth",title:"Atlas Account Login",description:"Standard Forge login using Atlas OS identity provider.",icon:XE,actionText:"Manage"},{id:"slack",title:"Slack Workspace",description:"Integrate with Slack to send automated messages, notifications, and agent logs.",icon:xL,actionText:"Connect"},{id:"github",title:"GitHub Repos",description:"Allow Forge agents to read repos, create PRs, and manage issues.",icon:QD,actionText:"Connect"},{id:"jira",title:"Jira Cloud",description:"Sync tickets, create tasks, and enrich Jira workflows inside Forge.",icon:XD,actionText:"Connect"},{id:"confluence",title:"Confluence",description:"Allow Atlas Forge to index documentation and use it as reasoning context.",icon:FD,actionText:"Connect"},{id:"notion",title:"Notion",description:"Sync pages and databases for enriched agent context.",icon:FE,comingSoon:!0,actionText:"Coming Soon"},{id:"gdrive",title:"Google Drive",description:"Import PDFs, DOCs, sheets  and allow agents to read & generate updates.",icon:GD,actionText:"Connect"},{id:"custom-ai",title:"Custom API Connector",description:"Connect any external API to your Agents and Workflows using the custom connector.",icon:zE,actionText:"Configure"},{id:"automations",title:"Workflow Engine",description:"Create workflows, triggers, and sync flows across all integrations.",icon:ej,actionText:"Open"}];function aae({open:e,onOpenChange:n,orgId:r}){const[o,i]=g.useState({idp_metadata_url:"",idp_certificate:"",idp_sso_url:"",sp_entity_id:"",sp_acs_url:"",sp_metadata_url:"",enforce_sso:!1,domainsText:""}),[s,a]=g.useState(!1),[l,c]=g.useState(!1),u=o.sp_metadata_url||(r?`${mo}/.well-known/saml/metadata/${r}`:""),h=o.sp_acs_url||`${As}/auth/saml/acs`,f=o.sp_entity_id||"atlas-forge-sp",m=g.useCallback(async()=>{if(!(!e||!r)){a(!0);try{const b=await Xe.fetchSamlConfig(r);i({idp_metadata_url:b.idp_metadata_url??"",idp_certificate:b.idp_certificate??"",idp_sso_url:b.idp_sso_url??"",sp_entity_id:b.sp_entity_id??f,sp_acs_url:b.sp_acs_url??h,sp_metadata_url:b.sp_metadata_url??u,enforce_sso:b.enforce_sso??!1,domainsText:(b.domains??[]).join(", ")})}catch(b){console.warn("[saml] load config failed",b)}finally{a(!1)}}},[e,r,f,h,u]);g.useEffect(()=>{m()},[m]);const p=g.useCallback(b=>{b&&(navigator.clipboard.writeText(b),vt.success("Copied to clipboard"))},[]),v=async()=>{if(r){c(!0);try{const b=o.domainsText.split(",").map(k=>k.trim().toLowerCase()).filter(Boolean),{domainsText:y,...w}=o,S=await Xe.saveSamlConfig(r,{...w,domains:b});i(k=>({...k,...S,sp_entity_id:S.sp_entity_id??k.sp_entity_id,sp_acs_url:S.sp_acs_url??k.sp_acs_url,sp_metadata_url:S.sp_metadata_url??k.sp_metadata_url,domainsText:b.join(", ")})),vt.success("SAML settings saved")}catch(b){console.error(b),vt.error("Failed to save SAML settings")}finally{c(!1)}}},x=async()=>{if(r){c(!0);try{const{redirectUrl:b}=await Xe.startSamlLogin({org_id:r,relayState:window.location.origin});window.location.href=b}catch(b){console.error(b),vt.error("Unable to start SSO test")}finally{c(!1)}}};return d.jsx(yd,{open:e,onOpenChange:n,children:d.jsxs(ac,{className:"max-w-5xl w-[95vw] rounded-3xl p-8",children:[d.jsxs(lc,{className:"space-y-2",children:[d.jsx(cc,{className:"text-2xl",children:"Configure SAML SSO"}),d.jsx(y1,{children:"Provide your IdP metadata URL and share the Service Provider details with your identity team."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"IdP Metadata URL"}),d.jsx(qt,{placeholder:"https://your-idp/.well-known/saml.xml",value:o.idp_metadata_url,onChange:b=>i(y=>({...y,idp_metadata_url:b.target.value})),disabled:l}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"We will fetch the SSO URL and certificate from this XML."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"IdP SSO URL (Entry Point)"}),d.jsx(qt,{placeholder:"https://your-idp/idp/profile/SAML2/Redirect/SSO",value:o.idp_sso_url,onChange:b=>i(y=>({...y,idp_sso_url:b.target.value})),disabled:l}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Direct login URL from your IdP. Required if metadata fetch is blocked."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"Allowed email domains"}),d.jsx(qt,{placeholder:"company.com, subsidiary.io",value:o.domainsText,onChange:b=>i(y=>({...y,domainsText:b.target.value})),disabled:l}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Used to map login emails to this organization automatically."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"IdP Certificate"}),d.jsx(cr,{rows:4,placeholder:"-----BEGIN CERTIFICATE-----",value:o.idp_certificate,onChange:b=>i(y=>({...y,idp_certificate:b.target.value})),disabled:l})]}),d.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/70 px-4 py-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-sm font-medium",children:"Enforce SSO"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Disable password or magic-link login for this org."})]}),d.jsx(oc,{checked:o.enforce_sso,onCheckedChange:b=>i(y=>({...y,enforce_sso:b})),disabled:l})]})]}),d.jsxs("div",{className:"space-y-4 rounded-2xl border border-border/70 bg-muted/30 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Service Provider Details"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy these into Okta, Azure AD, or Ping."})]}),d.jsx(be,{variant:"secondary",size:"sm",asChild:!0,children:d.jsxs("a",{href:u,download:!0,children:[d.jsx(KD,{className:"h-4 w-4 mr-2"}),"Download XML"]})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(lt,{children:"SP Entity ID"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qt,{value:f,readOnly:!0,className:"font-mono"}),d.jsx(be,{variant:"outline",size:"icon",onClick:()=>p(f),children:d.jsx(Sl,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(lt,{children:"ACS URL"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qt,{value:h,readOnly:!0,className:"font-mono"}),d.jsx(be,{variant:"outline",size:"icon",onClick:()=>p(h),children:d.jsx(Sl,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(lt,{children:"SP Metadata URL"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qt,{value:u,readOnly:!0,className:"font-mono"}),d.jsx(be,{variant:"outline",size:"icon",onClick:()=>p(u),children:d.jsx(Sl,{className:"h-4 w-4"})})]})]})]}),d.jsx(Wd,{}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsx(be,{onClick:v,disabled:l||s||!r,children:l?"Saving":"Save settings"}),d.jsx(be,{variant:"outline",onClick:x,disabled:l||!r,children:"Test SSO"}),d.jsx(be,{variant:"ghost",onClick:m,disabled:s,children:"Reload"})]})]})]})]})})}function lae(){var v;const{user:e}=Co(),n=((v=e==null?void 0:e.user_metadata)==null?void 0:v.org_id)??(e==null?void 0:e.id)??null,r=(e==null?void 0:e.id)??null,[o,i]=g.useState(null),[s,a]=g.useState("unknown"),[l,c]=g.useState("unknown"),[u,h]=g.useState(!1),[f,m]=g.useState(!1);g.useEffect(()=>{(async()=>{h(!0);try{const b=await Xe.fetchSlackIntegrationStatus(n??void 0);a(b.status??"inactive");const y=await Xe.fetchJiraIntegrationStatus(n??void 0,r??void 0);c(y.status??"inactive")}catch(b){console.warn("[integrations] slack status lookup failed",b),a("inactive"),c("inactive")}finally{h(!1)}})()},[r,n]);const p=async x=>{if(x.comingSoon){vt.info("This integration is coming soon!");return}const b=typeof window<"u"?localStorage.getItem("forge_license_key"):null,y=C=>{if(!b)return C;const j=C.includes("?");return`${C}${j?"&":"?"}license_key=${encodeURIComponent(b)}`},w=x.id==="slack",S=x.id==="jira",k=w&&s==="active",_=S&&l==="active",N=k||_?"disconnect":"clicked";i(x.id);try{if(await _s.from("integration_logs").insert({profile_id:e==null?void 0:e.id,integration:x.id,action:N}),w&&k)await Xe.disconnectSlackIntegration(n??void 0),a("inactive"),vt.success("Slack disconnected");else if(S&&_)await Xe.disconnectJiraIntegration(n??void 0,r??void 0),c("inactive"),vt.success("Jira disconnected");else if(x.id==="okta-saml")m(!0);else if(x.id==="slack"){const C=n?`?org_id=${encodeURIComponent(n)}`:"";window.location.href=y(`${mo}/connectors/slack/api/install${C}`)}else if(x.id==="jira"){const C=new URLSearchParams;n&&C.set("org_id",n),r&&C.set("account_id",r);const j=C.toString();window.location.href=y(`${mo}/connectors/jira/api/install${j?`?${j}`:""}`)}else x.id==="github"?window.location.href="/oauth/github":vt.success(`${x.title} opened`)}catch(C){console.error(C),vt.error("Something went wrong")}finally{i(null)}};return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Integrations"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect external apps and identity providers to Atlas Forge"})]})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sae.map(x=>{const b=x.icon,y=o===x.id,w=x.id==="slack",S=x.id==="jira",k=w&&s==="active",_=S&&l==="active";return d.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[d.jsx(Wr,{className:"pb-3",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:d.jsx(b,{className:"w-5 h-5 text-primary"})}),d.jsxs(qr,{className:"text-lg font-semibold flex items-center gap-2",children:[x.title,x.isNew&&d.jsx(bo,{variant:"secondary",className:"bg-green-100 text-green-700 text-xs",children:"NEW"}),x.comingSoon&&d.jsx(bo,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"SOON"}),(w||S)&&d.jsx(bo,{variant:w?k?"default":"outline":_?"default":"outline",className:`text-xs ${_||k?"bg-blue-100 text-blue-700":""}`,children:(w?k:_)?"Connected":u?"Checking...":"Not connected"})]})]})})}),d.jsxs(In,{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:x.description}),d.jsx(be,{variant:x.comingSoon?"secondary":"outline",disabled:y||x.comingSoon||u,className:"w-full",onClick:()=>p(x),children:y?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Loading..."]}):k||_?"Disconnect":x.actionText})]})]},x.id)})}),d.jsx(aae,{open:f,onOpenChange:m,orgId:n})]})}function M1({status:e}){const n={active:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",waiting:"bg-amber-500/10 text-amber-400 border-amber-500/30",disconnected:"bg-red-500/10 text-red-400 border-red-500/30"},r={active:"Active",waiting:"Waiting",disconnected:"Disconnected"};return d.jsxs("span",{className:me("inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium border",n[e]),children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-80"}),r[e]]})}const G5=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:me("w-full caption-bottom text-sm",e),...n})}));G5.displayName="Table";const K5=g.forwardRef(({className:e,...n},r)=>d.jsx("thead",{ref:r,className:me("[&_tr]:border-b",e),...n}));K5.displayName="TableHeader";const Y5=g.forwardRef(({className:e,...n},r)=>d.jsx("tbody",{ref:r,className:me("[&_tr:last-child]:border-0",e),...n}));Y5.displayName="TableBody";const cae=g.forwardRef(({className:e,...n},r)=>d.jsx("tfoot",{ref:r,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));cae.displayName="TableFooter";const bh=g.forwardRef(({className:e,...n},r)=>d.jsx("tr",{ref:r,className:me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...n}));bh.displayName="TableRow";const Ks=g.forwardRef(({className:e,...n},r)=>d.jsx("th",{ref:r,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));Ks.displayName="TableHead";const Hi=g.forwardRef(({className:e,...n},r)=>d.jsx("td",{ref:r,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));Hi.displayName="TableCell";const uae=g.forwardRef(({className:e,...n},r)=>d.jsx("caption",{ref:r,className:me("mt-4 text-sm text-muted-foreground",e),...n}));uae.displayName="TableCaption";function dae({streams:e,onViewStream:n,onDeleteStream:r}){const o=i=>{const s=`curl -X POST ${i.streamUrl} -H "Authorization: Bearer ${i.token}" --data-binary @/path/to/logfile.log`;navigator.clipboard.writeText(s),vt.success("Command copied to clipboard")};return d.jsx("div",{className:"rounded-xl border border-border/50 bg-card/30 overflow-hidden",children:d.jsxs(G5,{children:[d.jsx(K5,{children:d.jsxs(bh,{className:"border-border/50 hover:bg-transparent",children:[d.jsx(Ks,{className:"text-muted-foreground font-medium",children:"Stream Name"}),d.jsx(Ks,{className:"text-muted-foreground font-medium",children:"Status"}),d.jsx(Ks,{className:"text-muted-foreground font-medium",children:"Linked Ticket"}),d.jsx(Ks,{className:"text-muted-foreground font-medium",children:"Created By"}),d.jsx(Ks,{className:"text-muted-foreground font-medium",children:"Last Activity"}),d.jsx(Ks,{className:"text-muted-foreground font-medium text-right",children:"Actions"})]})}),d.jsx(Y5,{children:e.length===0?d.jsx(bh,{children:d.jsx(Hi,{colSpan:6,className:"h-32 text-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-muted/20 flex items-center justify-center mb-3",children:d.jsx(lS,{className:"w-6 h-6 opacity-50"})}),d.jsx("p",{className:"text-sm",children:"No log streams yet"}),d.jsx("p",{className:"text-xs opacity-60 mt-1",children:"Create your first stream to get started"})]})})}):e.map(i=>d.jsxs(bh,{className:"border-border/50 cursor-pointer hover:bg-muted/20 transition-colors",onClick:()=>n(i),children:[d.jsx(Hi,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-mono text-violet-400",children:i.name.slice(0,2).toUpperCase()})}),d.jsx("span",{className:"font-medium",children:i.name})]})}),d.jsx(Hi,{children:d.jsx(M1,{status:i.status})}),d.jsx(Hi,{children:i.ticketKey?d.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[d.jsx("span",{className:"font-mono text-muted-foreground",children:i.ticketKey}),d.jsx(GE,{className:"w-3 h-3 text-muted-foreground/50"})]}):d.jsx("span",{className:"text-muted-foreground/50 text-sm",children:""})}),d.jsx(Hi,{className:"text-sm text-muted-foreground",children:i.createdBy}),d.jsx(Hi,{className:"text-sm text-muted-foreground",children:yT(new Date(i.lastActivity),{addSuffix:!0})}),d.jsx(Hi,{className:"text-right",children:d.jsxs(jA,{children:[d.jsx(TA,{asChild:!0,onClick:s=>s.stopPropagation(),children:d.jsx(be,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:d.jsx(qE,{className:"w-4 h-4"})})}),d.jsxs(Nw,{align:"end",className:"w-48",children:[d.jsxs(Cl,{onClick:s=>{s.stopPropagation(),n(i)},children:[d.jsx(lS,{className:"w-4 h-4 mr-2"}),"View Stream"]}),d.jsxs(Cl,{onClick:s=>{s.stopPropagation(),o(i)},children:[d.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Copy Command"]}),d.jsxs(Cl,{className:"text-red-400 focus:text-red-400",onClick:s=>{s.stopPropagation(),r(i.id)},children:[d.jsx(em,{className:"w-4 h-4 mr-2"}),"Delete Stream"]})]})]})})]},i.id))})]})})}function X5({streamUrl:e,token:n,className:r}){const[o,i]=g.useState(null),s=`curl -X POST ${e} \\
  -H "Authorization: Bearer ${n}" \\
  --data-binary @/path/to/logfile.log`,a=async(c,u)=>{await navigator.clipboard.writeText(c),i(u),vt.success(`${u} copied to clipboard`),setTimeout(()=>i(null),2e3)},l=({text:c,field:u})=>d.jsx(be,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>a(c,u),children:o===u?d.jsxs(d.Fragment,{children:[d.jsx(Kv,{className:"w-3.5 h-3.5 mr-1 text-emerald-400"}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(Sl,{className:"w-3.5 h-3.5 mr-1"}),"Copy"]})});return d.jsxs("div",{className:me("space-y-4",r),children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Stream URL"}),d.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[d.jsx("code",{className:"flex-1 text-sm font-mono text-foreground/80 break-all whitespace-pre-wrap",children:e}),d.jsx(l,{text:e,field:"URL"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"One-Time Token"}),d.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[d.jsx("code",{className:"flex-1 text-sm font-mono text-foreground/80 break-all whitespace-pre-wrap",children:n}),d.jsx(l,{text:n,field:"Token"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[d.jsx(ZE,{className:"w-3.5 h-3.5"}),"CLI Command"]}),d.jsxs("div",{className:"relative rounded-lg bg-[#0d0d12] border border-border/50 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-card/30 border-b border-border/50",children:[d.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"bash"}),d.jsx(l,{text:s.replace(/\\\n\s*/g," "),field:"Command"})]}),d.jsx("pre",{className:"p-4 overflow-x-auto",children:d.jsx("code",{className:"text-sm font-mono text-emerald-400 whitespace-pre-wrap break-all",children:s})})]})]})]})}const fae=[{id:"1",key:"SUP-1",title:"Atlas Issue URGENT",description:"Not able to process payments. need help ASAP!",priority:"P1",status:"open",reporter:"Zaid Mallik",createdAt:"2024-12-03",source:"Portal"},{id:"2",key:"SUP-2",title:"Login page not loading",description:"Users report blank screen on login attempt.",priority:"P1",status:"open",reporter:"Sarah Chen",createdAt:"2024-12-02",source:"Email"},{id:"3",key:"SUP-3",title:"Dashboard performance slow",description:"Dashboard takes 10+ seconds to load.",priority:"P2",status:"in-progress",reporter:"Mike Johnson",createdAt:"2024-12-01",source:"Portal"},{id:"4",key:"SUP-4",title:"Export feature broken",description:"CSV export returns empty file.",priority:"P2",status:"open",reporter:"Emma Wilson",createdAt:"2024-11-30",source:"Slack"},{id:"5",key:"SUP-5",title:"Update documentation",description:"API docs need updating for v2.",priority:"P3",status:"open",reporter:"Alex Brown",createdAt:"2024-11-29",source:"Portal"},{id:"6",key:"SUP-6",title:"Minor UI alignment issue",description:"Button spacing off on mobile.",priority:"P4",status:"closed",reporter:"Lisa Park",createdAt:"2024-11-28",source:"Email"}],hae=({open:e,onOpenChange:n,onCreateStream:r})=>{const[o,i]=g.useState(""),[s,a]=g.useState(""),[l,c]=g.useState(!1),[u,h]=g.useState(!1),[f,m]=g.useState("custom"),[p,v]=g.useState(""),[x,b]=g.useState(""),y=p||(o?`https://atlas.exhaust.io/stream/${o.toLowerCase().replace(/\s+/g,"-")}`:""),w=x||`exh_live_${Math.random().toString(36).substring(2,22)}`,S=async()=>{const N=o.trim();if(N){c(!0);try{const C=await r(N,s||null,f);C&&(v(C.ingest_url||C.lss_ingest_url||""),b(C.lss_secret||"")),h(!0)}finally{c(!1)}}},k=()=>{n(!1),setTimeout(()=>{i(""),a(""),h(!1),v(""),b(""),m("custom")},200)},_=()=>{k()};return d.jsx(yd,{open:e,onOpenChange:k,children:d.jsxs(ac,{className:"sm:max-w-[600px] bg-card border-border/50",children:[d.jsx(lc,{children:d.jsx(cc,{className:"text-xl font-semibold",children:u?"Stream Created":"Create New Log Stream"})}),d.jsx("div",{className:"space-y-6 py-4",children:u?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:d.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:o}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(M1,{status:"waiting"}),s&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["Linked to ",s]})]})]})]}),f==="zscaler_lss"?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"LSS Ingest URL"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"flex-1 text-sm text-foreground/80 break-all whitespace-normal",children:p}),d.jsx(be,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(p),children:"Copy URL"})]})]}),d.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20",children:[d.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Secret Token"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("code",{className:"flex-1 text-sm text-foreground/80 break-all whitespace-normal",children:x}),d.jsx(be,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(x),children:"Copy Token"})]})]}),d.jsx("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5 text-sm text-muted-foreground",children:"How to configure: Zscaler Admin  Log Streaming  Add Stream  Paste the URL and secret token."})]}):d.jsx(X5,{streamUrl:y,token:w}),d.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500/20 flex items-center justify-center shrink-0 mt-0.5",children:d.jsx("span",{className:"text-blue-400 text-xs",children:"i"})}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Share the command above with your user. Once they run it, logs will start streaming in real-time."})]}),d.jsx(be,{className:"w-full",onClick:_,children:"Done"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{children:"Exhaust Type"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{className:me("border rounded-lg p-3 text-left hover:border-border",f==="custom"?"border-border bg-muted/20":"border-border/60"),onClick:()=>m("custom"),children:[d.jsx("div",{className:"font-semibold",children:"Custom Log Stream"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Generic JSON/NDJSON ingestion."})]}),d.jsxs("button",{className:me("border rounded-lg p-3 text-left hover:border-border",f==="zscaler_lss"?"border-border bg-muted/20":"border-border/60"),onClick:()=>m("zscaler_lss"),children:[d.jsx("div",{className:"font-semibold",children:"Zscaler LSS"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use LSS URL + secret in Zscaler admin."})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"stream-name",children:"Stream Name"}),d.jsx(qt,{id:"stream-name",placeholder:"e.g., prod-api-logs",value:o,onChange:N=>i(N.target.value),className:"bg-muted/30"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(lt,{htmlFor:"linked-ticket",children:"Link to Ticket (Optional)"}),d.jsxs(Tm,{value:s,onValueChange:a,children:[d.jsx(Hd,{className:"bg-muted/30",children:d.jsx(Am,{placeholder:"Select a ticket..."})}),d.jsx(Vd,{children:fae.map(N=>d.jsx(rc,{value:N.key,children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:N.key}),d.jsx("span",{className:"truncate",children:N.title})]})},N.id))})]})]}),o&&d.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-muted/20 border border-border/50",children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Preview"}),d.jsx("p",{className:"text-sm font-mono text-foreground/80 truncate",children:y})]}),d.jsx(be,{className:"w-full",onClick:S,disabled:!o.trim()||l,children:l?d.jsxs(d.Fragment,{children:[d.jsx(Cr,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Stream..."]}):"Create Stream"})]})})]})})},pae={ERROR:"text-red-400",WARN:"text-amber-400",INFO:"text-blue-400",DEBUG:"text-muted-foreground"},mae={ERROR:"bg-red-500/10",WARN:"bg-amber-500/10",INFO:"bg-blue-500/10",DEBUG:"bg-muted/30"};function gae({logs:e,className:n}){const[r,o]=g.useState(!1),[i,s]=g.useState(!0),a=g.useRef(null);g.useEffect(()=>{i&&!r&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e,i,r]);const l=c=>{if(!c)return"-";let u=null;if(typeof c=="number"){const m=c<1e10?c*1e3:c;u=new Date(m)}else if(typeof c=="string"){const m=Number(c);if(!Number.isNaN(m)&&m!==0){const p=m<1e10?m*1e3:m;u=new Date(p)}else{const p=new Date(c);u=Number.isNaN(p.getTime())?null:p}}if(!u||Number.isNaN(u.getTime()))return"-";const h=u.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=u.getMilliseconds().toString().padStart(3,"0");return`${h}.${f}`};return d.jsxs("div",{className:me("flex flex-col rounded-xl border border-border/50 bg-[#0d0d12] overflow-hidden h-full",n),children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-card/50 border-b border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500/80"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500/80"})]}),d.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"live-stream.log"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(be,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>s(!i),children:[d.jsx($D,{className:me("w-3.5 h-3.5 mr-1",i&&"text-emerald-400")}),"Auto-scroll"]}),d.jsx(be,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>o(!r),children:r?d.jsxs(d.Fragment,{children:[d.jsx(cL,{className:"w-3.5 h-3.5 mr-1 text-emerald-400"}),"Resume"]}):d.jsxs(d.Fragment,{children:[d.jsx(lL,{className:"w-3.5 h-3.5 mr-1"}),"Pause"]})})]})]}),d.jsxs("div",{ref:a,className:"overflow-y-auto p-4 font-mono text-sm space-y-1 h-full",children:[e.length===0?d.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-muted/20 flex items-center justify-center mx-auto mb-3",children:d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"})}),d.jsx("p",{className:"text-sm",children:"Waiting for logs..."}),d.jsx("p",{className:"text-xs mt-1 opacity-60",children:"Logs will appear here in real-time"})]})}):e.map(c=>d.jsxs("div",{className:me("flex items-start gap-3 px-2 py-1 rounded",mae[c.level]),children:[d.jsx("span",{className:"text-muted-foreground text-xs shrink-0 opacity-60",children:l(c.timestamp)}),d.jsx("span",{className:me("text-xs font-semibold uppercase w-12 shrink-0",pae[c.level]),children:c.level}),c.source&&d.jsxs("span",{className:"text-xs text-muted-foreground shrink-0 opacity-60",children:["[",c.source,"]"]}),d.jsx("span",{className:"text-foreground/90 break-all",children:c.message})]},c.id)),!r&&e.length>0&&d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs pt-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Streaming..."]})]})]})}function yae({streamId:e}){const[n,r]=g.useState([]);return g.useEffect(()=>{let o=!0;const i=async()=>{try{const a=await fetch(`${Ss}/exhausts/${e}/errors`);if(!a.ok)return;const l=await a.json();if(!o)return;r(l.items||[])}catch{}};i();const s=setInterval(i,1e4);return()=>{o=!1,clearInterval(s)}},[e]),n.length?d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ju,{className:"w-4 h-4 text-red-400"}),d.jsx("span",{className:"text-sm font-semibold text-foreground",children:"AI Error Summaries"})]}),n.map((o,i)=>d.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[d.jsx(eL,{className:"w-3.5 h-3.5 text-amber-400"}),d.jsx("span",{children:o.created_at?new Date(o.created_at).toLocaleString():"Just now"})]}),d.jsx("div",{className:"text-sm whitespace-pre-wrap text-foreground",children:o.summary}),o.log_excerpt&&d.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-muted/20 p-2 rounded",children:[d.jsx("span",{className:"font-semibold text-foreground/80",children:"Excerpt:"})," ",o.log_excerpt]})]},i))]}):d.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ju,{className:"w-4 h-4"}),d.jsx("span",{children:"No recent error patterns detected."})]})})}function xae({streamId:e}){var h;const[n,r]=g.useState(""),[o,i]=g.useState(!1),[s,a]=g.useState(null),[l,c]=g.useState(null),u=async()=>{if(n.trim()){i(!0),c(null);try{const f=new AbortController,m=setTimeout(()=>f.abort(),15e3),p=await fetch(`${Ss}/logs/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamId:e,question:n}),signal:f.signal});if(clearTimeout(m),!p.ok)throw new Error(await p.text());const v=await p.json();a(v)}catch(f){const m=typeof(f==null?void 0:f.message)=="string"?f.message:"Error querying logs.";c(m),a(null)}finally{i(!1)}}};return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-border/50 flex items-center gap-2",children:[d.jsx(QE,{className:"w-4 h-4 text-primary"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Log Chat"}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"Ask questions about the latest logs."})]})]}),d.jsxs("div",{className:"p-4 space-y-3 flex-1 overflow-y-auto",children:[d.jsx(cr,{value:n,onChange:f=>r(f.target.value),placeholder:"e.g., Why are requests failing?",className:"min-h-[120px]"}),d.jsxs(be,{onClick:u,disabled:o||!n.trim(),className:"gap-2",children:[o?d.jsx(Cr,{className:"w-4 h-4 animate-spin"}):d.jsx(JE,{className:"w-4 h-4"}),"Ask"]}),l&&d.jsx("div",{className:"text-xs text-destructive",children:l}),s&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-sm text-foreground whitespace-pre-wrap",children:s.answer}),((h=s.citations)==null?void 0:h.length)>0&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Citations"}),d.jsx("ul",{className:"space-y-1 list-disc list-inside",children:s.citations.map((f,m)=>d.jsxs("li",{children:[d.jsx("span",{className:"font-mono text-foreground",children:f.logId}),": ",f.excerpt]},`${f.logId}-${m}`))})]})]})]})]})}function vae({stream:e,onBack:n,onDisconnect:r,onDelete:o}){const{user:i}=Co(),[s,a]=g.useState(e.logs||[]),[l,c]=g.useState(e.logs.length===0),[u,h]=g.useState(null),[f,m]=g.useState("analysis"),p=g.useMemo(()=>{var w;const x={},b=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");b&&(x.Authorization=`Bearer ${b}`);const y=((w=i==null?void 0:i.user_metadata)==null?void 0:w.org_id)??(i==null?void 0:i.id);return y&&(x["x-org-id"]=y),x},[i]);g.useEffect(()=>{a(e.logs||[]),c((e.logs||[]).length===0);const x=async()=>{var y;try{const w=await fetch(`${Ss}/exhausts/${e.id}/logs?limit=200`,{headers:p});if(!w.ok)return;const k=((y=(await w.json()).items)==null?void 0:y.map(_=>({id:_.id,timestamp:_.timestamp||_.created_at,level:(_.level||"INFO").toString().toUpperCase(),message:_.message||_.normalized_text||"",raw:_.raw||_.raw_json})))??[];a(k.reverse()),c(k.length===0)}catch{}};x();const b=setInterval(x,5e3);return h(b),()=>{b&&clearInterval(b)}},[e.id,e.logs,p]);const v=()=>{const x=`curl -X POST ${e.streamUrl} -H "Authorization: Bearer ${e.token}" --data-binary @/path/to/logfile.log`;navigator.clipboard.writeText(x),vt.success("Command copied to clipboard")};return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(be,{variant:"ghost",size:"sm",onClick:n,className:"gap-2",children:[d.jsx($E,{className:"w-4 h-4"}),"Back"]}),d.jsx("div",{className:"h-6 w-px bg-border/50"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-lg font-semibold",children:e.name}),d.jsx(M1,{status:e.status})]}),e.ticketKey&&d.jsxs("a",{href:"#",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors mt-0.5",children:[d.jsx("span",{className:"font-mono",children:e.ticketKey}),d.jsx(GE,{className:"w-3 h-3"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(be,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[d.jsx(Sl,{className:"w-4 h-4"}),"Copy Command"]}),d.jsxs(be,{variant:"outline",size:"sm",onClick:r,className:"gap-2 text-amber-400 border-amber-500/30 hover:bg-amber-500/10",children:[d.jsx(bL,{className:"w-4 h-4"}),"Disconnect"]}),d.jsx(be,{variant:"outline",size:"sm",onClick:()=>m(f==="analysis"?"chat":"analysis"),className:"gap-2",children:"Chat"}),d.jsxs(be,{variant:"outline",size:"sm",onClick:o,className:"gap-2 text-red-400 border-red-500/30 hover:bg-red-500/10",children:[d.jsx(em,{className:"w-4 h-4"}),"Delete"]})]})]}),d.jsx("div",{className:"flex-1 flex overflow-hidden",children:l?d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:d.jsxs("div",{className:"max-w-md text-center",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center mx-auto mb-6",children:d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500/30 to-blue-500/30 flex items-center justify-center",children:d.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 animate-pulse"})})}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No logs yet"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Ask your user to run the command below to begin streaming logs."}),d.jsx("div",{className:"text-left",children:d.jsx(X5,{streamUrl:e.streamUrl,token:e.token})})]})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col min-w-0",children:d.jsx(gae,{logs:s,className:"max-h-[90vh] min-h-[70vh]"})}),d.jsx("div",{className:"w-[400px] border-l border-border/50 bg-card/20 flex flex-col shrink-0",children:f==="analysis"?d.jsx(yae,{streamId:e.id}):d.jsx(xae,{streamId:e.id})})]})})]})}function D_(){const{user:e}=Co(),n=Ia(),{streamId:r}=IF(),[o,i]=g.useState([]),[s,a]=g.useState(null),[l,c]=g.useState(!1),u=g.useMemo(()=>{var S;return((S=e==null?void 0:e.user_metadata)==null?void 0:S.org_id)??(e==null?void 0:e.id)??null},[e]),h=g.useMemo(()=>{const S={"Content-Type":"application/json"},k=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");k&&(S.Authorization=`Bearer ${k}`),u&&(S["x-org-id"]=u);const _=localStorage.getItem("forge_license_key");return _&&(S["x-license-key"]=_),S},[e,u]),f=async()=>{var S;try{const k=await fetch(`${Ss}/exhausts${u?`?org_id=${u}`:""}`,{headers:h,credentials:"include"});if(!k.ok)throw new Error(await k.text());const N=((S=(await k.json()).items)==null?void 0:S.map(C=>({id:C.id,name:C.name,status:"waiting",linkedTicket:null,ticketKey:null,createdBy:C.created_by??"You",createdAt:C.created_at,lastActivity:C.created_at,streamUrl:C.ingest_url,token:C.secret_token,logs:[]})))??[];if(i(N),r){const C=N.find(j=>j.id===r);C&&a(C)}}catch(k){console.error("[exhaust] failed to load streams",k),vt.error("Failed to load streams")}};g.useEffect(()=>{f()},[h,r]);const m=async(S,k,_)=>{const N=await fetch(`${Ss}/exhausts/create`,{method:"POST",headers:h,credentials:"include",body:JSON.stringify({name:S,org_id:u,type:_})});if(!N.ok)throw new Error(await N.text());const C=await N.json(),j={id:C.exhaust_id,name:S,status:"waiting",linkedTicket:k?`Ticket ${k}`:null,ticketKey:k,createdBy:(e==null?void 0:e.email)||"You",createdAt:new Date().toISOString(),lastActivity:new Date().toISOString(),streamUrl:C.ingest_url||C.lss_ingest_url||"",token:C.lss_secret||C.secret_token||"",logs:[]};return i(A=>[j,...A]),n(`/exhausts/${j.id}`),vt.success("Stream created successfully"),C},p=S=>{fetch(`${Ss}/exhausts/${S}`,{method:"DELETE",headers:h,credentials:"include"}).then(()=>{i(k=>k.filter(_=>_.id!==S)),(s==null?void 0:s.id)===S&&a(null),n("/exhausts"),vt.success("Stream deleted")}).catch(k=>{console.error("[exhaust] failed to delete stream",k),vt.error("Failed to delete stream")})},v=()=>{s&&(i(S=>S.map(k=>k.id===s.id?{...k,status:"disconnected"}:k)),a({...s,status:"disconnected"}),vt.success("Stream disconnected"))},x=S=>{a(S),n(`/exhausts/${S.id}`)},b=o.filter(S=>S.status==="active").length,y=o.filter(S=>S.status==="waiting").length,w=o.filter(S=>S.status==="disconnected").length;return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[s?d.jsx(vae,{stream:s,onBack:()=>a(null),onDisconnect:v,onDelete:()=>p(s.id)}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center",children:d.jsx(Gh,{className:"w-5 h-5 text-violet-400"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-semibold",children:"Exhausts"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-Time Log Streams"})]})]}),d.jsxs(be,{onClick:()=>c(!0),className:"gap-2",children:[d.jsx(Xv,{className:"w-4 h-4"}),"Create New Log Stream"]})]}),d.jsxs("div",{className:"px-6 py-4 flex items-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:b})," Active"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:y})," Waiting"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.jsx("span",{className:"font-semibold text-foreground",children:w})," Disconnected"]})]})]}),d.jsx("div",{className:"flex-1 px-6 pb-6 overflow-auto",children:d.jsx(dae,{streams:o,onViewStream:x,onDeleteStream:p})})]}),d.jsx(hae,{open:l,onOpenChange:c,onCreateStream:m})]})}var R1="Progress",I1=100,[wae,ale]=Ir(R1),[bae,Sae]=wae(R1),Q5=g.forwardRef((e,n)=>{const{__scopeProgress:r,value:o=null,max:i,getValueLabel:s=kae,...a}=e;(i||i===0)&&!L_(i)&&console.error(_ae(`${i}`,"Progress"));const l=L_(i)?i:I1;o!==null&&!$_(o,l)&&console.error(Nae(`${o}`,"Progress"));const c=$_(o,l)?o:null,u=Rp(c)?s(c,l):void 0;return d.jsx(bae,{scope:r,value:c,max:l,children:d.jsx(Le.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rp(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":eI(c,l),"data-value":c??void 0,"data-max":l,...a,ref:n})})});Q5.displayName=R1;var J5="ProgressIndicator",Z5=g.forwardRef((e,n)=>{const{__scopeProgress:r,...o}=e,i=Sae(J5,r);return d.jsx(Le.div,{"data-state":eI(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...o,ref:n})});Z5.displayName=J5;function kae(e,n){return`${Math.round(e/n*100)}%`}function eI(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function Rp(e){return typeof e=="number"}function L_(e){return Rp(e)&&!isNaN(e)&&e>0}function $_(e,n){return Rp(e)&&!isNaN(e)&&e<=n&&e>=0}function _ae(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${I1}\`.`}function Nae(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${I1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tI=Q5,Cae=Z5;const nI=g.forwardRef(({className:e,value:n,...r},o)=>d.jsx(tI,{ref:o,className:me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx(Cae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));nI.displayName=tI.displayName;const Qa=e=>typeof e=="string"?e:e==null?"":JSON.stringify(e);function Eae(){var y;const{user:e}=Co(),n=((y=e==null?void 0:e.user_metadata)==null?void 0:y.org_id)??(e==null?void 0:e.id)??null,[r,o]=g.useState(""),[i,s]=g.useState([]),[a,l]=g.useState(null),[c,u]=g.useState(!1),[h,f]=g.useState(!1),[m,p]=g.useState([]);g.useState(""),g.useState(!1),g.useState([]),g.useEffect(()=>{v()},[]),g.useEffect(()=>{if(!n)return;const w=setInterval(()=>{v()},5e3);return()=>clearInterval(w)},[n]);const v=async()=>{if(!n)return;const w=await Xe.listImportJobs(n);s(w||[])},x=async()=>{if(!r.trim()){vt.error("Please enter a valid URL");return}u(!0);try{await Xe.createImportJob(n,r),vt.success("Ingestion started in background!"),o(""),v()}catch(w){console.error(w),vt.error("Failed to start ingestion")}finally{u(!1)}},b=async w=>{var N;if(!((N=w.target.files)!=null&&N.length)||!n)return;f(!0);const S=w.target.files[0],k=`${n}/${Date.now()}-${S.name}`,{error:_}=await _s.storage.from("documents").upload(k,S);if(_){vt.error("Upload failed"),f(!1);return}p(C=>[...C,S]),vt.success("Document uploaded & queued for ingestion"),f(!1)};return d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Data Sources"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all your company-wide knowledge sources  websites, documents, logs & more."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(mt,{className:"shadow-sm hover:shadow-md transition-all",children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-3",children:[d.jsx(nL,{className:"w-5 h-5 text-primary"}),"Knowledge Base Website Ingestion"]})}),d.jsxs(In,{className:"space-y-6",children:[d.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Add your documentation base URL and Atlas Forge will crawl, extract, chunk, embed and index all pages in the background. Perfect for product docs, help centers, or wikis."}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(qt,{placeholder:"https://docs.yourcompany.com",value:r,onChange:w=>o(w.target.value)}),d.jsx(be,{onClick:x,disabled:c,children:c?"Starting...":"Ingest"})]}),d.jsx("h3",{className:"text-sm font-semibold mt-6",children:"Recent Ingestion Jobs"}),d.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-1",children:i.map(w=>{var S,k,_;return d.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsx("span",{className:"text-sm font-medium truncate",children:Qa(w.url)||Qa(w.source)||"Job"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:async()=>{if(n)try{await Xe.deleteImportJob(n,w.id),vt.success("Job deleted"),v()}catch(N){console.error(N),vt.error("Failed to delete job")}},"aria-label":"Delete job",children:d.jsx(em,{className:"h-4 w-4"})}),d.jsx(be,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(a===w.id?null:w.id),"aria-label":"Show crawl info",children:d.jsx(YE,{className:"h-4 w-4"})}),d.jsx(bo,{variant:"secondary",className:w.status==="completed"?"bg-green-100 text-green-700":w.status==="failed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700",children:Qa(w.status??"queued")})]})]}),d.jsx(nI,{value:w.progress??0,className:"h-2"}),d.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[d.jsxs("span",{children:[Qa(w.progress??0),"%"]}),d.jsx("span",{children:w.created_at?new Date(w.created_at).toLocaleString():""})]}),(()=>{const N=w.metadata||{},C=w.processed_records??N.processed_records??0,j=w.total_records??N.total_records??N.pages??void 0,A=N.current_url??"",E=typeof j=="number"?Math.max(0,j-C):null;return d.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"URLs processed"}),d.jsxs("span",{className:"font-medium",children:[C,typeof j=="number"?` / ${j}`:" / ?"]})]}),E!==null&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Remaining"}),d.jsx("span",{className:"font-medium",children:E})]}),A&&d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Current URL"}),d.jsx("span",{className:"font-medium break-all text-[11px] text-foreground",children:A})]})]})})(),a===w.id&&d.jsxs("div",{className:"rounded-md border bg-muted/30 p-3 text-xs space-y-1",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Current URL"}),d.jsx("span",{className:"font-medium break-all",children:Qa(((S=w.metadata)==null?void 0:S.current_url)||w.source||w.url)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last Error"}),d.jsx("span",{className:"font-medium break-all",children:Qa(((k=w.metadata)==null?void 0:k.error)||((_=w.metadata)==null?void 0:_.reason)||"")})]})]})]},w.id)})})]})]}),d.jsxs(mt,{className:"shadow-sm hover:shadow-md transition-all",children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-3",children:[d.jsx(qD,{className:"w-5 h-5 text-primary"}),"Upload Documents (PDF / PPT / DOCX)"]})}),d.jsxs(In,{className:"space-y-6",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload files to be processed & indexed by the global ingestion pipeline."}),d.jsxs("div",{className:"w-full border-2 border-dashed border-primary/30 rounded-xl p-6 text-center hover:bg-primary/5 transition-all",children:[d.jsx(qt,{type:"file",className:"cursor-pointer",onChange:b,disabled:h}),h&&d.jsx("p",{className:"text-primary mt-2 text-sm animate-pulse",children:"Uploading"})]}),d.jsx("div",{className:"space-y-2",children:m.map((w,S)=>d.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(KE,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:w.name})]}),d.jsx(bo,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Uploaded"})]},S))})]})]})]}),d.jsxs(mt,{className:"shadow-sm hover:shadow-md transition-all",children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-3",children:[d.jsx(Og,{className:"w-5 h-5 text-primary"}),"Exhaust Systems (Logs, Events, Metrics)"]})}),d.jsxs(In,{className:"space-y-6",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Connect internal logs, system exhausts, security events, or analytics streams to give your agents live operational awareness."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[d.jsx(WE,{className:"w-4 h-4 text-primary"}),"Syslog Feed"]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ingest logs from your core systems, routers, or firewalls."})]}),d.jsx(be,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]}),d.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[d.jsx(Og,{className:"w-4 h-4 text-primary"}),"App Logs"]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect production logging systems (ELK, Datadog, CloudWatch)."})]}),d.jsx(be,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]}),d.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[d.jsx(Og,{className:"w-4 h-4 text-primary"}),"Trace & Telemetry"]}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stream tracing and span data for deep agent visibility."})]}),d.jsx(be,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]})]})]})]})]})}const jae=[{label:"24h",value:"24h"},{label:"7d",value:"7d"},{label:"30d",value:"30d"},{label:"All",value:"all"}];function Ja(e){return e.toLocaleString()}function Kf(e){return`$${e.toFixed(2)}`}const K0={aiTokensPerMillion:30,embeddingTokensPerMillion:2,vectorStoragePerGb:3,imageGen512:.05,imageGen1024:.1},Yf=e=>Number(e||0)/1e6*K0.aiTokensPerMillion;function Tae(){var C,j;const{user:e,loading:n}=Co(),r=((C=e==null?void 0:e.user_metadata)==null?void 0:C.org_id)??(e==null?void 0:e.id)??"",[o,i]=g.useState(null),[s,a]=g.useState(null),[l,c]=g.useState(null),[u,h]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState("30d"),[x,b]=g.useState(!0),y=ks(A=>A.setUsage);g.useEffect(()=>{if(!r||n)return;(async()=>{b(!0);try{const[E,I,O,U,P]=await Promise.all([Xe.fetchUsageSummary(r),Xe.fetchUsageDaily(r),Xe.fetchUsageBreakdown(r),Xe.fetchUsageModels(r),Xe.fetchUsageAgents(r)]);i(E),a(I),h(O),c(U),m(P),(E==null?void 0:E.total_tokens)!==void 0&&y({total:Number(E.total_tokens)||0,byAgent:{}})}finally{b(!1)}})()},[r,n]);const w=g.useMemo(()=>{if(!l)return[];const A=new Map;return l.forEach(E=>{const I=A.get(E.model_provider)??{tokens:0,cost:0};I.tokens+=Number(E.total_tokens??0),I.cost+=Yf(E.total_tokens??0),A.set(E.model_provider,I)}),Array.from(A.entries()).map(([E,I])=>({provider:E,...I}))},[l]),S=g.useMemo(()=>{if(!s)return[];if(p==="all")return s;const A=new Date,E=p==="24h"?1:p==="7d"?7:30;return s.filter(I=>{const O=new Date(I.bucket);return(A.getTime()-O.getTime())/(1e3*60*60*24)<=E})},[s,p]),k=g.useMemo(()=>p==="24h"?"Last 24 Hours":p==="7d"?"This Week":p==="30d"?"This Month":"All Time",[p]),_=g.useMemo(()=>Number((o==null?void 0:o.total_tokens)??0)/1e6*K0.aiTokensPerMillion,[o]),N=()=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:6}).map((A,E)=>d.jsx(mt,{children:d.jsxs(In,{className:"p-6 space-y-3",children:[d.jsx(Fr,{className:"h-4 w-1/3"}),d.jsx(Fr,{className:"h-8 w-1/2"}),d.jsx(Fr,{className:"h-3 w-2/3"})]})},E))});return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Billing & Usage"}),d.jsx("p",{className:"text-muted-foreground",children:"See tokens, cost, and breakdowns across all models."})]}),d.jsx("div",{className:"flex items-center gap-2",children:jae.map(A=>d.jsx(be,{variant:A.value===p?"default":"outline",size:"sm",onClick:()=>v(A.value),children:A.label},A.value))})]}),d.jsxs(mt,{className:"border-dashed",children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-2",children:[d.jsx(YD,{className:"w-4 h-4 text-primary"})," Subscription"]})}),d.jsxs(In,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[d.jsx("div",{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your plan and payment method."})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(be,{variant:"outline",children:"View Plans"}),d.jsx(be,{children:"Upgrade"})]})]})]}),x||!o?N():d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[d.jsx(mt,{children:d.jsxs(In,{className:"p-6 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[d.jsx(LE,{className:"h-4 w-4"})," Today's Tokens"]}),d.jsx("div",{className:"text-3xl font-bold",children:Ja(((j=S[0])==null?void 0:j.total_tokens)??0)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Rolling window based on filter."})]})}),d.jsx(mt,{children:d.jsxs(In,{className:"p-6 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[d.jsx(wL,{className:"h-4 w-4"})," ",k]}),d.jsx("div",{className:"text-3xl font-bold",children:Ja(S.reduce((A,E)=>A+Number(E.total_tokens??0),0))}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Total tokens for selected window."})]})}),d.jsx(mt,{children:d.jsxs(In,{className:"p-6 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[d.jsx(VE,{className:"h-4 w-4"})," Total Cost"]}),d.jsx("div",{className:"text-3xl font-bold",children:Kf(_)}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Calculated at $",K0.aiTokensPerMillion," per 1M AI tokens; embeddings, storage, and images are 0 until tracked."]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsxs(mt,{className:"lg:col-span-2",children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-2",children:[d.jsx(UD,{className:"h-4 w-4 text-primary"})," Daily Tokens"]})}),d.jsx(In,{children:x||!s?d.jsx(Fr,{className:"h-32 w-full"}):d.jsx("div",{className:"space-y-2",children:S.map(A=>{var E;return d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:new Date(A.bucket).toLocaleDateString()}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"h-2 w-24 bg-primary/10 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-2 bg-primary rounded-full",style:{width:`${Math.min(100,Number(A.total_tokens??0)/(((E=S[0])==null?void 0:E.total_tokens)||1)*100)}%`}})}),d.jsx("span",{className:"font-medium",children:Ja(Number(A.total_tokens??0))})]})]},A.bucket)})})})]}),d.jsxs(mt,{children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-2",children:[d.jsx(Ig,{className:"h-4 w-4 text-primary"})," Provider Breakdown"]})}),d.jsx(In,{className:"space-y-3",children:x||!w.length?d.jsx(Fr,{className:"h-32 w-full"}):w.map(A=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"font-medium capitalize",children:A.provider}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{children:[Ja(A.tokens)," tokens"]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:Kf(Yf(A.tokens))})]})]},A.provider))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[d.jsxs(mt,{children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-2",children:[d.jsx(Ig,{className:"h-4 w-4 text-primary"})," Connector Breakdown"]})}),d.jsx(In,{className:"space-y-3",children:x||!u?d.jsx(Fr,{className:"h-24 w-full"}):u.map(A=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"capitalize",children:A.source??"unknown"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{children:[Ja(Number(A.total_tokens??0))," tokens"]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:Kf(Yf(Number(A.total_tokens??0)))})]})]},A.source??"unknown"))})]}),d.jsxs(mt,{children:[d.jsx(Wr,{children:d.jsxs(qr,{className:"flex items-center gap-2",children:[d.jsx(Ig,{className:"h-4 w-4 text-primary"})," Top Agents"]})}),d.jsx(In,{className:"space-y-3",children:x||!f?d.jsx(Fr,{className:"h-24 w-full"}):f.map(A=>d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{children:A.agent_name??"unknown"}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{children:[Ja(Number(A.total_tokens??0))," tokens"]}),d.jsx("div",{className:"text-xs text-muted-foreground",children:Kf(Yf(Number(A.total_tokens??0)))})]})]},A.agent_name??"unknown"))})]})]})]})}function Aae(){return d.jsxs("div",{className:"p-8 space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Help"}),d.jsx("p",{className:"text-muted-foreground",children:"Get started with Atlas Forge"})]}),d.jsx(mt,{className:"bg-card border-border p-6",children:d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"Help documentation coming soon"})})})]})}const Pae=()=>{const e=Qo();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Mae=yc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mu=g.forwardRef(({className:e,variant:n,...r},o)=>d.jsx("div",{ref:o,role:"alert",className:me(Mae({variant:n}),e),...r}));mu.displayName="Alert";const Rae=g.forwardRef(({className:e,...n},r)=>d.jsx("h5",{ref:r,className:me("mb-1 font-medium leading-none tracking-tight",e),...n}));Rae.displayName="AlertTitle";const gu=g.forwardRef(({className:e,...n},r)=>d.jsx("div",{ref:r,className:me("text-sm [&_p]:leading-relaxed",e),...n}));gu.displayName="AlertDescription";const Iae="https://atlasos.app/login",Oae=e=>{if(!e)return null;try{return decodeURIComponent(e)}catch{return e}},Dae=e=>{if(!e||typeof window>"u")return"/";if(e.startsWith("/"))return e;try{const n=new URL(e,window.location.origin);return n.origin!==window.location.origin?"/":`${n.pathname}${n.search}${n.hash}`||"/"}catch{return"/"}};function Lae(){const{user:e,loading:n}=Co(),r=Ia(),[o]=d8(),[i,s]=g.useState(null),[a,l]=g.useState(null),[c,u]=g.useState(null),[h,f]=g.useState(""),[m,p]=g.useState(null),[v,x]=g.useState(!1),b=o.get("redirect"),y=g.useMemo(()=>Dae(Oae(b)),[b]),w=(m==null?void 0:m.enabled)??!1,S=!!(m!=null&&m.enforceSso);g.useEffect(()=>{n||!e||r(y,{replace:!0})},[n,e,y,r]),g.useEffect(()=>{if(!h||!h.includes("@")){p(null);return}const C=setTimeout(()=>{x(!0),Xe.discoverSaml(h).then(j=>{p(j)}).catch(j=>{console.warn("[login] sso discovery failed",j),p(null)}).finally(()=>x(!1))},350);return()=>clearTimeout(C)},[h]);const k=g.useCallback(()=>{if(typeof window>"u")return"/auth/callback";const C=new URL("/auth/callback",window.location.origin);return y&&C.searchParams.set("redirect",y),C.toString()},[y]),_=g.useCallback(()=>{if(m!=null&&m.enforceSso){u("Your organization enforces SSO. Please use Login with SSO.");return}if(typeof window>"u")return;s("atlas"),u(null),l("Taking you to Atlas");const C=encodeURIComponent(k());window.location.href=`${Iae}?source=forge&redirect=${C}`},[k,m==null?void 0:m.enforceSso]),N=g.useCallback(async()=>{if(!h||!h.includes("@")){u("Enter your work email to continue with SSO.");return}s("saml"),u(null),l("Redirecting to your identity provider");try{const C=await Xe.startSamlLogin({email:h,redirect:y});if(!(C!=null&&C.redirectUrl))throw new Error("Unable to start SAML login. Please try again.");window.location.href=C.redirectUrl}catch(C){console.error("[login] SAML failed",C),s(null),l(null);const j=C instanceof Error?C.message:"SAML login failed.";u(j)}},[y,h]);return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-8",children:[d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"w-full max-w-md space-y-8",children:d.jsx("div",{className:"text-center space-y-6",children:d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("img",{src:"/icon.png",alt:"Atlas",className:"h-12 w-auto"}),d.jsxs("div",{className:"flex flex-col items-start",children:[d.jsx("span",{className:"text-2xl font-bold text-foreground",children:"Atlas"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"By KaizenDev"})]})]})})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(bo,{variant:"outline",className:"px-3 py-1 text-xs uppercase tracking-wide",children:"Trusted Access"}),d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Choose how to sign in"})]})]}),d.jsxs(mt,{className:"shadow-lg border-border/60",children:[d.jsxs(Wr,{className:"space-y-2 text-center",children:[d.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-primary/10 text-primary",children:d.jsx(yL,{className:"h-6 w-6"})}),d.jsx(qr,{className:"text-xl font-semibold",children:"Atlas Forge Login"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your authentication provider."})]}),d.jsxs(In,{className:"space-y-5",children:[S?d.jsx(mu,{children:d.jsx(gu,{children:"Your organization enforces SSO. Use the secure login below."})}):d.jsxs("div",{className:"rounded-2xl border border-border/80 bg-card/70 p-4 space-y-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Login with Atlas"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Use your Atlas credentials to continue."})]}),d.jsx(be,{className:"w-full h-12",onClick:_,disabled:i!==null,children:i==="atlas"?d.jsxs(d.Fragment,{children:[d.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Redirecting"]}):d.jsxs(d.Fragment,{children:["Sign In with Atlas",d.jsx(zD,{className:"h-4 w-4"})]})})]}),d.jsx(Wd,{}),d.jsxs("div",{className:`rounded-2xl border border-border/80 p-4 space-y-3 ${w?"bg-card/70":"bg-muted/30"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:"Login with SSO"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise SAML 2.0 using your IdP (Okta, Azure AD, Ping)."})]}),d.jsx(bo,{variant:w?"default":"outline",children:v?"Checking":w?"Ready":"Domain check"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm text-muted-foreground",children:"Work email"}),d.jsx(qt,{value:h,onChange:C=>f(C.target.value),placeholder:"you@company.com",disabled:i!==null})]}),d.jsx(be,{variant:"outline",className:"w-full h-12",onClick:N,disabled:i!==null||!w||v||!h,children:i==="saml"?d.jsxs(d.Fragment,{children:[d.jsx(Cr,{className:"h-4 w-4 animate-spin"}),"Connecting"]}):d.jsxs(d.Fragment,{children:["Login with SSO",d.jsx(XE,{className:"h-4 w-4"})]})}),h&&!v&&!w&&d.jsx(mu,{className:"text-sm",children:d.jsxs(gu,{children:["We couldn't find an SSO configuration for ",d.jsx("strong",{children:h.split("@")[1]}),". Contact your admin."]})})]}),a&&d.jsx(mu,{children:d.jsx(gu,{children:a})}),c&&d.jsx(mu,{variant:"destructive",children:d.jsx(gu,{children:c})})]})]}),d.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Need help? Contact atlas-support@atlasos.app."})]})})}const z_=e=>{if(!e||typeof window>"u")return"/";let n=e;try{n=decodeURIComponent(e)}catch{n=e}if(n.startsWith("/"))return n;try{const r=new URL(n,window.location.origin);return r.origin!==window.location.origin?"/":`${r.pathname}${r.search}${r.hash}`||"/"}catch{return"/"}};function $ae(){const e=Qo(),n=Ia(),[r,o]=g.useState(null);return g.useEffect(()=>{(async()=>{const s=new URLSearchParams(e.search),a=new URLSearchParams(e.hash.replace(/^#/,"")),l=s.get("redirect")||a.get("redirect"),c=s.get("token")||s.get("access_token")||a.get("token")||a.get("access_token"),u=s.get("refresh")||s.get("refresh_token")||a.get("refresh")||a.get("refresh_token");if(!c||!u){const{data:m,error:p}=await _s.auth.getSession();if(p){o(p.message);return}if(m.session){const v=z_(l);n(v,{replace:!0});return}o("Missing access or refresh token.");return}const{error:h}=await _s.auth.setSession({access_token:c,refresh_token:u});if(h){o(h.message);return}const f=z_(l);n(f,{replace:!0})})()},[e.search,e.hash,n]),r?d.jsx("div",{className:"flex h-screen items-center justify-center",children:d.jsxs("div",{className:"rounded-md border border-destructive/50 bg-destructive/10 px-6 py-4 text-destructive",children:["Authentication failed: ",r]})}):d.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Signing you in"})}function zae(){const{user:e,loading:n}=Co(),r=Qo(),o=Ia();return g.useEffect(()=>{if(n||e)return;const i=`${r.pathname}${r.search}${r.hash}`,s=i?`?redirect=${encodeURIComponent(i)}`:"";o(`/login${s}`,{replace:!0})},[n,e,r.pathname,r.search,r.hash,o]),n||!e&&typeof window<"u"?d.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Authenticating"}):e?d.jsx(KF,{}):null}function Fae(){g.useEffect(()=>{if(typeof window>"u")return;const e=new URL(window.location.href),n=e.searchParams.get("token"),r=e.searchParams.get("refresh");!n||!r||_s.auth.setSession({access_token:n,refresh_token:r}).then(({error:o})=>{if(o){console.error("[supabase] Failed to restore session from redirect",o);return}const i=e.searchParams;i.delete("token"),i.delete("refresh");const s=i.toString(),a=`${e.pathname}${s?`?${s}`:""}${e.hash}`;window.history.replaceState({},"",a),console.log(" Supabase session restored from Atlas redirect")})},[])}function Uae(e){const n=ju(a=>a.updateGraph),r=ju(a=>a.updateState),o=ju(a=>a.pushMessage),i=ks(a=>a.setUsage),s=g.useRef(null);g.useEffect(()=>{const a=`${As}/multi-agent/events`,l=new EventSource(a);s.current=l;const c=m=>{try{const p=JSON.parse(m.data);n(p)}catch(p){console.error("[agent-graph] failed to parse graph",p)}},u=m=>{try{const p=JSON.parse(m.data);r(p)}catch(p){console.error("[agent-graph] failed to parse state",p)}},h=m=>{try{const p=JSON.parse(m.data);o(p)}catch(p){console.error("[agent-graph] failed to parse message",p)}},f=m=>{try{const p=JSON.parse(m.data);i(p)}catch(p){console.error("[agent-graph] failed to parse token usage",p)}};return l.addEventListener("graph",c),l.addEventListener("state",u),l.addEventListener("message",h),l.addEventListener("tokens",f),l.onerror=m=>{console.error("[agent-graph] stream error",m),l.close(),s.current=null},()=>{l.removeEventListener("graph",c),l.removeEventListener("state",u),l.removeEventListener("message",h),l.removeEventListener("tokens",f),l.close(),s.current=null}},[e,o,i,n,r])}const Bae={expired:"bg-destructive text-destructive-foreground",warning:"bg-amber-500 text-amber-950"};function Hae({kind:e,message:n}){return d.jsx("div",{className:`w-full px-4 py-2 text-sm font-medium text-center ${Bae[e]}`,children:n})}function Vae(){var c,u,h;const{user:e}=Co(),n=g.useMemo(()=>{var f;return((f=e==null?void 0:e.user_metadata)==null?void 0:f.org_id)??(e==null?void 0:e.id)??""},[e]),r=typeof window<"u"?localStorage.getItem("forge_license_key")??void 0:void 0,o=Ko({queryKey:["license-status",n,r],queryFn:async()=>n?Xe.fetchLicenseStatus(n,r):null,refetchInterval:6e4,enabled:!!n,staleTime:3e4}),i=Ko({queryKey:["usage-summary",n],queryFn:async()=>n?Xe.fetchUsageSummary(n):null,refetchInterval:6e4,enabled:!!n,staleTime:3e4}),s=Number(((c=i.data)==null?void 0:c.total_tokens)??0)||Number(((u=o.data)==null?void 0:u.tokens_used)??0)||0,a=Number(((h=o.data)==null?void 0:h.max_tokens)??0),l=a>0?Math.min(1,s/a):0;return{...o,usageRatio:l,isExpired:!!o.data&&(!o.data.valid||s>=a&&a>0),isWarning:!!o.data&&a>0&&l>=.9&&l<1}}const Wae=new B6({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),qae=()=>{const e=Qo(),n=e.pathname.startsWith("/login")||e.pathname.startsWith("/auth"),{data:r,isExpired:o,isWarning:i}=Vae(),s=o?{kind:"expired",message:"Important: Licence expired"}:i?{kind:"warning",message:"Important: Licence usage almost full"}:null,a=d.jsxs(XF,{children:[d.jsx(xn,{path:"/login",element:d.jsx(Lae,{})}),d.jsx(xn,{path:"/auth/callback",element:d.jsx($ae,{})}),d.jsxs(xn,{element:d.jsx(zae,{}),children:[d.jsx(xn,{path:"/",element:d.jsx(MU,{})}),d.jsx(xn,{path:"/network",element:d.jsx(xY,{})}),d.jsx(xn,{path:"/memory",element:d.jsx(Fse,{})}),d.jsx(xn,{path:"/multi-agent",element:d.jsx(Hse,{})}),d.jsx(xn,{path:"/console",element:d.jsx(vne,{})}),d.jsx(xn,{path:"/multi-agent/runtime",element:d.jsx(oae,{})}),d.jsx(xn,{path:"/exhausts",element:d.jsx(D_,{})}),d.jsx(xn,{path:"/exhausts/:streamId",element:d.jsx(D_,{})}),d.jsx(xn,{path:"/settings",element:d.jsx(iae,{})}),d.jsx(xn,{path:"/billing",element:d.jsx(Tae,{})}),d.jsx(xn,{path:"/integrations",element:d.jsx(lae,{})}),d.jsx(xn,{path:"/data-sources",element:d.jsx(Eae,{})}),d.jsx(xn,{path:"/help",element:d.jsx(Aae,{})})]}),d.jsx(xn,{path:"*",element:d.jsx(Pae,{})})]});return d.jsxs("div",{className:"flex h-screen w-full flex-col bg-background overflow-hidden",children:[s&&d.jsx(Hae,{kind:s.kind,message:s.message}),d.jsxs("div",{className:"flex flex-1 min-h-0",children:[!n&&d.jsx(jU,{}),d.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[o&&d.jsxs("div",{className:"absolute inset-0 z-20 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center gap-3 p-6 text-center",children:[d.jsx("p",{className:"text-lg font-semibold",children:"Important: Liscence expired"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your token allowance has been exhausted or the license is invalid. Please renew your license to continue using Atlas Forge."}),d.jsx("a",{href:"/settings",className:"text-primary underline font-medium",children:"Go to Settings"})]}),d.jsx("div",{className:o?"pointer-events-none opacity-60":"",children:a})]})]})]})},Gae=()=>(Fae(),Uae(!0),d.jsx(G6,{client:Wae,children:d.jsxs(_6,{children:[d.jsx(s$,{}),d.jsx($$,{}),d.jsx(i8,{children:d.jsx(qae,{})})]})}));cE(document.getElementById("root")).render(d.jsx(a9,{children:d.jsx(Gae,{})}));
