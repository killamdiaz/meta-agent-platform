var wv=e=>{throw TypeError(e)};var qh=(e,n,r)=>n.has(e)||wv("Cannot "+r);var U=(e,n,r)=>(qh(e,n,"read from private field"),r?r.call(e):n.get(e)),Re=(e,n,r)=>n.has(e)?wv("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),xe=(e,n,r,o)=>(qh(e,n,"write to private field"),o?o.call(e,r):n.set(e,r),r),qe=(e,n,r)=>(qh(e,n,"access private method"),r);var _u=(e,n,r,o)=>({set _(s){xe(e,n,s,r)},get _(){return U(e,n,o)}});function kT(e,n){for(var r=0;r<n.length;r++){const o=n[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(o,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ab={exports:{}},$f={},Tb={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),NT=Symbol.for("react.portal"),ET=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),TT=Symbol.for("react.profiler"),jT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),MT=Symbol.for("react.forward_ref"),RT=Symbol.for("react.suspense"),IT=Symbol.for("react.memo"),OT=Symbol.for("react.lazy"),bv=Symbol.iterator;function DT(e){return e===null||typeof e!="object"?null:(e=bv&&e[bv]||e["@@iterator"],typeof e=="function"?e:null)}var jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pb=Object.assign,Mb={};function el(e,n,r){this.props=e,this.context=n,this.refs=Mb,this.updater=r||jb}el.prototype.isReactComponent={};el.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};el.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rb(){}Rb.prototype=el.prototype;function ay(e,n,r){this.props=e,this.context=n,this.refs=Mb,this.updater=r||jb}var ly=ay.prototype=new Rb;ly.constructor=ay;Pb(ly,el.prototype);ly.isPureReactComponent=!0;var Sv=Array.isArray,Ib=Object.prototype.hasOwnProperty,cy={current:null},Ob={key:!0,ref:!0,__self:!0,__source:!0};function Db(e,n,r){var o,s={},i=null,a=null;if(n!=null)for(o in n.ref!==void 0&&(a=n.ref),n.key!==void 0&&(i=""+n.key),n)Ib.call(n,o)&&!Ob.hasOwnProperty(o)&&(s[o]=n[o]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return{$$typeof:Qc,type:e,key:i,ref:a,props:s,_owner:cy.current}}function $T(e,n){return{$$typeof:Qc,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function uy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qc}function LT(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var _v=/\/+/g;function Gh(e,n){return typeof e=="object"&&e!==null&&e.key!=null?LT(""+e.key):n.toString(36)}function ld(e,n,r,o,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qc:case NT:a=!0}}if(a)return a=e,s=s(a),e=o===""?"."+Gh(a,0):o,Sv(s)?(r="",e!=null&&(r=e.replace(_v,"$&/")+"/"),ld(s,n,r,"",function(u){return u})):s!=null&&(uy(s)&&(s=$T(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_v,"$&/")+"/")+e)),n.push(s)),1;if(a=0,o=o===""?".":o+":",Sv(e))for(var l=0;l<e.length;l++){i=e[l];var c=o+Gh(i,l);a+=ld(i,n,r,c,s)}else if(c=DT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=o+Gh(i,l++),a+=ld(i,n,r,c,s);else if(i==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return a}function Cu(e,n,r){if(e==null)return e;var o=[],s=0;return ld(e,o,"","",function(i){return n.call(r,i,s++)}),o}function zT(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},cd={transition:null},FT={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:cd,ReactCurrentOwner:cy};function $b(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Cu,forEach:function(e,n,r){Cu(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Cu(e,function(){n++}),n},toArray:function(e){return Cu(e,function(n){return n})||[]},only:function(e){if(!uy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=el;Xe.Fragment=ET;Xe.Profiler=TT;Xe.PureComponent=ay;Xe.StrictMode=AT;Xe.Suspense=RT;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;Xe.act=$b;Xe.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Pb({},e.props),s=e.key,i=e.ref,a=e._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,a=cy.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)Ib.call(n,c)&&!Ob.hasOwnProperty(c)&&(o[c]=n[c]===void 0&&l!==void 0?l[c]:n[c])}var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:Qc,type:e.type,key:s,ref:i,props:o,_owner:a}};Xe.createContext=function(e){return e={$$typeof:PT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jT,_context:e},e.Consumer=e};Xe.createElement=Db;Xe.createFactory=function(e){var n=Db.bind(null,e);return n.type=e,n};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:MT,render:e}};Xe.isValidElement=uy;Xe.lazy=function(e){return{$$typeof:OT,_payload:{_status:-1,_result:e},_init:zT}};Xe.memo=function(e,n){return{$$typeof:IT,type:e,compare:n===void 0?null:n}};Xe.startTransition=function(e){var n=cd.transition;cd.transition={};try{e()}finally{cd.transition=n}};Xe.unstable_act=$b;Xe.useCallback=function(e,n){return En.current.useCallback(e,n)};Xe.useContext=function(e){return En.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return En.current.useDeferredValue(e)};Xe.useEffect=function(e,n){return En.current.useEffect(e,n)};Xe.useId=function(){return En.current.useId()};Xe.useImperativeHandle=function(e,n,r){return En.current.useImperativeHandle(e,n,r)};Xe.useInsertionEffect=function(e,n){return En.current.useInsertionEffect(e,n)};Xe.useLayoutEffect=function(e,n){return En.current.useLayoutEffect(e,n)};Xe.useMemo=function(e,n){return En.current.useMemo(e,n)};Xe.useReducer=function(e,n,r){return En.current.useReducer(e,n,r)};Xe.useRef=function(e){return En.current.useRef(e)};Xe.useState=function(e){return En.current.useState(e)};Xe.useSyncExternalStore=function(e,n,r){return En.current.useSyncExternalStore(e,n,r)};Xe.useTransition=function(){return En.current.useTransition()};Xe.version="18.3.1";Tb.exports=Xe;var g=Tb.exports;const z=Df(g),dy=kT({__proto__:null,default:z},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=g,HT=Symbol.for("react.element"),BT=Symbol.for("react.fragment"),VT=Object.prototype.hasOwnProperty,WT=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qT={key:!0,ref:!0,__self:!0,__source:!0};function Lb(e,n,r){var o,s={},i=null,a=null;r!==void 0&&(i=""+r),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(a=n.ref);for(o in n)VT.call(n,o)&&!qT.hasOwnProperty(o)&&(s[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)s[o]===void 0&&(s[o]=n[o]);return{$$typeof:HT,type:e,key:i,ref:a,props:s,_owner:WT.current}}$f.Fragment=BT;$f.jsx=Lb;$f.jsxs=Lb;Ab.exports=$f;var h=Ab.exports,zb={exports:{}},rr={},Fb={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(I,j){var H=I.length;I.push(j);e:for(;0<H;){var M=H-1>>>1,$=I[M];if(0<s($,j))I[M]=j,I[H]=$,H=M;else break e}}function r(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var j=I[0],H=I.pop();if(H!==j){I[0]=H;e:for(var M=0,$=I.length,Y=$>>>1;M<Y;){var q=2*(M+1)-1,Z=I[q],ce=q+1,X=I[ce];if(0>s(Z,H))ce<$&&0>s(X,Z)?(I[M]=X,I[ce]=H,M=ce):(I[M]=Z,I[q]=H,M=q);else if(ce<$&&0>s(X,H))I[M]=X,I[ce]=H,M=ce;else break e}}return j}function s(I,j){var H=I.sortIndex-j.sortIndex;return H!==0?H:I.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,m=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var j=r(u);j!==null;){if(j.callback===null)o(u);else if(j.startTime<=I)o(u),j.sortIndex=j.expirationTime,n(c,j);else break;j=r(u)}}function _(I){if(v=!1,S(I),!w)if(r(c)!==null)w=!0,R(C);else{var j=r(u);j!==null&&W(_,j.startTime-I)}}function C(I,j){w=!1,v&&(v=!1,y(A),A=-1),p=!0;var H=m;try{for(S(j),d=r(c);d!==null&&(!(d.expirationTime>j)||I&&!O());){var M=d.callback;if(typeof M=="function"){d.callback=null,m=d.priorityLevel;var $=M(d.expirationTime<=j);j=e.unstable_now(),typeof $=="function"?d.callback=$:d===r(c)&&o(c),S(j)}else o(c);d=r(c)}if(d!==null)var Y=!0;else{var q=r(u);q!==null&&W(_,q.startTime-j),Y=!1}return Y}finally{d=null,m=H,p=!1}}var k=!1,N=null,A=-1,T=5,P=-1;function O(){return!(e.unstable_now()-P<T)}function D(){if(N!==null){var I=e.unstable_now();P=I;var j=!0;try{j=N(!0,I)}finally{j?F():(k=!1,N=null)}}else k=!1}var F;if(typeof x=="function")F=function(){x(D)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,L=E.port2;E.port1.onmessage=D,F=function(){L.postMessage(null)}}else F=function(){b(D,0)};function R(I){N=I,k||(k=!0,F())}function W(I,j){A=b(function(){I(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,R(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var H=m;m=j;try{return I()}finally{m=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,j){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=m;m=I;try{return j()}finally{m=H}},e.unstable_scheduleCallback=function(I,j,H){var M=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?M+H:M):H=M,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,I={id:f++,callback:j,priorityLevel:I,startTime:H,expirationTime:$,sortIndex:-1},H>M?(I.sortIndex=H,n(u,I),r(c)===null&&I===r(u)&&(v?(y(A),A=-1):v=!0,W(_,H-M))):(I.sortIndex=$,n(c,I),w||p||(w=!0,R(C))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var j=m;return function(){var H=m;m=j;try{return I.apply(this,arguments)}finally{m=H}}}})(Ub);Fb.exports=Ub;var GT=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=g,tr=GT;function ue(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hb=new Set,fc={};function Oi(e,n){Da(e,n),Da(e+"Capture",n)}function Da(e,n){for(fc[e]=n,e=0;e<n.length;e++)Hb.add(n[e])}var $o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=Object.prototype.hasOwnProperty,KT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},kv={};function XT(e){return nm.call(kv,e)?!0:nm.call(Cv,e)?!1:KT.test(e)?kv[e]=!0:(Cv[e]=!0,!1)}function QT(e,n,r,o){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZT(e,n,r,o){if(n===null||typeof n>"u"||QT(e,n,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function An(e,n,r,o,s,i,a){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=a}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rn[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];rn[n]=new An(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rn[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rn[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rn[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rn[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rn[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rn[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rn[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(fy,hy);rn[n]=new An(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(fy,hy);rn[n]=new An(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(fy,hy);rn[n]=new An(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rn[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});rn.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rn[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function py(e,n,r,o){var s=rn.hasOwnProperty(n)?rn[n]:null;(s!==null?s.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ZT(n,r,s,o)&&(r=null),o||s===null?XT(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(n=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(n):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,n,r):e.setAttribute(n,r))))}var qo=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),gy=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Nv&&e[Nv]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,Yh;function $l(e){if(Yh===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yh=n&&n[1]||""}return`
`+Yh+e}var Kh=!1;function Xh(e,n){if(!e||Kh)return"";Kh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var o=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){o=u}e.call(n.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=o.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Kh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$l(e):""}function JT(e){switch(e.tag){case 5:return $l(e.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return e=Xh(e.type,!1),e;case 11:return e=Xh(e.type.render,!1),e;case 1:return e=Xh(e.type,!0),e;default:return""}}function im(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Qi:return"Portal";case rm:return"Profiler";case my:return"StrictMode";case om:return"Suspense";case sm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vb:return(e.displayName||"Context")+".Consumer";case Bb:return(e._context.displayName||"Context")+".Provider";case gy:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yy:return n=e.displayName||null,n!==null?n:im(e.type)||"Memo";case ns:n=e._payload,e=e._init;try{return im(e(n))}catch{}}return null}function ej(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return im(n);case 8:return n===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qb(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tj(e){var n=qb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(a){o=""+a,i.call(this,a)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Nu(e){e._valueTracker||(e._valueTracker=tj(e))}function Gb(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=qb(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function am(e,n){var r=n.checked;return jt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ev(e,n){var r=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;r=Is(n.value!=null?n.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Yb(e,n){n=n.checked,n!=null&&py(e,"checked",n,!1)}function lm(e,n){Yb(e,n);var r=Is(n.value),o=n.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?cm(e,n.type,r):n.hasOwnProperty("defaultValue")&&cm(e,n.type,Is(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Av(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cm(e,n,r){(n!=="number"||Rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ll=Array.isArray;function fa(e,n,r,o){if(e=e.options,n){n={};for(var s=0;s<r.length;s++)n["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=n.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Is(r),n=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function um(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ue(91));return jt({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tv(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(ue(92));if(Ll(r)){if(1<r.length)throw Error(ue(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:Is(r)}}function Kb(e,n){var r=Is(n.value),o=Is(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function jv(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Xb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dm(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Xb(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eu,Qb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(n,r,o,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Eu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function hc(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nj=["Webkit","ms","Moz","O"];Object.keys(Xl).forEach(function(e){nj.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xl[n]=Xl[e]})});function Zb(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Xl.hasOwnProperty(e)&&Xl[e]?(""+n).trim():n+"px"}function Jb(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=Zb(r,n[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var rj=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fm(e,n){if(n){if(rj[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ue(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ue(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ue(62))}}function hm(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=null;function vy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mm=null,ha=null,pa=null;function Pv(e){if(e=eu(e)){if(typeof mm!="function")throw Error(ue(280));var n=e.stateNode;n&&(n=Hf(n),mm(e.stateNode,e.type,n))}}function eS(e){ha?pa?pa.push(e):pa=[e]:ha=e}function tS(){if(ha){var e=ha,n=pa;if(pa=ha=null,Pv(e),n)for(e=0;e<n.length;e++)Pv(n[e])}}function nS(e,n){return e(n)}function rS(){}var Qh=!1;function oS(e,n,r){if(Qh)return e(n,r);Qh=!0;try{return nS(e,n,r)}finally{Qh=!1,(ha!==null||pa!==null)&&(rS(),tS())}}function pc(e,n){var r=e.stateNode;if(r===null)return null;var o=Hf(r);if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,n,typeof r));return r}var gm=!1;if($o)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){gm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{gm=!1}function oj(e,n,r,o,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{n.apply(r,u)}catch(f){this.onError(f)}}var Ql=!1,Id=null,Od=!1,ym=null,sj={onError:function(e){Ql=!0,Id=e}};function ij(e,n,r,o,s,i,a,l,c){Ql=!1,Id=null,oj.apply(sj,arguments)}function aj(e,n,r,o,s,i,a,l,c){if(ij.apply(this,arguments),Ql){if(Ql){var u=Id;Ql=!1,Id=null}else throw Error(ue(198));Od||(Od=!0,ym=u)}}function Di(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function sS(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Mv(e){if(Di(e)!==e)throw Error(ue(188))}function lj(e){var n=e.alternate;if(!n){if(n=Di(e),n===null)throw Error(ue(188));return n!==e?null:e}for(var r=e,o=n;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Mv(s),e;if(i===o)return Mv(s),n;i=i.sibling}throw Error(ue(188))}if(r.return!==o.return)r=s,o=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,o=i;break}if(l===o){a=!0,o=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,o=s;break}if(l===o){a=!0,o=i,r=s;break}l=l.sibling}if(!a)throw Error(ue(189))}}if(r.alternate!==o)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:n}function iS(e){return e=lj(e),e!==null?aS(e):null}function aS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=aS(e);if(n!==null)return n;e=e.sibling}return null}var lS=tr.unstable_scheduleCallback,Rv=tr.unstable_cancelCallback,cj=tr.unstable_shouldYield,uj=tr.unstable_requestPaint,$t=tr.unstable_now,dj=tr.unstable_getCurrentPriorityLevel,xy=tr.unstable_ImmediatePriority,cS=tr.unstable_UserBlockingPriority,Dd=tr.unstable_NormalPriority,fj=tr.unstable_LowPriority,uS=tr.unstable_IdlePriority,Lf=null,oo=null;function hj(e){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(Lf,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:gj,pj=Math.log,mj=Math.LN2;function gj(e){return e>>>=0,e===0?32:31-(pj(e)/mj|0)|0}var Au=64,Tu=4194304;function zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $d(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?o=zl(l):(i&=a,i!==0&&(o=zl(i)))}else a=r&~s,a!==0?o=zl(a):i!==0&&(o=zl(i));if(o===0)return 0;if(n!==0&&n!==o&&!(n&s)&&(s=o&-o,i=n&-n,s>=i||s===16&&(i&4194240)!==0))return n;if(o&4&&(o|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)r=31-$r(n),s=1<<r,o|=e[r],n&=~s;return o}function yj(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vj(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-$r(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&o)&&(s[a]=yj(l,n)):c<=n&&(e.expiredLanes|=l),i&=~l}}function vm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dS(){var e=Au;return Au<<=1,!(Au&4194240)&&(Au=64),e}function Zh(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Zc(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-$r(n),e[n]=r}function xj(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$r(r),i=1<<s;n[s]=0,o[s]=-1,e[s]=-1,r&=~i}}function wy(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-$r(r),s=1<<o;s&n|e[o]&n&&(e[o]|=n),r&=~s}}var lt=0;function fS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hS,by,pS,mS,gS,xm=!1,ju=[],_s=null,Cs=null,ks=null,mc=new Map,gc=new Map,is=[],wj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iv(e,n){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":mc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(n.pointerId)}}function pl(e,n,r,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},n!==null&&(n=eu(n),n!==null&&by(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function bj(e,n,r,o,s){switch(n){case"focusin":return _s=pl(_s,e,n,r,o,s),!0;case"dragenter":return Cs=pl(Cs,e,n,r,o,s),!0;case"mouseover":return ks=pl(ks,e,n,r,o,s),!0;case"pointerover":var i=s.pointerId;return mc.set(i,pl(mc.get(i)||null,e,n,r,o,s)),!0;case"gotpointercapture":return i=s.pointerId,gc.set(i,pl(gc.get(i)||null,e,n,r,o,s)),!0}return!1}function yS(e){var n=ei(e.target);if(n!==null){var r=Di(n);if(r!==null){if(n=r.tag,n===13){if(n=sS(r),n!==null){e.blockedOn=n,gS(e.priority,function(){pS(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ud(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=wm(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);pm=o,r.target.dispatchEvent(o),pm=null}else return n=eu(r),n!==null&&by(n),e.blockedOn=r,!1;n.shift()}return!0}function Ov(e,n,r){ud(e)&&r.delete(n)}function Sj(){xm=!1,_s!==null&&ud(_s)&&(_s=null),Cs!==null&&ud(Cs)&&(Cs=null),ks!==null&&ud(ks)&&(ks=null),mc.forEach(Ov),gc.forEach(Ov)}function ml(e,n){e.blockedOn===n&&(e.blockedOn=null,xm||(xm=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,Sj)))}function yc(e){function n(s){return ml(s,e)}if(0<ju.length){ml(ju[0],e);for(var r=1;r<ju.length;r++){var o=ju[r];o.blockedOn===e&&(o.blockedOn=null)}}for(_s!==null&&ml(_s,e),Cs!==null&&ml(Cs,e),ks!==null&&ml(ks,e),mc.forEach(n),gc.forEach(n),r=0;r<is.length;r++)o=is[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<is.length&&(r=is[0],r.blockedOn===null);)yS(r),r.blockedOn===null&&is.shift()}var ma=qo.ReactCurrentBatchConfig,Ld=!0;function _j(e,n,r,o){var s=lt,i=ma.transition;ma.transition=null;try{lt=1,Sy(e,n,r,o)}finally{lt=s,ma.transition=i}}function Cj(e,n,r,o){var s=lt,i=ma.transition;ma.transition=null;try{lt=4,Sy(e,n,r,o)}finally{lt=s,ma.transition=i}}function Sy(e,n,r,o){if(Ld){var s=wm(e,n,r,o);if(s===null)lp(e,n,o,zd,r),Iv(e,o);else if(bj(s,e,n,r,o))o.stopPropagation();else if(Iv(e,o),n&4&&-1<wj.indexOf(e)){for(;s!==null;){var i=eu(s);if(i!==null&&hS(i),i=wm(e,n,r,o),i===null&&lp(e,n,o,zd,r),i===s)break;s=i}s!==null&&o.stopPropagation()}else lp(e,n,o,null,r)}}var zd=null;function wm(e,n,r,o){if(zd=null,e=vy(o),e=ei(e),e!==null)if(n=Di(e),n===null)e=null;else if(r=n.tag,r===13){if(e=sS(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return zd=e,null}function vS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dj()){case xy:return 1;case cS:return 4;case Dd:case fj:return 16;case uS:return 536870912;default:return 16}default:return 16}}var xs=null,_y=null,dd=null;function xS(){if(dd)return dd;var e,n=_y,r=n.length,o,s="value"in xs?xs.value:xs.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(o=1;o<=a&&n[r-o]===s[i-o];o++);return dd=s.slice(e,1<o?1-o:void 0)}function fd(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function Dv(){return!1}function or(e){function n(r,o,s,i,a){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pu:Dv,this.isPropagationStopped=Dv,this}return jt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),n}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cy=or(tl),Jc=jt({},tl,{view:0,detail:0}),kj=or(Jc),Jh,ep,gl,zf=jt({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ky,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(Jh=e.screenX-gl.screenX,ep=e.screenY-gl.screenY):ep=Jh=0,gl=e),Jh)},movementY:function(e){return"movementY"in e?e.movementY:ep}}),$v=or(zf),Nj=jt({},zf,{dataTransfer:0}),Ej=or(Nj),Aj=jt({},Jc,{relatedTarget:0}),tp=or(Aj),Tj=jt({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),jj=or(Tj),Pj=jt({},tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mj=or(Pj),Rj=jt({},tl,{data:0}),Lv=or(Rj),Ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dj[e])?!!n[e]:!1}function ky(){return $j}var Lj=jt({},Jc,{key:function(e){if(e.key){var n=Ij[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ky,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zj=or(Lj),Fj=jt({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zv=or(Fj),Uj=jt({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ky}),Hj=or(Uj),Bj=jt({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vj=or(Bj),Wj=jt({},zf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qj=or(Wj),Gj=[9,13,27,32],Ny=$o&&"CompositionEvent"in window,Zl=null;$o&&"documentMode"in document&&(Zl=document.documentMode);var Yj=$o&&"TextEvent"in window&&!Zl,wS=$o&&(!Ny||Zl&&8<Zl&&11>=Zl),Fv=" ",Uv=!1;function bS(e,n){switch(e){case"keyup":return Gj.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function Kj(e,n){switch(e){case"compositionend":return SS(n);case"keypress":return n.which!==32?null:(Uv=!0,Fv);case"textInput":return e=n.data,e===Fv&&Uv?null:e;default:return null}}function Xj(e,n){if(Ji)return e==="compositionend"||!Ny&&bS(e,n)?(e=xS(),dd=_y=xs=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wS&&n.locale!=="ko"?null:n.data;default:return null}}var Qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qj[e.type]:n==="textarea"}function _S(e,n,r,o){eS(o),n=Fd(n,"onChange"),0<n.length&&(r=new Cy("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Jl=null,vc=null;function Zj(e){IS(e,0)}function Ff(e){var n=na(e);if(Gb(n))return e}function Jj(e,n){if(e==="change")return n}var CS=!1;if($o){var np;if($o){var rp="oninput"in document;if(!rp){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),rp=typeof Bv.oninput=="function"}np=rp}else np=!1;CS=np&&(!document.documentMode||9<document.documentMode)}function Vv(){Jl&&(Jl.detachEvent("onpropertychange",kS),vc=Jl=null)}function kS(e){if(e.propertyName==="value"&&Ff(vc)){var n=[];_S(n,vc,e,vy(e)),oS(Zj,n)}}function eP(e,n,r){e==="focusin"?(Vv(),Jl=n,vc=r,Jl.attachEvent("onpropertychange",kS)):e==="focusout"&&Vv()}function tP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ff(vc)}function nP(e,n){if(e==="click")return Ff(n)}function rP(e,n){if(e==="input"||e==="change")return Ff(n)}function oP(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var zr=typeof Object.is=="function"?Object.is:oP;function xc(e,n){if(zr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!nm.call(n,s)||!zr(e[s],n[s]))return!1}return!0}function Wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qv(e,n){var r=Wv(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wv(r)}}function NS(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?NS(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ES(){for(var e=window,n=Rd();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Rd(e.document)}return n}function Ey(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function sP(e){var n=ES(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&NS(r.ownerDocument.documentElement,r)){if(o!==null&&Ey(r)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(o.start,s);o=o.end===void 0?i:Math.min(o.end,s),!e.extend&&i>o&&(s=o,o=i,i=s),s=qv(r,i);var a=qv(r,o);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),i>o?(e.addRange(n),e.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iP=$o&&"documentMode"in document&&11>=document.documentMode,ea=null,bm=null,ec=null,Sm=!1;function Gv(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sm||ea==null||ea!==Rd(o)||(o=ea,"selectionStart"in o&&Ey(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ec&&xc(ec,o)||(ec=o,o=Fd(bm,"onSelect"),0<o.length&&(n=new Cy("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ea)))}function Mu(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ta={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},op={},AS={};$o&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Uf(e){if(op[e])return op[e];if(!ta[e])return e;var n=ta[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in AS)return op[e]=n[r];return e}var TS=Uf("animationend"),jS=Uf("animationiteration"),PS=Uf("animationstart"),MS=Uf("transitionend"),RS=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,n){RS.set(e,n),Oi(n,[e])}for(var sp=0;sp<Yv.length;sp++){var ip=Yv[sp],aP=ip.toLowerCase(),lP=ip[0].toUpperCase()+ip.slice(1);zs(aP,"on"+lP)}zs(TS,"onAnimationEnd");zs(jS,"onAnimationIteration");zs(PS,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(MS,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Kv(e,n,r){var o=e.type||"unknown-event";e.currentTarget=r,aj(o,n,void 0,e),e.currentTarget=null}function IS(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var i=void 0;if(n)for(var a=o.length-1;0<=a;a--){var l=o[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Kv(s,l,u),i=c}else for(a=0;a<o.length;a++){if(l=o[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Kv(s,l,u),i=c}}}if(Od)throw e=ym,Od=!1,ym=null,e}function gt(e,n){var r=n[Em];r===void 0&&(r=n[Em]=new Set);var o=e+"__bubble";r.has(o)||(OS(n,e,2,!1),r.add(o))}function ap(e,n,r){var o=0;n&&(o|=4),OS(r,e,o,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function wc(e){if(!e[Ru]){e[Ru]=!0,Hb.forEach(function(r){r!=="selectionchange"&&(cP.has(r)||ap(r,!1,e),ap(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,ap("selectionchange",!1,n))}}function OS(e,n,r,o){switch(vS(n)){case 1:var s=_j;break;case 4:s=Cj;break;default:s=Sy}r=s.bind(null,n,r,e),s=void 0,!gm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(n,r,{capture:!0,passive:s}):e.addEventListener(n,r,!0):s!==void 0?e.addEventListener(n,r,{passive:s}):e.addEventListener(n,r,!1)}function lp(e,n,r,o,s){var i=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var l=o.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ei(l),a===null)return;if(c=a.tag,c===5||c===6){o=i=a;continue e}l=l.parentNode}}o=o.return}oS(function(){var u=i,f=vy(r),d=[];e:{var m=RS.get(e);if(m!==void 0){var p=Cy,w=e;switch(e){case"keypress":if(fd(r)===0)break e;case"keydown":case"keyup":p=zj;break;case"focusin":w="focus",p=tp;break;case"focusout":w="blur",p=tp;break;case"beforeblur":case"afterblur":p=tp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hj;break;case TS:case jS:case PS:p=jj;break;case MS:p=Vj;break;case"scroll":p=kj;break;case"wheel":p=qj;break;case"copy":case"cut":case"paste":p=Mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zv}var v=(n&4)!==0,b=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,S;x!==null;){S=x;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,y!==null&&(_=pc(x,y),_!=null&&v.push(bc(x,_,S)))),b)break;x=x.return}0<v.length&&(m=new p(m,w,null,r,f),d.push({event:m,listeners:v}))}}if(!(n&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==pm&&(w=r.relatedTarget||r.fromElement)&&(ei(w)||w[Lo]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?ei(w):null,w!==null&&(b=Di(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=$v,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=zv,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?m:na(p),S=w==null?m:na(w),m=new v(_,x+"leave",p,r,f),m.target=b,m.relatedTarget=S,_=null,ei(f)===u&&(v=new v(y,x+"enter",w,r,f),v.target=S,v.relatedTarget=b,_=v),b=_,p&&w)t:{for(v=p,y=w,x=0,S=v;S;S=Ui(S))x++;for(S=0,_=y;_;_=Ui(_))S++;for(;0<x-S;)v=Ui(v),x--;for(;0<S-x;)y=Ui(y),S--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ui(v),y=Ui(y)}v=null}else v=null;p!==null&&Xv(d,m,p,v,!1),w!==null&&b!==null&&Xv(d,b,w,v,!0)}}e:{if(m=u?na(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=Jj;else if(Hv(m))if(CS)C=rP;else{C=tP;var k=eP}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=nP);if(C&&(C=C(e,u))){_S(d,C,r,f);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&cm(m,"number",m.value)}switch(k=u?na(u):window,e){case"focusin":(Hv(k)||k.contentEditable==="true")&&(ea=k,bm=u,ec=null);break;case"focusout":ec=bm=ea=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Gv(d,r,f);break;case"selectionchange":if(iP)break;case"keydown":case"keyup":Gv(d,r,f)}var N;if(Ny)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ji?bS(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(wS&&r.locale!=="ko"&&(Ji||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ji&&(N=xS()):(xs=f,_y="value"in xs?xs.value:xs.textContent,Ji=!0)),k=Fd(u,A),0<k.length&&(A=new Lv(A,e,null,r,f),d.push({event:A,listeners:k}),N?A.data=N:(N=SS(r),N!==null&&(A.data=N)))),(N=Yj?Kj(e,r):Xj(e,r))&&(u=Fd(u,"onBeforeInput"),0<u.length&&(f=new Lv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}IS(d,n)})}function bc(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Fd(e,n){for(var r=n+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pc(e,r),i!=null&&o.unshift(bc(e,i,s)),i=pc(e,n),i!=null&&o.push(bc(e,i,s))),e=e.return}return o}function Ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xv(e,n,r,o,s){for(var i=n._reactName,a=[];r!==null&&r!==o;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===o)break;l.tag===5&&u!==null&&(l=u,s?(c=pc(r,i),c!=null&&a.unshift(bc(r,c,l))):s||(c=pc(r,i),c!=null&&a.push(bc(r,c,l)))),r=r.return}a.length!==0&&e.push({event:n,listeners:a})}var uP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function Qv(e){return(typeof e=="string"?e:""+e).replace(uP,`
`).replace(dP,"")}function Iu(e,n,r){if(n=Qv(n),Qv(e)!==n&&r)throw Error(ue(425))}function Ud(){}var _m=null,Cm=null;function km(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(e){return Zv.resolve(null).then(e).catch(pP)}:Nm;function pP(e){setTimeout(function(){throw e})}function cp(e,n){var r=n,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),yc(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);yc(n)}function Ns(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Jv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var nl=Math.random().toString(36).slice(2),Jr="__reactFiber$"+nl,Sc="__reactProps$"+nl,Lo="__reactContainer$"+nl,Em="__reactEvents$"+nl,mP="__reactListeners$"+nl,gP="__reactHandles$"+nl;function ei(e){var n=e[Jr];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Lo]||r[Jr]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Jv(e);e!==null;){if(r=e[Jr])return r;e=Jv(e)}return n}e=r,r=e.parentNode}return null}function eu(e){return e=e[Jr]||e[Lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Hf(e){return e[Sc]||null}var Am=[],ra=-1;function Fs(e){return{current:e}}function vt(e){0>ra||(e.current=Am[ra],Am[ra]=null,ra--)}function ht(e,n){ra++,Am[ra]=e.current,e.current=n}var Os={},gn=Fs(Os),zn=Fs(!1),bi=Os;function $a(e,n){var r=e.type.contextTypes;if(!r)return Os;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=n[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fn(e){return e=e.childContextTypes,e!=null}function Hd(){vt(zn),vt(gn)}function ex(e,n,r){if(gn.current!==Os)throw Error(ue(168));ht(gn,n),ht(zn,r)}function DS(e,n,r){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in n))throw Error(ue(108,ej(e)||"Unknown",s));return jt({},r,o)}function Bd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,bi=gn.current,ht(gn,e),ht(zn,zn.current),!0}function tx(e,n,r){var o=e.stateNode;if(!o)throw Error(ue(169));r?(e=DS(e,n,bi),o.__reactInternalMemoizedMergedChildContext=e,vt(zn),vt(gn),ht(gn,e)):vt(zn),ht(zn,r)}var ko=null,Bf=!1,up=!1;function $S(e){ko===null?ko=[e]:ko.push(e)}function yP(e){Bf=!0,$S(e)}function Us(){if(!up&&ko!==null){up=!0;var e=0,n=lt;try{var r=ko;for(lt=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}ko=null,Bf=!1}catch(s){throw ko!==null&&(ko=ko.slice(e+1)),lS(xy,Us),s}finally{lt=n,up=!1}}return null}var oa=[],sa=0,Vd=null,Wd=0,hr=[],pr=0,Si=null,To=1,jo="";function Xs(e,n){oa[sa++]=Wd,oa[sa++]=Vd,Vd=e,Wd=n}function LS(e,n,r){hr[pr++]=To,hr[pr++]=jo,hr[pr++]=Si,Si=e;var o=To;e=jo;var s=32-$r(o)-1;o&=~(1<<s),r+=1;var i=32-$r(n)+s;if(30<i){var a=s-s%5;i=(o&(1<<a)-1).toString(32),o>>=a,s-=a,To=1<<32-$r(n)+s|r<<s|o,jo=i+e}else To=1<<i|r<<s|o,jo=e}function Ay(e){e.return!==null&&(Xs(e,1),LS(e,1,0))}function Ty(e){for(;e===Vd;)Vd=oa[--sa],oa[sa]=null,Wd=oa[--sa],oa[sa]=null;for(;e===Si;)Si=hr[--pr],hr[pr]=null,jo=hr[--pr],hr[pr]=null,To=hr[--pr],hr[pr]=null}var Zn=null,Qn=null,Ct=!1,Ir=null;function zS(e,n){var r=yr(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function nx(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zn=e,Qn=Ns(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zn=e,Qn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=Si!==null?{id:To,overflow:jo}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=yr(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Zn=e,Qn=null,!0):!1;default:return!1}}function Tm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jm(e){if(Ct){var n=Qn;if(n){var r=n;if(!nx(e,n)){if(Tm(e))throw Error(ue(418));n=Ns(r.nextSibling);var o=Zn;n&&nx(e,n)?zS(o,r):(e.flags=e.flags&-4097|2,Ct=!1,Zn=e)}}else{if(Tm(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Ct=!1,Zn=e}}}function rx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function Ou(e){if(e!==Zn)return!1;if(!Ct)return rx(e),Ct=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!km(e.type,e.memoizedProps)),n&&(n=Qn)){if(Tm(e))throw FS(),Error(ue(418));for(;n;)zS(e,n),n=Ns(n.nextSibling)}if(rx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Qn=Ns(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Qn=null}}else Qn=Zn?Ns(e.stateNode.nextSibling):null;return!0}function FS(){for(var e=Qn;e;)e=Ns(e.nextSibling)}function La(){Qn=Zn=null,Ct=!1}function jy(e){Ir===null?Ir=[e]:Ir.push(e)}var vP=qo.ReactCurrentBatchConfig;function yl(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var o=r.stateNode}if(!o)throw Error(ue(147,e));var s=o,i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},n._stringRef=i,n)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Du(e,n){throw e=Object.prototype.toString.call(n),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ox(e){var n=e._init;return n(e._payload)}function US(e){function n(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)n(y,x),x=x.sibling;return null}function o(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=js(y,x),y.index=0,y.sibling=null,y}function i(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,S,_){return x===null||x.tag!==6?(x=yp(S,y.mode,_),x.return=y,x):(x=s(x,S),x.return=y,x)}function c(y,x,S,_){var C=S.type;return C===Zi?f(y,x,S.props.children,_,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ns&&ox(C)===x.type)?(_=s(x,S.props),_.ref=yl(y,x,S),_.return=y,_):(_=xd(S.type,S.key,S.props,null,y.mode,_),_.ref=yl(y,x,S),_.return=y,_)}function u(y,x,S,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=vp(S,y.mode,_),x.return=y,x):(x=s(x,S.children||[]),x.return=y,x)}function f(y,x,S,_,C){return x===null||x.tag!==7?(x=mi(S,y.mode,_,C),x.return=y,x):(x=s(x,S),x.return=y,x)}function d(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yp(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ku:return S=xd(x.type,x.key,x.props,null,y.mode,S),S.ref=yl(y,null,x),S.return=y,S;case Qi:return x=vp(x,y.mode,S),x.return=y,x;case ns:var _=x._init;return d(y,_(x._payload),S)}if(Ll(x)||fl(x))return x=mi(x,y.mode,S,null),x.return=y,x;Du(y,x)}return null}function m(y,x,S,_){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:l(y,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return S.key===C?c(y,x,S,_):null;case Qi:return S.key===C?u(y,x,S,_):null;case ns:return C=S._init,m(y,x,C(S._payload),_)}if(Ll(S)||fl(S))return C!==null?null:f(y,x,S,_,null);Du(y,S)}return null}function p(y,x,S,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(S)||null,l(x,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return y=y.get(_.key===null?S:_.key)||null,c(x,y,_,C);case Qi:return y=y.get(_.key===null?S:_.key)||null,u(x,y,_,C);case ns:var k=_._init;return p(y,x,S,k(_._payload),C)}if(Ll(_)||fl(_))return y=y.get(S)||null,f(x,y,_,C,null);Du(x,_)}return null}function w(y,x,S,_){for(var C=null,k=null,N=x,A=x=0,T=null;N!==null&&A<S.length;A++){N.index>A?(T=N,N=null):T=N.sibling;var P=m(y,N,S[A],_);if(P===null){N===null&&(N=T);break}e&&N&&P.alternate===null&&n(y,N),x=i(P,x,A),k===null?C=P:k.sibling=P,k=P,N=T}if(A===S.length)return r(y,N),Ct&&Xs(y,A),C;if(N===null){for(;A<S.length;A++)N=d(y,S[A],_),N!==null&&(x=i(N,x,A),k===null?C=N:k.sibling=N,k=N);return Ct&&Xs(y,A),C}for(N=o(y,N);A<S.length;A++)T=p(N,y,A,S[A],_),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?A:T.key),x=i(T,x,A),k===null?C=T:k.sibling=T,k=T);return e&&N.forEach(function(O){return n(y,O)}),Ct&&Xs(y,A),C}function v(y,x,S,_){var C=fl(S);if(typeof C!="function")throw Error(ue(150));if(S=C.call(S),S==null)throw Error(ue(151));for(var k=C=null,N=x,A=x=0,T=null,P=S.next();N!==null&&!P.done;A++,P=S.next()){N.index>A?(T=N,N=null):T=N.sibling;var O=m(y,N,P.value,_);if(O===null){N===null&&(N=T);break}e&&N&&O.alternate===null&&n(y,N),x=i(O,x,A),k===null?C=O:k.sibling=O,k=O,N=T}if(P.done)return r(y,N),Ct&&Xs(y,A),C;if(N===null){for(;!P.done;A++,P=S.next())P=d(y,P.value,_),P!==null&&(x=i(P,x,A),k===null?C=P:k.sibling=P,k=P);return Ct&&Xs(y,A),C}for(N=o(y,N);!P.done;A++,P=S.next())P=p(N,y,A,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?A:P.key),x=i(P,x,A),k===null?C=P:k.sibling=P,k=P);return e&&N.forEach(function(D){return n(y,D)}),Ct&&Xs(y,A),C}function b(y,x,S,_){if(typeof S=="object"&&S!==null&&S.type===Zi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:e:{for(var C=S.key,k=x;k!==null;){if(k.key===C){if(C=S.type,C===Zi){if(k.tag===7){r(y,k.sibling),x=s(k,S.props.children),x.return=y,y=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ns&&ox(C)===k.type){r(y,k.sibling),x=s(k,S.props),x.ref=yl(y,k,S),x.return=y,y=x;break e}r(y,k);break}else n(y,k);k=k.sibling}S.type===Zi?(x=mi(S.props.children,y.mode,_,S.key),x.return=y,y=x):(_=xd(S.type,S.key,S.props,null,y.mode,_),_.ref=yl(y,x,S),_.return=y,y=_)}return a(y);case Qi:e:{for(k=S.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(y,x.sibling),x=s(x,S.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else n(y,x);x=x.sibling}x=vp(S,y.mode,_),x.return=y,y=x}return a(y);case ns:return k=S._init,b(y,x,k(S._payload),_)}if(Ll(S))return w(y,x,S,_);if(fl(S))return v(y,x,S,_);Du(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,S),x.return=y,y=x):(r(y,x),x=yp(S,y.mode,_),x.return=y,y=x),a(y)):r(y,x)}return b}var za=US(!0),HS=US(!1),qd=Fs(null),Gd=null,ia=null,Py=null;function My(){Py=ia=Gd=null}function Ry(e){var n=qd.current;vt(qd),e._currentValue=n}function Pm(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function ga(e,n){Gd=e,Py=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($n=!0),e.firstContext=null)}function wr(e){var n=e._currentValue;if(Py!==e)if(e={context:e,memoizedValue:n,next:null},ia===null){if(Gd===null)throw Error(ue(308));ia=e,Gd.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return n}var ti=null;function Iy(e){ti===null?ti=[e]:ti.push(e)}function BS(e,n,r,o){var s=n.interleaved;return s===null?(r.next=r,Iy(n)):(r.next=s.next,s.next=r),n.interleaved=r,zo(e,o)}function zo(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var rs=!1;function Oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VS(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,nt&2){var s=o.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),o.pending=n,zo(e,r)}return s=o.interleaved,s===null?(n.next=n,Iy(o)):(n.next=s.next,s.next=n),o.interleaved=n,zo(e,r)}function hd(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,wy(e,r)}}function sx(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=n:i=i.next=n}else s=i=n;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Yd(e,n,r,o){var s=e.updateQueue;rs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,f=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(m=n,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(p,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,m=typeof w=="function"?w.call(p,d,m):w,m==null)break e;d=jt({},d,m);break e;case 2:rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,n=s.shared.interleaved,n!==null){s=n;do a|=s.lane,s=s.next;while(s!==n)}else i===null&&(s.shared.lanes=0);Ci|=a,e.lanes=a,e.memoizedState=d}}function ix(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(ue(191,s));s.call(o)}}}var tu={},so=Fs(tu),_c=Fs(tu),Cc=Fs(tu);function ni(e){if(e===tu)throw Error(ue(174));return e}function Dy(e,n){switch(ht(Cc,n),ht(_c,e),ht(so,tu),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:dm(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=dm(n,e)}vt(so),ht(so,n)}function Fa(){vt(so),vt(_c),vt(Cc)}function WS(e){ni(Cc.current);var n=ni(so.current),r=dm(n,e.type);n!==r&&(ht(_c,e),ht(so,r))}function $y(e){_c.current===e&&(vt(so),vt(_c))}var At=Fs(0);function Kd(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var dp=[];function Ly(){for(var e=0;e<dp.length;e++)dp[e]._workInProgressVersionPrimary=null;dp.length=0}var pd=qo.ReactCurrentDispatcher,fp=qo.ReactCurrentBatchConfig,_i=0,Tt=null,Ut=null,Gt=null,Xd=!1,tc=!1,kc=0,xP=0;function dn(){throw Error(ue(321))}function zy(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!zr(e[r],n[r]))return!1;return!0}function Fy(e,n,r,o,s,i){if(_i=i,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,pd.current=e===null||e.memoizedState===null?_P:CP,e=r(o,s),tc){i=0;do{if(tc=!1,kc=0,25<=i)throw Error(ue(301));i+=1,Gt=Ut=null,n.updateQueue=null,pd.current=kP,e=r(o,s)}while(tc)}if(pd.current=Qd,n=Ut!==null&&Ut.next!==null,_i=0,Gt=Ut=Tt=null,Xd=!1,n)throw Error(ue(300));return e}function Uy(){var e=kc!==0;return kc=0,e}function Yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Tt.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function br(){if(Ut===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var n=Gt===null?Tt.memoizedState:Gt.next;if(n!==null)Gt=n,Ut=e;else{if(e===null)throw Error(ue(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Gt===null?Tt.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Nc(e,n){return typeof n=="function"?n(e):n}function hp(e){var n=br(),r=n.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var o=Ut,s=o.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}o.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,o=o.baseState;var l=a=null,c=null,u=i;do{var f=u.lane;if((_i&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=o):c=c.next=d,Tt.lanes|=f,Ci|=f}u=u.next}while(u!==null&&u!==i);c===null?a=o:c.next=l,zr(o,n.memoizedState)||($n=!0),n.memoizedState=o,n.baseState=a,n.baseQueue=c,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Tt.lanes|=i,Ci|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function pp(e){var n=br(),r=n.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,i=n.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);zr(i,n.memoizedState)||($n=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),r.lastRenderedState=i}return[i,o]}function qS(){}function GS(e,n){var r=Tt,o=br(),s=n(),i=!zr(o.memoizedState,s);if(i&&(o.memoizedState=s,$n=!0),o=o.queue,Hy(XS.bind(null,r,o,e),[e]),o.getSnapshot!==n||i||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,Ec(9,KS.bind(null,r,o,s,n),void 0,null),Kt===null)throw Error(ue(349));_i&30||YS(r,n,s)}return s}function YS(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n={lastEffect:null,stores:null},Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function KS(e,n,r,o){n.value=r,n.getSnapshot=o,QS(n)&&ZS(e)}function XS(e,n,r){return r(function(){QS(n)&&ZS(e)})}function QS(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!zr(e,r)}catch{return!0}}function ZS(e){var n=zo(e,1);n!==null&&Lr(n,e,1,-1)}function ax(e){var n=Yr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:e},n.queue=e,e=e.dispatch=SP.bind(null,Tt,e),[n.memoizedState,e]}function Ec(e,n,r,o){return e={tag:e,create:n,destroy:r,deps:o,next:null},n=Tt.updateQueue,n===null?(n={lastEffect:null,stores:null},Tt.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e)),e}function JS(){return br().memoizedState}function md(e,n,r,o){var s=Yr();Tt.flags|=e,s.memoizedState=Ec(1|n,r,void 0,o===void 0?null:o)}function Vf(e,n,r,o){var s=br();o=o===void 0?null:o;var i=void 0;if(Ut!==null){var a=Ut.memoizedState;if(i=a.destroy,o!==null&&zy(o,a.deps)){s.memoizedState=Ec(n,r,i,o);return}}Tt.flags|=e,s.memoizedState=Ec(1|n,r,i,o)}function lx(e,n){return md(8390656,8,e,n)}function Hy(e,n){return Vf(2048,8,e,n)}function e_(e,n){return Vf(4,2,e,n)}function t_(e,n){return Vf(4,4,e,n)}function n_(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function r_(e,n,r){return r=r!=null?r.concat([e]):null,Vf(4,4,n_.bind(null,n,e),r)}function By(){}function o_(e,n){var r=br();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&zy(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function s_(e,n){var r=br();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&zy(n,o[1])?o[0]:(e=e(),r.memoizedState=[e,n],e)}function i_(e,n,r){return _i&21?(zr(r,n)||(r=dS(),Tt.lanes|=r,Ci|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=r)}function wP(e,n){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var o=fp.transition;fp.transition={};try{e(!1),n()}finally{lt=r,fp.transition=o}}function a_(){return br().memoizedState}function bP(e,n,r){var o=Ts(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},l_(e))c_(n,r);else if(r=BS(e,n,r,o),r!==null){var s=Nn();Lr(r,e,o,s),u_(r,n,o)}}function SP(e,n,r){var o=Ts(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(l_(e))c_(n,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var a=n.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,zr(l,a)){var c=n.interleaved;c===null?(s.next=s,Iy(n)):(s.next=c.next,c.next=s),n.interleaved=s;return}}catch{}finally{}r=BS(e,n,s,o),r!==null&&(s=Nn(),Lr(r,e,o,s),u_(r,n,o))}}function l_(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function c_(e,n){tc=Xd=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function u_(e,n,r){if(r&4194240){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,wy(e,r)}}var Qd={readContext:wr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},_P={readContext:wr,useCallback:function(e,n){return Yr().memoizedState=[e,n===void 0?null:n],e},useContext:wr,useEffect:lx,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,md(4194308,4,n_.bind(null,n,e),r)},useLayoutEffect:function(e,n){return md(4194308,4,e,n)},useInsertionEffect:function(e,n){return md(4,2,e,n)},useMemo:function(e,n){var r=Yr();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var o=Yr();return n=r!==void 0?r(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=bP.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=Yr();return e={current:e},n.memoizedState=e},useState:ax,useDebugValue:By,useDeferredValue:function(e){return Yr().memoizedState=e},useTransition:function(){var e=ax(!1),n=e[0];return e=wP.bind(null,e[1]),Yr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var o=Tt,s=Yr();if(Ct){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=n(),Kt===null)throw Error(ue(349));_i&30||YS(o,n,r)}s.memoizedState=r;var i={value:r,getSnapshot:n};return s.queue=i,lx(XS.bind(null,o,i,e),[e]),o.flags|=2048,Ec(9,KS.bind(null,o,i,r,n),void 0,null),r},useId:function(){var e=Yr(),n=Kt.identifierPrefix;if(Ct){var r=jo,o=To;r=(o&~(1<<32-$r(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=kc++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=xP++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},CP={readContext:wr,useCallback:o_,useContext:wr,useEffect:Hy,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:hp,useRef:JS,useState:function(){return hp(Nc)},useDebugValue:By,useDeferredValue:function(e){var n=br();return i_(n,Ut.memoizedState,e)},useTransition:function(){var e=hp(Nc)[0],n=br().memoizedState;return[e,n]},useMutableSource:qS,useSyncExternalStore:GS,useId:a_,unstable_isNewReconciler:!1},kP={readContext:wr,useCallback:o_,useContext:wr,useEffect:Hy,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:pp,useRef:JS,useState:function(){return pp(Nc)},useDebugValue:By,useDeferredValue:function(e){var n=br();return Ut===null?n.memoizedState=e:i_(n,Ut.memoizedState,e)},useTransition:function(){var e=pp(Nc)[0],n=br().memoizedState;return[e,n]},useMutableSource:qS,useSyncExternalStore:GS,useId:a_,unstable_isNewReconciler:!1};function jr(e,n){if(e&&e.defaultProps){n=jt({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Mm(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:jt({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wf={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Nn(),s=Ts(e),i=Mo(o,s);i.payload=n,r!=null&&(i.callback=r),n=Es(e,i,s),n!==null&&(Lr(n,e,s,o),hd(n,e,s))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Nn(),s=Ts(e),i=Mo(o,s);i.tag=1,i.payload=n,r!=null&&(i.callback=r),n=Es(e,i,s),n!==null&&(Lr(n,e,s,o),hd(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Nn(),o=Ts(e),s=Mo(r,o);s.tag=2,n!=null&&(s.callback=n),n=Es(e,s,o),n!==null&&(Lr(n,e,o,r),hd(n,e,o))}};function cx(e,n,r,o,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,a):n.prototype&&n.prototype.isPureReactComponent?!xc(r,o)||!xc(s,i):!0}function d_(e,n,r){var o=!1,s=Os,i=n.contextType;return typeof i=="object"&&i!==null?i=wr(i):(s=Fn(n)?bi:gn.current,o=n.contextTypes,i=(o=o!=null)?$a(e,s):Os),n=new n(r,i),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Wf,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),n}function ux(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Wf.enqueueReplaceState(n,n.state,null)}function Rm(e,n,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Oy(e);var i=n.contextType;typeof i=="object"&&i!==null?s.context=wr(i):(i=Fn(n)?bi:gn.current,s.context=$a(e,i)),s.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Mm(e,n,i,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&Wf.enqueueReplaceState(s,s.state,null),Yd(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ua(e,n){try{var r="",o=n;do r+=JT(o),o=o.return;while(o);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:n,stack:s,digest:null}}function mp(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Im(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var NP=typeof WeakMap=="function"?WeakMap:Map;function f_(e,n,r){r=Mo(-1,r),r.tag=3,r.payload={element:null};var o=n.value;return r.callback=function(){Jd||(Jd=!0,Vm=o),Im(e,n)},r}function h_(e,n,r){r=Mo(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=n.value;r.payload=function(){return o(s)},r.callback=function(){Im(e,n)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Im(e,n),typeof o!="function"&&(As===null?As=new Set([this]):As.add(this));var a=n.stack;this.componentDidCatch(n.value,{componentStack:a!==null?a:""})}),r}function dx(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new NP;var s=new Set;o.set(n,s)}else s=o.get(n),s===void 0&&(s=new Set,o.set(n,s));s.has(r)||(s.add(r),e=FP.bind(null,e,n,r),n.then(e,e))}function fx(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function hx(e,n,r,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Mo(-1,1),n.tag=2,Es(r,n,1))),r.lanes|=1),e)}var EP=qo.ReactCurrentOwner,$n=!1;function Sn(e,n,r,o){n.child=e===null?HS(n,null,r,o):za(n,e.child,r,o)}function px(e,n,r,o,s){r=r.render;var i=n.ref;return ga(n,s),o=Fy(e,n,r,o,i,s),r=Uy(),e!==null&&!$n?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Fo(e,n,s)):(Ct&&r&&Ay(n),n.flags|=1,Sn(e,n,o,s),n.child)}function mx(e,n,r,o,s){if(e===null){var i=r.type;return typeof i=="function"&&!Qy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=i,p_(e,n,i,o,s)):(e=xd(r.type,null,o,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:xc,r(a,o)&&e.ref===n.ref)return Fo(e,n,s)}return n.flags|=1,e=js(i,o),e.ref=n.ref,e.return=n,n.child=e}function p_(e,n,r,o,s){if(e!==null){var i=e.memoizedProps;if(xc(i,o)&&e.ref===n.ref)if($n=!1,n.pendingProps=o=i,(e.lanes&s)!==0)e.flags&131072&&($n=!0);else return n.lanes=e.lanes,Fo(e,n,s)}return Om(e,n,r,o,s)}function m_(e,n,r){var o=n.pendingProps,s=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(la,Kn),Kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ht(la,Kn),Kn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:r,ht(la,Kn),Kn|=o}else i!==null?(o=i.baseLanes|r,n.memoizedState=null):o=r,ht(la,Kn),Kn|=o;return Sn(e,n,s,r),n.child}function g_(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Om(e,n,r,o,s){var i=Fn(r)?bi:gn.current;return i=$a(n,i),ga(n,s),r=Fy(e,n,r,o,i,s),o=Uy(),e!==null&&!$n?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,Fo(e,n,s)):(Ct&&o&&Ay(n),n.flags|=1,Sn(e,n,r,s),n.child)}function gx(e,n,r,o,s){if(Fn(r)){var i=!0;Bd(n)}else i=!1;if(ga(n,s),n.stateNode===null)gd(e,n),d_(n,r,o),Rm(n,r,o,s),o=!0;else if(e===null){var a=n.stateNode,l=n.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=Fn(r)?bi:gn.current,u=$a(n,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==o||c!==u)&&ux(n,a,o,u),rs=!1;var m=n.memoizedState;a.state=m,Yd(n,o,a,s),c=n.memoizedState,l!==o||m!==c||zn.current||rs?(typeof f=="function"&&(Mm(n,r,f,o),c=n.memoizedState),(l=rs||cx(n,r,l,o,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(n.flags|=4194308)):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=c),a.props=o,a.state=c,a.context=u,o=l):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{a=n.stateNode,VS(e,n),l=n.memoizedProps,u=n.type===n.elementType?l:jr(n.type,l),a.props=u,d=n.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Fn(r)?bi:gn.current,c=$a(n,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||m!==c)&&ux(n,a,o,c),rs=!1,m=n.memoizedState,a.state=m,Yd(n,o,a,s);var w=n.memoizedState;l!==d||m!==w||zn.current||rs?(typeof p=="function"&&(Mm(n,r,p,o),w=n.memoizedState),(u=rs||cx(n,r,u,o,m,w,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,w,c)),typeof a.componentDidUpdate=="function"&&(n.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=w),a.props=o,a.state=w,a.context=c,o=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),o=!1)}return Dm(e,n,r,o,i,s)}function Dm(e,n,r,o,s,i){g_(e,n);var a=(n.flags&128)!==0;if(!o&&!a)return s&&tx(n,r,!1),Fo(e,n,i);o=n.stateNode,EP.current=n;var l=a&&typeof r.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&a?(n.child=za(n,e.child,null,i),n.child=za(n,null,l,i)):Sn(e,n,l,i),n.memoizedState=o.state,s&&tx(n,r,!0),n.child}function y_(e){var n=e.stateNode;n.pendingContext?ex(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ex(e,n.context,!1),Dy(e,n.containerInfo)}function yx(e,n,r,o,s){return La(),jy(s),n.flags|=256,Sn(e,n,r,o),n.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Lm(e){return{baseLanes:e,cachePool:null,transitions:null}}function v_(e,n,r){var o=n.pendingProps,s=At.current,i=!1,a=(n.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ht(At,s&1),e===null)return jm(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(a=o.children,e=o.fallback,i?(o=n.mode,i=n.child,a={mode:"hidden",children:a},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yf(a,o,0,null),e=mi(e,o,r,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=Lm(r),n.memoizedState=$m,e):Vy(n,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return AP(e,n,a,o,l,s,r);if(i){i=o.fallback,a=n.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&n.child!==s?(o=n.child,o.childLanes=0,o.pendingProps=c,n.deletions=null):(o=js(s,c),o.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=js(l,i):(i=mi(i,a,r,null),i.flags|=2),i.return=n,o.return=n,o.sibling=i,n.child=o,o=i,i=n.child,a=e.child.memoizedState,a=a===null?Lm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,n.memoizedState=$m,o}return i=e.child,e=i.sibling,o=js(i,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=r),o.return=n,o.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=o,n.memoizedState=null,o}function Vy(e,n){return n=Yf({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $u(e,n,r,o){return o!==null&&jy(o),za(n,e.child,null,r),e=Vy(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function AP(e,n,r,o,s,i,a){if(r)return n.flags&256?(n.flags&=-257,o=mp(Error(ue(422))),$u(e,n,a,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(i=o.fallback,s=n.mode,o=Yf({mode:"visible",children:o.children},s,0,null),i=mi(i,s,a,null),i.flags|=2,o.return=n,i.return=n,o.sibling=i,n.child=o,n.mode&1&&za(n,e.child,null,a),n.child.memoizedState=Lm(a),n.memoizedState=$m,i);if(!(n.mode&1))return $u(e,n,a,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var l=o.dgst;return o=l,i=Error(ue(419)),o=mp(i,o,void 0),$u(e,n,a,o)}if(l=(a&e.childLanes)!==0,$n||l){if(o=Kt,o!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zo(e,s),Lr(o,e,s,-1))}return Xy(),o=mp(Error(ue(421))),$u(e,n,a,o)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=UP.bind(null,e),s._reactRetry=n,null):(e=i.treeContext,Qn=Ns(s.nextSibling),Zn=n,Ct=!0,Ir=null,e!==null&&(hr[pr++]=To,hr[pr++]=jo,hr[pr++]=Si,To=e.id,jo=e.overflow,Si=n),n=Vy(n,o.children),n.flags|=4096,n)}function vx(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Pm(e.return,n,r)}function gp(e,n,r,o,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=r,i.tailMode=s)}function x_(e,n,r){var o=n.pendingProps,s=o.revealOrder,i=o.tail;if(Sn(e,n,o.children,r),o=At.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vx(e,r,n);else if(e.tag===19)vx(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ht(At,o),!(n.mode&1))n.memoizedState=null;else switch(s){case"forwards":for(r=n.child,s=null;r!==null;)e=r.alternate,e!==null&&Kd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=n.child,n.child=null):(s=r.sibling,r.sibling=null),gp(n,!1,s,r,i);break;case"backwards":for(r=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&Kd(e)===null){n.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gp(n,!0,r,null,i);break;case"together":gp(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function gd(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Fo(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ci|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ue(153));if(n.child!==null){for(e=n.child,r=js(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=js(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function TP(e,n,r){switch(n.tag){case 3:y_(n),La();break;case 5:WS(n);break;case 1:Fn(n.type)&&Bd(n);break;case 4:Dy(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,s=n.memoizedProps.value;ht(qd,o._currentValue),o._currentValue=s;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(ht(At,At.current&1),n.flags|=128,null):r&n.child.childLanes?v_(e,n,r):(ht(At,At.current&1),e=Fo(e,n,r),e!==null?e.sibling:null);ht(At,At.current&1);break;case 19:if(o=(r&n.childLanes)!==0,e.flags&128){if(o)return x_(e,n,r);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(At,At.current),o)break;return null;case 22:case 23:return n.lanes=0,m_(e,n,r)}return Fo(e,n,r)}var w_,zm,b_,S_;w_=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zm=function(){};b_=function(e,n,r,o){var s=e.memoizedProps;if(s!==o){e=n.stateNode,ni(so.current);var i=null;switch(r){case"input":s=am(e,s),o=am(e,o),i=[];break;case"select":s=jt({},s,{value:void 0}),o=jt({},o,{value:void 0}),i=[];break;case"textarea":s=um(e,s),o=um(e,o),i=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ud)}fm(r,o);var a;r=null;for(u in s)if(!o.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in o){var c=o[u];if(l=s!=null?s[u]:void 0,o.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(n.updateQueue=u)&&(n.flags|=4)}};S_=function(e,n,r,o){r!==o&&(n.flags|=4)};function vl(e,n){if(!Ct)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fn(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function jP(e,n,r){var o=n.pendingProps;switch(Ty(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(n),null;case 1:return Fn(n.type)&&Hd(),fn(n),null;case 3:return o=n.stateNode,Fa(),vt(zn),vt(gn),Ly(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ou(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ir!==null&&(Gm(Ir),Ir=null))),zm(e,n),fn(n),null;case 5:$y(n);var s=ni(Cc.current);if(r=n.type,e!==null&&n.stateNode!=null)b_(e,n,r,o,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ue(166));return fn(n),null}if(e=ni(so.current),Ou(n)){o=n.stateNode,r=n.type;var i=n.memoizedProps;switch(o[Jr]=n,o[Sc]=i,e=(n.mode&1)!==0,r){case"dialog":gt("cancel",o),gt("close",o);break;case"iframe":case"object":case"embed":gt("load",o);break;case"video":case"audio":for(s=0;s<Fl.length;s++)gt(Fl[s],o);break;case"source":gt("error",o);break;case"img":case"image":case"link":gt("error",o),gt("load",o);break;case"details":gt("toggle",o);break;case"input":Ev(o,i),gt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},gt("invalid",o);break;case"textarea":Tv(o,i),gt("invalid",o)}fm(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?o.textContent!==l&&(i.suppressHydrationWarning!==!0&&Iu(o.textContent,l,e),s=["children",l]):typeof l=="number"&&o.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Iu(o.textContent,l,e),s=["children",""+l]):fc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&gt("scroll",o)}switch(r){case"input":Nu(o),Av(o,i,!0);break;case"textarea":Nu(o),jv(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Ud)}o=s,n.updateQueue=o,o!==null&&(n.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=a.createElement(r,{is:o.is}):(e=a.createElement(r),r==="select"&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,r),e[Jr]=n,e[Sc]=o,w_(e,n,!1,!1),n.stateNode=e;e:{switch(a=hm(r,o),r){case"dialog":gt("cancel",e),gt("close",e),s=o;break;case"iframe":case"object":case"embed":gt("load",e),s=o;break;case"video":case"audio":for(s=0;s<Fl.length;s++)gt(Fl[s],e);s=o;break;case"source":gt("error",e),s=o;break;case"img":case"image":case"link":gt("error",e),gt("load",e),s=o;break;case"details":gt("toggle",e),s=o;break;case"input":Ev(e,o),s=am(e,o),gt("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=jt({},o,{value:void 0}),gt("invalid",e);break;case"textarea":Tv(e,o),s=um(e,o),gt("invalid",e);break;default:s=o}fm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hc(e,c):typeof c=="number"&&hc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&gt("scroll",e):c!=null&&py(e,i,c,a))}switch(r){case"input":Nu(e),Av(e,o,!1);break;case"textarea":Nu(e),jv(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Is(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?fa(e,!!o.multiple,i,!1):o.defaultValue!=null&&fa(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ud)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return fn(n),null;case 6:if(e&&n.stateNode!=null)S_(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ue(166));if(r=ni(Cc.current),ni(so.current),Ou(n)){if(o=n.stateNode,r=n.memoizedProps,o[Jr]=n,(i=o.nodeValue!==r)&&(e=Zn,e!==null))switch(e.tag){case 3:Iu(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Iu(o.nodeValue,r,(e.mode&1)!==0)}i&&(n.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[Jr]=n,n.stateNode=o}return fn(n),null;case 13:if(vt(At),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&Qn!==null&&n.mode&1&&!(n.flags&128))FS(),La(),n.flags|=98560,i=!1;else if(i=Ou(n),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(ue(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[Jr]=n}else La(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;fn(n),i=!1}else Ir!==null&&(Gm(Ir),Ir=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||At.current&1?Vt===0&&(Vt=3):Xy())),n.updateQueue!==null&&(n.flags|=4),fn(n),null);case 4:return Fa(),zm(e,n),e===null&&wc(n.stateNode.containerInfo),fn(n),null;case 10:return Ry(n.type._context),fn(n),null;case 17:return Fn(n.type)&&Hd(),fn(n),null;case 19:if(vt(At),i=n.memoizedState,i===null)return fn(n),null;if(o=(n.flags&128)!==0,a=i.rendering,a===null)if(o)vl(i,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(a=Kd(e),a!==null){for(n.flags|=128,vl(i,!1),o=a.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=r,r=n.child;r!==null;)i=r,e=o,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(At,At.current&1|2),n.child}e=e.sibling}i.tail!==null&&$t()>Ha&&(n.flags|=128,o=!0,vl(i,!1),n.lanes=4194304)}else{if(!o)if(e=Kd(a),e!==null){if(n.flags|=128,o=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ct)return fn(n),null}else 2*$t()-i.renderingStartTime>Ha&&r!==1073741824&&(n.flags|=128,o=!0,vl(i,!1),n.lanes=4194304);i.isBackwards?(a.sibling=n.child,n.child=a):(r=i.last,r!==null?r.sibling=a:n.child=a,i.last=a)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=$t(),n.sibling=null,r=At.current,ht(At,o?r&1|2:r&1),n):(fn(n),null);case 22:case 23:return Ky(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?Kn&1073741824&&(fn(n),n.subtreeFlags&6&&(n.flags|=8192)):fn(n),null;case 24:return null;case 25:return null}throw Error(ue(156,n.tag))}function PP(e,n){switch(Ty(n),n.tag){case 1:return Fn(n.type)&&Hd(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fa(),vt(zn),vt(gn),Ly(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return $y(n),null;case 13:if(vt(At),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ue(340));La()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return vt(At),null;case 4:return Fa(),null;case 10:return Ry(n.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var Lu=!1,mn=!1,MP=typeof WeakSet=="function"?WeakSet:Set,be=null;function aa(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Rt(e,n,o)}else r.current=null}function Fm(e,n,r){try{r()}catch(o){Rt(e,n,o)}}var xx=!1;function RP(e,n){if(_m=Ld,e=ES(),Ey(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==i||o!==0&&d.nodeType!==3||(c=a+o),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===e)break t;if(m===r&&++u===s&&(l=a),m===i&&++f===o&&(c=a),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cm={focusedElem:e,selectionRange:r},Ld=!1,be=n;be!==null;)if(n=be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,be=e;else for(;be!==null;){n=be;try{var w=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,y=n.stateNode,x=y.getSnapshotBeforeUpdate(n.elementType===n.type?v:jr(n.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(_){Rt(n,n.return,_)}if(e=n.sibling,e!==null){e.return=n.return,be=e;break}be=n.return}return w=xx,xx=!1,w}function nc(e,n,r){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fm(n,r,i)}s=s.next}while(s!==o)}}function qf(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==n)}}function Um(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function __(e){var n=e.alternate;n!==null&&(e.alternate=null,__(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Jr],delete n[Sc],delete n[Em],delete n[mP],delete n[gP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C_(e){return e.tag===5||e.tag===3||e.tag===4}function wx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hm(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ud));else if(o!==4&&(e=e.child,e!==null))for(Hm(e,n,r),e=e.sibling;e!==null;)Hm(e,n,r),e=e.sibling}function Bm(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Bm(e,n,r),e=e.sibling;e!==null;)Bm(e,n,r),e=e.sibling}var en=null,Rr=!1;function Yo(e,n,r){for(r=r.child;r!==null;)k_(e,n,r),r=r.sibling}function k_(e,n,r){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(Lf,r)}catch{}switch(r.tag){case 5:mn||aa(r,n);case 6:var o=en,s=Rr;en=null,Yo(e,n,r),en=o,Rr=s,en!==null&&(Rr?(e=en,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):en.removeChild(r.stateNode));break;case 18:en!==null&&(Rr?(e=en,r=r.stateNode,e.nodeType===8?cp(e.parentNode,r):e.nodeType===1&&cp(e,r),yc(e)):cp(en,r.stateNode));break;case 4:o=en,s=Rr,en=r.stateNode.containerInfo,Rr=!0,Yo(e,n,r),en=o,Rr=s;break;case 0:case 11:case 14:case 15:if(!mn&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fm(r,n,a),s=s.next}while(s!==o)}Yo(e,n,r);break;case 1:if(!mn&&(aa(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(l){Rt(r,n,l)}Yo(e,n,r);break;case 21:Yo(e,n,r);break;case 22:r.mode&1?(mn=(o=mn)||r.memoizedState!==null,Yo(e,n,r),mn=o):Yo(e,n,r);break;default:Yo(e,n,r)}}function bx(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MP),n.forEach(function(o){var s=HP.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function Nr(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var i=e,a=n,l=a;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,Rr=!1;break e;case 3:en=l.stateNode.containerInfo,Rr=!0;break e;case 4:en=l.stateNode.containerInfo,Rr=!0;break e}l=l.return}if(en===null)throw Error(ue(160));k_(i,a,s),en=null,Rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Rt(s,n,u)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)N_(n,e),n=n.sibling}function N_(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nr(n,e),qr(e),o&4){try{nc(3,e,e.return),qf(3,e)}catch(v){Rt(e,e.return,v)}try{nc(5,e,e.return)}catch(v){Rt(e,e.return,v)}}break;case 1:Nr(n,e),qr(e),o&512&&r!==null&&aa(r,r.return);break;case 5:if(Nr(n,e),qr(e),o&512&&r!==null&&aa(r,r.return),e.flags&32){var s=e.stateNode;try{hc(s,"")}catch(v){Rt(e,e.return,v)}}if(o&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yb(s,i),hm(l,a);var u=hm(l,i);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?Jb(s,d):f==="dangerouslySetInnerHTML"?Qb(s,d):f==="children"?hc(s,d):py(s,f,d,u)}switch(l){case"input":lm(s,i);break;case"textarea":Kb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?fa(s,!!i.multiple,i.defaultValue,!0):fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sc]=i}catch(v){Rt(e,e.return,v)}}break;case 6:if(Nr(n,e),qr(e),o&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Rt(e,e.return,v)}}break;case 3:if(Nr(n,e),qr(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{yc(n.containerInfo)}catch(v){Rt(e,e.return,v)}break;case 4:Nr(n,e),qr(e);break;case 13:Nr(n,e),qr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gy=$t())),o&4&&bx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(mn=(u=mn)||f,Nr(n,e),mn=u):Nr(n,e),qr(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(be=e,f=e.child;f!==null;){for(d=be=f;be!==null;){switch(m=be,p=m.child,m.tag){case 0:case 11:case 14:case 15:nc(4,m,m.return);break;case 1:aa(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){o=m,r=m.return;try{n=o,w.props=n.memoizedProps,w.state=n.memoizedState,w.componentWillUnmount()}catch(v){Rt(o,r,v)}}break;case 5:aa(m,m.return);break;case 22:if(m.memoizedState!==null){_x(d);continue}}p!==null?(p.return=m,be=p):_x(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zb("display",a))}catch(v){Rt(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Rt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(n,e),qr(e),o&4&&bx(e);break;case 21:break;default:Nr(n,e),qr(e)}}function qr(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(C_(r)){var o=r;break e}r=r.return}throw Error(ue(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(hc(s,""),o.flags&=-33);var i=wx(e);Bm(e,i,s);break;case 3:case 4:var a=o.stateNode.containerInfo,l=wx(e);Hm(e,l,a);break;default:throw Error(ue(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function IP(e,n,r){be=e,E_(e)}function E_(e,n,r){for(var o=(e.mode&1)!==0;be!==null;){var s=be,i=s.child;if(s.tag===22&&o){var a=s.memoizedState!==null||Lu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||mn;l=Lu;var u=mn;if(Lu=a,(mn=c)&&!u)for(be=s;be!==null;)a=be,c=a.child,a.tag===22&&a.memoizedState!==null?Cx(s):c!==null?(c.return=a,be=c):Cx(s);for(;i!==null;)be=i,E_(i),i=i.sibling;be=s,Lu=l,mn=u}Sx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,be=i):Sx(e)}}function Sx(e){for(;be!==null;){var n=be;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:mn||qf(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!mn)if(r===null)o.componentDidMount();else{var s=n.elementType===n.type?r.memoizedProps:jr(n.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&ix(n,i,o);break;case 3:var a=n.updateQueue;if(a!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}ix(n,a,r)}break;case 5:var l=n.stateNode;if(r===null&&n.flags&4){r=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var u=n.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&yc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}mn||n.flags&512&&Um(n)}catch(m){Rt(n,n.return,m)}}if(n===e){be=null;break}if(r=n.sibling,r!==null){r.return=n.return,be=r;break}be=n.return}}function _x(e){for(;be!==null;){var n=be;if(n===e){be=null;break}var r=n.sibling;if(r!==null){r.return=n.return,be=r;break}be=n.return}}function Cx(e){for(;be!==null;){var n=be;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{qf(4,n)}catch(c){Rt(n,r,c)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var s=n.return;try{o.componentDidMount()}catch(c){Rt(n,s,c)}}var i=n.return;try{Um(n)}catch(c){Rt(n,i,c)}break;case 5:var a=n.return;try{Um(n)}catch(c){Rt(n,a,c)}}}catch(c){Rt(n,n.return,c)}if(n===e){be=null;break}var l=n.sibling;if(l!==null){l.return=n.return,be=l;break}be=n.return}}var OP=Math.ceil,Zd=qo.ReactCurrentDispatcher,Wy=qo.ReactCurrentOwner,xr=qo.ReactCurrentBatchConfig,nt=0,Kt=null,Ft=null,nn=0,Kn=0,la=Fs(0),Vt=0,Ac=null,Ci=0,Gf=0,qy=0,rc=null,Dn=null,Gy=0,Ha=1/0,Co=null,Jd=!1,Vm=null,As=null,zu=!1,ws=null,ef=0,oc=0,Wm=null,yd=-1,vd=0;function Nn(){return nt&6?$t():yd!==-1?yd:yd=$t()}function Ts(e){return e.mode&1?nt&2&&nn!==0?nn&-nn:vP.transition!==null?(vd===0&&(vd=dS()),vd):(e=lt,e!==0||(e=window.event,e=e===void 0?16:vS(e.type)),e):1}function Lr(e,n,r,o){if(50<oc)throw oc=0,Wm=null,Error(ue(185));Zc(e,r,o),(!(nt&2)||e!==Kt)&&(e===Kt&&(!(nt&2)&&(Gf|=r),Vt===4&&as(e,nn)),Un(e,o),r===1&&nt===0&&!(n.mode&1)&&(Ha=$t()+500,Bf&&Us()))}function Un(e,n){var r=e.callbackNode;vj(e,n);var o=$d(e,e===Kt?nn:0);if(o===0)r!==null&&Rv(r),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(r!=null&&Rv(r),n===1)e.tag===0?yP(kx.bind(null,e)):$S(kx.bind(null,e)),hP(function(){!(nt&6)&&Us()}),r=null;else{switch(fS(o)){case 1:r=xy;break;case 4:r=cS;break;case 16:r=Dd;break;case 536870912:r=uS;break;default:r=Dd}r=O_(r,A_.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function A_(e,n){if(yd=-1,vd=0,nt&6)throw Error(ue(327));var r=e.callbackNode;if(ya()&&e.callbackNode!==r)return null;var o=$d(e,e===Kt?nn:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=tf(e,o);else{n=o;var s=nt;nt|=2;var i=j_();(Kt!==e||nn!==n)&&(Co=null,Ha=$t()+500,pi(e,n));do try{LP();break}catch(l){T_(e,l)}while(!0);My(),Zd.current=i,nt=s,Ft!==null?n=0:(Kt=null,nn=0,n=Vt)}if(n!==0){if(n===2&&(s=vm(e),s!==0&&(o=s,n=qm(e,s))),n===1)throw r=Ac,pi(e,0),as(e,o),Un(e,$t()),r;if(n===6)as(e,o);else{if(s=e.current.alternate,!(o&30)&&!DP(s)&&(n=tf(e,o),n===2&&(i=vm(e),i!==0&&(o=i,n=qm(e,i))),n===1))throw r=Ac,pi(e,0),as(e,o),Un(e,$t()),r;switch(e.finishedWork=s,e.finishedLanes=o,n){case 0:case 1:throw Error(ue(345));case 2:Qs(e,Dn,Co);break;case 3:if(as(e,o),(o&130023424)===o&&(n=Gy+500-$t(),10<n)){if($d(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){Nn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nm(Qs.bind(null,e,Dn,Co),n);break}Qs(e,Dn,Co);break;case 4:if(as(e,o),(o&4194240)===o)break;for(n=e.eventTimes,s=-1;0<o;){var a=31-$r(o);i=1<<a,a=n[a],a>s&&(s=a),o&=~i}if(o=s,o=$t()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*OP(o/1960))-o,10<o){e.timeoutHandle=Nm(Qs.bind(null,e,Dn,Co),o);break}Qs(e,Dn,Co);break;case 5:Qs(e,Dn,Co);break;default:throw Error(ue(329))}}}return Un(e,$t()),e.callbackNode===r?A_.bind(null,e):null}function qm(e,n){var r=rc;return e.current.memoizedState.isDehydrated&&(pi(e,n).flags|=256),e=tf(e,n),e!==2&&(n=Dn,Dn=r,n!==null&&Gm(n)),e}function Gm(e){Dn===null?Dn=e:Dn.push.apply(Dn,e)}function DP(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],i=s.getSnapshot;s=s.value;try{if(!zr(i(),s))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function as(e,n){for(n&=~qy,n&=~Gf,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-$r(n),o=1<<r;e[r]=-1,n&=~o}}function kx(e){if(nt&6)throw Error(ue(327));ya();var n=$d(e,0);if(!(n&1))return Un(e,$t()),null;var r=tf(e,n);if(e.tag!==0&&r===2){var o=vm(e);o!==0&&(n=o,r=qm(e,o))}if(r===1)throw r=Ac,pi(e,0),as(e,n),Un(e,$t()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qs(e,Dn,Co),Un(e,$t()),null}function Yy(e,n){var r=nt;nt|=1;try{return e(n)}finally{nt=r,nt===0&&(Ha=$t()+500,Bf&&Us())}}function ki(e){ws!==null&&ws.tag===0&&!(nt&6)&&ya();var n=nt;nt|=1;var r=xr.transition,o=lt;try{if(xr.transition=null,lt=1,e)return e()}finally{lt=o,xr.transition=r,nt=n,!(nt&6)&&Us()}}function Ky(){Kn=la.current,vt(la)}function pi(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fP(r)),Ft!==null)for(r=Ft.return;r!==null;){var o=r;switch(Ty(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Hd();break;case 3:Fa(),vt(zn),vt(gn),Ly();break;case 5:$y(o);break;case 4:Fa();break;case 13:vt(At);break;case 19:vt(At);break;case 10:Ry(o.type._context);break;case 22:case 23:Ky()}r=r.return}if(Kt=e,Ft=e=js(e.current,null),nn=Kn=n,Vt=0,Ac=null,qy=Gf=Ci=0,Dn=rc=null,ti!==null){for(n=0;n<ti.length;n++)if(r=ti[n],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,o.next=a}r.pending=o}ti=null}return e}function T_(e,n){do{var r=Ft;try{if(My(),pd.current=Qd,Xd){for(var o=Tt.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Xd=!1}if(_i=0,Gt=Ut=Tt=null,tc=!1,kc=0,Wy.current=null,r===null||r.return===null){Vt=1,Ac=n,Ft=null;break}e:{var i=e,a=r.return,l=r,c=n;if(n=nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fx(a);if(p!==null){p.flags&=-257,hx(p,a,l,i,n),p.mode&1&&dx(i,u,n),n=p,c=u;var w=n.updateQueue;if(w===null){var v=new Set;v.add(c),n.updateQueue=v}else w.add(c);break e}else{if(!(n&1)){dx(i,u,n),Xy();break e}c=Error(ue(426))}}else if(Ct&&l.mode&1){var b=fx(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),hx(b,a,l,i,n),jy(Ua(c,l));break e}}i=c=Ua(c,l),Vt!==4&&(Vt=2),rc===null?rc=[i]:rc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var y=f_(i,c,n);sx(i,y);break e;case 1:l=c;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(As===null||!As.has(S)))){i.flags|=65536,n&=-n,i.lanes|=n;var _=h_(i,l,n);sx(i,_);break e}}i=i.return}while(i!==null)}M_(r)}catch(C){n=C,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function j_(){var e=Zd.current;return Zd.current=Qd,e===null?Qd:e}function Xy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Kt===null||!(Ci&268435455)&&!(Gf&268435455)||as(Kt,nn)}function tf(e,n){var r=nt;nt|=2;var o=j_();(Kt!==e||nn!==n)&&(Co=null,pi(e,n));do try{$P();break}catch(s){T_(e,s)}while(!0);if(My(),nt=r,Zd.current=o,Ft!==null)throw Error(ue(261));return Kt=null,nn=0,Vt}function $P(){for(;Ft!==null;)P_(Ft)}function LP(){for(;Ft!==null&&!cj();)P_(Ft)}function P_(e){var n=I_(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,n===null?M_(e):Ft=n,Wy.current=null}function M_(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=PP(r,n),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Ft=null;return}}else if(r=jP(r,n,Kn),r!==null){Ft=r;return}if(n=n.sibling,n!==null){Ft=n;return}Ft=n=e}while(n!==null);Vt===0&&(Vt=5)}function Qs(e,n,r){var o=lt,s=xr.transition;try{xr.transition=null,lt=1,zP(e,n,r,o)}finally{xr.transition=s,lt=o}return null}function zP(e,n,r,o){do ya();while(ws!==null);if(nt&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(xj(e,i),e===Kt&&(Ft=Kt=null,nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zu||(zu=!0,O_(Dd,function(){return ya(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var a=lt;lt=1;var l=nt;nt|=4,Wy.current=null,RP(e,r),N_(r,e),sP(Cm),Ld=!!_m,Cm=_m=null,e.current=r,IP(r),uj(),nt=l,lt=a,xr.transition=i}else e.current=r;if(zu&&(zu=!1,ws=e,ef=s),i=e.pendingLanes,i===0&&(As=null),hj(r.stateNode),Un(e,$t()),n!==null)for(o=e.onRecoverableError,r=0;r<n.length;r++)s=n[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(Jd)throw Jd=!1,e=Vm,Vm=null,e;return ef&1&&e.tag!==0&&ya(),i=e.pendingLanes,i&1?e===Wm?oc++:(oc=0,Wm=e):oc=0,Us(),null}function ya(){if(ws!==null){var e=fS(ef),n=xr.transition,r=lt;try{if(xr.transition=null,lt=16>e?16:e,ws===null)var o=!1;else{if(e=ws,ws=null,ef=0,nt&6)throw Error(ue(331));var s=nt;for(nt|=4,be=e.current;be!==null;){var i=be,a=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var f=be;switch(f.tag){case 0:case 11:case 15:nc(8,f,i)}var d=f.child;if(d!==null)d.return=f,be=d;else for(;be!==null;){f=be;var m=f.sibling,p=f.return;if(__(f),f===u){be=null;break}if(m!==null){m.return=p,be=m;break}be=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}be=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,be=a;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,be=y;break e}be=i.return}}var x=e.current;for(be=x;be!==null;){a=be;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,be=S;else e:for(a=x;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qf(9,l)}}catch(C){Rt(l,l.return,C)}if(l===a){be=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,be=_;break e}be=l.return}}if(nt=s,Us(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(Lf,e)}catch{}o=!0}return o}finally{lt=r,xr.transition=n}}return!1}function Nx(e,n,r){n=Ua(r,n),n=f_(e,n,1),e=Es(e,n,1),n=Nn(),e!==null&&(Zc(e,1,n),Un(e,n))}function Rt(e,n,r){if(e.tag===3)Nx(e,e,r);else for(;n!==null;){if(n.tag===3){Nx(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(As===null||!As.has(o))){e=Ua(r,e),e=h_(n,e,1),n=Es(n,e,1),e=Nn(),n!==null&&(Zc(n,1,e),Un(n,e));break}}n=n.return}}function FP(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),n=Nn(),e.pingedLanes|=e.suspendedLanes&r,Kt===e&&(nn&r)===r&&(Vt===4||Vt===3&&(nn&130023424)===nn&&500>$t()-Gy?pi(e,0):qy|=r),Un(e,n)}function R_(e,n){n===0&&(e.mode&1?(n=Tu,Tu<<=1,!(Tu&130023424)&&(Tu=4194304)):n=1);var r=Nn();e=zo(e,n),e!==null&&(Zc(e,n,r),Un(e,r))}function UP(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),R_(e,r)}function HP(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(ue(314))}o!==null&&o.delete(n),R_(e,r)}var I_;I_=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return $n=!1,TP(e,n,r);$n=!!(e.flags&131072)}else $n=!1,Ct&&n.flags&1048576&&LS(n,Wd,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;gd(e,n),e=n.pendingProps;var s=$a(n,gn.current);ga(n,r),s=Fy(null,n,o,e,s,r);var i=Uy();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Fn(o)?(i=!0,Bd(n)):i=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Oy(n),s.updater=Wf,n.stateNode=s,s._reactInternals=n,Rm(n,o,e,r),n=Dm(null,n,o,!0,i,r)):(n.tag=0,Ct&&i&&Ay(n),Sn(null,n,s,r),n=n.child),n;case 16:o=n.elementType;e:{switch(gd(e,n),e=n.pendingProps,s=o._init,o=s(o._payload),n.type=o,s=n.tag=VP(o),e=jr(o,e),s){case 0:n=Om(null,n,o,e,r);break e;case 1:n=gx(null,n,o,e,r);break e;case 11:n=px(null,n,o,e,r);break e;case 14:n=mx(null,n,o,jr(o.type,e),r);break e}throw Error(ue(306,o,""))}return n;case 0:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:jr(o,s),Om(e,n,o,s,r);case 1:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:jr(o,s),gx(e,n,o,s,r);case 3:e:{if(y_(n),e===null)throw Error(ue(387));o=n.pendingProps,i=n.memoizedState,s=i.element,VS(e,n),Yd(n,o,null,r);var a=n.memoizedState;if(o=a.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){s=Ua(Error(ue(423)),n),n=yx(e,n,o,r,s);break e}else if(o!==s){s=Ua(Error(ue(424)),n),n=yx(e,n,o,r,s);break e}else for(Qn=Ns(n.stateNode.containerInfo.firstChild),Zn=n,Ct=!0,Ir=null,r=HS(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(La(),o===s){n=Fo(e,n,r);break e}Sn(e,n,o,r)}n=n.child}return n;case 5:return WS(n),e===null&&jm(n),o=n.type,s=n.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,km(o,s)?a=null:i!==null&&km(o,i)&&(n.flags|=32),g_(e,n),Sn(e,n,a,r),n.child;case 6:return e===null&&jm(n),null;case 13:return v_(e,n,r);case 4:return Dy(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=za(n,null,o,r):Sn(e,n,o,r),n.child;case 11:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:jr(o,s),px(e,n,o,s,r);case 7:return Sn(e,n,n.pendingProps,r),n.child;case 8:return Sn(e,n,n.pendingProps.children,r),n.child;case 12:return Sn(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(o=n.type._context,s=n.pendingProps,i=n.memoizedProps,a=s.value,ht(qd,o._currentValue),o._currentValue=a,i!==null)if(zr(i.value,a)){if(i.children===s.children&&!zn.current){n=Fo(e,n,r);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Mo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pm(i.return,r,n),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===n.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ue(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Pm(a,r,n),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===n){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Sn(e,n,s.children,r),n=n.child}return n;case 9:return s=n.type,o=n.pendingProps.children,ga(n,r),s=wr(s),o=o(s),n.flags|=1,Sn(e,n,o,r),n.child;case 14:return o=n.type,s=jr(o,n.pendingProps),s=jr(o.type,s),mx(e,n,o,s,r);case 15:return p_(e,n,n.type,n.pendingProps,r);case 17:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:jr(o,s),gd(e,n),n.tag=1,Fn(o)?(e=!0,Bd(n)):e=!1,ga(n,r),d_(n,o,s),Rm(n,o,s,r),Dm(null,n,o,!0,e,r);case 19:return x_(e,n,r);case 22:return m_(e,n,r)}throw Error(ue(156,n.tag))};function O_(e,n){return lS(e,n)}function BP(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,n,r,o){return new BP(e,n,r,o)}function Qy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function VP(e){if(typeof e=="function")return Qy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gy)return 11;if(e===yy)return 14}return 2}function js(e,n){var r=e.alternate;return r===null?(r=yr(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xd(e,n,r,o,s,i){var a=2;if(o=e,typeof e=="function")Qy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zi:return mi(r.children,s,i,n);case my:a=8,s|=8;break;case rm:return e=yr(12,r,n,s|2),e.elementType=rm,e.lanes=i,e;case om:return e=yr(13,r,n,s),e.elementType=om,e.lanes=i,e;case sm:return e=yr(19,r,n,s),e.elementType=sm,e.lanes=i,e;case Wb:return Yf(r,s,i,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bb:a=10;break e;case Vb:a=9;break e;case gy:a=11;break e;case yy:a=14;break e;case ns:a=16,o=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return n=yr(a,r,n,s),n.elementType=e,n.type=o,n.lanes=i,n}function mi(e,n,r,o){return e=yr(7,e,o,n),e.lanes=r,e}function Yf(e,n,r,o){return e=yr(22,e,o,n),e.elementType=Wb,e.lanes=r,e.stateNode={isHidden:!1},e}function yp(e,n,r){return e=yr(6,e,null,n),e.lanes=r,e}function vp(e,n,r){return n=yr(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function WP(e,n,r,o,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zh(0),this.expirationTimes=Zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zy(e,n,r,o,s,i,a,l,c){return e=new WP(e,n,r,l,c),n===1?(n=1,i===!0&&(n|=8)):n=0,i=yr(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(i),e}function qP(e,n,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:o==null?null:""+o,children:e,containerInfo:n,implementation:r}}function D_(e){if(!e)return Os;e=e._reactInternals;e:{if(Di(e)!==e||e.tag!==1)throw Error(ue(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Fn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Fn(r))return DS(e,r,n)}return n}function $_(e,n,r,o,s,i,a,l,c){return e=Zy(r,o,!0,e,s,i,a,l,c),e.context=D_(null),r=e.current,o=Nn(),s=Ts(r),i=Mo(o,s),i.callback=n??null,Es(r,i,s),e.current.lanes=s,Zc(e,s,o),Un(e,o),e}function Kf(e,n,r,o){var s=n.current,i=Nn(),a=Ts(s);return r=D_(r),n.context===null?n.context=r:n.pendingContext=r,n=Mo(i,a),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=Es(s,n,a),e!==null&&(Lr(e,s,a,i),hd(e,s,a)),a}function nf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ex(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Jy(e,n){Ex(e,n),(e=e.alternate)&&Ex(e,n)}function GP(){return null}var L_=typeof reportError=="function"?reportError:function(e){console.error(e)};function e0(e){this._internalRoot=e}Xf.prototype.render=e0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ue(409));Kf(e,n,null,null)};Xf.prototype.unmount=e0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ki(function(){Kf(null,e,null,null)}),n[Lo]=null}};function Xf(e){this._internalRoot=e}Xf.prototype.unstable_scheduleHydration=function(e){if(e){var n=mS();e={blockedOn:null,target:e,priority:n};for(var r=0;r<is.length&&n!==0&&n<is[r].priority;r++);is.splice(r,0,e),r===0&&yS(e)}};function t0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function YP(e,n,r,o,s){if(s){if(typeof o=="function"){var i=o;o=function(){var u=nf(a);i.call(u)}}var a=$_(n,o,e,0,null,!1,!1,"",Ax);return e._reactRootContainer=a,e[Lo]=a.current,wc(e.nodeType===8?e.parentNode:e),ki(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var l=o;o=function(){var u=nf(c);l.call(u)}}var c=Zy(e,0,!1,null,null,!1,!1,"",Ax);return e._reactRootContainer=c,e[Lo]=c.current,wc(e.nodeType===8?e.parentNode:e),ki(function(){Kf(n,c,r,o)}),c}function Zf(e,n,r,o,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=nf(a);l.call(c)}}Kf(n,a,e,s)}else a=YP(r,n,e,s,o);return nf(a)}hS=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=zl(n.pendingLanes);r!==0&&(wy(n,r|1),Un(n,$t()),!(nt&6)&&(Ha=$t()+500,Us()))}break;case 13:ki(function(){var o=zo(e,1);if(o!==null){var s=Nn();Lr(o,e,1,s)}}),Jy(e,1)}};by=function(e){if(e.tag===13){var n=zo(e,134217728);if(n!==null){var r=Nn();Lr(n,e,134217728,r)}Jy(e,134217728)}};pS=function(e){if(e.tag===13){var n=Ts(e),r=zo(e,n);if(r!==null){var o=Nn();Lr(r,e,n,o)}Jy(e,n)}};mS=function(){return lt};gS=function(e,n){var r=lt;try{return lt=e,n()}finally{lt=r}};mm=function(e,n,r){switch(n){case"input":if(lm(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var s=Hf(o);if(!s)throw Error(ue(90));Gb(o),lm(o,s)}}}break;case"textarea":Kb(e,r);break;case"select":n=r.value,n!=null&&fa(e,!!r.multiple,n,!1)}};nS=Yy;rS=ki;var KP={usingClientEntryPoint:!1,Events:[eu,na,Hf,eS,tS,Yy]},xl={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XP={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iS(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Lf=Fu.inject(XP),oo=Fu}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;rr.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t0(n))throw Error(ue(200));return qP(e,n,null,r)};rr.createRoot=function(e,n){if(!t0(e))throw Error(ue(299));var r=!1,o="",s=L_;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=Zy(e,1,!1,null,null,r,!1,o,s),e[Lo]=n.current,wc(e.nodeType===8?e.parentNode:e),new e0(n)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=iS(n),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return ki(e)};rr.hydrate=function(e,n,r){if(!Qf(n))throw Error(ue(200));return Zf(null,e,n,!0,r)};rr.hydrateRoot=function(e,n,r){if(!t0(e))throw Error(ue(405));var o=r!=null&&r.hydratedSources||null,s=!1,i="",a=L_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),n=$_(n,null,e,1,r??null,s,!1,i,a),e[Lo]=n.current,wc(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,s]:n.mutableSourceEagerHydrationData.push(r,s);return new Xf(n)};rr.render=function(e,n,r){if(!Qf(n))throw Error(ue(200));return Zf(null,e,n,!1,r)};rr.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(ue(40));return e._reactRootContainer?(ki(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[Lo]=null})}),!0):!1};rr.unstable_batchedUpdates=Yy;rr.unstable_renderSubtreeIntoContainer=function(e,n,r,o){if(!Qf(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Zf(e,n,r,!1,o)};rr.version="18.3.1-next-f1338f8080-20240426";function z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z_)}catch(e){console.error(e)}}z_(),zb.exports=rr;var $i=zb.exports;const F_=Df($i);var U_,Tx=$i;U_=Tx.createRoot,Tx.hydrateRoot;const QP=1,ZP=1e6;let xp=0;function JP(){return xp=(xp+1)%Number.MAX_SAFE_INTEGER,xp.toString()}const wp=new Map,jx=e=>{if(wp.has(e))return;const n=setTimeout(()=>{wp.delete(e),sc({type:"REMOVE_TOAST",toastId:e})},ZP);wp.set(e,n)},eM=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,QP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?jx(r):e.toasts.forEach(o=>{jx(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},wd=[];let bd={toasts:[]};function sc(e){bd=eM(bd,e),wd.forEach(n=>{n(bd)})}function tM({...e}){const n=JP(),r=s=>sc({type:"UPDATE_TOAST",toast:{...s,id:n}}),o=()=>sc({type:"DISMISS_TOAST",toastId:n});return sc({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:s=>{s||o()}}}),{id:n,dismiss:o,update:r}}function rl(){const[e,n]=g.useState(bd);return g.useEffect(()=>(wd.push(n),()=>{const r=wd.indexOf(n);r>-1&&wd.splice(r,1)}),[e]),{...e,toast:tM,dismiss:r=>sc({type:"DISMISS_TOAST",toastId:r})}}function Ee(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function Px(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function H_(...e){return n=>{let r=!1;const o=e.map(s=>{const i=Px(s,n);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<o.length;s++){const i=o[s];typeof i=="function"?i():Px(e[s],null)}}}}function et(...e){return g.useCallback(H_(...e),e)}function nM(e,n){const r=g.createContext(n),o=i=>{const{children:a,...l}=i,c=g.useMemo(()=>l,Object.values(l));return h.jsx(r.Provider,{value:c,children:a})};o.displayName=e+"Provider";function s(i){const a=g.useContext(r);if(a)return a;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[o,s]}function ho(e,n=[]){let r=[];function o(i,a){const l=g.createContext(a),c=r.length;r=[...r,a];const u=d=>{var y;const{scope:m,children:p,...w}=d,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=g.useMemo(()=>w,Object.values(w));return h.jsx(v.Provider,{value:b,children:p})};u.displayName=i+"Provider";function f(d,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,w=g.useContext(p);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[o,rM(s,...n)]}function rM(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=o.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return r.scopeName=n.scopeName,r}function Ba(e){const n=sM(e),r=g.forwardRef((o,s)=>{const{children:i,...a}=o,l=g.Children.toArray(i),c=l.find(aM);if(c){const u=c.props.children,f=l.map(d=>d===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:d);return h.jsx(n,{...a,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return h.jsx(n,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var oM=Ba("Slot");function sM(e){const n=g.forwardRef((r,o)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const a=cM(s),l=lM(i,s.props);return s.type!==g.Fragment&&(l.ref=o?H_(o,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var B_=Symbol("radix.slottable");function iM(e){const n=({children:r})=>h.jsx(h.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=B_,n}function aM(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B_}function lM(e,n){const r={...n};for(const o in n){const s=e[o],i=n[o];/^on[A-Z]/.test(o)?s&&i?r[o]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[o]=s):o==="style"?r[o]={...s,...i}:o==="className"&&(r[o]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function cM(e){var o,s;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function n0(e){const n=e+"CollectionProvider",[r,o]=ho(n),[s,i]=r(n,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:b,children:y}=v,x=z.useRef(null),S=z.useRef(new Map).current;return h.jsx(s,{scope:b,itemMap:S,collectionRef:x,children:y})};a.displayName=n;const l=e+"CollectionSlot",c=Ba(l),u=z.forwardRef((v,b)=>{const{scope:y,children:x}=v,S=i(l,y),_=et(b,S.collectionRef);return h.jsx(c,{ref:_,children:x})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",m=Ba(f),p=z.forwardRef((v,b)=>{const{scope:y,children:x,...S}=v,_=z.useRef(null),C=et(b,_),k=i(f,y);return z.useEffect(()=>(k.itemMap.set(_,{ref:_,...S}),()=>void k.itemMap.delete(_))),h.jsx(m,{[d]:"",ref:C,children:x})});p.displayName=f;function w(v){const b=i(e+"CollectionConsumer",v);return z.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((k,N)=>S.indexOf(k.ref.current)-S.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},w,o]}var uM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=uM.reduce((e,n)=>{const r=Ba(`Primitive.${n}`),o=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(c,{...l,ref:i})});return o.displayName=`Primitive.${n}`,{...e,[n]:o}},{});function V_(e,n){e&&$i.flushSync(()=>e.dispatchEvent(n))}function Bt(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),g.useMemo(()=>(...r)=>{var o;return(o=n.current)==null?void 0:o.call(n,...r)},[])}function dM(e,n=globalThis==null?void 0:globalThis.document){const r=Bt(e);g.useEffect(()=>{const o=s=>{s.key==="Escape"&&r(s)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[r,n])}var fM="DismissableLayer",Ym="dismissableLayer.update",hM="dismissableLayer.pointerDownOutside",pM="dismissableLayer.focusOutside",Mx,W_=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nu=g.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=g.useContext(W_),[f,d]=g.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),w=et(n,N=>d(N)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),x=f?v.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,C=gM(N=>{const A=N.target,T=[...u.branches].some(P=>P.contains(A));!_||T||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},m),k=yM(N=>{const A=N.target;[...u.branches].some(P=>P.contains(A))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},m);return dM(N=>{x===u.layers.size-1&&(o==null||o(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),g.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Mx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Rx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Mx)}},[f,m,r,u]),g.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Rx())},[f,u]),g.useEffect(()=>{const N=()=>p({});return document.addEventListener(Ym,N),()=>document.removeEventListener(Ym,N)},[]),h.jsx(Oe.div,{...c,ref:w,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,C.onPointerDownCapture)})});nu.displayName=fM;var mM="DismissableLayerBranch",q_=g.forwardRef((e,n)=>{const r=g.useContext(W_),o=g.useRef(null),s=et(n,o);return g.useEffect(()=>{const i=o.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),h.jsx(Oe.div,{...e,ref:s})});q_.displayName=mM;function gM(e,n=globalThis==null?void 0:globalThis.document){const r=Bt(e),o=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!o.current){let c=function(){G_(hM,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=c,n.addEventListener("click",s.current,{once:!0})):c()}else n.removeEventListener("click",s.current);o.current=!1},a=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),n.removeEventListener("pointerdown",i),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>o.current=!0}}function yM(e,n=globalThis==null?void 0:globalThis.document){const r=Bt(e),o=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!o.current&&G_(pM,r,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Rx(){const e=new CustomEvent(Ym);document.dispatchEvent(e)}function G_(e,n,r,{discrete:o}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),o?V_(s,i):s.dispatchEvent(i)}var vM=nu,xM=q_,Xt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},wM="Portal",Jf=g.forwardRef((e,n)=>{var l;const{container:r,...o}=e,[s,i]=g.useState(!1);Xt(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?F_.createPortal(h.jsx(Oe.div,{...o,ref:n}),a):null});Jf.displayName=wM;function bM(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var Hr=e=>{const{present:n,children:r}=e,o=SM(n),s=typeof r=="function"?r({present:o.isPresent}):g.Children.only(r),i=et(o.ref,_M(s));return typeof r=="function"||o.isPresent?g.cloneElement(s,{ref:i}):null};Hr.displayName="Presence";function SM(e){const[n,r]=g.useState(),o=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[l,c]=bM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Uu(o.current);i.current=l==="mounted"?u:"none"},[l]),Xt(()=>{const u=o.current,f=s.current;if(f!==e){const m=i.current,p=Uu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Xt(()=>{if(n){let u;const f=n.ownerDocument.defaultView??window,d=p=>{const v=Uu(o.current).includes(p.animationName);if(p.target===n&&v&&(c("ANIMATION_END"),!s.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",u=f.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},m=p=>{p.target===n&&(i.current=Uu(o.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",d),n.addEventListener("animationend",d),()=>{f.clearTimeout(u),n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",d),n.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{o.current=u?getComputedStyle(u):null,r(u)},[])}}function Uu(e){return(e==null?void 0:e.animationName)||"none"}function _M(e){var o,s;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CM=dy[" useInsertionEffect ".trim().toString()]||Xt;function Ds({prop:e,defaultProp:n,onChange:r=()=>{},caller:o}){const[s,i,a]=kM({defaultProp:n,onChange:r}),l=e!==void 0,c=l?e:s;{const f=g.useRef(e!==void 0);g.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${o} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,o])}const u=g.useCallback(f=>{var d;if(l){const m=NM(f)?f(e):f;m!==e&&((d=a.current)==null||d.call(a,m))}else i(f)},[l,e,i,a]);return[c,u]}function kM({defaultProp:e,onChange:n}){const[r,o]=g.useState(e),s=g.useRef(r),i=g.useRef(n);return CM(()=>{i.current=n},[n]),g.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,o,i]}function NM(e){return typeof e=="function"}var Y_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EM="VisuallyHidden",eh=g.forwardRef((e,n)=>h.jsx(Oe.span,{...e,ref:n,style:{...Y_,...e.style}}));eh.displayName=EM;var AM=eh,r0="ToastProvider",[o0,TM,jM]=n0("Toast"),[K_,bq]=ho("Toast",[jM]),[PM,th]=K_(r0),X_=e=>{const{__scopeToast:n,label:r="Notification",duration:o=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=g.useState(null),[u,f]=g.useState(0),d=g.useRef(!1),m=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${r0}\`. Expected non-empty \`string\`.`),h.jsx(o0.Provider,{scope:n,children:h.jsx(PM,{scope:n,label:r,duration:o,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>f(p=>p+1),[]),onToastRemove:g.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:a})})};X_.displayName=r0;var Q_="ToastViewport",MM=["F8"],Km="toast.viewportPause",Xm="toast.viewportResume",Z_=g.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:o=MM,label:s="Notifications ({hotkey})",...i}=e,a=th(Q_,r),l=TM(r),c=g.useRef(null),u=g.useRef(null),f=g.useRef(null),d=g.useRef(null),m=et(n,d,a.onViewportChange),p=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;g.useEffect(()=>{const b=y=>{var S;o.length!==0&&o.every(_=>y[_]||y.code===_)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]),g.useEffect(()=>{const b=c.current,y=d.current;if(w&&b&&y){const x=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(Km);y.dispatchEvent(k),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(Xm);y.dispatchEvent(k),a.isClosePausedRef.current=!1}},_=k=>{!b.contains(k.relatedTarget)&&S()},C=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",x),b.addEventListener("focusout",_),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[w,a.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:b})=>{const x=l().map(S=>{const _=S.ref.current,C=[_,...WM(_)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const b=d.current;if(b){const y=x=>{var C,k,N;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const A=document.activeElement,T=x.shiftKey;if(x.target===b&&T){(C=u.current)==null||C.focus();return}const D=v({tabbingDirection:T?"backwards":"forwards"}),F=D.findIndex(E=>E===A);bp(D.slice(F+1))?x.preventDefault():T?(k=u.current)==null||k.focus():(N=f.current)==null||N.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,v]),h.jsxs(xM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&h.jsx(Qm,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});bp(b)}}),h.jsx(o0.Slot,{scope:r,children:h.jsx(Oe.ol,{tabIndex:-1,...i,ref:m})}),w&&h.jsx(Qm,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});bp(b)}})]})});Z_.displayName=Q_;var J_="ToastFocusProxy",Qm=g.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...s}=e,i=th(J_,r);return h.jsx(eh,{"aria-hidden":!0,tabIndex:0,...s,ref:n,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&o()}})});Qm.displayName=J_;var ru="Toast",RM="toast.swipeStart",IM="toast.swipeMove",OM="toast.swipeCancel",DM="toast.swipeEnd",e2=g.forwardRef((e,n)=>{const{forceMount:r,open:o,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=Ds({prop:o,defaultProp:s??!0,onChange:i,caller:ru});return h.jsx(Hr,{present:r||l,children:h.jsx(zM,{open:l,...a,ref:n,onClose:()=>c(!1),onPause:Bt(e.onPause),onResume:Bt(e.onResume),onSwipeStart:Ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});e2.displayName=ru;var[$M,LM]=K_(ru,{onClose(){}}),zM=g.forwardRef((e,n)=>{const{__scopeToast:r,type:o="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:p,...w}=e,v=th(ru,r),[b,y]=g.useState(null),x=et(n,E=>y(E)),S=g.useRef(null),_=g.useRef(null),C=s||v.duration,k=g.useRef(0),N=g.useRef(C),A=g.useRef(0),{onToastAdd:T,onToastRemove:P}=v,O=Bt(()=>{var L;(b==null?void 0:b.contains(document.activeElement))&&((L=v.viewport)==null||L.focus()),a()}),D=g.useCallback(E=>{!E||E===1/0||(window.clearTimeout(A.current),k.current=new Date().getTime(),A.current=window.setTimeout(O,E))},[O]);g.useEffect(()=>{const E=v.viewport;if(E){const L=()=>{D(N.current),u==null||u()},R=()=>{const W=new Date().getTime()-k.current;N.current=N.current-W,window.clearTimeout(A.current),c==null||c()};return E.addEventListener(Km,R),E.addEventListener(Xm,L),()=>{E.removeEventListener(Km,R),E.removeEventListener(Xm,L)}}},[v.viewport,C,c,u,D]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(C)},[i,C,v.isClosePausedRef,D]),g.useEffect(()=>(T(),()=>P()),[T,P]);const F=g.useMemo(()=>b?a2(b):null,[b]);return v.viewport?h.jsxs(h.Fragment,{children:[F&&h.jsx(FM,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),h.jsx($M,{scope:r,onClose:O,children:$i.createPortal(h.jsx(o0.ItemSlot,{scope:r,children:h.jsx(vM,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ee(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ee(e.onPointerDown,E=>{E.button===0&&(S.current={x:E.clientX,y:E.clientY})}),onPointerMove:Ee(e.onPointerMove,E=>{if(!S.current)return;const L=E.clientX-S.current.x,R=E.clientY-S.current.y,W=!!_.current,I=["left","right"].includes(v.swipeDirection),j=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,H=I?j(0,L):0,M=I?0:j(0,R),$=E.pointerType==="touch"?10:2,Y={x:H,y:M},q={originalEvent:E,delta:Y};W?(_.current=Y,Hu(IM,d,q,{discrete:!1})):Ix(Y,v.swipeDirection,$)?(_.current=Y,Hu(RM,f,q,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(L)>$||Math.abs(R)>$)&&(S.current=null)}),onPointerUp:Ee(e.onPointerUp,E=>{const L=_.current,R=E.target;if(R.hasPointerCapture(E.pointerId)&&R.releasePointerCapture(E.pointerId),_.current=null,S.current=null,L){const W=E.currentTarget,I={originalEvent:E,delta:L};Ix(L,v.swipeDirection,v.swipeThreshold)?Hu(DM,p,I,{discrete:!0}):Hu(OM,m,I,{discrete:!0}),W.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),FM=e=>{const{__scopeToast:n,children:r,...o}=e,s=th(ru,n),[i,a]=g.useState(!1),[l,c]=g.useState(!1);return BM(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:h.jsx(Jf,{asChild:!0,children:h.jsx(eh,{...o,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",r]})})})},UM="ToastTitle",t2=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return h.jsx(Oe.div,{...o,ref:n})});t2.displayName=UM;var HM="ToastDescription",n2=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return h.jsx(Oe.div,{...o,ref:n})});n2.displayName=HM;var r2="ToastAction",o2=g.forwardRef((e,n)=>{const{altText:r,...o}=e;return r.trim()?h.jsx(i2,{altText:r,asChild:!0,children:h.jsx(s0,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${r2}\`. Expected non-empty \`string\`.`),null)});o2.displayName=r2;var s2="ToastClose",s0=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e,s=LM(s2,r);return h.jsx(i2,{asChild:!0,children:h.jsx(Oe.button,{type:"button",...o,ref:n,onClick:Ee(e.onClick,s.onClose)})})});s0.displayName=s2;var i2=g.forwardRef((e,n)=>{const{__scopeToast:r,altText:o,...s}=e;return h.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...s,ref:n})});function a2(e){const n=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),VM(o)){const s=o.ariaHidden||o.hidden||o.style.display==="none",i=o.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=o.dataset.radixToastAnnounceAlt;a&&n.push(a)}else n.push(...a2(o))}}),n}function Hu(e,n,r,{discrete:o}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),o?V_(s,i):s.dispatchEvent(i)}var Ix=(e,n,r=0)=>{const o=Math.abs(e.x),s=Math.abs(e.y),i=o>s;return n==="left"||n==="right"?i&&o>r:!i&&s>r};function BM(e=()=>{}){const n=Bt(e);Xt(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[n])}function VM(e){return e.nodeType===e.ELEMENT_NODE}function WM(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function bp(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var qM=X_,l2=Z_,c2=e2,u2=t2,d2=n2,f2=o2,h2=s0;function p2(e){var n,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=p2(e[n]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function m2(){for(var e,n,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=p2(e))&&(o&&(o+=" "),o+=n);return o}const Ox=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dx=m2,ou=(e,n)=>r=>{var o;if((n==null?void 0:n.variants)==null)return Dx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=n,a=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const m=Ox(f)||Ox(d);return s[u][m]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((u,f)=>{let{class:d,className:m,...p}=f;return Object.entries(p).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,d,m]:u},[]);return Dx(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g2=(...e)=>e.filter((n,r,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=g.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...YM,width:n,height:n,stroke:e,strokeWidth:o?Number(r)*24/Number(n):r,className:g2("lucide",s),...l},[...a.map(([u,f])=>g.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,n)=>{const r=g.forwardRef(({className:o,...s},i)=>g.createElement(KM,{ref:i,iconNode:n,className:g2(`lucide-${GM(e)}`,o),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=He("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=He("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=He("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=He("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=He("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=He("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=He("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=He("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=He("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=He("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=He("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=He("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=He("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=He("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=He("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=He("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),l0="-",N3=e=>{const n=A3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:a=>{const l=a.split(l0);return l[0]===""&&l.length!==1&&l.shift(),w2(l,n)||E3(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&o[a]?[...c,...o[a]]:c}}},w2=(e,n)=>{var a;if(e.length===0)return n.classGroupId;const r=e[0],o=n.nextPart.get(r),s=o?w2(e.slice(1),o):void 0;if(s)return s;if(n.validators.length===0)return;const i=e.join(l0);return(a=n.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},zx=/^\[(.+)\]$/,E3=e=>{if(zx.test(e)){const n=zx.exec(e)[1],r=n==null?void 0:n.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},A3=e=>{const{theme:n,prefix:r}=e,o={nextPart:new Map,validators:[]};return j3(Object.entries(e.classGroups),r).forEach(([i,a])=>{eg(a,o,i,n)}),o},eg=(e,n,r,o)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?n:Fx(n,s);i.classGroupId=r;return}if(typeof s=="function"){if(T3(s)){eg(s(o),n,r,o);return}n.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{eg(a,Fx(n,i),r,o)})})},Fx=(e,n)=>{let r=e;return n.split(l0).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},T3=e=>e.isThemeGetter,j3=(e,n)=>n?e.map(([r,o])=>{const s=o.map(i=>typeof i=="string"?n+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[n+a,l])):i);return[r,s]}):e,P3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,o=new Map;const s=(i,a)=>{r.set(i,a),n++,n>e&&(n=0,o=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=o.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},b2="!",M3=e=>{const{separator:n,experimentalParseClassName:r}=e,o=n.length===1,s=n[0],i=n.length,a=l=>{const c=[];let u=0,f=0,d;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(o||l.slice(b,b+i)===n)){c.push(l.slice(f,b)),f=b+i;continue}if(y==="/"){d=b;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(f),p=m.startsWith(b2),w=p?m.substring(1):m,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:a}):a},R3=e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(o=>{o[0]==="["?(n.push(...r.sort(),o),r=[]):r.push(o)}),n.push(...r.sort()),n},I3=e=>({cache:P3(e.cacheSize),parseClassName:M3(e),...N3(e)}),O3=/\s+/,D3=(e,n)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:s}=n,i=[],a=e.trim().split(O3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let w=!!p,v=o(w?m.substring(0,p):m);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=o(m),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=R3(f).join(":"),y=d?b+b2:b,x=y+v;if(i.includes(x))continue;i.push(x);const S=s(v,w);for(let _=0;_<S.length;++_){const C=S[_];i.push(y+C)}l=u+(l.length>0?" "+l:l)}return l};function $3(){let e=0,n,r,o="";for(;e<arguments.length;)(n=arguments[e++])&&(r=S2(n))&&(o&&(o+=" "),o+=r);return o}const S2=e=>{if(typeof e=="string")return e;let n,r="";for(let o=0;o<e.length;o++)e[o]&&(n=S2(e[o]))&&(r&&(r+=" "),r+=n);return r};function L3(e,...n){let r,o,s,i=a;function a(c){const u=n.reduce((f,d)=>d(f),e());return r=I3(u),o=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=o(c);if(u)return u;const f=D3(c,r);return s(c,f),f}return function(){return i($3.apply(null,arguments))}}const mt=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},_2=/^\[(?:([a-z-]+):)?(.+)\]$/i,z3=/^\d+\/\d+$/,F3=new Set(["px","full","screen"]),U3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yo=e=>va(e)||F3.has(e)||z3.test(e),Ko=e=>ol(e,"length",J3),va=e=>!!e&&!Number.isNaN(Number(e)),Sp=e=>ol(e,"number",va),wl=e=>!!e&&Number.isInteger(Number(e)),q3=e=>e.endsWith("%")&&va(e.slice(0,-1)),We=e=>_2.test(e),Xo=e=>U3.test(e),G3=new Set(["length","size","percentage"]),Y3=e=>ol(e,G3,C2),K3=e=>ol(e,"position",C2),X3=new Set(["image","url"]),Q3=e=>ol(e,X3,tR),Z3=e=>ol(e,"",eR),bl=()=>!0,ol=(e,n,r)=>{const o=_2.exec(e);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):r(o[2]):!1},J3=e=>H3.test(e)&&!B3.test(e),C2=()=>!1,eR=e=>V3.test(e),tR=e=>W3.test(e),nR=()=>{const e=mt("colors"),n=mt("spacing"),r=mt("blur"),o=mt("brightness"),s=mt("borderColor"),i=mt("borderRadius"),a=mt("borderSpacing"),l=mt("borderWidth"),c=mt("contrast"),u=mt("grayscale"),f=mt("hueRotate"),d=mt("invert"),m=mt("gap"),p=mt("gradientColorStops"),w=mt("gradientColorStopPositions"),v=mt("inset"),b=mt("margin"),y=mt("opacity"),x=mt("padding"),S=mt("saturate"),_=mt("scale"),C=mt("sepia"),k=mt("skew"),N=mt("space"),A=mt("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",We,n],D=()=>[We,n],F=()=>["",yo,Ko],E=()=>["auto",va,We],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",We],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[va,We];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[yo,Ko],blur:["none","",Xo,We],brightness:M(),borderColor:[e],borderRadius:["none","","full",Xo,We],borderSpacing:D(),borderWidth:F(),contrast:M(),grayscale:j(),hueRotate:M(),invert:j(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[q3,Ko],inset:O(),margin:O(),opacity:M(),padding:D(),saturate:M(),scale:M(),sepia:j(),skew:M(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Xo]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),We]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl,We]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",wl,We]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",wl,We]},We]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[wl,We]},We]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,n]}],"min-w":[{"min-w":[We,n,"min","max","fit"]}],"max-w":[{"max-w":[We,n,"none","full","min","max","fit","prose",{screen:[Xo]},Xo]}],h:[{h:[We,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Xo,Ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sp]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",va,Sp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yo,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yo,Ko]}],"underline-offset":[{"underline-offset":["auto",yo,We]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),K3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Q3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[yo,We]}],"outline-w":[{outline:[yo,Ko]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[yo,Ko]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xo,Z3]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xo,We]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wl,We]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yo,Ko,Sp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rR=L3(nR);function Ie(...e){return rR(m2(e))}const oR=qM,k2=g.forwardRef(({className:e,...n},r)=>h.jsx(l2,{ref:r,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));k2.displayName=l2.displayName;const sR=ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),N2=g.forwardRef(({className:e,variant:n,...r},o)=>h.jsx(c2,{ref:o,className:Ie(sR({variant:n}),e),...r}));N2.displayName=c2.displayName;const iR=g.forwardRef(({className:e,...n},r)=>h.jsx(f2,{ref:r,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...n}));iR.displayName=f2.displayName;const E2=g.forwardRef(({className:e,...n},r)=>h.jsx(h2,{ref:r,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:h.jsx(iu,{className:"h-4 w-4"})}));E2.displayName=h2.displayName;const A2=g.forwardRef(({className:e,...n},r)=>h.jsx(u2,{ref:r,className:Ie("text-sm font-semibold",e),...n}));A2.displayName=u2.displayName;const T2=g.forwardRef(({className:e,...n},r)=>h.jsx(d2,{ref:r,className:Ie("text-sm opacity-90",e),...n}));T2.displayName=d2.displayName;function aR(){const{toasts:e}=rl();return h.jsxs(oR,{children:[e.map(function({id:n,title:r,description:o,action:s,...i}){return h.jsxs(N2,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(A2,{children:r}),o&&h.jsx(T2,{children:o})]}),s,h.jsx(E2,{})]},n)}),h.jsx(k2,{})]})}var Ux=["light","dark"],lR="(prefers-color-scheme: dark)",cR=g.createContext(void 0),uR={setTheme:e=>{},themes:[]},dR=()=>{var e;return(e=g.useContext(cR))!=null?e:uR};g.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:o,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?Ux.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,v=!1,b=!0)=>{let y=a?a[w]:w,x=v?w+"|| ''":`'${y}'`,S="";return s&&b&&!v&&Ux.includes(w)&&(S+=`d.style.colorScheme = '${w}';`),r==="class"?v||y?S+=`c.add(${x})`:S+="null":y&&(S+=`d[s](n,${x})`),S},p=e?`!function(){${f}${m(e)}}()`:o?`!function(){try{${f}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${u})){var t='${lR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${n}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${d}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var fR=e=>{switch(e){case"success":return mR;case"info":return yR;case"warning":return gR;case"error":return vR;default:return null}},hR=Array(12).fill(0),pR=({visible:e,className:n})=>z.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":e},z.createElement("div",{className:"sonner-spinner"},hR.map((r,o)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),mR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xR=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wR=()=>{let[e,n]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},tg=1,bR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...o}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:tg++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...o,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=e instanceof Promise?e:e(),s=r!==void 0,i,a=o.then(async c=>{if(i=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(_R(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:f})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||tg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},In=new bR,SR=(e,n)=>{let r=(n==null?void 0:n.id)||tg++;return In.addToast({title:e,...n,id:r}),r},_R=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CR=SR,kR=()=>In.toasts,NR=()=>In.getActiveToasts();Object.assign(CR,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:kR,getToasts:NR});function ER(e,{insertAt:n}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}ER(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bu(e){return e.label!==void 0}var AR=3,TR="32px",jR="16px",Hx=4e3,PR=356,MR=14,RR=20,IR=200;function Er(...e){return e.filter(Boolean).join(" ")}function OR(e){let[n,r]=e.split("-"),o=[];return n&&o.push(n),r&&o.push(r),o}var DR=e=>{var n,r,o,s,i,a,l,c,u,f,d;let{invert:m,toast:p,unstyled:w,interacting:v,setHeights:b,visibleToasts:y,heights:x,index:S,toasts:_,expanded:C,removeToast:k,defaultRichColors:N,closeButton:A,style:T,cancelButtonStyle:P,actionButtonStyle:O,className:D="",descriptionClassName:F="",duration:E,position:L,gap:R,loadingIcon:W,expandByDefault:I,classNames:j,icons:H,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:$}=e,[Y,q]=z.useState(null),[Z,ce]=z.useState(null),[X,pe]=z.useState(!1),[ne,ie]=z.useState(!1),[le,ye]=z.useState(!1),[Pe,ve]=z.useState(!1),[re,Se]=z.useState(!1),[_e,ee]=z.useState(0),[De,Be]=z.useState(0),$e=z.useRef(p.duration||E||Hx),ze=z.useRef(null),ct=z.useRef(null),rt=S===0,an=S+1<=y,ot=p.type,Me=p.dismissible!==!1,jn=p.className||"",sr=p.descriptionClassName||"",dt=z.useMemo(()=>x.findIndex(we=>we.toastId===p.id)||0,[x,p.id]),Nt=z.useMemo(()=>{var we;return(we=p.closeButton)!=null?we:A},[p.closeButton,A]),xt=z.useMemo(()=>p.duration||E||Hx,[p.duration,E]),Qe=z.useRef(0),Dt=z.useRef(0),ln=z.useRef(0),st=z.useRef(null),[Qt,ir]=L.split("-"),V=z.useMemo(()=>x.reduce((we,Ae,ke)=>ke>=dt?we:we+Ae.height,0),[x,dt]),te=wR(),ge=p.invert||m,Ce=ot==="loading";Dt.current=z.useMemo(()=>dt*R+V,[dt,V]),z.useEffect(()=>{$e.current=xt},[xt]),z.useEffect(()=>{pe(!0)},[]),z.useEffect(()=>{let we=ct.current;if(we){let Ae=we.getBoundingClientRect().height;return Be(Ae),b(ke=>[{toastId:p.id,height:Ae,position:p.position},...ke]),()=>b(ke=>ke.filter(Fe=>Fe.toastId!==p.id))}},[b,p.id]),z.useLayoutEffect(()=>{if(!X)return;let we=ct.current,Ae=we.style.height;we.style.height="auto";let ke=we.getBoundingClientRect().height;we.style.height=Ae,Be(ke),b(Fe=>Fe.find(Et=>Et.toastId===p.id)?Fe.map(Et=>Et.toastId===p.id?{...Et,height:ke}:Et):[{toastId:p.id,height:ke,position:p.position},...Fe])},[X,p.title,p.description,b,p.id]);let me=z.useCallback(()=>{ie(!0),ee(Dt.current),b(we=>we.filter(Ae=>Ae.toastId!==p.id)),setTimeout(()=>{k(p)},IR)},[p,k,b,Dt]);z.useEffect(()=>{if(p.promise&&ot==="loading"||p.duration===1/0||p.type==="loading")return;let we;return C||v||$&&te?(()=>{if(ln.current<Qe.current){let Ae=new Date().getTime()-Qe.current;$e.current=$e.current-Ae}ln.current=new Date().getTime()})():$e.current!==1/0&&(Qe.current=new Date().getTime(),we=setTimeout(()=>{var Ae;(Ae=p.onAutoClose)==null||Ae.call(p,p),me()},$e.current)),()=>clearTimeout(we)},[C,v,p,ot,$,te,me]),z.useEffect(()=>{p.delete&&me()},[me,p.delete]);function Ve(){var we,Ae,ke;return H!=null&&H.loading?z.createElement("div",{className:Er(j==null?void 0:j.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":ot==="loading"},H.loading):W?z.createElement("div",{className:Er(j==null?void 0:j.loader,(Ae=p==null?void 0:p.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":ot==="loading"},W):z.createElement(pR,{className:Er(j==null?void 0:j.loader,(ke=p==null?void 0:p.classNames)==null?void 0:ke.loader),visible:ot==="loading"})}return z.createElement("li",{tabIndex:0,ref:ct,className:Er(D,jn,j==null?void 0:j.toast,(n=p==null?void 0:p.classNames)==null?void 0:n.toast,j==null?void 0:j.default,j==null?void 0:j[ot],(r=p==null?void 0:p.classNames)==null?void 0:r[ot]),"data-sonner-toast":"","data-rich-colors":(o=p.richColors)!=null?o:N,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":re,"data-removed":ne,"data-visible":an,"data-y-position":Qt,"data-x-position":ir,"data-index":S,"data-front":rt,"data-swiping":le,"data-dismissible":Me,"data-type":ot,"data-invert":ge,"data-swipe-out":Pe,"data-swipe-direction":Z,"data-expanded":!!(C||I&&X),style:{"--index":S,"--toasts-before":S,"--z-index":_.length-S,"--offset":`${ne?_e:Dt.current}px`,"--initial-height":I?"auto":`${De}px`,...T,...p.style},onDragEnd:()=>{ye(!1),q(null),st.current=null},onPointerDown:we=>{Ce||!Me||(ze.current=new Date,ee(Dt.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(ye(!0),st.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Ae,ke,Fe;if(Pe||!Me)return;st.current=null;let Et=Number(((we=ct.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zt=Number(((Ae=ct.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_r=new Date().getTime()-((ke=ze.current)==null?void 0:ke.getTime()),yn=Y==="x"?Et:Zt,vn=Math.abs(yn)/_r;if(Math.abs(yn)>=RR||vn>.11){ee(Dt.current),(Fe=p.onDismiss)==null||Fe.call(p,p),ce(Y==="x"?Et>0?"right":"left":Zt>0?"down":"up"),me(),ve(!0),Se(!1);return}ye(!1),q(null)},onPointerMove:we=>{var Ae,ke,Fe,Et;if(!st.current||!Me||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let Zt=we.clientY-st.current.y,_r=we.clientX-st.current.x,yn=(ke=e.swipeDirections)!=null?ke:OR(L);!Y&&(Math.abs(_r)>1||Math.abs(Zt)>1)&&q(Math.abs(_r)>Math.abs(Zt)?"x":"y");let vn={x:0,y:0};Y==="y"?(yn.includes("top")||yn.includes("bottom"))&&(yn.includes("top")&&Zt<0||yn.includes("bottom")&&Zt>0)&&(vn.y=Zt):Y==="x"&&(yn.includes("left")||yn.includes("right"))&&(yn.includes("left")&&_r<0||yn.includes("right")&&_r>0)&&(vn.x=_r),(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&Se(!0),(Fe=ct.current)==null||Fe.style.setProperty("--swipe-amount-x",`${vn.x}px`),(Et=ct.current)==null||Et.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},Nt&&!p.jsx?z.createElement("button",{"aria-label":M,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!Me?()=>{}:()=>{var we;me(),(we=p.onDismiss)==null||we.call(p,p)},className:Er(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:xR):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:z.createElement(z.Fragment,null,ot||p.icon||p.promise?z.createElement("div",{"data-icon":"",className:Er(j==null?void 0:j.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ve():null,p.type!=="loading"?p.icon||(H==null?void 0:H[ot])||fR(ot):null):null,z.createElement("div",{"data-content":"",className:Er(j==null?void 0:j.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:Er(j==null?void 0:j.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?z.createElement("div",{"data-description":"",className:Er(F,sr,j==null?void 0:j.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&Bu(p.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:we=>{var Ae,ke;Bu(p.cancel)&&Me&&((ke=(Ae=p.cancel).onClick)==null||ke.call(Ae,we),me())},className:Er(j==null?void 0:j.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&Bu(p.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:we=>{var Ae,ke;Bu(p.action)&&((ke=(Ae=p.action).onClick)==null||ke.call(Ae,we),!we.defaultPrevented&&me())},className:Er(j==null?void 0:j.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Bx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $R(e,n){let r={};return[e,n].forEach((o,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?jR:TR;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof o=="number"||typeof o=="string"?c(o):typeof o=="object"?["top","right","bottom","left"].forEach(u=>{o[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof o[u]=="number"?`${o[u]}px`:o[u]}):c(l)}),r}var LR=g.forwardRef(function(e,n){let{invert:r,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:m,style:p,visibleToasts:w=AR,toastOptions:v,dir:b=Bx(),gap:y=MR,loadingIcon:x,icons:S,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[k,N]=z.useState([]),A=z.useMemo(()=>Array.from(new Set([o].concat(k.filter($=>$.position).map($=>$.position)))),[k,o]),[T,P]=z.useState([]),[O,D]=z.useState(!1),[F,E]=z.useState(!1),[L,R]=z.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=z.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=z.useRef(null),H=z.useRef(!1),M=z.useCallback($=>{N(Y=>{var q;return(q=Y.find(Z=>Z.id===$.id))!=null&&q.delete||In.dismiss($.id),Y.filter(({id:Z})=>Z!==$.id)})},[]);return z.useEffect(()=>In.subscribe($=>{if($.dismiss){N(Y=>Y.map(q=>q.id===$.id?{...q,delete:!0}:q));return}setTimeout(()=>{F_.flushSync(()=>{N(Y=>{let q=Y.findIndex(Z=>Z.id===$.id);return q!==-1?[...Y.slice(0,q),{...Y[q],...$},...Y.slice(q+1)]:[$,...Y]})})})}),[]),z.useEffect(()=>{if(f!=="system"){R(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Y})=>{R(Y?"dark":"light")})}catch{$.addListener(({matches:q})=>{try{R(q?"dark":"light")}catch(Z){console.error(Z)}})}},[f]),z.useEffect(()=>{k.length<=1&&D(!1)},[k]),z.useEffect(()=>{let $=Y=>{var q,Z;s.every(ce=>Y[ce]||Y.code===ce)&&(D(!0),(q=W.current)==null||q.focus()),Y.code==="Escape"&&(document.activeElement===W.current||(Z=W.current)!=null&&Z.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),z.useEffect(()=>{if(W.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,H.current=!1)}},[W.current]),z.createElement("section",{ref:n,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map(($,Y)=>{var q;let[Z,ce]=$.split("-");return k.length?z.createElement("ol",{key:$,dir:b==="auto"?Bx():b,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":Z,"data-lifted":O&&k.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((q=T[0])==null?void 0:q.height)||0}px`,"--width":`${PR}px`,"--gap":`${y}px`,...p,...$R(c,u)},onBlur:X=>{H.current&&!X.currentTarget.contains(X.relatedTarget)&&(H.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||H.current||(H.current=!0,j.current=X.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},k.filter(X=>!X.position&&Y===0||X.position===$).map((X,pe)=>{var ne,ie;return z.createElement(DR,{key:X.id,icons:S,index:pe,toast:X,defaultRichColors:d,duration:(ne=v==null?void 0:v.duration)!=null?ne:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(ie=v==null?void 0:v.closeButton)!=null?ie:a,interacting:F,position:$,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:M,toasts:k.filter(le=>le.position==X.position),heights:T.filter(le=>le.position==X.position),setHeights:P,expandByDefault:i,gap:y,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const zR=({...e})=>{const{theme:n="system"}=dR();return h.jsx(LR,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FR=dy[" useId ".trim().toString()]||(()=>{}),UR=0;function Ro(e){const[n,r]=g.useState(FR());return Xt(()=>{r(o=>o??String(UR++))},[e]),n?`radix-${n}`:""}const HR=["top","right","bottom","left"],$s=Math.min,Xn=Math.max,rf=Math.round,Vu=Math.floor,io=e=>({x:e,y:e}),BR={left:"right",right:"left",bottom:"top",top:"bottom"},VR={start:"end",end:"start"};function ng(e,n,r){return Xn(e,$s(n,r))}function Uo(e,n){return typeof e=="function"?e(n):e}function Ho(e){return e.split("-")[0]}function sl(e){return e.split("-")[1]}function c0(e){return e==="x"?"y":"x"}function u0(e){return e==="y"?"height":"width"}const WR=new Set(["top","bottom"]);function no(e){return WR.has(Ho(e))?"y":"x"}function d0(e){return c0(no(e))}function qR(e,n,r){r===void 0&&(r=!1);const o=sl(e),s=d0(e),i=u0(s);let a=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(a=of(a)),[a,of(a)]}function GR(e){const n=of(e);return[rg(e),n,rg(n)]}function rg(e){return e.replace(/start|end/g,n=>VR[n])}const Vx=["left","right"],Wx=["right","left"],YR=["top","bottom"],KR=["bottom","top"];function XR(e,n,r){switch(e){case"top":case"bottom":return r?n?Wx:Vx:n?Vx:Wx;case"left":case"right":return n?YR:KR;default:return[]}}function QR(e,n,r,o){const s=sl(e);let i=XR(Ho(e),r==="start",o);return s&&(i=i.map(a=>a+"-"+s),n&&(i=i.concat(i.map(rg)))),i}function of(e){return e.replace(/left|right|bottom|top/g,n=>BR[n])}function ZR(e){return{top:0,right:0,bottom:0,left:0,...e}}function j2(e){return typeof e!="number"?ZR(e):{top:e,right:e,bottom:e,left:e}}function sf(e){const{x:n,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:n,right:n+o,bottom:r+s,x:n,y:r}}function qx(e,n,r){let{reference:o,floating:s}=e;const i=no(n),a=d0(n),l=u0(a),c=Ho(n),u=i==="y",f=o.x+o.width/2-s.width/2,d=o.y+o.height/2-s.height/2,m=o[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:o.y-s.height};break;case"bottom":p={x:f,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:d};break;case"left":p={x:o.x-s.width,y:d};break;default:p={x:o.x,y:o.y}}switch(sl(n)){case"start":p[a]-=m*(r&&u?-1:1);break;case"end":p[a]+=m*(r&&u?-1:1);break}return p}const JR=async(e,n,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(n));let u=await a.getElementRects({reference:e,floating:n,strategy:s}),{x:f,y:d}=qx(u,o,c),m=o,p={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:y}=l[v],{x,y:S,data:_,reset:C}=await y({x:f,y:d,initialPlacement:o,placement:m,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:n}});f=x??f,d=S??d,p={...p,[b]:{...p[b],..._}},C&&w<=50&&(w++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await a.getElementRects({reference:e,floating:n,strategy:s}):C.rects),{x:f,y:d}=qx(u,m,c)),v=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:p}};async function Tc(e,n){var r;n===void 0&&(n={});const{x:o,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=Uo(n,e),w=j2(p),b=l[m?d==="floating"?"reference":"floating":d],y=sf(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:o,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=sf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:S,strategy:c}):x);return{top:(y.top-C.top+w.top)/_.y,bottom:(C.bottom-y.bottom+w.bottom)/_.y,left:(y.left-C.left+w.left)/_.x,right:(C.right-y.right+w.right)/_.x}}const e5=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:o,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=n,{element:u,padding:f=0}=Uo(e,n)||{};if(u==null)return{};const d=j2(f),m={x:r,y:o},p=d0(s),w=u0(p),v=await a.getDimensions(u),b=p==="y",y=b?"top":"left",x=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=i.reference[w]+i.reference[p]-m[p]-i.floating[w],C=m[p]-i.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=k?k[S]:0;(!N||!await(a.isElement==null?void 0:a.isElement(k)))&&(N=l.floating[S]||i.floating[w]);const A=_/2-C/2,T=N/2-v[w]/2-1,P=$s(d[y],T),O=$s(d[x],T),D=P,F=N-v[w]-O,E=N/2-v[w]/2+A,L=ng(D,E,F),R=!c.arrow&&sl(s)!=null&&E!==L&&i.reference[w]/2-(E<D?P:O)-v[w]/2<0,W=R?E<D?E-D:E-F:0;return{[p]:m[p]+W,data:{[p]:L,centerOffset:E-L-W,...R&&{alignmentOffset:W}},reset:R}}}),t5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,o;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=n,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=Uo(e,n);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Ho(s),x=no(l),S=Ho(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(S||!v?[of(l)]:GR(l)),k=w!=="none";!m&&k&&C.push(...QR(l,v,w,_));const N=[l,...C],A=await Tc(n,b),T=[];let P=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&T.push(A[y]),d){const E=qR(s,a,_);T.push(A[E[0]],A[E[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(E=>E<=0)){var O,D;const E=(((O=i.flip)==null?void 0:O.index)||0)+1,L=N[E];if(L&&(!(d==="alignment"?x!==no(L):!1)||P.every(I=>I.overflows[0]>0&&no(I.placement)===x)))return{data:{index:E,overflows:P},reset:{placement:L}};let R=(D=P.filter(W=>W.overflows[0]<=0).sort((W,I)=>W.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(p){case"bestFit":{var F;const W=(F=P.filter(I=>{if(k){const j=no(I.placement);return j===x||j==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((I,j)=>I[1]-j[1])[0])==null?void 0:F[0];W&&(R=W);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function Gx(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Yx(e){return HR.some(n=>e[n]>=0)}const n5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:o="referenceHidden",...s}=Uo(e,n);switch(o){case"referenceHidden":{const i=await Tc(n,{...s,elementContext:"reference"}),a=Gx(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Yx(a)}}}case"escaped":{const i=await Tc(n,{...s,altBoundary:!0}),a=Gx(i,r.floating);return{data:{escapedOffsets:a,escaped:Yx(a)}}}default:return{}}}}},P2=new Set(["left","top"]);async function r5(e,n){const{placement:r,platform:o,elements:s}=e,i=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=Ho(r),l=sl(r),c=no(r)==="y",u=P2.has(a)?-1:1,f=i&&c?-1:1,d=Uo(n,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const o5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,o;const{x:s,y:i,placement:a,middlewareData:l}=n,c=await r5(n,e);return a===((r=l.offset)==null?void 0:r.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},s5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:o,placement:s}=n,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=Uo(e,n),u={x:r,y:o},f=await Tc(n,c),d=no(Ho(s)),m=c0(d);let p=u[m],w=u[d];if(i){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=p+f[b],S=p-f[y];p=ng(x,p,S)}if(a){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",x=w+f[b],S=w-f[y];w=ng(x,w,S)}const v=l.fn({...n,[m]:p,[d]:w});return{...v,data:{x:v.x-r,y:v.y-o,enabled:{[m]:i,[d]:a}}}}}},i5=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:o,placement:s,rects:i,middlewareData:a}=n,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Uo(e,n),f={x:r,y:o},d=no(s),m=c0(d);let p=f[m],w=f[d];const v=Uo(l,n),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=m==="y"?"height":"width",_=i.reference[m]-i.floating[S]+b.mainAxis,C=i.reference[m]+i.reference[S]-b.mainAxis;p<_?p=_:p>C&&(p=C)}if(u){var y,x;const S=m==="y"?"width":"height",_=P2.has(Ho(s)),C=i.reference[d]-i.floating[S]+(_&&((y=a.offset)==null?void 0:y[d])||0)+(_?0:b.crossAxis),k=i.reference[d]+i.reference[S]+(_?0:((x=a.offset)==null?void 0:x[d])||0)-(_?b.crossAxis:0);w<C?w=C:w>k&&(w=k)}return{[m]:p,[d]:w}}}},a5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,o;const{placement:s,rects:i,platform:a,elements:l}=n,{apply:c=()=>{},...u}=Uo(e,n),f=await Tc(n,u),d=Ho(s),m=sl(s),p=no(s)==="y",{width:w,height:v}=i.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,b=m==="end"?"top":"bottom");const x=v-f.top-f.bottom,S=w-f.left-f.right,_=$s(v-f[b],x),C=$s(w-f[y],S),k=!n.middlewareData.shift;let N=_,A=C;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(A=S),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(N=x),k&&!m){const P=Xn(f.left,0),O=Xn(f.right,0),D=Xn(f.top,0),F=Xn(f.bottom,0);p?A=w-2*(P!==0||O!==0?P+O:Xn(f.left,f.right)):N=v-2*(D!==0||F!==0?D+F:Xn(f.top,f.bottom))}await c({...n,availableWidth:A,availableHeight:N});const T=await a.getDimensions(l.floating);return w!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function nh(){return typeof window<"u"}function il(e){return M2(e)?(e.nodeName||"").toLowerCase():"#document"}function Jn(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function po(e){var n;return(n=(M2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function M2(e){return nh()?e instanceof Node||e instanceof Jn(e).Node:!1}function Fr(e){return nh()?e instanceof Element||e instanceof Jn(e).Element:!1}function uo(e){return nh()?e instanceof HTMLElement||e instanceof Jn(e).HTMLElement:!1}function Kx(e){return!nh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jn(e).ShadowRoot}const l5=new Set(["inline","contents"]);function au(e){const{overflow:n,overflowX:r,overflowY:o,display:s}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!l5.has(s)}const c5=new Set(["table","td","th"]);function u5(e){return c5.has(il(e))}const d5=[":popover-open",":modal"];function rh(e){return d5.some(n=>{try{return e.matches(n)}catch{return!1}})}const f5=["transform","translate","scale","rotate","perspective"],h5=["transform","translate","scale","rotate","perspective","filter"],p5=["paint","layout","strict","content"];function f0(e){const n=h0(),r=Fr(e)?Ur(e):e;return f5.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||h5.some(o=>(r.willChange||"").includes(o))||p5.some(o=>(r.contain||"").includes(o))}function m5(e){let n=Ls(e);for(;uo(n)&&!Va(n);){if(f0(n))return n;if(rh(n))return null;n=Ls(n)}return null}function h0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g5=new Set(["html","body","#document"]);function Va(e){return g5.has(il(e))}function Ur(e){return Jn(e).getComputedStyle(e)}function oh(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ls(e){if(il(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Kx(e)&&e.host||po(e);return Kx(n)?n.host:n}function R2(e){const n=Ls(e);return Va(n)?e.ownerDocument?e.ownerDocument.body:e.body:uo(n)&&au(n)?n:R2(n)}function jc(e,n,r){var o;n===void 0&&(n=[]),r===void 0&&(r=!0);const s=R2(e),i=s===((o=e.ownerDocument)==null?void 0:o.body),a=Jn(s);if(i){const l=og(a);return n.concat(a,a.visualViewport||[],au(s)?s:[],l&&r?jc(l):[])}return n.concat(s,jc(s,[],r))}function og(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function I2(e){const n=Ur(e);let r=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const s=uo(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:o,l=rf(r)!==i||rf(o)!==a;return l&&(r=i,o=a),{width:r,height:o,$:l}}function p0(e){return Fr(e)?e:e.contextElement}function xa(e){const n=p0(e);if(!uo(n))return io(1);const r=n.getBoundingClientRect(),{width:o,height:s,$:i}=I2(n);let a=(i?rf(r.width):r.width)/o,l=(i?rf(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const y5=io(0);function O2(e){const n=Jn(e);return!h0()||!n.visualViewport?y5:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function v5(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==Jn(e)?!1:n}function Ni(e,n,r,o){n===void 0&&(n=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=p0(e);let a=io(1);n&&(o?Fr(o)&&(a=xa(o)):a=xa(e));const l=v5(i,r,o)?O2(i):io(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,d=s.height/a.y;if(i){const m=Jn(i),p=o&&Fr(o)?Jn(o):o;let w=m,v=og(w);for(;v&&o&&p!==w;){const b=xa(v),y=v.getBoundingClientRect(),x=Ur(v),S=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,_=y.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=S,u+=_,w=Jn(v),v=og(w)}}return sf({width:f,height:d,x:c,y:u})}function m0(e,n){const r=oh(e).scrollLeft;return n?n.left+r:Ni(po(e)).left+r}function D2(e,n,r){r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=o.left+n.scrollLeft-(r?0:m0(e,o)),i=o.top+n.scrollTop;return{x:s,y:i}}function x5(e){let{elements:n,rect:r,offsetParent:o,strategy:s}=e;const i=s==="fixed",a=po(o),l=n?rh(n.floating):!1;if(o===a||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=io(1);const f=io(0),d=uo(o);if((d||!d&&!i)&&((il(o)!=="body"||au(a))&&(c=oh(o)),uo(o))){const p=Ni(o);u=xa(o),f.x=p.x+o.clientLeft,f.y=p.y+o.clientTop}const m=a&&!d&&!i?D2(a,c,!0):io(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function w5(e){return Array.from(e.getClientRects())}function b5(e){const n=po(e),r=oh(e),o=e.ownerDocument.body,s=Xn(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),i=Xn(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let a=-r.scrollLeft+m0(e);const l=-r.scrollTop;return Ur(o).direction==="rtl"&&(a+=Xn(n.clientWidth,o.clientWidth)-s),{width:s,height:i,x:a,y:l}}function S5(e,n){const r=Jn(e),o=po(e),s=r.visualViewport;let i=o.clientWidth,a=o.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=h0();(!u||u&&n==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const _5=new Set(["absolute","fixed"]);function C5(e,n){const r=Ni(e,!0,n==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,i=uo(e)?xa(e):io(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=o*i.y;return{width:a,height:l,x:c,y:u}}function Xx(e,n,r){let o;if(n==="viewport")o=S5(e,r);else if(n==="document")o=b5(po(e));else if(Fr(n))o=C5(n,r);else{const s=O2(e);o={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return sf(o)}function $2(e,n){const r=Ls(e);return r===n||!Fr(r)||Va(r)?!1:Ur(r).position==="fixed"||$2(r,n)}function k5(e,n){const r=n.get(e);if(r)return r;let o=jc(e,[],!1).filter(l=>Fr(l)&&il(l)!=="body"),s=null;const i=Ur(e).position==="fixed";let a=i?Ls(e):e;for(;Fr(a)&&!Va(a);){const l=Ur(a),c=f0(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&_5.has(s.position)||au(a)&&!c&&$2(e,a))?o=o.filter(f=>f!==a):s=l,a=Ls(a)}return n.set(e,o),o}function N5(e){let{element:n,boundary:r,rootBoundary:o,strategy:s}=e;const a=[...r==="clippingAncestors"?rh(n)?[]:k5(n,this._c):[].concat(r),o],l=a[0],c=a.reduce((u,f)=>{const d=Xx(n,f,s);return u.top=Xn(d.top,u.top),u.right=$s(d.right,u.right),u.bottom=$s(d.bottom,u.bottom),u.left=Xn(d.left,u.left),u},Xx(n,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function E5(e){const{width:n,height:r}=I2(e);return{width:n,height:r}}function A5(e,n,r){const o=uo(n),s=po(n),i=r==="fixed",a=Ni(e,!0,i,n);let l={scrollLeft:0,scrollTop:0};const c=io(0);function u(){c.x=m0(s)}if(o||!o&&!i)if((il(n)!=="body"||au(s))&&(l=oh(n)),o){const p=Ni(n,!0,i,n);c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}else s&&u();i&&!o&&s&&u();const f=s&&!o&&!i?D2(s,l):io(0),d=a.left+l.scrollLeft-c.x-f.x,m=a.top+l.scrollTop-c.y-f.y;return{x:d,y:m,width:a.width,height:a.height}}function _p(e){return Ur(e).position==="static"}function Qx(e,n){if(!uo(e)||Ur(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return po(e)===r&&(r=r.ownerDocument.body),r}function L2(e,n){const r=Jn(e);if(rh(e))return r;if(!uo(e)){let s=Ls(e);for(;s&&!Va(s);){if(Fr(s)&&!_p(s))return s;s=Ls(s)}return r}let o=Qx(e,n);for(;o&&u5(o)&&_p(o);)o=Qx(o,n);return o&&Va(o)&&_p(o)&&!f0(o)?r:o||m5(e)||r}const T5=async function(e){const n=this.getOffsetParent||L2,r=this.getDimensions,o=await r(e.floating);return{reference:A5(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function j5(e){return Ur(e).direction==="rtl"}const P5={convertOffsetParentRelativeRectToViewportRelativeRect:x5,getDocumentElement:po,getClippingRect:N5,getOffsetParent:L2,getElementRects:T5,getClientRects:w5,getDimensions:E5,getScale:xa,isElement:Fr,isRTL:j5};function z2(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function M5(e,n){let r=null,o;const s=po(e);function i(){var l;clearTimeout(o),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:p}=u;if(l||n(),!m||!p)return;const w=Vu(d),v=Vu(s.clientWidth-(f+m)),b=Vu(s.clientHeight-(d+p)),y=Vu(f),S={rootMargin:-w+"px "+-v+"px "+-b+"px "+-y+"px",threshold:Xn(0,$s(1,c))||1};let _=!0;function C(k){const N=k[0].intersectionRatio;if(N!==c){if(!_)return a();N?a(!1,N):o=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!z2(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,S)}r.observe(e)}return a(!0),i}function R5(e,n,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,u=p0(e),f=s||i?[...u?jc(u):[],...jc(n)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const d=u&&l?M5(u,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(n),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(n)})),r()}),u&&!c&&p.observe(u),p.observe(n));let w,v=c?Ni(e):null;c&&b();function b(){const y=Ni(e);v&&!z2(v,y)&&r(),v=y,w=requestAnimationFrame(b)}return r(),()=>{var y;f.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const I5=o5,O5=s5,D5=t5,$5=a5,L5=n5,Zx=e5,z5=i5,F5=(e,n,r)=>{const o=new Map,s={platform:P5,...r},i={...s.platform,_c:o};return JR(e,n,{...s,platform:i})};var U5=typeof document<"u",H5=function(){},_d=U5?g.useLayoutEffect:H5;function af(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,o,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(o=r;o--!==0;)if(!af(e[o],n[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){const i=s[o];if(!(i==="_owner"&&e.$$typeof)&&!af(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function F2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jx(e,n){const r=F2(e);return Math.round(n*r)/r}function Cp(e){const n=g.useRef(e);return _d(()=>{n.current=e}),n}function B5(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=g.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(o);af(m,o)||p(o);const[w,v]=g.useState(null),[b,y]=g.useState(null),x=g.useCallback(I=>{I!==k.current&&(k.current=I,v(I))},[]),S=g.useCallback(I=>{I!==N.current&&(N.current=I,y(I))},[]),_=i||w,C=a||b,k=g.useRef(null),N=g.useRef(null),A=g.useRef(f),T=c!=null,P=Cp(c),O=Cp(s),D=Cp(u),F=g.useCallback(()=>{if(!k.current||!N.current)return;const I={placement:n,strategy:r,middleware:m};O.current&&(I.platform=O.current),F5(k.current,N.current,I).then(j=>{const H={...j,isPositioned:D.current!==!1};E.current&&!af(A.current,H)&&(A.current=H,$i.flushSync(()=>{d(H)}))})},[m,n,r,O,D]);_d(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const E=g.useRef(!1);_d(()=>(E.current=!0,()=>{E.current=!1}),[]),_d(()=>{if(_&&(k.current=_),C&&(N.current=C),_&&C){if(P.current)return P.current(_,C,F);F()}},[_,C,F,P,T]);const L=g.useMemo(()=>({reference:k,floating:N,setReference:x,setFloating:S}),[x,S]),R=g.useMemo(()=>({reference:_,floating:C}),[_,C]),W=g.useMemo(()=>{const I={position:r,left:0,top:0};if(!R.floating)return I;const j=Jx(R.floating,f.x),H=Jx(R.floating,f.y);return l?{...I,transform:"translate("+j+"px, "+H+"px)",...F2(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:j,top:H}},[r,l,R.floating,f.x,f.y]);return g.useMemo(()=>({...f,update:F,refs:L,elements:R,floatingStyles:W}),[f,F,L,R,W])}const V5=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&n(o)?o.current!=null?Zx({element:o.current,padding:s}).fn(r):{}:o?Zx({element:o,padding:s}).fn(r):{}}}},W5=(e,n)=>({...I5(e),options:[e,n]}),q5=(e,n)=>({...O5(e),options:[e,n]}),G5=(e,n)=>({...z5(e),options:[e,n]}),Y5=(e,n)=>({...D5(e),options:[e,n]}),K5=(e,n)=>({...$5(e),options:[e,n]}),X5=(e,n)=>({...L5(e),options:[e,n]}),Q5=(e,n)=>({...V5(e),options:[e,n]});var Z5="Arrow",U2=g.forwardRef((e,n)=>{const{children:r,width:o=10,height:s=5,...i}=e;return h.jsx(Oe.svg,{...i,ref:n,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});U2.displayName=Z5;var J5=U2;function H2(e){const[n,r]=g.useState(void 0);return Xt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),n}var g0="Popper",[B2,sh]=ho(g0),[e4,V2]=B2(g0),W2=e=>{const{__scopePopper:n,children:r}=e,[o,s]=g.useState(null);return h.jsx(e4,{scope:n,anchor:o,onAnchorChange:s,children:r})};W2.displayName=g0;var q2="PopperAnchor",G2=g.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:o,...s}=e,i=V2(q2,r),a=g.useRef(null),l=et(n,a);return g.useEffect(()=>{i.onAnchorChange((o==null?void 0:o.current)||a.current)}),o?null:h.jsx(Oe.div,{...s,ref:l})});G2.displayName=q2;var y0="PopperContent",[t4,n4]=B2(y0),Y2=g.forwardRef((e,n)=>{var X,pe,ne,ie,le,ye;const{__scopePopper:r,side:o="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,b=V2(y0,r),[y,x]=g.useState(null),S=et(n,Pe=>x(Pe)),[_,C]=g.useState(null),k=H2(_),N=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,T=o+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(u)?u:[u],D=O.length>0,F={padding:P,boundary:O.filter(o4),altBoundary:D},{refs:E,floatingStyles:L,placement:R,isPositioned:W,middlewareData:I}=B5({strategy:"fixed",placement:T,whileElementsMounted:(...Pe)=>R5(...Pe,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[W5({mainAxis:s+A,alignmentAxis:a}),c&&q5({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?G5():void 0,...F}),c&&Y5({...F}),K5({...F,apply:({elements:Pe,rects:ve,availableWidth:re,availableHeight:Se})=>{const{width:_e,height:ee}=ve.reference,De=Pe.floating.style;De.setProperty("--radix-popper-available-width",`${re}px`),De.setProperty("--radix-popper-available-height",`${Se}px`),De.setProperty("--radix-popper-anchor-width",`${_e}px`),De.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),_&&Q5({element:_,padding:l}),s4({arrowWidth:N,arrowHeight:A}),m&&X5({strategy:"referenceHidden",...F})]}),[j,H]=Q2(R),M=Bt(w);Xt(()=>{W&&(M==null||M())},[W,M]);const $=(X=I.arrow)==null?void 0:X.x,Y=(pe=I.arrow)==null?void 0:pe.y,q=((ne=I.arrow)==null?void 0:ne.centerOffset)!==0,[Z,ce]=g.useState();return Xt(()=>{y&&ce(window.getComputedStyle(y).zIndex)},[y]),h.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:W?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(ie=I.transformOrigin)==null?void 0:ie.x,(le=I.transformOrigin)==null?void 0:le.y].join(" "),...((ye=I.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(t4,{scope:r,placedSide:j,onArrowChange:C,arrowX:$,arrowY:Y,shouldHideArrow:q,children:h.jsx(Oe.div,{"data-side":j,"data-align":H,...v,ref:S,style:{...v.style,animation:W?void 0:"none"}})})})});Y2.displayName=y0;var K2="PopperArrow",r4={top:"bottom",right:"left",bottom:"top",left:"right"},X2=g.forwardRef(function(n,r){const{__scopePopper:o,...s}=n,i=n4(K2,o),a=r4[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(J5,{...s,ref:r,style:{...s.style,display:"block"}})})});X2.displayName=K2;function o4(e){return e!==null}var s4=e=>({name:"transformOrigin",options:e,fn(n){var b,y,x;const{placement:r,rects:o,middlewareData:s}=n,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=Q2(r),d={start:"0%",center:"50%",end:"100%"}[f],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=a?d:`${m}px`,v=`${-c}px`):u==="top"?(w=a?d:`${m}px`,v=`${o.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=a?d:`${p}px`):u==="left"&&(w=`${o.floating.width+c}px`,v=a?d:`${p}px`),{data:{x:w,y:v}}}});function Q2(e){const[n,r="center"]=e.split("-");return[n,r]}var Z2=W2,J2=G2,eC=Y2,tC=X2,[ih,Sq]=ho("Tooltip",[sh]),ah=sh(),nC="TooltipProvider",i4=700,sg="tooltip.open",[a4,v0]=ih(nC),rC=e=>{const{__scopeTooltip:n,delayDuration:r=i4,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:i}=e,a=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.jsx(a4,{scope:n,isOpenDelayedRef:a,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};rC.displayName=nC;var Pc="Tooltip",[l4,lh]=ih(Pc),oC=e=>{const{__scopeTooltip:n,children:r,open:o,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=v0(Pc,e.__scopeTooltip),u=ah(n),[f,d]=g.useState(null),m=Ro(),p=g.useRef(0),w=a??c.disableHoverableContent,v=l??c.delayDuration,b=g.useRef(!1),[y,x]=Ds({prop:o,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(sg))):c.onClose(),i==null||i(N)},caller:Pc}),S=g.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,x(!0)},[x]),C=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),k=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,x(!0),p.current=0},v)},[v,x]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),h.jsx(Z2,{...u,children:h.jsx(l4,{scope:n,contentId:m,open:y,stateAttribute:S,trigger:f,onTriggerChange:d,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?k():_()},[c.isOpenDelayedRef,k,_]),onTriggerLeave:g.useCallback(()=>{w?C():(window.clearTimeout(p.current),p.current=0)},[C,w]),onOpen:_,onClose:C,disableHoverableContent:w,children:r})})};oC.displayName=Pc;var ig="TooltipTrigger",sC=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,s=lh(ig,r),i=v0(ig,r),a=ah(r),l=g.useRef(null),c=et(n,l,s.onTriggerChange),u=g.useRef(!1),f=g.useRef(!1),d=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx(J2,{asChild:!0,...a,children:h.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:c,onPointerMove:Ee(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ee(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ee(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ee(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ee(e.onBlur,s.onClose),onClick:Ee(e.onClick,s.onClose)})})});sC.displayName=ig;var c4="TooltipPortal",[_q,u4]=ih(c4,{forceMount:void 0}),Wa="TooltipContent",iC=g.forwardRef((e,n)=>{const r=u4(Wa,e.__scopeTooltip),{forceMount:o=r.forceMount,side:s="top",...i}=e,a=lh(Wa,e.__scopeTooltip);return h.jsx(Hr,{present:o||a.open,children:a.disableHoverableContent?h.jsx(aC,{side:s,...i,ref:n}):h.jsx(d4,{side:s,...i,ref:n})})}),d4=g.forwardRef((e,n)=>{const r=lh(Wa,e.__scopeTooltip),o=v0(Wa,e.__scopeTooltip),s=g.useRef(null),i=et(n,s),[a,l]=g.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=o,m=g.useCallback(()=>{l(null),d(!1)},[d]),p=g.useCallback((w,v)=>{const b=w.currentTarget,y={x:w.clientX,y:w.clientY},x=g4(y,b.getBoundingClientRect()),S=y4(y,x),_=v4(v.getBoundingClientRect()),C=w4([...S,..._]);l(C),d(!0)},[d]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&f){const w=b=>p(b,f),v=b=>p(b,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",v)}}},[c,f,p,m]),g.useEffect(()=>{if(a){const w=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),S=!x4(y,a);x?m():S&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,a,u,m]),h.jsx(aC,{...e,ref:i})}),[f4,h4]=ih(Pc,{isInside:!1}),p4=iM("TooltipContent"),aC=g.forwardRef((e,n)=>{const{__scopeTooltip:r,children:o,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=lh(Wa,r),u=ah(r),{onClose:f}=c;return g.useEffect(()=>(document.addEventListener(sg,f),()=>document.removeEventListener(sg,f)),[f]),g.useEffect(()=>{if(c.trigger){const d=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),h.jsx(nu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:h.jsxs(eC,{"data-state":c.stateAttribute,...u,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(p4,{children:o}),h.jsx(f4,{scope:r,isInside:!0,children:h.jsx(AM,{id:c.contentId,role:"tooltip",children:s||o})})]})})});iC.displayName=Wa;var lC="TooltipArrow",m4=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,s=ah(r);return h4(lC,r).isInside?null:h.jsx(tC,{...s,...o,ref:n})});m4.displayName=lC;function g4(e,n){const r=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),s=Math.abs(n.right-e.x),i=Math.abs(n.left-e.x);switch(Math.min(r,o,s,i)){case i:return"left";case s:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function y4(e,n,r=5){const o=[];switch(n){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function v4(e){const{top:n,right:r,bottom:o,left:s}=e;return[{x:s,y:n},{x:r,y:n},{x:r,y:o},{x:s,y:o}]}function x4(e,n){const{x:r,y:o}=e;let s=!1;for(let i=0,a=n.length-1;i<n.length;a=i++){const l=n[i],c=n[a],u=l.x,f=l.y,d=c.x,m=c.y;f>o!=m>o&&r<(d-u)*(o-f)/(m-f)+u&&(s=!s)}return s}function w4(e){const n=e.slice();return n.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),b4(n)}function b4(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const s=e[o];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}n.pop();const r=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var S4=rC,_4=oC,C4=sC,cC=iC;const k4=S4,N4=_4,E4=C4,uC=g.forwardRef(({className:e,sideOffset:n=4,...r},o)=>h.jsx(cC,{ref:o,sideOffset:n,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uC.displayName=cC.displayName;var al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ei=typeof window>"u"||"Deno"in globalThis;function _n(){}function A4(e,n){return typeof e=="function"?e(n):e}function ag(e){return typeof e=="number"&&e>=0&&e!==1/0}function dC(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Ps(e,n){return typeof e=="function"?e(n):e}function dr(e,n){return typeof e=="function"?e(n):e}function ew(e,n){const{type:r="all",exact:o,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(o){if(n.queryHash!==x0(a,n.options))return!1}else if(!Mc(n.queryKey,a))return!1}if(r!=="all"){const c=n.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||s&&s!==n.state.fetchStatus||i&&!i(n))}function tw(e,n){const{exact:r,status:o,predicate:s,mutationKey:i}=e;if(i){if(!n.options.mutationKey)return!1;if(r){if(Ai(n.options.mutationKey)!==Ai(i))return!1}else if(!Mc(n.options.mutationKey,i))return!1}return!(o&&n.state.status!==o||s&&!s(n))}function x0(e,n){return((n==null?void 0:n.queryKeyHashFn)||Ai)(e)}function Ai(e){return JSON.stringify(e,(n,r)=>lg(r)?Object.keys(r).sort().reduce((o,s)=>(o[s]=r[s],o),{}):r)}function Mc(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Mc(e[r],n[r])):!1}function fC(e,n){if(e===n)return e;const r=nw(e)&&nw(n);if(r||lg(e)&&lg(n)){const o=r?e:Object.keys(e),s=o.length,i=r?n:Object.keys(n),a=i.length,l=r?[]:{},c=new Set(o);let u=0;for(let f=0;f<a;f++){const d=r?f:i[f];(!r&&c.has(d)||r)&&e[d]===void 0&&n[d]===void 0?(l[d]=void 0,u++):(l[d]=fC(e[d],n[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return s===a&&u===s?e:l}return n}function lf(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function nw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lg(e){if(!rw(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!rw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rw(e){return Object.prototype.toString.call(e)==="[object Object]"}function T4(e){return new Promise(n=>{setTimeout(n,e)})}function cg(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?fC(e,n):n}function j4(e,n,r=0){const o=[...e,n];return r&&o.length>r?o.slice(1):o}function P4(e,n,r=0){const o=[n,...e];return r&&o.length>r?o.slice(0,-1):o}var w0=Symbol();function hC(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===w0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function pC(e,n){return typeof e=="function"?e(...n):!!e}var si,cs,Ca,vb,M4=(vb=class extends al{constructor(){super();Re(this,si);Re(this,cs);Re(this,Ca);xe(this,Ca,n=>{if(!Ei&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,cs)||this.setEventListener(U(this,Ca))}onUnsubscribe(){var n;this.hasListeners()||((n=U(this,cs))==null||n.call(this),xe(this,cs,void 0))}setEventListener(n){var r;xe(this,Ca,n),(r=U(this,cs))==null||r.call(this),xe(this,cs,n(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(n){U(this,si)!==n&&(xe(this,si,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof U(this,si)=="boolean"?U(this,si):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},si=new WeakMap,cs=new WeakMap,Ca=new WeakMap,vb),b0=new M4,ka,us,Na,xb,R4=(xb=class extends al{constructor(){super();Re(this,ka,!0);Re(this,us);Re(this,Na);xe(this,Na,n=>{if(!Ei&&window.addEventListener){const r=()=>n(!0),o=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){U(this,us)||this.setEventListener(U(this,Na))}onUnsubscribe(){var n;this.hasListeners()||((n=U(this,us))==null||n.call(this),xe(this,us,void 0))}setEventListener(n){var r;xe(this,Na,n),(r=U(this,us))==null||r.call(this),xe(this,us,n(this.setOnline.bind(this)))}setOnline(n){U(this,ka)!==n&&(xe(this,ka,n),this.listeners.forEach(o=>{o(n)}))}isOnline(){return U(this,ka)}},ka=new WeakMap,us=new WeakMap,Na=new WeakMap,xb),cf=new R4;function ug(){let e,n;const r=new Promise((s,i)=>{e=s,n=i});r.status="pending",r.catch(()=>{});function o(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},r.reject=s=>{o({status:"rejected",reason:s}),n(s)},r}function I4(e){return Math.min(1e3*2**e,3e4)}function mC(e){return(e??"online")==="online"?cf.isOnline():!0}var gC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kp(e){return e instanceof gC}function yC(e){let n=!1,r=0,o=!1,s;const i=ug(),a=v=>{var b;o||(m(new gC(v)),(b=e.abort)==null||b.call(e))},l=()=>{n=!0},c=()=>{n=!1},u=()=>b0.isFocused()&&(e.networkMode==="always"||cf.isOnline())&&e.canRun(),f=()=>mC(e.networkMode)&&e.canRun(),d=v=>{var b;o||(o=!0,(b=e.onSuccess)==null||b.call(e,v),s==null||s(),i.resolve(v))},m=v=>{var b;o||(o=!0,(b=e.onError)==null||b.call(e,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var b;s=y=>{(o||u())&&v(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;s=void 0,o||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(o)return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var k;if(o)return;const x=e.retry??(Ei?0:3),S=e.retryDelay??I4,_=typeof S=="function"?S(r,y):S,C=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(n||!C){m(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),T4(_).then(()=>u()?void 0:p()).then(()=>{n?m(y):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():p().then(w),i)}}var O4=e=>setTimeout(e,0);function D4(){let e=[],n=0,r=l=>{l()},o=l=>{l()},s=O4;const i=l=>{n?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{o(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;n++;try{c=l()}finally{n--,n||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{o=l},setScheduler:l=>{s=l}}}var Ht=D4(),ii,wb,vC=(wb=class{constructor(){Re(this,ii)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&xe(this,ii,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ei?1/0:5*60*1e3))}clearGcTimeout(){U(this,ii)&&(clearTimeout(U(this,ii)),xe(this,ii,void 0))}},ii=new WeakMap,wb),Ea,ai,ur,li,pn,Gc,ci,Pr,So,bb,$4=(bb=class extends vC{constructor(n){super();Re(this,Pr);Re(this,Ea);Re(this,ai);Re(this,ur);Re(this,li);Re(this,pn);Re(this,Gc);Re(this,ci);xe(this,ci,!1),xe(this,Gc,n.defaultOptions),this.setOptions(n.options),this.observers=[],xe(this,li,n.client),xe(this,ur,U(this,li).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,xe(this,Ea,L4(this.options)),this.state=n.state??U(this,Ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,pn))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Gc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,ur).remove(this)}setData(n,r){const o=cg(this.state.data,n,this.options);return qe(this,Pr,So).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(n,r){qe(this,Pr,So).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var o,s;const r=(o=U(this,pn))==null?void 0:o.promise;return(s=U(this,pn))==null||s.cancel(n),r?r.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ea))}isActive(){return this.observers.some(n=>dr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===w0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ps(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dC(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,pn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,pn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,ur).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,pn)&&(U(this,ci)?U(this,pn).cancel({revert:!0}):U(this,pn).cancelRetry()),this.scheduleGc()),U(this,ur).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Pr,So).call(this,{type:"invalidate"})}fetch(n,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,pn))return U(this,pn).continueRetry(),U(this,pn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const o=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(xe(this,ci,!0),o.signal)})},i=()=>{const m=hC(this.options,r),w=(()=>{const v={client:U(this,li),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return xe(this,ci,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,li),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),xe(this,ai,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&qe(this,Pr,So).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=m=>{var p,w,v,b;kp(m)&&m.silent||qe(this,Pr,So).call(this,{type:"error",error:m}),kp(m)||((w=(p=U(this,ur).config).onError)==null||w.call(p,m,this),(b=(v=U(this,ur).config).onSettled)==null||b.call(v,this.state.data,m,this)),this.scheduleGc()};return xe(this,pn,yC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:o.abort.bind(o),onSuccess:m=>{var p,w,v,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(w=(p=U(this,ur).config).onSuccess)==null||w.call(p,m,this),(b=(v=U(this,ur).config).onSettled)==null||b.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{qe(this,Pr,So).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{qe(this,Pr,So).call(this,{type:"pause"})},onContinue:()=>{qe(this,Pr,So).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,pn).start()}},Ea=new WeakMap,ai=new WeakMap,ur=new WeakMap,li=new WeakMap,pn=new WeakMap,Gc=new WeakMap,ci=new WeakMap,Pr=new WeakSet,So=function(n){const r=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...xC(o.data,this.options),fetchMeta:n.meta??null};case"success":return xe(this,ai,void 0),{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return kp(s)&&s.revert&&U(this,ai)?{...U(this,ai),fetchStatus:"idle"}:{...o,error:s,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),U(this,ur).notify({query:this,type:"updated",action:n})})},bb);function xC(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mC(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function L4(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xr,Sb,z4=(Sb=class extends al{constructor(n={}){super();Re(this,Xr);this.config=n,xe(this,Xr,new Map)}build(n,r,o){const s=r.queryKey,i=r.queryHash??x0(s,r);let a=this.get(i);return a||(a=new $4({client:n,queryKey:s,queryHash:i,options:n.defaultQueryOptions(r),state:o,defaultOptions:n.getQueryDefaults(s)}),this.add(a)),a}add(n){U(this,Xr).has(n.queryHash)||(U(this,Xr).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=U(this,Xr).get(n.queryHash);r&&(n.destroy(),r===n&&U(this,Xr).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Ht.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return U(this,Xr).get(n)}getAll(){return[...U(this,Xr).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(o=>ew(r,o))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(o=>ew(n,o)):r}notify(n){Ht.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Xr=new WeakMap,Sb),Qr,wn,ui,Zr,es,_b,F4=(_b=class extends vC{constructor(n){super();Re(this,Zr);Re(this,Qr);Re(this,wn);Re(this,ui);this.mutationId=n.mutationId,xe(this,wn,n.mutationCache),xe(this,Qr,[]),this.state=n.state||wC(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Qr).includes(n)||(U(this,Qr).push(n),this.clearGcTimeout(),U(this,wn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){xe(this,Qr,U(this,Qr).filter(r=>r!==n)),this.scheduleGc(),U(this,wn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():U(this,wn).remove(this))}continue(){var n;return((n=U(this,ui))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,c,u,f,d,m,p,w,v,b,y,x,S,_,C,k,N,A;const r=()=>{qe(this,Zr,es).call(this,{type:"continue"})};xe(this,ui,yC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{qe(this,Zr,es).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{qe(this,Zr,es).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,wn).canRun(this)}));const o=this.state.status==="pending",s=!U(this,ui).canStart();try{if(o)r();else{qe(this,Zr,es).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(i=U(this,wn).config).onMutate)==null?void 0:a.call(i,n,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));P!==this.state.context&&qe(this,Zr,es).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const T=await U(this,ui).start();return await((f=(u=U(this,wn).config).onSuccess)==null?void 0:f.call(u,T,n,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,T,n,this.state.context)),await((w=(p=U(this,wn).config).onSettled)==null?void 0:w.call(p,T,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,n,this.state.context)),qe(this,Zr,es).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(y=U(this,wn).config).onError)==null?void 0:x.call(y,T,n,this.state.context,this)),await((_=(S=this.options).onError)==null?void 0:_.call(S,T,n,this.state.context)),await((k=(C=U(this,wn).config).onSettled)==null?void 0:k.call(C,void 0,T,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,T,n,this.state.context)),T}finally{qe(this,Zr,es).call(this,{type:"error",error:T})}}finally{U(this,wn).runNext(this)}}},Qr=new WeakMap,wn=new WeakMap,ui=new WeakMap,Zr=new WeakSet,es=function(n){const r=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{U(this,Qr).forEach(o=>{o.onMutationUpdate(n)}),U(this,wn).notify({mutation:this,type:"updated",action:n})})},_b);function wC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Eo,Mr,Yc,Cb,U4=(Cb=class extends al{constructor(n={}){super();Re(this,Eo);Re(this,Mr);Re(this,Yc);this.config=n,xe(this,Eo,new Set),xe(this,Mr,new Map),xe(this,Yc,0)}build(n,r,o){const s=new F4({mutationCache:this,mutationId:++_u(this,Yc)._,options:n.defaultMutationOptions(r),state:o});return this.add(s),s}add(n){U(this,Eo).add(n);const r=Wu(n);if(typeof r=="string"){const o=U(this,Mr).get(r);o?o.push(n):U(this,Mr).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(U(this,Eo).delete(n)){const r=Wu(n);if(typeof r=="string"){const o=U(this,Mr).get(r);if(o)if(o.length>1){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}else o[0]===n&&U(this,Mr).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=Wu(n);if(typeof r=="string"){const o=U(this,Mr).get(r),s=o==null?void 0:o.find(i=>i.state.status==="pending");return!s||s===n}else return!0}runNext(n){var o;const r=Wu(n);if(typeof r=="string"){const s=(o=U(this,Mr).get(r))==null?void 0:o.find(i=>i!==n&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{U(this,Eo).forEach(n=>{this.notify({type:"removed",mutation:n})}),U(this,Eo).clear(),U(this,Mr).clear()})}getAll(){return Array.from(U(this,Eo))}find(n){const r={exact:!0,...n};return this.getAll().find(o=>tw(r,o))}findAll(n={}){return this.getAll().filter(r=>tw(n,r))}notify(n){Ht.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Ht.batch(()=>Promise.all(n.map(r=>r.continue().catch(_n))))}},Eo=new WeakMap,Mr=new WeakMap,Yc=new WeakMap,Cb);function Wu(e){var n;return(n=e.options.scope)==null?void 0:n.id}function ow(e){return{onFetch:(n,r)=>{var f,d,m,p,w;const o=n.options,s=(m=(d=(f=n.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,i=((p=n.state.data)==null?void 0:p.pages)||[],a=((w=n.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(n.signal.aborted?v=!0:n.signal.addEventListener("abort",()=>{v=!0}),n.signal)})},y=hC(n.options,n.fetchOptions),x=async(S,_,C)=>{if(v)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const O={client:n.client,queryKey:n.queryKey,pageParam:_,direction:C?"backward":"forward",meta:n.options.meta};return b(O),O})(),A=await y(N),{maxPages:T}=n.options,P=C?P4:j4;return{pages:P(S.pages,A,T),pageParams:P(S.pageParams,_,T)}};if(s&&i.length){const S=s==="backward",_=S?H4:sw,C={pages:i,pageParams:a},k=_(o,C);l=await x(C,k,S)}else{const S=e??i.length;do{const _=c===0?a[0]??o.initialPageParam:sw(o,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<S)}return l};n.options.persister?n.fetchFn=()=>{var v,b;return(b=(v=n.options).persister)==null?void 0:b.call(v,u,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r)}:n.fetchFn=u}}}function sw(e,{pages:n,pageParams:r}){const o=n.length-1;return n.length>0?e.getNextPageParam(n[o],n,r[o],r):void 0}function H4(e,{pages:n,pageParams:r}){var o;return n.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,n[0],n,r[0],r):void 0}var Mt,ds,fs,Aa,Ta,hs,ja,Pa,kb,B4=(kb=class{constructor(e={}){Re(this,Mt);Re(this,ds);Re(this,fs);Re(this,Aa);Re(this,Ta);Re(this,hs);Re(this,ja);Re(this,Pa);xe(this,Mt,e.queryCache||new z4),xe(this,ds,e.mutationCache||new U4),xe(this,fs,e.defaultOptions||{}),xe(this,Aa,new Map),xe(this,Ta,new Map),xe(this,hs,0)}mount(){_u(this,hs)._++,U(this,hs)===1&&(xe(this,ja,b0.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Mt).onFocus())})),xe(this,Pa,cf.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Mt).onOnline())})))}unmount(){var e,n;_u(this,hs)._--,U(this,hs)===0&&((e=U(this,ja))==null||e.call(this),xe(this,ja,void 0),(n=U(this,Pa))==null||n.call(this),xe(this,Pa,void 0))}isFetching(e){return U(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,ds).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=U(this,Mt).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=U(this,Mt).build(this,n),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ps(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(e){return U(this,Mt).findAll(e).map(({queryKey:n,state:r})=>{const o=r.data;return[n,o]})}setQueryData(e,n,r){const o=this.defaultQueryOptions({queryKey:e}),s=U(this,Mt).get(o.queryHash),i=s==null?void 0:s.state.data,a=A4(n,i);if(a!==void 0)return U(this,Mt).build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return Ht.batch(()=>U(this,Mt).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=U(this,Mt).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=U(this,Mt);Ht.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=U(this,Mt);return Ht.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},o=Ht.batch(()=>U(this,Mt).findAll(e).map(s=>s.cancel(r)));return Promise.all(o).then(_n).catch(_n)}invalidateQueries(e,n={}){return Ht.batch(()=>(U(this,Mt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},o=Ht.batch(()=>U(this,Mt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(o).then(_n)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=U(this,Mt).build(this,n);return r.isStaleByTime(Ps(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_n).catch(_n)}fetchInfiniteQuery(e){return e.behavior=ow(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_n).catch(_n)}ensureInfiniteQueryData(e){return e.behavior=ow(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cf.isOnline()?U(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Mt)}getMutationCache(){return U(this,ds)}getDefaultOptions(){return U(this,fs)}setDefaultOptions(e){xe(this,fs,e)}setQueryDefaults(e,n){U(this,Aa).set(Ai(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...U(this,Aa).values()],r={};return n.forEach(o=>{Mc(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,n){U(this,Ta).set(Ai(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...U(this,Ta).values()],r={};return n.forEach(o=>{Mc(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...U(this,fs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=x0(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===w0&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,fs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Mt).clear(),U(this,ds).clear()}},Mt=new WeakMap,ds=new WeakMap,fs=new WeakMap,Aa=new WeakMap,Ta=new WeakMap,hs=new WeakMap,ja=new WeakMap,Pa=new WeakMap,kb),Mn,Je,Kc,bn,di,Ma,ps,ms,Xc,Ra,Ia,fi,hi,gs,Oa,at,Ul,dg,fg,hg,pg,mg,gg,yg,bC,Nb,V4=(Nb=class extends al{constructor(n,r){super();Re(this,at);Re(this,Mn);Re(this,Je);Re(this,Kc);Re(this,bn);Re(this,di);Re(this,Ma);Re(this,ps);Re(this,ms);Re(this,Xc);Re(this,Ra);Re(this,Ia);Re(this,fi);Re(this,hi);Re(this,gs);Re(this,Oa,new Set);this.options=r,xe(this,Mn,n),xe(this,ms,null),xe(this,ps,ug()),this.options.experimental_prefetchInRender||U(this,ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Je).addObserver(this),iw(U(this,Je),this.options)?qe(this,at,Ul).call(this):this.updateResult(),qe(this,at,pg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vg(U(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vg(U(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,at,mg).call(this),qe(this,at,gg).call(this),U(this,Je).removeObserver(this)}setOptions(n){const r=this.options,o=U(this,Je);if(this.options=U(this,Mn).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dr(this.options.enabled,U(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,at,yg).call(this),U(this,Je).setOptions(this.options),r._defaulted&&!lf(this.options,r)&&U(this,Mn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Je),observer:this});const s=this.hasListeners();s&&aw(U(this,Je),o,this.options,r)&&qe(this,at,Ul).call(this),this.updateResult(),s&&(U(this,Je)!==o||dr(this.options.enabled,U(this,Je))!==dr(r.enabled,U(this,Je))||Ps(this.options.staleTime,U(this,Je))!==Ps(r.staleTime,U(this,Je)))&&qe(this,at,dg).call(this);const i=qe(this,at,fg).call(this);s&&(U(this,Je)!==o||dr(this.options.enabled,U(this,Je))!==dr(r.enabled,U(this,Je))||i!==U(this,gs))&&qe(this,at,hg).call(this,i)}getOptimisticResult(n){const r=U(this,Mn).getQueryCache().build(U(this,Mn),n),o=this.createResult(r,n);return q4(this,o)&&(xe(this,bn,o),xe(this,Ma,this.options),xe(this,di,U(this,Je).state)),o}getCurrentResult(){return U(this,bn)}trackResult(n,r){return new Proxy(n,{get:(o,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(o,s))})}trackProp(n){U(this,Oa).add(n)}getCurrentQuery(){return U(this,Je)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=U(this,Mn).defaultQueryOptions(n),o=U(this,Mn).getQueryCache().build(U(this,Mn),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(n){return qe(this,at,Ul).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,bn)))}createResult(n,r){var T;const o=U(this,Je),s=this.options,i=U(this,bn),a=U(this,di),l=U(this,Ma),u=n!==o?n.state:U(this,Kc),{state:f}=n;let d={...f},m=!1,p;if(r._optimisticResults){const P=this.hasListeners(),O=!P&&iw(n,r),D=P&&aw(n,o,r,s);(O||D)&&(d={...d,...xC(f.data,n.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:b}=d;p=d.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,y=!0):P=typeof r.placeholderData=="function"?r.placeholderData((T=U(this,Ia))==null?void 0:T.state.data,U(this,Ia)):r.placeholderData,P!==void 0&&(b="success",p=cg(i==null?void 0:i.data,P,r),m=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(a==null?void 0:a.data)&&r.select===U(this,Xc))p=U(this,Ra);else try{xe(this,Xc,r.select),p=r.select(p),p=cg(i==null?void 0:i.data,p,r),xe(this,Ra,p),xe(this,ms,null)}catch(P){xe(this,ms,P)}U(this,ms)&&(w=U(this,ms),p=U(this,Ra),v=Date.now(),b="error");const x=d.fetchStatus==="fetching",S=b==="pending",_=b==="error",C=S&&x,k=p!==void 0,A={status:b,fetchStatus:d.fetchStatus,isPending:S,isSuccess:b==="success",isError:_,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!S,isLoadingError:_&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&k,isStale:S0(n,r),refetch:this.refetch,promise:U(this,ps),isEnabled:dr(r.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const P=F=>{A.status==="error"?F.reject(A.error):A.data!==void 0&&F.resolve(A.data)},O=()=>{const F=xe(this,ps,A.promise=ug());P(F)},D=U(this,ps);switch(D.status){case"pending":n.queryHash===o.queryHash&&P(D);break;case"fulfilled":(A.status==="error"||A.data!==D.value)&&O();break;case"rejected":(A.status!=="error"||A.error!==D.reason)&&O();break}}return A}updateResult(){const n=U(this,bn),r=this.createResult(U(this,Je),this.options);if(xe(this,di,U(this,Je).state),xe(this,Ma,this.options),U(this,di).data!==void 0&&xe(this,Ia,U(this,Je)),lf(r,n))return;xe(this,bn,r);const o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!U(this,Oa).size)return!0;const a=new Set(i??U(this,Oa));return this.options.throwOnError&&a.add("error"),Object.keys(U(this,bn)).some(l=>{const c=l;return U(this,bn)[c]!==n[c]&&a.has(c)})};qe(this,at,bC).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,at,pg).call(this)}},Mn=new WeakMap,Je=new WeakMap,Kc=new WeakMap,bn=new WeakMap,di=new WeakMap,Ma=new WeakMap,ps=new WeakMap,ms=new WeakMap,Xc=new WeakMap,Ra=new WeakMap,Ia=new WeakMap,fi=new WeakMap,hi=new WeakMap,gs=new WeakMap,Oa=new WeakMap,at=new WeakSet,Ul=function(n){qe(this,at,yg).call(this);let r=U(this,Je).fetch(this.options,n);return n!=null&&n.throwOnError||(r=r.catch(_n)),r},dg=function(){qe(this,at,mg).call(this);const n=Ps(this.options.staleTime,U(this,Je));if(Ei||U(this,bn).isStale||!ag(n))return;const o=dC(U(this,bn).dataUpdatedAt,n)+1;xe(this,fi,setTimeout(()=>{U(this,bn).isStale||this.updateResult()},o))},fg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Je)):this.options.refetchInterval)??!1},hg=function(n){qe(this,at,gg).call(this),xe(this,gs,n),!(Ei||dr(this.options.enabled,U(this,Je))===!1||!ag(U(this,gs))||U(this,gs)===0)&&xe(this,hi,setInterval(()=>{(this.options.refetchIntervalInBackground||b0.isFocused())&&qe(this,at,Ul).call(this)},U(this,gs)))},pg=function(){qe(this,at,dg).call(this),qe(this,at,hg).call(this,qe(this,at,fg).call(this))},mg=function(){U(this,fi)&&(clearTimeout(U(this,fi)),xe(this,fi,void 0))},gg=function(){U(this,hi)&&(clearInterval(U(this,hi)),xe(this,hi,void 0))},yg=function(){const n=U(this,Mn).getQueryCache().build(U(this,Mn),this.options);if(n===U(this,Je))return;const r=U(this,Je);xe(this,Je,n),xe(this,Kc,n.state),this.hasListeners()&&(r==null||r.removeObserver(this),n.addObserver(this))},bC=function(n){Ht.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(U(this,bn))}),U(this,Mn).getQueryCache().notify({query:U(this,Je),type:"observerResultsUpdated"})})},Nb);function W4(e,n){return dr(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function iw(e,n){return W4(e,n)||e.state.data!==void 0&&vg(e,n,n.refetchOnMount)}function vg(e,n,r){if(dr(n.enabled,e)!==!1&&Ps(n.staleTime,e)!=="static"){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&S0(e,n)}return!1}function aw(e,n,r,o){return(e!==n||dr(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&S0(e,r)}function S0(e,n){return dr(n.enabled,e)!==!1&&e.isStaleByTime(Ps(n.staleTime,e))}function q4(e,n){return!lf(e.getCurrentResult(),n)}var ys,vs,Rn,Ao,Do,Cd,xg,Eb,G4=(Eb=class extends al{constructor(r,o){super();Re(this,Do);Re(this,ys);Re(this,vs);Re(this,Rn);Re(this,Ao);xe(this,ys,r),this.setOptions(o),this.bindMethods(),qe(this,Do,Cd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const o=this.options;this.options=U(this,ys).defaultMutationOptions(r),lf(this.options,o)||U(this,ys).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Rn),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&Ai(o.mutationKey)!==Ai(this.options.mutationKey)?this.reset():((s=U(this,Rn))==null?void 0:s.state.status)==="pending"&&U(this,Rn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,Rn))==null||r.removeObserver(this)}onMutationUpdate(r){qe(this,Do,Cd).call(this),qe(this,Do,xg).call(this,r)}getCurrentResult(){return U(this,vs)}reset(){var r;(r=U(this,Rn))==null||r.removeObserver(this),xe(this,Rn,void 0),qe(this,Do,Cd).call(this),qe(this,Do,xg).call(this)}mutate(r,o){var s;return xe(this,Ao,o),(s=U(this,Rn))==null||s.removeObserver(this),xe(this,Rn,U(this,ys).getMutationCache().build(U(this,ys),this.options)),U(this,Rn).addObserver(this),U(this,Rn).execute(r)}},ys=new WeakMap,vs=new WeakMap,Rn=new WeakMap,Ao=new WeakMap,Do=new WeakSet,Cd=function(){var o;const r=((o=U(this,Rn))==null?void 0:o.state)??wC();xe(this,vs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},xg=function(r){Ht.batch(()=>{var o,s,i,a,l,c,u,f;if(U(this,Ao)&&this.hasListeners()){const d=U(this,vs).variables,m=U(this,vs).context;(r==null?void 0:r.type)==="success"?((s=(o=U(this,Ao)).onSuccess)==null||s.call(o,r.data,d,m),(a=(i=U(this,Ao)).onSettled)==null||a.call(i,r.data,null,d,m)):(r==null?void 0:r.type)==="error"&&((c=(l=U(this,Ao)).onError)==null||c.call(l,r.error,d,m),(f=(u=U(this,Ao)).onSettled)==null||f.call(u,void 0,r.error,d,m))}this.listeners.forEach(d=>{d(U(this,vs))})})},Eb),SC=g.createContext(void 0),ll=e=>{const n=g.useContext(SC);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Y4=({client:e,children:n})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(SC.Provider,{value:e,children:n})),_C=g.createContext(!1),K4=()=>g.useContext(_C);_C.Provider;function X4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Q4=g.createContext(X4()),Z4=()=>g.useContext(Q4),J4=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},eI=e=>{g.useEffect(()=>{e.clearReset()},[e])},tI=({result:e,errorResetBoundary:n,throwOnError:r,query:o,suspense:s})=>e.isError&&!n.isReset()&&!e.isFetching&&o&&(s&&e.data===void 0||pC(r,[e.error,o])),nI=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},rI=(e,n)=>e.isLoading&&e.isFetching&&!n,oI=(e,n)=>(e==null?void 0:e.suspense)&&n.isPending,lw=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function sI(e,n,r){var d,m,p,w,v;const o=K4(),s=Z4(),i=ll(),a=i.defaultQueryOptions(e);(m=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,a),a._optimisticResults=o?"isRestoring":"optimistic",nI(a),J4(a,s),eI(s);const l=!i.getQueryCache().get(a.queryHash),[c]=g.useState(()=>new n(i,a)),u=c.getOptimisticResult(a),f=!o&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const y=f?c.subscribe(Ht.batchCalls(b)):_n;return c.updateResult(),y},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(a)},[a,c]),oI(a,u))throw lw(a,c,s);if(tI({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,a,u),a.experimental_prefetchInRender&&!Ei&&rI(u,o)){const b=l?lw(a,c,s):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;b==null||b.catch(_n).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Bo(e,n){return sI(e,V4)}function kd(e,n){const r=ll(),[o]=g.useState(()=>new G4(r,e));g.useEffect(()=>{o.setOptions(e)},[o,e]);const s=g.useSyncExternalStore(g.useCallback(a=>o.subscribe(Ht.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=g.useCallback((a,l)=>{o.mutate(a,l).catch(_n)},[o]);if(s.error&&pC(o.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Rc.apply(this,arguments)}var bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bs||(bs={}));const cw="popstate";function iI(e){e===void 0&&(e={});function n(o,s){let{pathname:i,search:a,hash:l}=o.location;return wg("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(o,s){return typeof s=="string"?s:uf(s)}return lI(n,r,null,e)}function Ot(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function CC(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function aI(){return Math.random().toString(36).substr(2,8)}function uw(e,n){return{usr:e.state,key:e.key,idx:n}}function wg(e,n,r,o){return r===void 0&&(r=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?cl(n):n,{state:r,key:n&&n.key||o||aI()})}function uf(e){let{pathname:n="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function cl(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(n.search=e.substr(o),e=e.substr(0,o)),e&&(n.pathname=e)}return n}function lI(e,n,r,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:i=!1}=o,a=s.history,l=bs.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Rc({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=bs.Pop;let b=f(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function m(b,y){l=bs.Push;let x=wg(v.location,b,y);u=f()+1;let S=uw(x,u),_=v.createHref(x);try{a.pushState(S,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(b,y){l=bs.Replace;let x=wg(v.location,b,y);u=f();let S=uw(x,u),_=v.createHref(x);a.replaceState(S,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:uf(b);return x=x.replace(/ $/,"%20"),Ot(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cw,d),c=b,()=>{s.removeEventListener(cw,d),c=null}},createHref(b){return n(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(b){return a.go(b)}};return v}var dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dw||(dw={}));function cI(e,n,r){return r===void 0&&(r="/"),uI(e,n,r,!1)}function uI(e,n,r,o){let s=typeof n=="string"?cl(n):n,i=qa(s.pathname||"/",r);if(i==null)return null;let a=kC(e);dI(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=SI(i);l=wI(a[c],u,o)}return l}function kC(e,n,r,o){n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(o),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(o.length));let u=Ms([o,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kC(i.children,n,f,u)),!(i.path==null&&!i.index)&&n.push({path:u,score:vI(u,i.index),routesMeta:f})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of NC(i.path))s(i,a,c)}),n}function NC(e){let n=e.split("/");if(n.length===0)return[];let[r,...o]=n,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(o.length===0)return s?[i,""]:[i];let a=NC(o.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dI(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:xI(n.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const fI=/^:[\w-]+$/,hI=3,pI=2,mI=1,gI=10,yI=-2,fw=e=>e==="*";function vI(e,n){let r=e.split("/"),o=r.length;return r.some(fw)&&(o+=yI),n&&(o+=pI),r.filter(s=>!fw(s)).reduce((s,i)=>s+(fI.test(i)?hI:i===""?mI:gI),o)}function xI(e,n){return e.length===n.length&&e.slice(0,-1).every((o,s)=>o===n[s])?e[e.length-1]-n[n.length-1]:0}function wI(e,n,r){let{routesMeta:o}=e,s={},i="/",a=[];for(let l=0;l<o.length;++l){let c=o[l],u=l===o.length-1,f=i==="/"?n:n.slice(i.length)||"/",d=df({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!d&&u&&r&&!o[o.length-1].route.index&&(d=df({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Ms([i,d.pathname]),pathnameBase:NI(Ms([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Ms([i,d.pathnameBase]))}return a}function df(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=bI(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((u,f,d)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let v=l[d]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[d];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function bI(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),CC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(o.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),o]}function SI(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return CC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function qa(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function _I(e,n){n===void 0&&(n="/");let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?cl(e):e;return{pathname:r?r.startsWith("/")?r:CI(r,n):n,search:EI(o),hash:AI(s)}}function CI(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Np(e,n,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kI(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function EC(e,n){let r=kI(e);return n?r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function AC(e,n,r,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=cl(e):(s=Rc({},e),Ot(!s.pathname||!s.pathname.includes("?"),Np("?","pathname","search",s)),Ot(!s.pathname||!s.pathname.includes("#"),Np("#","pathname","hash",s)),Ot(!s.search||!s.search.includes("#"),Np("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let d=n.length-1;if(!o&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}l=d>=0?n[d]:"/"}let c=_I(s,l),u=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Ms=e=>e.join("/").replace(/\/\/+/g,"/"),NI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const TC=["post","put","patch","delete"];new Set(TC);const jI=["get",...TC];new Set(jI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ic.apply(this,arguments)}const ch=g.createContext(null),jC=g.createContext(null),Hs=g.createContext(null),uh=g.createContext(null),Bs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),PC=g.createContext(null);function PI(e,n){let{relative:r}=n===void 0?{}:n;lu()||Ot(!1);let{basename:o,navigator:s}=g.useContext(Hs),{hash:i,pathname:a,search:l}=dh(e,{relative:r}),c=a;return o!=="/"&&(c=a==="/"?o:Ms([o,a])),s.createHref({pathname:c,search:l,hash:i})}function lu(){return g.useContext(uh)!=null}function Vs(){return lu()||Ot(!1),g.useContext(uh).location}function MC(e){g.useContext(Hs).static||g.useLayoutEffect(e)}function RC(){let{isDataRoute:e}=g.useContext(Bs);return e?qI():MI()}function MI(){lu()||Ot(!1);let e=g.useContext(ch),{basename:n,future:r,navigator:o}=g.useContext(Hs),{matches:s}=g.useContext(Bs),{pathname:i}=Vs(),a=JSON.stringify(EC(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return MC(()=>{l.current=!0}),g.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){o.go(u);return}let d=AC(u,JSON.parse(a),i,f.relative==="path");e==null&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ms([n,d.pathname])),(f.replace?o.replace:o.push)(d,f.state,f)},[n,o,a,i,e])}const RI=g.createContext(null);function II(e){let n=g.useContext(Bs).outlet;return n&&g.createElement(RI.Provider,{value:e},n)}function dh(e,n){let{relative:r}=n===void 0?{}:n,{future:o}=g.useContext(Hs),{matches:s}=g.useContext(Bs),{pathname:i}=Vs(),a=JSON.stringify(EC(s,o.v7_relativeSplatPath));return g.useMemo(()=>AC(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function OI(e,n){return DI(e,n)}function DI(e,n,r,o){lu()||Ot(!1);let{navigator:s}=g.useContext(Hs),{matches:i}=g.useContext(Bs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Vs(),f;if(n){var d;let b=typeof n=="string"?cl(n):n;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||Ot(!1),f=b}else f=u;let m=f.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=cI(e,{pathname:p}),v=UI(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ms([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ms([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,o);return n&&v?g.createElement(uh.Provider,{value:{location:Ic({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bs.Pop}},v):v}function $I(){let e=WI(),n=TI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),r?g.createElement("pre",{style:s},r):null,null)}const LI=g.createElement($I,null);class zI extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?g.createElement(Bs.Provider,{value:this.props.routeContext},g.createElement(PC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FI(e){let{routeContext:n,match:r,children:o}=e,s=g.useContext(ch);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Bs.Provider,{value:n},o)}function UI(e,n,r,o){var s;if(n===void 0&&(n=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=o)!=null&&i.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||Ot(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(r&&o&&o.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:p}=r,w=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let p,w=!1,v=null,b=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,v=d.route.errorElement||LI,c&&(u<0&&m===0?(w=!0,b=null):u===m&&(w=!0,b=d.route.hydrateFallbackElement||null)));let y=n.concat(a.slice(0,m+1)),x=()=>{let S;return p?S=v:w?S=b:d.route.Component?S=g.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,g.createElement(FI,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:S})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?g.createElement(zI,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var IC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IC||{}),ff=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ff||{});function HI(e){let n=g.useContext(ch);return n||Ot(!1),n}function BI(e){let n=g.useContext(jC);return n||Ot(!1),n}function VI(e){let n=g.useContext(Bs);return n||Ot(!1),n}function OC(e){let n=VI(),r=n.matches[n.matches.length-1];return r.route.id||Ot(!1),r.route.id}function WI(){var e;let n=g.useContext(PC),r=BI(ff.UseRouteError),o=OC(ff.UseRouteError);return n!==void 0?n:(e=r.errors)==null?void 0:e[o]}function qI(){let{router:e}=HI(IC.UseNavigateStable),n=OC(ff.UseNavigateStable),r=g.useRef(!1);return MC(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ic({fromRouteId:n},i)))},[e,n])}function GI(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function YI(e){return II(e.context)}function qn(e){Ot(!1)}function KI(e){let{basename:n="/",children:r=null,location:o,navigationType:s=bs.Pop,navigator:i,static:a=!1,future:l}=e;lu()&&Ot(!1);let c=n.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:a,future:Ic({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof o=="string"&&(o=cl(o));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:w="default"}=o,v=g.useMemo(()=>{let b=qa(f,c);return b==null?null:{location:{pathname:b,search:d,hash:m,state:p,key:w},navigationType:s}},[c,f,d,m,p,w,s]);return v==null?null:g.createElement(Hs.Provider,{value:u},g.createElement(uh.Provider,{children:r,value:v}))}function XI(e){let{children:n,location:r}=e;return OI(bg(n),r)}new Promise(()=>{});function bg(e,n){n===void 0&&(n=[]);let r=[];return g.Children.forEach(e,(o,s)=>{if(!g.isValidElement(o))return;let i=[...n,s];if(o.type===g.Fragment){r.push.apply(r,bg(o.props.children,i));return}o.type!==qn&&Ot(!1),!o.props.index||!o.props.children||Ot(!1);let a={id:o.props.id||i.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(a.children=bg(o.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},hf.apply(this,arguments)}function DC(e,n){if(e==null)return{};var r={},o=Object.keys(e),s,i;for(i=0;i<o.length;i++)s=o[i],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}function QI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZI(e,n){return e.button===0&&(!n||n==="_self")&&!QI(e)}const JI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tO="6";try{window.__reactRouterVersion=tO}catch{}const nO=g.createContext({isTransitioning:!1}),rO="startTransition",hw=dy[rO];function oO(e){let{basename:n,children:r,future:o,window:s}=e,i=g.useRef();i.current==null&&(i.current=iI({window:s,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=o||{},f=g.useCallback(d=>{u&&hw?hw(()=>c(d)):c(d)},[c,u]);return g.useLayoutEffect(()=>a.listen(f),[a,f]),g.useEffect(()=>GI(o),[o]),g.createElement(KI,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:o})}const sO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aO=g.forwardRef(function(n,r){let{onClick:o,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=n,m=DC(n,JI),{basename:p}=g.useContext(Hs),w,v=!1;if(typeof u=="string"&&iO.test(u)&&(w=u,sO))try{let S=new URL(window.location.href),_=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=qa(_.pathname,p);_.origin===S.origin&&C!=null?u=C+_.search+_.hash:v=!0}catch{}let b=PI(u,{relative:s}),y=cO(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(S){o&&o(S),S.defaultPrevented||y(S)}return g.createElement("a",hf({},m,{href:w||b,onClick:v||i?o:x,ref:r,target:c}))}),pw=g.forwardRef(function(n,r){let{"aria-current":o="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:f}=n,d=DC(n,eO),m=dh(c,{relative:d.relative}),p=Vs(),w=g.useContext(jC),{navigator:v,basename:b}=g.useContext(Hs),y=w!=null&&uO(m)&&u===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,S=p.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(S=S.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=qa(_,b)||_);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=S===x||!a&&S.startsWith(x)&&S.charAt(C)==="/",N=_!=null&&(_===x||!a&&_.startsWith(x)&&_.charAt(x.length)==="/"),A={isActive:k,isPending:N,isTransitioning:y},T=k?o:void 0,P;typeof i=="function"?P=i(A):P=[i,k?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(A):l;return g.createElement(aO,hf({},d,{"aria-current":T,className:P,ref:r,style:O,to:c,viewTransition:u}),typeof f=="function"?f(A):f)});var Sg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sg||(Sg={}));var mw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mw||(mw={}));function lO(e){let n=g.useContext(ch);return n||Ot(!1),n}function cO(e,n){let{target:r,replace:o,state:s,preventScrollReset:i,relative:a,viewTransition:l}=n===void 0?{}:n,c=RC(),u=Vs(),f=dh(e,{relative:a});return g.useCallback(d=>{if(ZI(d,r)){d.preventDefault();let m=o!==void 0?o:uf(u)===uf(f);c(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,f,o,s,r,e,i,a,l])}function uO(e,n){n===void 0&&(n={});let r=g.useContext(nO);r==null&&Ot(!1);let{basename:o}=lO(Sg.useViewTransitionState),s=dh(e,{relative:n.relative});if(!r.isTransitioning)return!1;let i=qa(r.currentLocation.pathname,o)||r.currentLocation.pathname,a=qa(r.nextLocation.pathname,o)||r.nextLocation.pathname;return df(s.pathname,a)!=null||df(s.pathname,i)!=null}const $C="";async function bt(e,n={}){const{headers:r,...o}=n,s=await fetch(`${$C}${e}`,{headers:{"Content-Type":"application/json",...r??{}},...o});if(!s.ok){const i=await s.text();throw new Error(i||s.statusText)}if(s.status!==204)return s.json()}const _t={listAgents(){return bt("/agents")},createAgent(e){return bt("/agents",{method:"POST",body:JSON.stringify(e)})},updateAgent(e,n){return bt(`/agents/${e}`,{method:"PATCH",body:JSON.stringify(n)})},deleteAgent(e){return bt(`/agents/${e}`,{method:"DELETE"})},listTasks(e){const n=e?`?status=${encodeURIComponent(e)}`:"";return bt(`/tasks${n}`)},enqueueTask(e,n){return bt("/tasks/assign",{method:"POST",body:JSON.stringify({agentId:e,prompt:n})})},getAgentMemory(e,n=10){return bt(`/agents/${e}/memory?limit=${n}`)},updateAgentStatus(e,n){return bt(`/agents/${e}/status`,{method:"PATCH",body:JSON.stringify({status:n})})},runCommand(e){return bt("/commands",{method:"POST",body:JSON.stringify({input:e})})},buildAgentFromPrompt(e,n){return bt("/agent-builder",{method:"POST",body:JSON.stringify({promptText:e,options:n})})},generateAgentConfig(e,n){return bt("/agent-config/schema",{method:"POST",body:JSON.stringify({description:e,...n})})},fetchAgentConfig(e){return bt(`/agent-config/${e}`)},updateAgentConfig(e,n){return bt(`/agent-config/${e}`,{method:"PUT",body:JSON.stringify(n)})},fetchOverviewInsights(){return bt("/insights/overview")},fetchMemoryGraph(){return bt("/memory/graph")},runMultiAgentSession(e){return bt("/multi-agent/sessions",{method:"POST",body:JSON.stringify({prompt:e})})},fetchMultiAgentMemory(){return bt("/multi-agent/memory")},listAutomations(){return bt("/automations")},createAutomation(e){return bt("/automations",{method:"POST",body:JSON.stringify(e)})},updateAutomation(e,n){return bt(`/automations/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(n)})},sendAutomationMessage(e){return bt("/automation-builder/message",{method:"POST",body:JSON.stringify(e)})},provideAutomationKey(e){return bt("/automation-builder/key",{method:"POST",body:JSON.stringify(e)})},endAutomationSession(e){return bt(`/automation-builder/session/${encodeURIComponent(e)}`,{method:"DELETE"})},interpretAutomationPrompt(e,n){return bt("/automation-builder/interpret",{method:"POST",body:JSON.stringify({prompt:e,context:n??{}})})}},Io=$C;function Lt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function dO(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const gw=6e4,yw=525600,ca=43200,pf=1440;let fO={};function LC(){return fO}function mf(e){const n=Lt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function ic(e,n){const r=Lt(e),o=Lt(n),s=r.getTime()-o.getTime();return s<0?-1:s>0?1:s}function zC(e){return dO(e,Date.now())}function hO(e,n){const r=Lt(e),o=Lt(n),s=r.getFullYear()-o.getFullYear(),i=r.getMonth()-o.getMonth();return s*12+i}function FC(e){return n=>{const o=(e?Math[e]:Math.trunc)(n);return o===0?0:o}}function pO(e,n){return+Lt(e)-+Lt(n)}function mO(e){const n=Lt(e);return n.setHours(23,59,59,999),n}function gO(e){const n=Lt(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function yO(e){const n=Lt(e);return+mO(n)==+gO(n)}function vO(e,n){const r=Lt(e),o=Lt(n),s=ic(r,o),i=Math.abs(hO(r,o));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=ic(r,o)===-s;yO(Lt(e))&&i===1&&ic(e,o)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function xO(e,n,r){const o=pO(e,n)/1e3;return FC(r==null?void 0:r.roundingMethod)(o)}const wO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bO=(e,n,r)=>{let o;const s=wO[e];return typeof s=="string"?o=s:n===1?o=s.one:o=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Ep(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const SO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_O={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kO={date:Ep({formats:SO,defaultWidth:"full"}),time:Ep({formats:_O,defaultWidth:"full"}),dateTime:Ep({formats:CO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EO=(e,n,r,o)=>NO[e];function Sl(e){return(n,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let s;if(o==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(n):n;return s[i]}}const AO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IO=(e,n)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},OO={ordinalNumber:IO,era:Sl({values:AO,defaultWidth:"wide"}),quarter:Sl({values:TO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sl({values:jO,defaultWidth:"wide"}),day:Sl({values:PO,defaultWidth:"wide"}),dayPeriod:Sl({values:MO,defaultWidth:"wide",formattingValues:RO,defaultFormattingWidth:"wide"})};function _l(e){return(n,r={})=>{const o=r.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],i=n.match(s);if(!i)return null;const a=i[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$O(l,d=>d.test(a)):DO(l,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=n.slice(a.length);return{value:u,rest:f}}}function DO(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function $O(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function LO(e){return(n,r={})=>{const o=n.match(e.matchPattern);if(!o)return null;const s=o[0],i=n.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=n.slice(s.length);return{value:a,rest:l}}}const zO=/^(\d+)(th|st|nd|rd)?/i,FO=/\d+/i,UO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HO={any:[/^b/i,/^(a|c)/i]},BO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VO={any:[/1/i,/2/i,/3/i,/4/i]},WO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QO={ordinalNumber:LO({matchPattern:zO,parsePattern:FO,valueCallback:e=>parseInt(e,10)}),era:_l({matchPatterns:UO,defaultMatchWidth:"wide",parsePatterns:HO,defaultParseWidth:"any"}),quarter:_l({matchPatterns:BO,defaultMatchWidth:"wide",parsePatterns:VO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_l({matchPatterns:WO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),day:_l({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any"}),dayPeriod:_l({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:XO,defaultParseWidth:"any"})},UC={code:"en-US",formatDistance:bO,formatLong:kO,formatRelative:EO,localize:OO,match:QO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ZO(e,n,r){const o=LC(),s=(r==null?void 0:r.locale)??o.locale??UC,i=2520,a=ic(e,n);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=Lt(n),u=Lt(e)):(c=Lt(e),u=Lt(n));const f=xO(u,c),d=(mf(u)-mf(c))/1e3,m=Math.round((f-d)/60);let p;if(m<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<pf){const w=Math.round(m/60);return s.formatDistance("aboutXHours",w,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<ca){const w=Math.round(m/pf);return s.formatDistance("xDays",w,l)}else if(m<ca*2)return p=Math.round(m/ca),s.formatDistance("aboutXMonths",p,l)}if(p=vO(u,c),p<12){const w=Math.round(m/ca);return s.formatDistance("xMonths",w,l)}else{const w=p%12,v=Math.trunc(p/12);return w<3?s.formatDistance("aboutXYears",v,l):w<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function JO(e,n,r){const o=LC(),s=(r==null?void 0:r.locale)??o.locale??UC,i=ic(e,n);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,c;i>0?(l=Lt(n),c=Lt(e)):(l=Lt(e),c=Lt(n));const u=FC((r==null?void 0:r.roundingMethod)??"round"),f=c.getTime()-l.getTime(),d=f/gw,m=mf(c)-mf(l),p=(f-m)/gw,w=r==null?void 0:r.unit;let v;if(w?v=w:d<1?v="second":d<60?v="minute":d<pf?v="hour":p<ca?v="day":p<yw?v="month":v="year",v==="second"){const b=u(f/1e3);return s.formatDistance("xSeconds",b,a)}else if(v==="minute"){const b=u(d);return s.formatDistance("xMinutes",b,a)}else if(v==="hour"){const b=u(d/60);return s.formatDistance("xHours",b,a)}else if(v==="day"){const b=u(p/pf);return s.formatDistance("xDays",b,a)}else if(v==="month"){const b=u(p/ca);return b===12&&w!=="month"?s.formatDistance("xYears",1,a):s.formatDistance("xMonths",b,a)}else{const b=u(p/yw);return s.formatDistance("xYears",b,a)}}function eD(e,n){return ZO(e,zC(e),n)}function tD(e,n){return JO(e,zC(e),n)}const vw=e=>{let n;const r=new Set,o=(u,f)=>{const d=typeof u=="function"?u(n):u;if(!Object.is(d,n)){const m=n;n=f??(typeof d!="object"||d===null)?d:Object.assign({},n,d),r.forEach(p=>p(n,m))}},s=()=>n,l={setState:o,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=n=e(o,s,l);return l},nD=e=>e?vw(e):vw,rD=e=>e;function oD(e,n=rD){const r=z.useSyncExternalStore(e.subscribe,z.useCallback(()=>n(e.getState()),[e,n]),z.useCallback(()=>n(e.getInitialState()),[e,n]));return z.useDebugValue(r),r}const xw=e=>{const n=nD(e),r=o=>oD(n,o);return Object.assign(r,n),r},fh=e=>e?xw(e):xw,gi=fh(e=>({totalTokens:0,tokensByAgent:{},lastUpdated:null,setUsage:n=>e({totalTokens:Math.max(0,Math.floor(n.total)),tokensByAgent:{...n.byAgent},lastUpdated:new Date().toISOString()}),reset:()=>e({totalTokens:0,tokensByAgent:{},lastUpdated:null})}));console.warn("[supabase] Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY. Auth features will be disabled.");const sD=()=>{throw new Error("Supabase environment variables are not configured.")},ac=sD(),HC=g.createContext(void 0);function iD({children:e}){const[n,r]=g.useState(null),[o,s]=g.useState(!0);g.useEffect(()=>{let l=!0;ac.auth.getSession().then(({data:u,error:f})=>{l&&(f?(console.error("[auth] failed to restore session",f),r(null)):r(u.session??null))}).finally(()=>{l&&s(!1)});const{data:{subscription:c}}=ac.auth.onAuthStateChange((u,f)=>{r(f)});return()=>{l=!1,c.unsubscribe()}},[]);const i=async()=>{await ac.auth.signOut(),r(null)},a=g.useMemo(()=>({user:(n==null?void 0:n.user)??null,session:n,loading:o,signOut:i}),[o,n]);return h.jsx(HC.Provider,{value:a,children:e})}function BC(){const e=g.useContext(HC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const aD=[{name:"Agent Network",href:"/network",icon:p3},{name:"Memory Graph",href:"/memory",icon:y2},{name:"Overview",href:"/",icon:l3},{name:"Collaboration Lab",href:"/multi-agent",icon:x2},{name:"Command Console",href:"/console",icon:f3},{name:"Tool Agents",href:"/multi-agent/runtime",icon:Jm}],lD=[{name:"Settings",href:"/settings",icon:w3},{name:"Help",href:"/help",icon:t3}];function cD(){const{data:e}=Bo({queryKey:["insights","overview"],queryFn:()=>_t.fetchOverviewInsights(),staleTime:3e4,refetchInterval:3e4}),n=gi(l=>l.totalTokens),r=gi(l=>l.lastUpdated),o=gi(l=>l.setUsage),{user:s}=BC();g.useEffect(()=>{e!=null&&e.tokenUsage&&o(e.tokenUsage)},[e,o]);const i=g.useMemo(()=>{if(!e)return{agents:"",tasks:"",tokens:n.toLocaleString(),uptime:""};const l=e.uptimeSeconds?tD(Date.now()-e.uptimeSeconds*1e3,{addSuffix:!1}):"";return{agents:`${e.agentCount}`,tasks:`${e.taskCounts.total}`,tokens:n.toLocaleString(),uptime:l}},[e,n]),a=g.useMemo(()=>{var u,f;if(!s)return null;const l=((f=(u=s.user_metadata)==null?void 0:u.full_name)==null?void 0:f.trim())||s.email||"Atlas Operator",c=s.email??"";return{name:l,email:c}},[s]);return h.jsxs("div",{className:"flex h-screen w-64 flex-col bg-sidebar",children:[h.jsx("div",{className:"flex h-16 items-center px-6",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("img",{src:"/icon.png",alt:"Atlas Forge logo",className:"h-8 w-8 rounded-md object-cover shadow-sm"}),h.jsx("span",{className:"text-xl font-semibold text-foreground",children:"Atlas Forge"})]})}),h.jsx("nav",{className:"flex-1 space-y-0.5 px-3 py-4",children:aD.map(l=>h.jsxs(pw,{to:l.href,className:({isActive:c})=>Ie("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",c?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[h.jsx(l.icon,{className:"h-4 w-4"}),l.name]},l.name))}),h.jsx("div",{className:"p-3 space-y-0.5",children:lD.map(l=>h.jsxs(pw,{to:l.href,className:({isActive:c})=>Ie("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",c?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[h.jsx(l.icon,{className:"h-4 w-4"}),l.name]},l.name))}),h.jsxs("div",{className:"border-t border-sidebar-border p-4 space-y-3",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Usage"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-xs",children:[h.jsx("span",{className:"text-muted-foreground",children:"Agents"}),h.jsx("span",{className:"text-foreground",children:i.agents})]}),h.jsxs("div",{className:"flex justify-between text-xs",children:[h.jsx("span",{className:"text-muted-foreground",children:"Tasks"}),h.jsx("span",{className:"text-foreground",children:i.tasks})]}),h.jsxs("div",{className:"flex justify-between text-xs",children:[h.jsx("span",{className:"text-muted-foreground",children:"Tokens"}),h.jsx("span",{className:"text-foreground",children:r?i.tokens:"Tracking"})]})]}),i.uptime&&h.jsxs("div",{className:"text-xs text-muted-foreground",children:["Uptime ",i.uptime]}),a&&h.jsxs("div",{className:"mt-4 rounded-xl border border-sidebar-border bg-sidebar-accent/30 p-3",children:[h.jsx("div",{className:"mt-2 text-sm font-medium text-foreground",children:a.name}),h.jsx("div",{className:"text-xs text-muted-foreground",children:a.email})]})]})]})}const Yt=g.forwardRef(({className:e,...n},r)=>h.jsx("div",{ref:r,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));Yt.displayName="Card";const uD=g.forwardRef(({className:e,...n},r)=>h.jsx("div",{ref:r,className:Ie("flex flex-col space-y-1.5 p-6",e),...n}));uD.displayName="CardHeader";const dD=g.forwardRef(({className:e,...n},r)=>h.jsx("h3",{ref:r,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...n}));dD.displayName="CardTitle";const fD=g.forwardRef(({className:e,...n},r)=>h.jsx("p",{ref:r,className:Ie("text-sm text-muted-foreground",e),...n}));fD.displayName="CardDescription";const hD=g.forwardRef(({className:e,...n},r)=>h.jsx("div",{ref:r,className:Ie("p-6 pt-0",e),...n}));hD.displayName="CardContent";const pD=g.forwardRef(({className:e,...n},r)=>h.jsx("div",{ref:r,className:Ie("flex items-center p-6 pt-0",e),...n}));pD.displayName="CardFooter";function Hl({className:e,...n}){return h.jsx("div",{className:Ie("animate-pulse rounded-md bg-muted",e),...n})}function ww(e,n){return n?`${Math.round(e/n*100)}%`:"0%"}function mD(e){const n=e.reduce((r,o)=>{const s=o.role||"Generalist";return r[s]=(r[s]??0)+1,r},{});return Object.entries(n).sort((r,o)=>o[1]-r[1]).slice(0,6).map(([r,o])=>({role:r,count:o}))}function gD(){const{data:e,isLoading:n}=Bo({queryKey:["insights","overview"],queryFn:()=>_t.fetchOverviewInsights(),refetchInterval:3e4}),{data:r}=Bo({queryKey:["agents"],queryFn:()=>_t.listAgents(),select:d=>d.items,refetchInterval:2e4}),o=gi(d=>d.totalTokens),s=gi(d=>d.tokensByAgent),i=gi(d=>d.setUsage);g.useEffect(()=>{e!=null&&e.tokenUsage&&i(e.tokenUsage)},[e,i]);const a=g.useMemo(()=>{const d=Object.entries(s??{});if(d.length===0)return null;const[m,p]=d.sort((w,v)=>v[1]-w[1])[0];return{agent:m,tokens:p}},[s]),l=o.toLocaleString(),c=a?`${a.tokens.toLocaleString()} by ${a.agent}`:"Tracking",u=e?[{label:"Active Agents",value:e.agentCount,change:`${e.taskCounts.working} running`,detail:`${e.taskCounts.pending} pending tasks`},{label:"Tasks Completed",value:e.taskCounts.completed,change:`${ww(e.taskCounts.completed,e.taskCounts.total)} of total`,detail:`${e.taskCounts.total} tracked`},{label:"Tasks In Flight",value:e.taskCounts.pending+e.taskCounts.working,change:`${e.taskCounts.pending} pending`,detail:`${e.taskCounts.working} working`},{label:"Memories Stored",value:e.memoryCount,change:`${e.recentTasks.length} recent tasks`,detail:`Uptime ${(e.uptimeSeconds/3600).toFixed(1)}h`}]:[],f=r?mD(r):[];return h.jsxs("div",{className:"p-8 space-y-8 animate-fade-in",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Overview"}),h.jsx("p",{className:"text-muted-foreground",children:"Monitor your AI workforce performance"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[h.jsx(Yt,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Tokens Used"}),h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("div",{className:"text-3xl font-bold text-foreground",children:l}),h.jsxs("div",{className:"flex items-center text-xs text-atlas-glow gap-1",children:[h.jsx($x,{className:"h-3 w-3"}),c]})]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Since runtime start"})]})}),n&&!e?Array.from({length:4}).map((d,m)=>h.jsx(Yt,{className:"bg-card border-border p-6",children:h.jsx(Hl,{className:"h-20 w-full"})},`skeleton-${m}`)):u.map(d=>h.jsx(Yt,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:d.label}),h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("div",{className:"text-3xl font-bold text-foreground",children:d.value}),h.jsxs("div",{className:"flex items-center text-xs text-atlas-success gap-1",children:[h.jsx($x,{className:"h-3 w-3"}),d.change]})]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:d.detail})]})},d.label))]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(Yt,{className:"bg-card border-border p-6 lg:col-span-2",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Activity"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks processed over the last 7 days"})]}),h.jsxs("div",{className:"h-64 flex items-end justify-between gap-2",children:[((e==null?void 0:e.tasksPerDay)??[]).map(d=>h.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[h.jsx("div",{className:"w-full bg-atlas-glow rounded-t transition-all hover:bg-atlas-glow/80",style:{height:`${Math.min(100,d.count*4)}%`}}),h.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(d.day).toLocaleDateString(void 0,{weekday:"short"})})]},d.day)),!e&&h.jsx(Hl,{className:"h-full w-full"})]})]})}),h.jsx(Yt,{className:"bg-card border-border p-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Roles"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Distribution across your network"})]}),h.jsxs("div",{className:"space-y-3",children:[f.length===0&&h.jsx(Hl,{className:"h-40 w-full"}),f.map(d=>h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-foreground",children:d.role}),h.jsx("span",{className:"text-muted-foreground",children:d.count})]}),h.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-atlas-glow rounded-full transition-all",style:{width:`${ww(d.count,(r==null?void 0:r.length)??1)}`}})})]},d.role))]})]})})]}),h.jsx(Yt,{className:"bg-card border-border p-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Tasks"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest agent activities"})]})}),h.jsxs("div",{className:"space-y-3",children:[!e&&n&&h.jsx(Hl,{className:"h-24 w-full"}),((e==null?void 0:e.recentTasks)??[]).map(d=>h.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-success animate-pulse-glow"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-sm font-medium text-foreground",children:d.prompt}),h.jsx("div",{className:"text-xs text-muted-foreground",children:d.agentName})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[h.jsx(r3,{className:"h-2 w-2 fill-current"}),h.jsx("span",{className:"capitalize",children:d.status}),h.jsx(a0,{className:"h-3 w-3 text-atlas-glow"}),h.jsx("span",{children:eD(new Date(d.createdAt),{addSuffix:!0})})]})]},d.id))]})]})})]})}function on(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,o;r<e.length;r++)(o=on(e[r]))!==""&&(n+=(n&&" ")+o);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var VC={exports:{}},WC={},qC={exports:{}},GC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=g;function yD(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vD=typeof Object.is=="function"?Object.is:yD,xD=Ga.useState,wD=Ga.useEffect,bD=Ga.useLayoutEffect,SD=Ga.useDebugValue;function _D(e,n){var r=n(),o=xD({inst:{value:r,getSnapshot:n}}),s=o[0].inst,i=o[1];return bD(function(){s.value=r,s.getSnapshot=n,Ap(s)&&i({inst:s})},[e,r,n]),wD(function(){return Ap(s)&&i({inst:s}),e(function(){Ap(s)&&i({inst:s})})},[e]),SD(r),r}function Ap(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!vD(e,r)}catch{return!0}}function CD(e,n){return n()}var kD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CD:_D;GC.useSyncExternalStore=Ga.useSyncExternalStore!==void 0?Ga.useSyncExternalStore:kD;qC.exports=GC;var ND=qC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=g,ED=ND;function AD(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var TD=typeof Object.is=="function"?Object.is:AD,jD=ED.useSyncExternalStore,PD=hh.useRef,MD=hh.useEffect,RD=hh.useMemo,ID=hh.useDebugValue;WC.useSyncExternalStoreWithSelector=function(e,n,r,o,s){var i=PD(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=RD(function(){function c(p){if(!u){if(u=!0,f=p,p=o(p),s!==void 0&&a.hasValue){var w=a.value;if(s(w,p))return d=w}return d=p}if(w=d,TD(f,p))return w;var v=o(p);return s!==void 0&&s(w,v)?(f=p,w):(f=p,d=v)}var u=!1,f,d,m=r===void 0?null:r;return[function(){return c(n())},m===null?void 0:function(){return c(m())}]},[n,r,o,s]);var l=jD(e,i[0],i[1]);return MD(function(){a.hasValue=!0,a.value=l},[l]),ID(l),l};VC.exports=WC;var OD=VC.exports;const DD=Df(OD),$D={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},bw=e=>{let n;const r=new Set,o=(f,d)=>{const m=typeof f=="function"?f(n):f;if(!Object.is(m,n)){const p=n;n=d??(typeof m!="object"||m===null)?m:Object.assign({},n,m),r.forEach(w=>w(n,p))}},s=()=>n,c={setState:o,getState:s,getInitialState:()=>u,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{($D?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=n=e(o,s,c);return c},LD=e=>e?bw(e):bw,{useDebugValue:zD}=z,{useSyncExternalStoreWithSelector:FD}=DD,UD=e=>e;function YC(e,n=UD,r){const o=FD(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return zD(o),o}const Sw=(e,n)=>{const r=LD(e),o=(s,i=n)=>YC(r,s,i);return Object.assign(o,r),o},HD=(e,n)=>e?Sw(e,n):Sw;function Hn(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var BD={value:()=>{}};function cu(){for(var e=0,n=arguments.length,r={},o;e<n;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Nd(r)}function Nd(e){this._=e}function VD(e,n){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");if(s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Nd.prototype=cu.prototype={constructor:Nd,on:function(e,n){var r=this._,o=VD(e+"",r),s,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((s=(e=o[i]).type)&&(s=WD(r[s],e.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<a;)if(s=(e=o[i]).type)r[s]=_w(r[s],e.name,n);else if(n==null)for(s in r)r[s]=_w(r[s],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Nd(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var r=new Array(s),o=0,s,i;o<s;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(n,r)}};function WD(e,n){for(var r=0,o=e.length,s;r<o;++r)if((s=e[r]).name===n)return s.value}function _w(e,n,r){for(var o=0,s=e.length;o<s;++o)if(e[o].name===n){e[o]=BD,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:n,value:r}),e}var _g="http://www.w3.org/1999/xhtml";const Cw={svg:"http://www.w3.org/2000/svg",xhtml:_g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ph(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Cw.hasOwnProperty(n)?{space:Cw[n],local:e}:e}function qD(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===_g&&n.documentElement.namespaceURI===_g?n.createElement(e):n.createElementNS(r,e)}}function GD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function KC(e){var n=ph(e);return(n.local?GD:qD)(n)}function YD(){}function _0(e){return e==null?YD:function(){return this.querySelector(e)}}function KD(e){typeof e!="function"&&(e=_0(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=new Array(a),c,u,f=0;f<a;++f)(c=i[f])&&(u=e.call(c,c.__data__,f,i))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u);return new nr(o,this._parents)}function XD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QD(){return[]}function XC(e){return e==null?QD:function(){return this.querySelectorAll(e)}}function ZD(e){return function(){return XD(e.apply(this,arguments))}}function JD(e){typeof e=="function"?e=ZD(e):e=XC(e);for(var n=this._groups,r=n.length,o=[],s=[],i=0;i<r;++i)for(var a=n[i],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(o.push(e.call(c,c.__data__,u,a)),s.push(c));return new nr(o,s)}function QC(e){return function(){return this.matches(e)}}function ZC(e){return function(n){return n.matches(e)}}var e$=Array.prototype.find;function t$(e){return function(){return e$.call(this.children,e)}}function n$(){return this.firstElementChild}function r$(e){return this.select(e==null?n$:t$(typeof e=="function"?e:ZC(e)))}var o$=Array.prototype.filter;function s$(){return Array.from(this.children)}function i$(e){return function(){return o$.call(this.children,e)}}function a$(e){return this.selectAll(e==null?s$:i$(typeof e=="function"?e:ZC(e)))}function l$(e){typeof e!="function"&&(e=QC(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new nr(o,this._parents)}function JC(e){return new Array(e.length)}function c$(){return new nr(this._enter||this._groups.map(JC),this._parents)}function gf(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}gf.prototype={constructor:gf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u$(e){return function(){return e}}function d$(e,n,r,o,s,i){for(var a=0,l,c=n.length,u=i.length;a<u;++a)(l=n[a])?(l.__data__=i[a],o[a]=l):r[a]=new gf(e,i[a]);for(;a<c;++a)(l=n[a])&&(s[a]=l)}function f$(e,n,r,o,s,i,a){var l,c,u=new Map,f=n.length,d=i.length,m=new Array(f),p;for(l=0;l<f;++l)(c=n[l])&&(m[l]=p=a.call(c,c.__data__,l,n)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<d;++l)p=a.call(e,i[l],l,i)+"",(c=u.get(p))?(o[l]=c,c.__data__=i[l],u.delete(p)):r[l]=new gf(e,i[l]);for(l=0;l<f;++l)(c=n[l])&&u.get(m[l])===c&&(s[l]=c)}function h$(e){return e.__data__}function p$(e,n){if(!arguments.length)return Array.from(this,h$);var r=n?f$:d$,o=this._parents,s=this._groups;typeof e!="function"&&(e=u$(e));for(var i=s.length,a=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var f=o[u],d=s[u],m=d.length,p=m$(e.call(f,f&&f.__data__,u,o)),w=p.length,v=l[u]=new Array(w),b=a[u]=new Array(w),y=c[u]=new Array(m);r(f,d,v,b,y,p,n);for(var x=0,S=0,_,C;x<w;++x)if(_=v[x]){for(x>=S&&(S=x+1);!(C=b[S])&&++S<w;);_._next=C||null}}return a=new nr(a,o),a._enter=l,a._exit=c,a}function m$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g$(){return new nr(this._exit||this._groups.map(JC),this._parents)}function y$(e,n,r){var o=this.enter(),s=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),n!=null&&(s=n(s),s&&(s=s.selection())),r==null?i.remove():r(i),o&&s?o.merge(s).order():s}function v$(e){for(var n=e.selection?e.selection():e,r=this._groups,o=n._groups,s=r.length,i=o.length,a=Math.min(s,i),l=new Array(s),c=0;c<a;++c)for(var u=r[c],f=o[c],d=u.length,m=l[c]=new Array(d),p,w=0;w<d;++w)(p=u[w]||f[w])&&(m[w]=p);for(;c<s;++c)l[c]=r[c];return new nr(l,this._parents)}function x$(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var o=e[n],s=o.length-1,i=o[s],a;--s>=0;)(a=o[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function w$(e){e||(e=b$);function n(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i){for(var a=r[i],l=a.length,c=s[i]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new nr(s,this._parents).order()}function b$(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function S$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _$(){return Array.from(this)}function C$(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,i=o.length;s<i;++s){var a=o[s];if(a)return a}return null}function k$(){let e=0;for(const n of this)++e;return e}function N$(){return!this.node()}function E$(e){for(var n=this._groups,r=0,o=n.length;r<o;++r)for(var s=n[r],i=0,a=s.length,l;i<a;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function A$(e){return function(){this.removeAttribute(e)}}function T$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j$(e,n){return function(){this.setAttribute(e,n)}}function P$(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function M$(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function R$(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function I$(e,n){var r=ph(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((n==null?r.local?T$:A$:typeof n=="function"?r.local?R$:M$:r.local?P$:j$)(r,n))}function ek(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function O$(e){return function(){this.style.removeProperty(e)}}function D$(e,n,r){return function(){this.style.setProperty(e,n,r)}}function $$(e,n,r){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function L$(e,n,r){return arguments.length>1?this.each((n==null?O$:typeof n=="function"?$$:D$)(e,n,r??"")):Ya(this.node(),e)}function Ya(e,n){return e.style.getPropertyValue(n)||ek(e).getComputedStyle(e,null).getPropertyValue(n)}function z$(e){return function(){delete this[e]}}function F$(e,n){return function(){this[e]=n}}function U$(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function H$(e,n){return arguments.length>1?this.each((n==null?z$:typeof n=="function"?U$:F$)(e,n)):this.node()[e]}function tk(e){return e.trim().split(/^|\s+/)}function C0(e){return e.classList||new nk(e)}function nk(e){this._node=e,this._names=tk(e.getAttribute("class")||"")}nk.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function rk(e,n){for(var r=C0(e),o=-1,s=n.length;++o<s;)r.add(n[o])}function ok(e,n){for(var r=C0(e),o=-1,s=n.length;++o<s;)r.remove(n[o])}function B$(e){return function(){rk(this,e)}}function V$(e){return function(){ok(this,e)}}function W$(e,n){return function(){(n.apply(this,arguments)?rk:ok)(this,e)}}function q$(e,n){var r=tk(e+"");if(arguments.length<2){for(var o=C0(this.node()),s=-1,i=r.length;++s<i;)if(!o.contains(r[s]))return!1;return!0}return this.each((typeof n=="function"?W$:n?B$:V$)(r,n))}function G$(){this.textContent=""}function Y$(e){return function(){this.textContent=e}}function K$(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function X$(e){return arguments.length?this.each(e==null?G$:(typeof e=="function"?K$:Y$)(e)):this.node().textContent}function Q$(){this.innerHTML=""}function Z$(e){return function(){this.innerHTML=e}}function J$(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function e6(e){return arguments.length?this.each(e==null?Q$:(typeof e=="function"?J$:Z$)(e)):this.node().innerHTML}function t6(){this.nextSibling&&this.parentNode.appendChild(this)}function n6(){return this.each(t6)}function r6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o6(){return this.each(r6)}function s6(e){var n=typeof e=="function"?e:KC(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function i6(){return null}function a6(e,n){var r=typeof e=="function"?e:KC(e),o=n==null?i6:typeof n=="function"?n:_0(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function l6(){var e=this.parentNode;e&&e.removeChild(this)}function c6(){return this.each(l6)}function u6(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function d6(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function f6(e){return this.select(e?d6:u6)}function h6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p6(e){return function(n){e.call(this,n,this.__data__)}}function m6(e){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");return o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),{type:n,name:r}})}function g6(e){return function(){var n=this.__on;if(n){for(var r=0,o=-1,s=n.length,i;r<s;++r)i=n[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):n[++o]=i;++o?n.length=o:delete this.__on}}}function y6(e,n,r){return function(){var o=this.__on,s,i=p6(n);if(o){for(var a=0,l=o.length;a<l;++a)if((s=o[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=n;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:n,listener:i,options:r},o?o.push(s):this.__on=[s]}}function v6(e,n,r){var o=m6(e+""),s,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,f;c<u;++c)for(s=0,f=l[c];s<i;++s)if((a=o[s]).type===f.type&&a.name===f.name)return f.value}return}for(l=n?y6:g6,s=0;s<i;++s)this.each(l(o[s],n,r));return this}function sk(e,n,r){var o=ek(e),s=o.CustomEvent;typeof s=="function"?s=new s(n,r):(s=o.document.createEvent("Event"),r?(s.initEvent(n,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function x6(e,n){return function(){return sk(this,e,n)}}function w6(e,n){return function(){return sk(this,e,n.apply(this,arguments))}}function b6(e,n){return this.each((typeof n=="function"?w6:x6)(e,n))}function*S6(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,i=o.length,a;s<i;++s)(a=o[s])&&(yield a)}var ik=[null];function nr(e,n){this._groups=e,this._parents=n}function uu(){return new nr([[document.documentElement]],ik)}function _6(){return this}nr.prototype=uu.prototype={constructor:nr,select:KD,selectAll:JD,selectChild:r$,selectChildren:a$,filter:l$,data:p$,enter:c$,exit:g$,join:y$,merge:v$,selection:_6,order:x$,sort:w$,call:S$,nodes:_$,node:C$,size:k$,empty:N$,each:E$,attr:I$,style:L$,property:H$,classed:q$,text:X$,html:e6,raise:n6,lower:o6,append:s6,insert:a6,remove:c6,clone:f6,datum:h6,on:v6,dispatch:b6,[Symbol.iterator]:S6};function Cn(e){return typeof e=="string"?new nr([[document.querySelector(e)]],[document.documentElement]):new nr([[e]],ik)}function C6(e){let n;for(;n=e.sourceEvent;)e=n;return e}function fr(e,n){if(e=C6(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}}return[e.pageX,e.pageY]}const k6={passive:!1},Oc={capture:!0,passive:!1};function Tp(e){e.stopImmediatePropagation()}function wa(e){e.preventDefault(),e.stopImmediatePropagation()}function ak(e){var n=e.document.documentElement,r=Cn(e).on("dragstart.drag",wa,Oc);"onselectstart"in n?r.on("selectstart.drag",wa,Oc):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function lk(e,n){var r=e.document.documentElement,o=Cn(e).on("dragstart.drag",null);n&&(o.on("click.drag",wa,Oc),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const qu=e=>()=>e;function Cg(e,{sourceEvent:n,subject:r,target:o,identifier:s,active:i,x:a,y:l,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Cg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function N6(e){return!e.ctrlKey&&!e.button}function E6(){return this.parentNode}function A6(e,n){return n??{x:e.x,y:e.y}}function T6(){return navigator.maxTouchPoints||"ontouchstart"in this}function ck(){var e=N6,n=E6,r=A6,o=T6,s={},i=cu("start","drag","end"),a=0,l,c,u,f,d=0;function m(_){_.on("mousedown.drag",p).filter(o).on("touchstart.drag",b).on("touchmove.drag",y,k6).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,C){if(!(f||!e.call(this,_,C))){var k=S(this,n.call(this,_,C),_,C,"mouse");k&&(Cn(_.view).on("mousemove.drag",w,Oc).on("mouseup.drag",v,Oc),ak(_.view),Tp(_),u=!1,l=_.clientX,c=_.clientY,k("start",_))}}function w(_){if(wa(_),!u){var C=_.clientX-l,k=_.clientY-c;u=C*C+k*k>d}s.mouse("drag",_)}function v(_){Cn(_.view).on("mousemove.drag mouseup.drag",null),lk(_.view,u),wa(_),s.mouse("end",_)}function b(_,C){if(e.call(this,_,C)){var k=_.changedTouches,N=n.call(this,_,C),A=k.length,T,P;for(T=0;T<A;++T)(P=S(this,N,_,C,k[T].identifier,k[T]))&&(Tp(_),P("start",_,k[T]))}}function y(_){var C=_.changedTouches,k=C.length,N,A;for(N=0;N<k;++N)(A=s[C[N].identifier])&&(wa(_),A("drag",_,C[N]))}function x(_){var C=_.changedTouches,k=C.length,N,A;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<k;++N)(A=s[C[N].identifier])&&(Tp(_),A("end",_,C[N]))}function S(_,C,k,N,A,T){var P=i.copy(),O=fr(T||k,C),D,F,E;if((E=r.call(_,new Cg("beforestart",{sourceEvent:k,target:m,identifier:A,active:a,x:O[0],y:O[1],dx:0,dy:0,dispatch:P}),N))!=null)return D=E.x-O[0]||0,F=E.y-O[1]||0,function L(R,W,I){var j=O,H;switch(R){case"start":s[A]=L,H=a++;break;case"end":delete s[A],--a;case"drag":O=fr(I||W,C),H=a;break}P.call(R,_,new Cg(R,{sourceEvent:W,subject:E,target:m,identifier:A,active:H,x:O[0]+D,y:O[1]+F,dx:O[0]-j[0],dy:O[1]-j[1],dispatch:P}),N)}}return m.filter=function(_){return arguments.length?(e=typeof _=="function"?_:qu(!!_),m):e},m.container=function(_){return arguments.length?(n=typeof _=="function"?_:qu(_),m):n},m.subject=function(_){return arguments.length?(r=typeof _=="function"?_:qu(_),m):r},m.touchable=function(_){return arguments.length?(o=typeof _=="function"?_:qu(!!_),m):o},m.on=function(){var _=i.on.apply(i,arguments);return _===i?m:_},m.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,m):Math.sqrt(d)},m}function k0(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function uk(e,n){var r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r}function du(){}var Dc=.7,yf=1/Dc,ba="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j6=/^#([0-9a-f]{3,8})$/,P6=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),M6=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),R6=new RegExp(`^rgba\\(${ba},${ba},${ba},${$c}\\)$`),I6=new RegExp(`^rgba\\(${ao},${ao},${ao},${$c}\\)$`),O6=new RegExp(`^hsl\\(${$c},${ao},${ao}\\)$`),D6=new RegExp(`^hsla\\(${$c},${ao},${ao},${$c}\\)$`),kw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(du,Lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nw,formatHex:Nw,formatHex8:$6,formatHsl:L6,formatRgb:Ew,toString:Ew});function Nw(){return this.rgb().formatHex()}function $6(){return this.rgb().formatHex8()}function L6(){return dk(this).formatHsl()}function Ew(){return this.rgb().formatRgb()}function Lc(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=j6.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Aw(n):r===3?new Ln(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Gu(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Gu(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=P6.exec(e))?new Ln(n[1],n[2],n[3],1):(n=M6.exec(e))?new Ln(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=R6.exec(e))?Gu(n[1],n[2],n[3],n[4]):(n=I6.exec(e))?Gu(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=O6.exec(e))?Pw(n[1],n[2]/100,n[3]/100,1):(n=D6.exec(e))?Pw(n[1],n[2]/100,n[3]/100,n[4]):kw.hasOwnProperty(e)?Aw(kw[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function Aw(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function Gu(e,n,r,o){return o<=0&&(e=n=r=NaN),new Ln(e,n,r,o)}function z6(e){return e instanceof du||(e=Lc(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function kg(e,n,r,o){return arguments.length===1?z6(e):new Ln(e,n,r,o??1)}function Ln(e,n,r,o){this.r=+e,this.g=+n,this.b=+r,this.opacity=+o}k0(Ln,kg,uk(du,{brighter(e){return e=e==null?yf:Math.pow(yf,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(yi(this.r),yi(this.g),yi(this.b),vf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tw,formatHex:Tw,formatHex8:F6,formatRgb:jw,toString:jw}));function Tw(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}`}function F6(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}${ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function jw(){const e=vf(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function vf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ri(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function Pw(e,n,r,o){return o<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Or(e,n,r,o)}function dk(e){if(e instanceof Or)return new Or(e.h,e.s,e.l,e.opacity);if(e instanceof du||(e=Lc(e)),!e)return new Or;if(e instanceof Or)return e;e=e.rgb();var n=e.r/255,r=e.g/255,o=e.b/255,s=Math.min(n,r,o),i=Math.max(n,r,o),a=NaN,l=i-s,c=(i+s)/2;return l?(n===i?a=(r-o)/l+(r<o)*6:r===i?a=(o-n)/l+2:a=(n-r)/l+4,l/=c<.5?i+s:2-i-s,a*=60):l=c>0&&c<1?0:a,new Or(a,l,c,e.opacity)}function U6(e,n,r,o){return arguments.length===1?dk(e):new Or(e,n,r,o??1)}function Or(e,n,r,o){this.h=+e,this.s=+n,this.l=+r,this.opacity=+o}k0(Or,U6,uk(du,{brighter(e){return e=e==null?yf:Math.pow(yf,e),new Or(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dc:Math.pow(Dc,e),new Or(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,s=2*r-o;return new Ln(jp(e>=240?e-240:e+120,s,o),jp(e,s,o),jp(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new Or(Mw(this.h),Yu(this.s),Yu(this.l),vf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vf(this.opacity);return`${e===1?"hsl(":"hsla("}${Mw(this.h)}, ${Yu(this.s)*100}%, ${Yu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mw(e){return e=(e||0)%360,e<0?e+360:e}function Yu(e){return Math.max(0,Math.min(1,e||0))}function jp(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const fk=e=>()=>e;function H6(e,n){return function(r){return e+r*n}}function B6(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(o){return Math.pow(e+o*n,r)}}function V6(e){return(e=+e)==1?hk:function(n,r){return r-n?B6(n,r,e):fk(isNaN(n)?r:n)}}function hk(e,n){var r=n-e;return r?H6(e,r):fk(isNaN(e)?n:e)}const Rw=function e(n){var r=V6(n);function o(s,i){var a=r((s=kg(s)).r,(i=kg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=hk(s.opacity,i.opacity);return function(f){return s.r=a(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return o.gamma=e,o}(1);function os(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pp=new RegExp(Ng.source,"g");function W6(e){return function(){return e}}function q6(e){return function(n){return e(n)+""}}function G6(e,n){var r=Ng.lastIndex=Pp.lastIndex=0,o,s,i,a=-1,l=[],c=[];for(e=e+"",n=n+"";(o=Ng.exec(e))&&(s=Pp.exec(n));)(i=s.index)>r&&(i=n.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:os(o,s)})),r=Pp.lastIndex;return r<n.length&&(i=n.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?q6(c[0].x):W6(n):(n=c.length,function(u){for(var f=0,d;f<n;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}var Iw=180/Math.PI,Eg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pk(e,n,r,o,s,i){var a,l,c;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(c=e*r+n*o)&&(r-=e*c,o-=n*c),(l=Math.sqrt(r*r+o*o))&&(r/=l,o/=l,c/=l),e*o<n*r&&(e=-e,n=-n,c=-c,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(n,e)*Iw,skewX:Math.atan(c)*Iw,scaleX:a,scaleY:l}}var Ku;function Y6(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Eg:pk(n.a,n.b,n.c,n.d,n.e,n.f)}function K6(e){return e==null||(Ku||(Ku=document.createElementNS("http://www.w3.org/2000/svg","g")),Ku.setAttribute("transform",e),!(e=Ku.transform.baseVal.consolidate()))?Eg:(e=e.matrix,pk(e.a,e.b,e.c,e.d,e.e,e.f))}function mk(e,n,r,o){function s(u){return u.length?u.pop()+" ":""}function i(u,f,d,m,p,w){if(u!==d||f!==m){var v=p.push("translate(",null,n,null,r);w.push({i:v-4,x:os(u,d)},{i:v-2,x:os(f,m)})}else(d||m)&&p.push("translate("+d+n+m+r)}function a(u,f,d,m){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),m.push({i:d.push(s(d)+"rotate(",null,o)-2,x:os(u,f)})):f&&d.push(s(d)+"rotate("+f+o)}function l(u,f,d,m){u!==f?m.push({i:d.push(s(d)+"skewX(",null,o)-2,x:os(u,f)}):f&&d.push(s(d)+"skewX("+f+o)}function c(u,f,d,m,p,w){if(u!==d||f!==m){var v=p.push(s(p)+"scale(",null,",",null,")");w.push({i:v-4,x:os(u,d)},{i:v-2,x:os(f,m)})}else(d!==1||m!==1)&&p.push(s(p)+"scale("+d+","+m+")")}return function(u,f){var d=[],m=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,d,m),a(u.rotate,f.rotate,d,m),l(u.skewX,f.skewX,d,m),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,m),u=f=null,function(p){for(var w=-1,v=m.length,b;++w<v;)d[(b=m[w]).i]=b.x(p);return d.join("")}}}var X6=mk(Y6,"px, ","px)","deg)"),Q6=mk(K6,", ",")",")"),Z6=1e-12;function Ow(e){return((e=Math.exp(e))+1/e)/2}function J6(e){return((e=Math.exp(e))-1/e)/2}function eL(e){return((e=Math.exp(2*e))-1)/(e+1)}const tL=function e(n,r,o){function s(i,a){var l=i[0],c=i[1],u=i[2],f=a[0],d=a[1],m=a[2],p=f-l,w=d-c,v=p*p+w*w,b,y;if(v<Z6)y=Math.log(m/u)/n,b=function(N){return[l+N*p,c+N*w,u*Math.exp(n*N*y)]};else{var x=Math.sqrt(v),S=(m*m-u*u+o*v)/(2*u*r*x),_=(m*m-u*u-o*v)/(2*m*r*x),C=Math.log(Math.sqrt(S*S+1)-S),k=Math.log(Math.sqrt(_*_+1)-_);y=(k-C)/n,b=function(N){var A=N*y,T=Ow(C),P=u/(r*x)*(T*eL(n*A+C)-J6(C));return[l+P*p,c+P*w,u*T/Ow(n*A+C)]}}return b.duration=y*1e3*n/Math.SQRT2,b}return s.rho=function(i){var a=Math.max(.001,+i),l=a*a,c=l*l;return e(a,l,c)},s}(Math.SQRT2,2,4);var Ka=0,Bl=0,Cl=0,gk=1e3,xf,Vl,wf=0,Ti=0,mh=0,zc=typeof performance=="object"&&performance.now?performance:Date,yk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function N0(){return Ti||(yk(nL),Ti=zc.now()+mh)}function nL(){Ti=0}function bf(){this._call=this._time=this._next=null}bf.prototype=E0.prototype={constructor:bf,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?N0():+r)+(n==null?0:+n),!this._next&&Vl!==this&&(Vl?Vl._next=this:xf=this,Vl=this),this._call=e,this._time=r,Ag()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ag())}};function E0(e,n,r){var o=new bf;return o.restart(e,n,r),o}function rL(){N0(),++Ka;for(var e=xf,n;e;)(n=Ti-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ka}function Dw(){Ti=(wf=zc.now())+mh,Ka=Bl=0;try{rL()}finally{Ka=0,sL(),Ti=0}}function oL(){var e=zc.now(),n=e-wf;n>gk&&(mh-=n,wf=e)}function sL(){for(var e,n=xf,r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:xf=r);Vl=e,Ag(o)}function Ag(e){if(!Ka){Bl&&(Bl=clearTimeout(Bl));var n=e-Ti;n>24?(e<1/0&&(Bl=setTimeout(Dw,e-zc.now()-mh)),Cl&&(Cl=clearInterval(Cl))):(Cl||(wf=zc.now(),Cl=setInterval(oL,gk)),Ka=1,yk(Dw))}}function $w(e,n,r){var o=new bf;return n=n==null?0:+n,o.restart(s=>{o.stop(),e(s+n)},n,r),o}var iL=cu("start","end","cancel","interrupt"),aL=[],vk=0,Lw=1,Tg=2,Ed=3,zw=4,jg=5,Ad=6;function gh(e,n,r,o,s,i){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;lL(e,r,{name:n,index:o,group:s,on:iL,tween:aL,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:vk})}function A0(e,n){var r=Br(e,n);if(r.state>vk)throw new Error("too late; already scheduled");return r}function mo(e,n){var r=Br(e,n);if(r.state>Ed)throw new Error("too late; already running");return r}function Br(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function lL(e,n,r){var o=e.__transition,s;o[n]=r,r.timer=E0(i,0,r.time);function i(u){r.state=Lw,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var f,d,m,p;if(r.state!==Lw)return c();for(f in o)if(p=o[f],p.name===r.name){if(p.state===Ed)return $w(a);p.state===zw?(p.state=Ad,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[f]):+f<n&&(p.state=Ad,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[f])}if($w(function(){r.state===Ed&&(r.state=zw,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Tg,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Tg){for(r.state=Ed,s=new Array(m=r.tween.length),f=0,d=-1;f<m;++f)(p=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(s[++d]=p);s.length=d+1}}function l(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=jg,1),d=-1,m=s.length;++d<m;)s[d].call(e,f);r.state===jg&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Ad,r.timer.stop(),delete o[n];for(var u in o)return;delete e.__transition}}function Td(e,n){var r=e.__transition,o,s,i=!0,a;if(r){n=n==null?null:n+"";for(a in r){if((o=r[a]).name!==n){i=!1;continue}s=o.state>Tg&&o.state<jg,o.state=Ad,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[a]}i&&delete e.__transition}}function cL(e){return this.each(function(){Td(this,e)})}function uL(e,n){var r,o;return function(){var s=mo(this,e),i=s.tween;if(i!==r){o=r=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===n){o=o.slice(),o.splice(a,1);break}}s.tween=o}}function dL(e,n,r){var o,s;if(typeof r!="function")throw new Error;return function(){var i=mo(this,e),a=i.tween;if(a!==o){s=(o=a).slice();for(var l={name:n,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===n){s[c]=l;break}c===u&&s.push(l)}i.tween=s}}function fL(e,n){var r=this._id;if(e+="",arguments.length<2){for(var o=Br(this.node(),r).tween,s=0,i=o.length,a;s<i;++s)if((a=o[s]).name===e)return a.value;return null}return this.each((n==null?uL:dL)(r,e,n))}function T0(e,n,r){var o=e._id;return e.each(function(){var s=mo(this,o);(s.value||(s.value={}))[n]=r.apply(this,arguments)}),function(s){return Br(s,o).value[n]}}function xk(e,n){var r;return(typeof n=="number"?os:n instanceof Lc?Rw:(r=Lc(n))?(n=r,Rw):G6)(e,n)}function hL(e){return function(){this.removeAttribute(e)}}function pL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mL(e,n,r){var o,s=r+"",i;return function(){var a=this.getAttribute(e);return a===s?null:a===o?i:i=n(o=a,r)}}function gL(e,n,r){var o,s=r+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===o?i:i=n(o=a,r)}}function yL(e,n,r){var o,s,i;return function(){var a,l=r(this),c;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=l+"",a===c?null:a===o&&c===s?i:(s=c,i=n(o=a,l)))}}function vL(e,n,r){var o,s,i;return function(){var a,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=l+"",a===c?null:a===o&&c===s?i:(s=c,i=n(o=a,l)))}}function xL(e,n){var r=ph(e),o=r==="transform"?Q6:xk;return this.attrTween(e,typeof n=="function"?(r.local?vL:yL)(r,o,T0(this,"attr."+e,n)):n==null?(r.local?pL:hL)(r):(r.local?gL:mL)(r,o,n))}function wL(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function bL(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function SL(e,n){var r,o;function s(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&bL(e,i)),r}return s._value=n,s}function _L(e,n){var r,o;function s(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&wL(e,i)),r}return s._value=n,s}function CL(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var o=ph(e);return this.tween(r,(o.local?SL:_L)(o,n))}function kL(e,n){return function(){A0(this,e).delay=+n.apply(this,arguments)}}function NL(e,n){return n=+n,function(){A0(this,e).delay=n}}function EL(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?kL:NL)(n,e)):Br(this.node(),n).delay}function AL(e,n){return function(){mo(this,e).duration=+n.apply(this,arguments)}}function TL(e,n){return n=+n,function(){mo(this,e).duration=n}}function jL(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?AL:TL)(n,e)):Br(this.node(),n).duration}function PL(e,n){if(typeof n!="function")throw new Error;return function(){mo(this,e).ease=n}}function ML(e){var n=this._id;return arguments.length?this.each(PL(n,e)):Br(this.node(),n).ease}function RL(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;mo(this,e).ease=r}}function IL(e){if(typeof e!="function")throw new Error;return this.each(RL(this._id,e))}function OL(e){typeof e!="function"&&(e=QC(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Vo(o,this._parents,this._name,this._id)}function DL(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),l=0;l<i;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),m,p=0;p<f;++p)(m=c[p]||u[p])&&(d[p]=m);for(;l<o;++l)a[l]=n[l];return new Vo(a,this._parents,this._name,this._id)}function $L(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function LL(e,n,r){var o,s,i=$L(n)?A0:mo;return function(){var a=i(this,e),l=a.on;l!==o&&(s=(o=l).copy()).on(n,r),a.on=s}}function zL(e,n){var r=this._id;return arguments.length<2?Br(this.node(),r).on.on(e):this.each(LL(r,e,n))}function FL(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function UL(){return this.on("end.remove",FL(this._id))}function HL(e){var n=this._name,r=this._id;typeof e!="function"&&(e=_0(e));for(var o=this._groups,s=o.length,i=new Array(s),a=0;a<s;++a)for(var l=o[a],c=l.length,u=i[a]=new Array(c),f,d,m=0;m<c;++m)(f=l[m])&&(d=e.call(f,f.__data__,m,l))&&("__data__"in f&&(d.__data__=f.__data__),u[m]=d,gh(u[m],n,r,m,u,Br(f,r)));return new Vo(i,this._parents,n,r)}function BL(e){var n=this._name,r=this._id;typeof e!="function"&&(e=XC(e));for(var o=this._groups,s=o.length,i=[],a=[],l=0;l<s;++l)for(var c=o[l],u=c.length,f,d=0;d<u;++d)if(f=c[d]){for(var m=e.call(f,f.__data__,d,c),p,w=Br(f,r),v=0,b=m.length;v<b;++v)(p=m[v])&&gh(p,n,r,v,m,w);i.push(m),a.push(f)}return new Vo(i,a,n,r)}var VL=uu.prototype.constructor;function WL(){return new VL(this._groups,this._parents)}function qL(e,n){var r,o,s;return function(){var i=Ya(this,e),a=(this.style.removeProperty(e),Ya(this,e));return i===a?null:i===r&&a===o?s:s=n(r=i,o=a)}}function wk(e){return function(){this.style.removeProperty(e)}}function GL(e,n,r){var o,s=r+"",i;return function(){var a=Ya(this,e);return a===s?null:a===o?i:i=n(o=a,r)}}function YL(e,n,r){var o,s,i;return function(){var a=Ya(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ya(this,e))),a===c?null:a===o&&c===s?i:(s=c,i=n(o=a,l))}}function KL(e,n){var r,o,s,i="style."+n,a="end."+i,l;return function(){var c=mo(this,e),u=c.on,f=c.value[i]==null?l||(l=wk(n)):void 0;(u!==r||s!==f)&&(o=(r=u).copy()).on(a,s=f),c.on=o}}function XL(e,n,r){var o=(e+="")=="transform"?X6:xk;return n==null?this.styleTween(e,qL(e,o)).on("end.style."+e,wk(e)):typeof n=="function"?this.styleTween(e,YL(e,o,T0(this,"style."+e,n))).each(KL(this._id,e)):this.styleTween(e,GL(e,o,n),r).on("end.style."+e,null)}function QL(e,n,r){return function(o){this.style.setProperty(e,n.call(this,o),r)}}function ZL(e,n,r){var o,s;function i(){var a=n.apply(this,arguments);return a!==s&&(o=(s=a)&&QL(e,a,r)),o}return i._value=n,i}function JL(e,n,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,ZL(e,n,r??""))}function e8(e){return function(){this.textContent=e}}function t8(e){return function(){var n=e(this);this.textContent=n??""}}function n8(e){return this.tween("text",typeof e=="function"?t8(T0(this,"text",e)):e8(e==null?"":e+""))}function r8(e){return function(n){this.textContent=e.call(this,n)}}function o8(e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&r8(s)),n}return o._value=e,o}function s8(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,o8(e))}function i8(){for(var e=this._name,n=this._id,r=bk(),o=this._groups,s=o.length,i=0;i<s;++i)for(var a=o[i],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var f=Br(c,n);gh(c,e,r,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vo(o,this._parents,e,r)}function a8(){var e,n,r=this,o=r._id,s=r.size();return new Promise(function(i,a){var l={value:a},c={value:function(){--s===0&&i()}};r.each(function(){var u=mo(this,o),f=u.on;f!==e&&(n=(e=f).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(c)),u.on=n}),s===0&&i()})}var l8=0;function Vo(e,n,r,o){this._groups=e,this._parents=n,this._name=r,this._id=o}function bk(){return++l8}var vo=uu.prototype;Vo.prototype={constructor:Vo,select:HL,selectAll:BL,selectChild:vo.selectChild,selectChildren:vo.selectChildren,filter:OL,merge:DL,selection:WL,transition:i8,call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:zL,attr:xL,attrTween:CL,style:XL,styleTween:JL,text:n8,textTween:s8,remove:UL,tween:fL,delay:EL,duration:jL,ease:ML,easeVarying:IL,end:a8,[Symbol.iterator]:vo[Symbol.iterator]};function c8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var u8={time:null,delay:0,duration:250,ease:c8};function d8(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function f8(e){var n,r;e instanceof Vo?(n=e._id,e=e._name):(n=bk(),(r=u8).time=N0(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,i=0;i<s;++i)for(var a=o[i],l=a.length,c,u=0;u<l;++u)(c=a[u])&&gh(c,e,n,u,a,r||d8(c,n));return new Vo(o,this._parents,e,n)}uu.prototype.interrupt=cL;uu.prototype.transition=f8;const Xu=e=>()=>e;function h8(e,{sourceEvent:n,target:r,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Po(e,n,r){this.k=e,this.x=n,this.y=r}Po.prototype={constructor:Po,scale:function(e){return e===1?this:new Po(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Po(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new Po(1,0,0);Kr.prototype=Po.prototype;function Kr(e){for(;!e.__zoom;)if(!(e=e.parentNode))return lo;return e.__zoom}function Mp(e){e.stopImmediatePropagation()}function kl(e){e.preventDefault(),e.stopImmediatePropagation()}function p8(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function m8(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fw(){return this.__zoom||lo}function g8(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function y8(){return navigator.maxTouchPoints||"ontouchstart"in this}function v8(e,n,r){var o=e.invertX(n[0][0])-r[0][0],s=e.invertX(n[1][0])-r[1][0],i=e.invertY(n[0][1])-r[0][1],a=e.invertY(n[1][1])-r[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function j0(){var e=p8,n=m8,r=v8,o=g8,s=y8,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=tL,u=cu("start","zoom","end"),f,d,m,p=500,w=150,v=0,b=10;function y(E){E.property("__zoom",Fw).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(E,L,R,W){var I=E.selection?E.selection():E;I.property("__zoom",Fw),E!==I?C(E,L,R,W):I.interrupt().each(function(){k(this,arguments).event(W).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(E,L,R,W){y.scaleTo(E,function(){var I=this.__zoom.k,j=typeof L=="function"?L.apply(this,arguments):L;return I*j},R,W)},y.scaleTo=function(E,L,R,W){y.transform(E,function(){var I=n.apply(this,arguments),j=this.__zoom,H=R==null?_(I):typeof R=="function"?R.apply(this,arguments):R,M=j.invert(H),$=typeof L=="function"?L.apply(this,arguments):L;return r(S(x(j,$),H,M),I,a)},R,W)},y.translateBy=function(E,L,R,W){y.transform(E,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof R=="function"?R.apply(this,arguments):R),n.apply(this,arguments),a)},null,W)},y.translateTo=function(E,L,R,W,I){y.transform(E,function(){var j=n.apply(this,arguments),H=this.__zoom,M=W==null?_(j):typeof W=="function"?W.apply(this,arguments):W;return r(lo.translate(M[0],M[1]).scale(H.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof R=="function"?-R.apply(this,arguments):-R),j,a)},W,I)};function x(E,L){return L=Math.max(i[0],Math.min(i[1],L)),L===E.k?E:new Po(L,E.x,E.y)}function S(E,L,R){var W=L[0]-R[0]*E.k,I=L[1]-R[1]*E.k;return W===E.x&&I===E.y?E:new Po(E.k,W,I)}function _(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function C(E,L,R,W){E.on("start.zoom",function(){k(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(W).end()}).tween("zoom",function(){var I=this,j=arguments,H=k(I,j).event(W),M=n.apply(I,j),$=R==null?_(M):typeof R=="function"?R.apply(I,j):R,Y=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),q=I.__zoom,Z=typeof L=="function"?L.apply(I,j):L,ce=c(q.invert($).concat(Y/q.k),Z.invert($).concat(Y/Z.k));return function(X){if(X===1)X=Z;else{var pe=ce(X),ne=Y/pe[2];X=new Po(ne,$[0]-pe[0]*ne,$[1]-pe[1]*ne)}H.zoom(null,X)}})}function k(E,L,R){return!R&&E.__zooming||new N(E,L)}function N(E,L){this.that=E,this.args=L,this.active=0,this.sourceEvent=null,this.extent=n.apply(E,L),this.taps=0}N.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,L){return this.mouse&&E!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var L=Cn(this.that).datum();u.call(E,this.that,new h8(E,{sourceEvent:this.sourceEvent,target:y,type:E,transform:this.that.__zoom,dispatch:u}),L)}};function A(E,...L){if(!e.apply(this,arguments))return;var R=k(this,L).event(E),W=this.__zoom,I=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,o.apply(this,arguments)))),j=fr(E);if(R.wheel)(R.mouse[0][0]!==j[0]||R.mouse[0][1]!==j[1])&&(R.mouse[1]=W.invert(R.mouse[0]=j)),clearTimeout(R.wheel);else{if(W.k===I)return;R.mouse=[j,W.invert(j)],Td(this),R.start()}kl(E),R.wheel=setTimeout(H,w),R.zoom("mouse",r(S(x(W,I),R.mouse[0],R.mouse[1]),R.extent,a));function H(){R.wheel=null,R.end()}}function T(E,...L){if(m||!e.apply(this,arguments))return;var R=E.currentTarget,W=k(this,L,!0).event(E),I=Cn(E.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",Y,!0),j=fr(E,R),H=E.clientX,M=E.clientY;ak(E.view),Mp(E),W.mouse=[j,this.__zoom.invert(j)],Td(this),W.start();function $(q){if(kl(q),!W.moved){var Z=q.clientX-H,ce=q.clientY-M;W.moved=Z*Z+ce*ce>v}W.event(q).zoom("mouse",r(S(W.that.__zoom,W.mouse[0]=fr(q,R),W.mouse[1]),W.extent,a))}function Y(q){I.on("mousemove.zoom mouseup.zoom",null),lk(q.view,W.moved),kl(q),W.event(q).end()}}function P(E,...L){if(e.apply(this,arguments)){var R=this.__zoom,W=fr(E.changedTouches?E.changedTouches[0]:E,this),I=R.invert(W),j=R.k*(E.shiftKey?.5:2),H=r(S(x(R,j),W,I),n.apply(this,L),a);kl(E),l>0?Cn(this).transition().duration(l).call(C,H,W,E):Cn(this).call(y.transform,H,W,E)}}function O(E,...L){if(e.apply(this,arguments)){var R=E.touches,W=R.length,I=k(this,L,E.changedTouches.length===W).event(E),j,H,M,$;for(Mp(E),H=0;H<W;++H)M=R[H],$=fr(M,this),$=[$,this.__zoom.invert($),M.identifier],I.touch0?!I.touch1&&I.touch0[2]!==$[2]&&(I.touch1=$,I.taps=0):(I.touch0=$,j=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),j&&(I.taps<2&&(d=$[0],f=setTimeout(function(){f=null},p)),Td(this),I.start())}}function D(E,...L){if(this.__zooming){var R=k(this,L).event(E),W=E.changedTouches,I=W.length,j,H,M,$;for(kl(E),j=0;j<I;++j)H=W[j],M=fr(H,this),R.touch0&&R.touch0[2]===H.identifier?R.touch0[0]=M:R.touch1&&R.touch1[2]===H.identifier&&(R.touch1[0]=M);if(H=R.that.__zoom,R.touch1){var Y=R.touch0[0],q=R.touch0[1],Z=R.touch1[0],ce=R.touch1[1],X=(X=Z[0]-Y[0])*X+(X=Z[1]-Y[1])*X,pe=(pe=ce[0]-q[0])*pe+(pe=ce[1]-q[1])*pe;H=x(H,Math.sqrt(X/pe)),M=[(Y[0]+Z[0])/2,(Y[1]+Z[1])/2],$=[(q[0]+ce[0])/2,(q[1]+ce[1])/2]}else if(R.touch0)M=R.touch0[0],$=R.touch0[1];else return;R.zoom("touch",r(S(H,M,$),R.extent,a))}}function F(E,...L){if(this.__zooming){var R=k(this,L).event(E),W=E.changedTouches,I=W.length,j,H;for(Mp(E),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),j=0;j<I;++j)H=W[j],R.touch0&&R.touch0[2]===H.identifier?delete R.touch0:R.touch1&&R.touch1[2]===H.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(H=fr(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<b)){var M=Cn(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return y.wheelDelta=function(E){return arguments.length?(o=typeof E=="function"?E:Xu(+E),y):o},y.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Xu(!!E),y):e},y.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:Xu(!!E),y):s},y.extent=function(E){return arguments.length?(n=typeof E=="function"?E:Xu([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),y):n},y.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],y):[i[0],i[1]]},y.translateExtent=function(E){return arguments.length?(a[0][0]=+E[0][0],a[1][0]=+E[1][0],a[0][1]=+E[0][1],a[1][1]=+E[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(E){return arguments.length?(r=E,y):r},y.duration=function(E){return arguments.length?(l=+E,y):l},y.interpolate=function(E){return arguments.length?(c=E,y):c},y.on=function(){var E=u.on.apply(u,arguments);return E===u?y:E},y.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,y):Math.sqrt(v)},y.tapDistance=function(E){return arguments.length?(b=+E,y):b},y}const yh=g.createContext(null),x8=yh.Provider,Wo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,n)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Sk=Wo.error001();function pt(e,n){const r=g.useContext(yh);if(r===null)throw new Error(Sk);return YC(r,e,n)}const Wt=()=>{const e=g.useContext(yh);if(e===null)throw new Error(Sk);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},w8=e=>e.userSelectionActive?"none":"all";function P0({position:e,children:n,className:r,style:o,...s}){const i=pt(w8),a=`${e}`.split("-");return z.createElement("div",{className:on(["react-flow__panel",r,...a]),style:{...o,pointerEvents:i},...s},n)}function b8({proOptions:e,position:n="bottom-right"}){return e!=null&&e.hideAttribution?null:z.createElement(P0,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},z.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const S8=({x:e,y:n,label:r,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...f})=>{const d=g.useRef(null),[m,p]=g.useState({x:0,y:0,width:0,height:0}),w=on(["react-flow__edge-textwrapper",u]);return g.useEffect(()=>{if(d.current){const v=d.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[r]),typeof r>"u"||!r?null:z.createElement("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:w,visibility:m.width?"visible":"hidden",...f},s&&z.createElement("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),z.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:d,style:o},r),c)};var _8=g.memo(S8);const M0=e=>({width:e.offsetWidth,height:e.offsetHeight}),Xa=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),R0=(e={x:0,y:0},n)=>({x:Xa(e.x,n[0][0],n[1][0]),y:Xa(e.y,n[0][1],n[1][1])}),Uw=(e,n,r)=>e<n?Xa(Math.abs(e-n),1,50)/50:e>r?-Xa(Math.abs(e-r),1,50)/50:0,_k=(e,n)=>{const r=Uw(e.x,35,n.width-35)*20,o=Uw(e.y,35,n.height-35)*20;return[r,o]},Ck=e=>{var n;return((n=e.getRootNode)==null?void 0:n.call(e))||(window==null?void 0:window.document)},kk=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Fc=({x:e,y:n,width:r,height:o})=>({x:e,y:n,x2:e+r,y2:n+o}),Nk=({x:e,y:n,x2:r,y2:o})=>({x:e,y:n,width:r-e,height:o-n}),Hw=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),C8=(e,n)=>Nk(kk(Fc(e),Fc(n))),Pg=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),o=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*o)},k8=e=>vr(e.width)&&vr(e.height)&&vr(e.x)&&vr(e.y),vr=e=>!isNaN(e)&&isFinite(e),It=Symbol.for("internals"),Ek=["Enter"," ","Escape"],N8=(e,n)=>{},E8=e=>"nativeEvent"in e;function Mg(e){var s,i;const n=E8(e)?e.nativeEvent:e,r=((i=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const Ak=e=>"clientX"in e,Rs=(e,n)=>{var i,a;const r=Ak(e),o=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=r?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:o-((n==null?void 0:n.left)??0),y:s-((n==null?void 0:n.top)??0)}},Sf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},fu=({id:e,path:n,labelX:r,labelY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:m,interactionWidth:p=20})=>z.createElement(z.Fragment,null,z.createElement("path",{id:e,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:m}),p&&z.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&vr(r)&&vr(o)?z.createElement(_8,{x:r,y:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);fu.displayName="BaseEdge";function Nl(e,n,r){return r===void 0?r:o=>{const s=n().edges.find(i=>i.id===e);s&&r(o,{...s})}}function Tk({sourceX:e,sourceY:n,targetX:r,targetY:o}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,a=Math.abs(o-n)/2,l=o<n?o+a:o-a;return[i,l,s,a]}function jk({sourceX:e,sourceY:n,targetX:r,targetY:o,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:l}){const c=e*.125+s*.375+a*.375+r*.125,u=n*.125+i*.375+l*.375+o*.125,f=Math.abs(c-e),d=Math.abs(u-n);return[c,u,f,d]}var ji;(function(e){e.Strict="strict",e.Loose="loose"})(ji||(ji={}));var oi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(oi||(oi={}));var Uc;(function(e){e.Partial="partial",e.Full="full"})(Uc||(Uc={}));var ls;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ls||(ls={}));var _f;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(_f||(_f={}));var Te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Te||(Te={}));function Bw({pos:e,x1:n,y1:r,x2:o,y2:s}){return e===Te.Left||e===Te.Right?[.5*(n+o),r]:[n,.5*(r+s)]}function Pk({sourceX:e,sourceY:n,sourcePosition:r=Te.Bottom,targetX:o,targetY:s,targetPosition:i=Te.Top}){const[a,l]=Bw({pos:r,x1:e,y1:n,x2:o,y2:s}),[c,u]=Bw({pos:i,x1:o,y1:s,x2:e,y2:n}),[f,d,m,p]=jk({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${n} C${a},${l} ${c},${u} ${o},${s}`,f,d,m,p]}const I0=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=Te.Bottom,targetPosition:i=Te.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:w,interactionWidth:v})=>{const[b,y,x]=Pk({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i});return z.createElement(fu,{path:b,labelX:y,labelY:x,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:w,interactionWidth:v})});I0.displayName="SimpleBezierEdge";const Vw={[Te.Left]:{x:-1,y:0},[Te.Right]:{x:1,y:0},[Te.Top]:{x:0,y:-1},[Te.Bottom]:{x:0,y:1}},A8=({source:e,sourcePosition:n=Te.Bottom,target:r})=>n===Te.Left||n===Te.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Ww=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function T8({source:e,sourcePosition:n=Te.Bottom,target:r,targetPosition:o=Te.Top,center:s,offset:i}){const a=Vw[n],l=Vw[o],c={x:e.x+a.x*i,y:e.y+a.y*i},u={x:r.x+l.x*i,y:r.y+l.y*i},f=A8({source:c,sourcePosition:n,target:u}),d=f.x!==0?"x":"y",m=f[d];let p=[],w,v;const b={x:0,y:0},y={x:0,y:0},[x,S,_,C]=Tk({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[d]*l[d]===-1){w=s.x??x,v=s.y??S;const N=[{x:w,y:c.y},{x:w,y:u.y}],A=[{x:c.x,y:v},{x:u.x,y:v}];a[d]===m?p=d==="x"?N:A:p=d==="x"?A:N}else{const N=[{x:c.x,y:u.y}],A=[{x:u.x,y:c.y}];if(d==="x"?p=a.x===m?A:N:p=a.y===m?N:A,n===o){const F=Math.abs(e[d]-r[d]);if(F<=i){const E=Math.min(i-1,i-F);a[d]===m?b[d]=(c[d]>e[d]?-1:1)*E:y[d]=(u[d]>r[d]?-1:1)*E}}if(n!==o){const F=d==="x"?"y":"x",E=a[d]===l[F],L=c[F]>u[F],R=c[F]<u[F];(a[d]===1&&(!E&&L||E&&R)||a[d]!==1&&(!E&&R||E&&L))&&(p=d==="x"?N:A)}const T={x:c.x+b.x,y:c.y+b.y},P={x:u.x+y.x,y:u.y+y.y},O=Math.max(Math.abs(T.x-p[0].x),Math.abs(P.x-p[0].x)),D=Math.max(Math.abs(T.y-p[0].y),Math.abs(P.y-p[0].y));O>=D?(w=(T.x+P.x)/2,v=p[0].y):(w=p[0].x,v=(T.y+P.y)/2)}return[[e,{x:c.x+b.x,y:c.y+b.y},...p,{x:u.x+y.x,y:u.y+y.y},r],w,v,_,C]}function j8(e,n,r,o){const s=Math.min(Ww(e,n)/2,Ww(n,r)/2,o),{x:i,y:a}=n;if(e.x===i&&i===r.x||e.y===a&&a===r.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${i+s*u},${a}Q ${i},${a} ${i},${a+s*f}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${a+s*c}Q ${i},${a} ${i+s*l},${a}`}function Rg({sourceX:e,sourceY:n,sourcePosition:r=Te.Bottom,targetX:o,targetY:s,targetPosition:i=Te.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}){const[f,d,m,p,w]=T8({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:s},targetPosition:i,center:{x:l,y:c},offset:u});return[f.reduce((b,y,x)=>{let S="";return x>0&&x<f.length-1?S=j8(f[x-1],y,f[x+1],a):S=`${x===0?"M":"L"}${y.x} ${y.y}`,b+=S,b},""),d,m,p,w]}const vh=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:f,sourcePosition:d=Te.Bottom,targetPosition:m=Te.Top,markerEnd:p,markerStart:w,pathOptions:v,interactionWidth:b})=>{const[y,x,S]=Rg({sourceX:e,sourceY:n,sourcePosition:d,targetX:r,targetY:o,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return z.createElement(fu,{path:y,labelX:x,labelY:S,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:p,markerStart:w,interactionWidth:b})});vh.displayName="SmoothStepEdge";const O0=g.memo(e=>{var n;return z.createElement(vh,{...e,pathOptions:g.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(n=e.pathOptions)==null?void 0:n.offset])})});O0.displayName="StepEdge";function P8({sourceX:e,sourceY:n,targetX:r,targetY:o}){const[s,i,a,l]=Tk({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,s,i,a,l]}const D0=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:m,interactionWidth:p})=>{const[w,v,b]=P8({sourceX:e,sourceY:n,targetX:r,targetY:o});return z.createElement(fu,{path:w,labelX:v,labelY:b,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:m,interactionWidth:p})});D0.displayName="StraightEdge";function Qu(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function qw({pos:e,x1:n,y1:r,x2:o,y2:s,c:i}){switch(e){case Te.Left:return[n-Qu(n-o,i),r];case Te.Right:return[n+Qu(o-n,i),r];case Te.Top:return[n,r-Qu(r-s,i)];case Te.Bottom:return[n,r+Qu(s-r,i)]}}function Mk({sourceX:e,sourceY:n,sourcePosition:r=Te.Bottom,targetX:o,targetY:s,targetPosition:i=Te.Top,curvature:a=.25}){const[l,c]=qw({pos:r,x1:e,y1:n,x2:o,y2:s,c:a}),[u,f]=qw({pos:i,x1:o,y1:s,x2:e,y2:n,c:a}),[d,m,p,w]=jk({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${n} C${l},${c} ${u},${f} ${o},${s}`,d,m,p,w]}const Cf=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=Te.Bottom,targetPosition:i=Te.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:w,pathOptions:v,interactionWidth:b})=>{const[y,x,S]=Mk({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i,curvature:v==null?void 0:v.curvature});return z.createElement(fu,{path:y,labelX:x,labelY:S,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:w,interactionWidth:b})});Cf.displayName="BezierEdge";const $0=g.createContext(null),M8=$0.Provider;$0.Consumer;const R8=()=>g.useContext($0),I8=e=>"id"in e&&"source"in e&&"target"in e,O8=({source:e,sourceHandle:n,target:r,targetHandle:o})=>`reactflow__edge-${e}${n||""}-${r}${o||""}`,Ig=(e,n)=>typeof e>"u"?"":typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,D8=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),$8=(e,n)=>{if(!e.source||!e.target)return n;let r;return I8(e)?r={...e}:r={...e,id:O8(e)},D8(r,n)?n:n.concat(r)},Og=({x:e,y:n},[r,o,s],i,[a,l])=>{const c={x:(e-r)/s,y:(n-o)/s};return i?{x:a*Math.round(c.x/a),y:l*Math.round(c.y/l)}:c},Rk=({x:e,y:n},[r,o,s])=>({x:e*s+r,y:n*s+o}),vi=(e,n=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*n[0],o=(e.height??0)*n[1],s={x:e.position.x-r,y:e.position.y-o};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-o}:s}},xh=(e,n=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((o,s)=>{const{x:i,y:a}=vi(s,n).positionAbsolute;return kk(o,Fc({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Nk(r)},Ik=(e,n,[r,o,s]=[0,0,1],i=!1,a=!1,l=[0,0])=>{const c={x:(n.x-r)/s,y:(n.y-o)/s,width:n.width/s,height:n.height/s},u=[];return e.forEach(f=>{const{width:d,height:m,selectable:p=!0,hidden:w=!1}=f;if(a&&!p||w)return!1;const{positionAbsolute:v}=vi(f,l),b={x:v.x,y:v.y,width:d||0,height:m||0},y=Pg(c,b),x=typeof d>"u"||typeof m>"u"||d===null||m===null,S=i&&y>0,_=(d||0)*(m||0);(x||S||y>=_||f.dragging)&&u.push(f)}),u},Ok=(e,n)=>{const r=e.map(o=>o.id);return n.filter(o=>r.includes(o.source)||r.includes(o.target))},Dk=(e,n,r,o,s,i=.1)=>{const a=n/(e.width*(1+i)),l=r/(e.height*(1+i)),c=Math.min(a,l),u=Xa(c,o,s),f=e.x+e.width/2,d=e.y+e.height/2,m=n/2-f*u,p=r/2-d*u;return{x:m,y:p,zoom:u}},Zs=(e,n=0)=>e.transition().duration(n);function Gw(e,n,r,o){return(n[r]||[]).reduce((s,i)=>{var a,l;return`${e.id}-${i.id}-${r}`!==o&&s.push({id:i.id||null,type:r,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function L8(e,n,r,o,s,i){const{x:a,y:l}=Rs(e),u=n.elementsFromPoint(a,l).find(w=>w.classList.contains("react-flow__handle"));if(u){const w=u.getAttribute("data-nodeid");if(w){const v=L0(void 0,u),b=u.getAttribute("data-handleid"),y=i({nodeId:w,id:b,type:v});if(y){const x=s.find(S=>S.nodeId===w&&S.type===v&&S.id===b);return{handle:{id:b,type:v,nodeId:w,x:(x==null?void 0:x.x)||r.x,y:(x==null?void 0:x.y)||r.y},validHandleResult:y}}}}let f=[],d=1/0;if(s.forEach(w=>{const v=Math.sqrt((w.x-r.x)**2+(w.y-r.y)**2);if(v<=o){const b=i(w);v<=d&&(v<d?f=[{handle:w,validHandleResult:b}]:v===d&&f.push({handle:w,validHandleResult:b}),d=v)}}),!f.length)return{handle:null,validHandleResult:$k()};if(f.length===1)return f[0];const m=f.some(({validHandleResult:w})=>w.isValid),p=f.some(({handle:w})=>w.type==="target");return f.find(({handle:w,validHandleResult:v})=>p?w.type==="target":m?v.isValid:!0)||f[0]}const z8={source:null,target:null,sourceHandle:null,targetHandle:null},$k=()=>({handleDomNode:null,isValid:!1,connection:z8,endHandle:null});function Lk(e,n,r,o,s,i,a){const l=s==="target",c=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...$k(),handleDomNode:c};if(c){const f=L0(void 0,c),d=c.getAttribute("data-nodeid"),m=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),w=c.classList.contains("connectableend"),v={source:l?d:r,sourceHandle:l?m:o,target:l?r:d,targetHandle:l?o:m};u.connection=v,p&&w&&(n===ji.Strict?l&&f==="source"||!l&&f==="target":d!==r||m!==o)&&(u.endHandle={nodeId:d,handleId:m,type:f},u.isValid=i(v))}return u}function F8({nodes:e,nodeId:n,handleId:r,handleType:o}){return e.reduce((s,i)=>{if(i[It]){const{handleBounds:a}=i[It];let l=[],c=[];a&&(l=Gw(i,a,"source",`${n}-${r}-${o}`),c=Gw(i,a,"target",`${n}-${r}-${o}`)),s.push(...l,...c)}return s},[])}function L0(e,n){return e||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function Rp(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function U8(e,n){let r=null;return n?r="valid":e&&!n&&(r="invalid"),r}function zk({event:e,handleId:n,nodeId:r,onConnect:o,isTarget:s,getState:i,setState:a,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const f=Ck(e.target),{connectionMode:d,domNode:m,autoPanOnConnect:p,connectionRadius:w,onConnectStart:v,panBy:b,getNodes:y,cancelConnection:x}=i();let S=0,_;const{x:C,y:k}=Rs(e),N=f==null?void 0:f.elementFromPoint(C,k),A=L0(c,N),T=m==null?void 0:m.getBoundingClientRect();if(!T||!A)return;let P,O=Rs(e,T),D=!1,F=null,E=!1,L=null;const R=F8({nodes:y(),nodeId:r,handleId:n,handleType:A}),W=()=>{if(!p)return;const[H,M]=_k(O,T);b({x:H,y:M}),S=requestAnimationFrame(W)};a({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:A,connectionStartHandle:{nodeId:r,handleId:n,type:A},connectionEndHandle:null}),v==null||v(e,{nodeId:r,handleId:n,handleType:A});function I(H){const{transform:M}=i();O=Rs(H,T);const{handle:$,validHandleResult:Y}=L8(H,f,Og(O,M,!1,[1,1]),w,R,q=>Lk(q,d,r,n,s?"target":"source",l,f));if(_=$,D||(W(),D=!0),L=Y.handleDomNode,F=Y.connection,E=Y.isValid,a({connectionPosition:_&&E?Rk({x:_.x,y:_.y},M):O,connectionStatus:U8(!!_,E),connectionEndHandle:Y.endHandle}),!_&&!E&&!L)return Rp(P);F.source!==F.target&&L&&(Rp(P),P=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",E),L.classList.toggle("react-flow__handle-valid",E))}function j(H){var M,$;(_||L)&&F&&E&&(o==null||o(F)),($=(M=i()).onConnectEnd)==null||$.call(M,H),c&&(u==null||u(H)),Rp(P),x(),cancelAnimationFrame(S),D=!1,E=!1,F=null,L=null,f.removeEventListener("mousemove",I),f.removeEventListener("mouseup",j),f.removeEventListener("touchmove",I),f.removeEventListener("touchend",j)}f.addEventListener("mousemove",I),f.addEventListener("mouseup",j),f.addEventListener("touchmove",I),f.addEventListener("touchend",j)}const Yw=()=>!0,H8=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),B8=(e,n,r)=>o=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=o;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===n&&(s==null?void 0:s.type)===r||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===n&&(i==null?void 0:i.type)===r,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===n&&(a==null?void 0:a.type)===r}},Fk=g.forwardRef(({type:e="source",position:n=Te.Top,isValidConnection:r,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:l,children:c,className:u,onMouseDown:f,onTouchStart:d,...m},p)=>{var T,P;const w=a||null,v=e==="target",b=Wt(),y=R8(),{connectOnClick:x,noPanClassName:S}=pt(H8,Hn),{connecting:_,clickConnecting:C}=pt(B8(y,w,e),Hn);y||(P=(T=b.getState()).onError)==null||P.call(T,"010",Wo.error010());const k=O=>{const{defaultEdgeOptions:D,onConnect:F,hasDefaultEdges:E}=b.getState(),L={...D,...O};if(E){const{edges:R,setEdges:W}=b.getState();W($8(L,R))}F==null||F(L),l==null||l(L)},N=O=>{if(!y)return;const D=Ak(O);s&&(D&&O.button===0||!D)&&zk({event:O,handleId:w,nodeId:y,onConnect:k,isTarget:v,getState:b.getState,setState:b.setState,isValidConnection:r||b.getState().isValidConnection||Yw}),D?f==null||f(O):d==null||d(O)},A=O=>{const{onClickConnectStart:D,onClickConnectEnd:F,connectionClickStartHandle:E,connectionMode:L,isValidConnection:R}=b.getState();if(!y||!E&&!s)return;if(!E){D==null||D(O,{nodeId:y,handleId:w,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:w}});return}const W=Ck(O.target),I=r||R||Yw,{connection:j,isValid:H}=Lk({nodeId:y,id:w,type:e},L,E.nodeId,E.handleId||null,E.type,I,W);H&&k(j),F==null||F(O),b.setState({connectionClickStartHandle:null})};return z.createElement("div",{"data-handleid":w,"data-nodeid":y,"data-handlepos":n,"data-id":`${y}-${w}-${e}`,className:on(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",S,u,{source:!v,target:v,connectable:o,connectablestart:s,connectableend:i,connecting:C,connectionindicator:o&&(s&&!_||i&&_)}]),onMouseDown:N,onTouchStart:N,onClick:x?A:void 0,ref:p,...m},c)});Fk.displayName="Handle";var Pi=g.memo(Fk);const Uk=({data:e,isConnectable:n,targetPosition:r=Te.Top,sourcePosition:o=Te.Bottom})=>z.createElement(z.Fragment,null,z.createElement(Pi,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label,z.createElement(Pi,{type:"source",position:o,isConnectable:n}));Uk.displayName="DefaultNode";var Dg=g.memo(Uk);const Hk=({data:e,isConnectable:n,sourcePosition:r=Te.Bottom})=>z.createElement(z.Fragment,null,e==null?void 0:e.label,z.createElement(Pi,{type:"source",position:r,isConnectable:n}));Hk.displayName="InputNode";var Bk=g.memo(Hk);const Vk=({data:e,isConnectable:n,targetPosition:r=Te.Top})=>z.createElement(z.Fragment,null,z.createElement(Pi,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label);Vk.displayName="OutputNode";var Wk=g.memo(Vk);const z0=()=>null;z0.displayName="GroupNode";const V8=e=>({selectedNodes:e.getNodes().filter(n=>n.selected),selectedEdges:e.edges.filter(n=>n.selected).map(n=>({...n}))}),Zu=e=>e.id;function W8(e,n){return Hn(e.selectedNodes.map(Zu),n.selectedNodes.map(Zu))&&Hn(e.selectedEdges.map(Zu),n.selectedEdges.map(Zu))}const qk=g.memo(({onSelectionChange:e})=>{const n=Wt(),{selectedNodes:r,selectedEdges:o}=pt(V8,W8);return g.useEffect(()=>{const s={nodes:r,edges:o};e==null||e(s),n.getState().onSelectionChange.forEach(i=>i(s))},[r,o,e]),null});qk.displayName="SelectionListener";const q8=e=>!!e.onSelectionChange;function G8({onSelectionChange:e}){const n=pt(q8);return e||n?z.createElement(qk,{onSelectionChange:e}):null}const Y8=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Hi(e,n){g.useEffect(()=>{typeof e<"u"&&n(e)},[e])}function Ke(e,n,r){g.useEffect(()=>{typeof n<"u"&&r({[e]:n})},[n])}const K8=({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:f,nodesFocusable:d,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:w,minZoom:v,maxZoom:b,nodeExtent:y,onNodesChange:x,onEdgesChange:S,elementsSelectable:_,connectionMode:C,snapGrid:k,snapToGrid:N,translateExtent:A,connectOnClick:T,defaultEdgeOptions:P,fitView:O,fitViewOptions:D,onNodesDelete:F,onEdgesDelete:E,onNodeDrag:L,onNodeDragStart:R,onNodeDragStop:W,onSelectionDrag:I,onSelectionDragStart:j,onSelectionDragStop:H,noPanClassName:M,nodeOrigin:$,rfId:Y,autoPanOnConnect:q,autoPanOnNodeDrag:Z,onError:ce,connectionRadius:X,isValidConnection:pe,nodeDragThreshold:ne})=>{const{setNodes:ie,setEdges:le,setDefaultNodesAndEdges:ye,setMinZoom:Pe,setMaxZoom:ve,setTranslateExtent:re,setNodeExtent:Se,reset:_e}=pt(Y8,Hn),ee=Wt();return g.useEffect(()=>{const De=o==null?void 0:o.map(Be=>({...Be,...P}));return ye(r,De),()=>{_e()}},[]),Ke("defaultEdgeOptions",P,ee.setState),Ke("connectionMode",C,ee.setState),Ke("onConnect",s,ee.setState),Ke("onConnectStart",i,ee.setState),Ke("onConnectEnd",a,ee.setState),Ke("onClickConnectStart",l,ee.setState),Ke("onClickConnectEnd",c,ee.setState),Ke("nodesDraggable",u,ee.setState),Ke("nodesConnectable",f,ee.setState),Ke("nodesFocusable",d,ee.setState),Ke("edgesFocusable",m,ee.setState),Ke("edgesUpdatable",p,ee.setState),Ke("elementsSelectable",_,ee.setState),Ke("elevateNodesOnSelect",w,ee.setState),Ke("snapToGrid",N,ee.setState),Ke("snapGrid",k,ee.setState),Ke("onNodesChange",x,ee.setState),Ke("onEdgesChange",S,ee.setState),Ke("connectOnClick",T,ee.setState),Ke("fitViewOnInit",O,ee.setState),Ke("fitViewOnInitOptions",D,ee.setState),Ke("onNodesDelete",F,ee.setState),Ke("onEdgesDelete",E,ee.setState),Ke("onNodeDrag",L,ee.setState),Ke("onNodeDragStart",R,ee.setState),Ke("onNodeDragStop",W,ee.setState),Ke("onSelectionDrag",I,ee.setState),Ke("onSelectionDragStart",j,ee.setState),Ke("onSelectionDragStop",H,ee.setState),Ke("noPanClassName",M,ee.setState),Ke("nodeOrigin",$,ee.setState),Ke("rfId",Y,ee.setState),Ke("autoPanOnConnect",q,ee.setState),Ke("autoPanOnNodeDrag",Z,ee.setState),Ke("onError",ce,ee.setState),Ke("connectionRadius",X,ee.setState),Ke("isValidConnection",pe,ee.setState),Ke("nodeDragThreshold",ne,ee.setState),Hi(e,ie),Hi(n,le),Hi(v,Pe),Hi(b,ve),Hi(A,re),Hi(y,Se),null},Kw={display:"none"},X8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Gk="react-flow__node-desc",Yk="react-flow__edge-desc",Q8="react-flow__aria-live",Z8=e=>e.ariaLiveMessage;function J8({rfId:e}){const n=pt(Z8);return z.createElement("div",{id:`${Q8}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:X8},n)}function ez({rfId:e,disableKeyboardA11y:n}){return z.createElement(z.Fragment,null,z.createElement("div",{id:`${Gk}-${e}`,style:Kw},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),z.createElement("div",{id:`${Yk}-${e}`,style:Kw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&z.createElement(J8,{rfId:e}))}var Hc=(e=null,n={actInsideInputWithModifier:!0})=>{const[r,o]=g.useState(!1),s=g.useRef(!1),i=g.useRef(new Set([])),[a,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),f=u.reduce((d,m)=>d.concat(...m),[]);return[u,f]}return[[],[]]},[e]);return g.useEffect(()=>{const c=typeof document<"u"?document:null,u=(n==null?void 0:n.target)||c;if(e!==null){const f=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!n.actInsideInputWithModifier)&&Mg(p))return!1;const v=Qw(p.code,l);i.current.add(p[v]),Xw(a,i.current,!1)&&(p.preventDefault(),o(!0))},d=p=>{if((!s.current||s.current&&!n.actInsideInputWithModifier)&&Mg(p))return!1;const v=Qw(p.code,l);Xw(a,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(p[v]),p.key==="Meta"&&i.current.clear(),s.current=!1},m=()=>{i.current.clear(),o(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",m),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",m)}}},[e,o]),r};function Xw(e,n,r){return e.filter(o=>r||o.length===n.size).some(o=>o.every(s=>n.has(s)))}function Qw(e,n){return n.includes(e)?"code":"key"}function Kk(e,n,r,o){var l,c;const s=e.parentNode||e.parentId;if(!s)return r;const i=n.get(s),a=vi(i,o);return Kk(i,n,{x:(r.x??0)+a.x,y:(r.y??0)+a.y,z:(((l=i[It])==null?void 0:l.z)??0)>(r.z??0)?((c=i[It])==null?void 0:c.z)??0:r.z??0},o)}function Xk(e,n,r){e.forEach(o=>{var i;const s=o.parentNode||o.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r!=null&&r[o.id]){const{x:a,y:l,z:c}=Kk(o,e,{...o.position,z:((i=o[It])==null?void 0:i.z)??0},n);o.positionAbsolute={x:a,y:l},o[It].z=c,r!=null&&r[o.id]&&(o[It].isParent=!0)}})}function Ip(e,n,r,o){const s=new Map,i={},a=o?1e3:0;return e.forEach(l=>{var p;const c=(vr(l.zIndex)?l.zIndex:0)+(l.selected?a:0),u=n.get(l.id),f={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(i[d]=!0);const m=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(f,It,{enumerable:!1,value:{handleBounds:m||(p=u==null?void 0:u[It])==null?void 0:p.handleBounds,z:c}}),s.set(l.id,f)}),Xk(s,r,i),s}function Qk(e,n={}){const{getNodes:r,width:o,height:s,minZoom:i,maxZoom:a,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:d}=e(),m=n.initial&&!u&&f;if(l&&c&&(m||!n.initial)){const w=r().filter(b=>{var x;const y=n.includeHiddenNodes?b.width&&b.height:!b.hidden;return(x=n.nodes)!=null&&x.length?y&&n.nodes.some(S=>S.id===b.id):y}),v=w.every(b=>b.width&&b.height);if(w.length>0&&v){const b=xh(w,d),{x:y,y:x,zoom:S}=Dk(b,o,s,n.minZoom??i,n.maxZoom??a,n.padding??.1),_=lo.translate(y,x).scale(S);return typeof n.duration=="number"&&n.duration>0?l.transform(Zs(c,n.duration),_):l.transform(c,_),!0}}return!1}function tz(e,n){return e.forEach(r=>{const o=n.get(r.id);o&&n.set(o.id,{...o,[It]:o[It],selected:r.selected})}),new Map(n)}function nz(e,n){return n.map(r=>{const o=e.find(s=>s.id===r.id);return o&&(r.selected=o.selected),r})}function Ju({changedNodes:e,changedEdges:n,get:r,set:o}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&o({nodeInternals:tz(e,s)}),a==null||a(e)),n!=null&&n.length&&(u&&o({edges:nz(n,i)}),l==null||l(n))}const Bi=()=>{},rz={zoomIn:Bi,zoomOut:Bi,zoomTo:Bi,getZoom:()=>1,setViewport:Bi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Bi,fitBounds:Bi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},oz=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),sz=()=>{const e=Wt(),{d3Zoom:n,d3Selection:r}=pt(oz,Hn);return g.useMemo(()=>r&&n?{zoomIn:s=>n.scaleBy(Zs(r,s==null?void 0:s.duration),1.2),zoomOut:s=>n.scaleBy(Zs(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>n.scaleTo(Zs(r,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[a,l,c]=e.getState().transform,u=lo.translate(s.x??a,s.y??l).scale(s.zoom??c);n.transform(Zs(r,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,a]=e.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>Qk(e.getState,s),setCenter:(s,i,a)=>{const{width:l,height:c,maxZoom:u}=e.getState(),f=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:u,d=l/2-s*f,m=c/2-i*f,p=lo.translate(d,m).scale(f);n.transform(Zs(r,a==null?void 0:a.duration),p)},fitBounds:(s,i)=>{const{width:a,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:f,y:d,zoom:m}=Dk(s,a,l,c,u,(i==null?void 0:i.padding)??.1),p=lo.translate(f,d).scale(m);n.transform(Zs(r,i==null?void 0:i.duration),p)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Og(s,i,a,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:u,y:f}=c.getBoundingClientRect(),d={x:s.x-u,y:s.y-f};return Og(d,i,a,l)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=e.getState();if(!a)return s;const{x:l,y:c}=a.getBoundingClientRect(),u=Rk(s,i);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:rz,[n,r])};function F0(){const e=sz(),n=Wt(),r=g.useCallback(()=>n.getState().getNodes().map(v=>({...v})),[]),o=g.useCallback(v=>n.getState().nodeInternals.get(v),[]),s=g.useCallback(()=>{const{edges:v=[]}=n.getState();return v.map(b=>({...b}))},[]),i=g.useCallback(v=>{const{edges:b=[]}=n.getState();return b.find(y=>y.id===v)},[]),a=g.useCallback(v=>{const{getNodes:b,setNodes:y,hasDefaultNodes:x,onNodesChange:S}=n.getState(),_=b(),C=typeof v=="function"?v(_):v;if(x)y(C);else if(S){const k=C.length===0?_.map(N=>({type:"remove",id:N.id})):C.map(N=>({item:N,type:"reset"}));S(k)}},[]),l=g.useCallback(v=>{const{edges:b=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:S}=n.getState(),_=typeof v=="function"?v(b):v;if(x)y(_);else if(S){const C=_.length===0?b.map(k=>({type:"remove",id:k.id})):_.map(k=>({item:k,type:"reset"}));S(C)}},[]),c=g.useCallback(v=>{const b=Array.isArray(v)?v:[v],{getNodes:y,setNodes:x,hasDefaultNodes:S,onNodesChange:_}=n.getState();if(S){const k=[...y(),...b];x(k)}else if(_){const C=b.map(k=>({item:k,type:"add"}));_(C)}},[]),u=g.useCallback(v=>{const b=Array.isArray(v)?v:[v],{edges:y=[],setEdges:x,hasDefaultEdges:S,onEdgesChange:_}=n.getState();if(S)x([...y,...b]);else if(_){const C=b.map(k=>({item:k,type:"add"}));_(C)}},[]),f=g.useCallback(()=>{const{getNodes:v,edges:b=[],transform:y}=n.getState(),[x,S,_]=y;return{nodes:v().map(C=>({...C})),edges:b.map(C=>({...C})),viewport:{x,y:S,zoom:_}}},[]),d=g.useCallback(({nodes:v,edges:b})=>{const{nodeInternals:y,getNodes:x,edges:S,hasDefaultNodes:_,hasDefaultEdges:C,onNodesDelete:k,onEdgesDelete:N,onNodesChange:A,onEdgesChange:T}=n.getState(),P=(v||[]).map(L=>L.id),O=(b||[]).map(L=>L.id),D=x().reduce((L,R)=>{const W=R.parentNode||R.parentId,I=!P.includes(R.id)&&W&&L.find(H=>H.id===W);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(P.includes(R.id)||I)&&L.push(R),L},[]),F=S.filter(L=>typeof L.deletable=="boolean"?L.deletable:!0),E=F.filter(L=>O.includes(L.id));if(D||E){const L=Ok(D,F),R=[...E,...L],W=R.reduce((I,j)=>(I.includes(j.id)||I.push(j.id),I),[]);if((C||_)&&(C&&n.setState({edges:S.filter(I=>!W.includes(I.id))}),_&&(D.forEach(I=>{y.delete(I.id)}),n.setState({nodeInternals:new Map(y)}))),W.length>0&&(N==null||N(R),T&&T(W.map(I=>({id:I,type:"remove"})))),D.length>0&&(k==null||k(D),A)){const I=D.map(j=>({id:j.id,type:"remove"}));A(I)}}},[]),m=g.useCallback(v=>{const b=k8(v),y=b?null:n.getState().nodeInternals.get(v.id);return!b&&!y?[null,null,b]:[b?v:Hw(y),y,b]},[]),p=g.useCallback((v,b=!0,y)=>{const[x,S,_]=m(v);return x?(y||n.getState().getNodes()).filter(C=>{if(!_&&(C.id===S.id||!C.positionAbsolute))return!1;const k=Hw(C),N=Pg(k,x);return b&&N>0||N>=x.width*x.height}):[]},[]),w=g.useCallback((v,b,y=!0)=>{const[x]=m(v);if(!x)return!1;const S=Pg(x,b);return y&&S>0||S>=x.width*x.height},[]);return g.useMemo(()=>({...e,getNodes:r,getNode:o,getEdges:s,getEdge:i,setNodes:a,setEdges:l,addNodes:c,addEdges:u,toObject:f,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:w}),[e,r,o,s,i,a,l,c,u,f,d,p,w])}const iz={actInsideInputWithModifier:!1};var az=({deleteKeyCode:e,multiSelectionKeyCode:n})=>{const r=Wt(),{deleteElements:o}=F0(),s=Hc(e,iz),i=Hc(n);g.useEffect(()=>{if(s){const{edges:a,getNodes:l}=r.getState(),c=l().filter(f=>f.selected),u=a.filter(f=>f.selected);o({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[s]),g.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])};function lz(e){const n=Wt();g.useEffect(()=>{let r;const o=()=>{var i,a;if(!e.current)return;const s=M0(e.current);(s.height===0||s.width===0)&&((a=(i=n.getState()).onError)==null||a.call(i,"004",Wo.error004())),n.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),e.current&&(r=new ResizeObserver(()=>o()),r.observe(e.current)),()=>{window.removeEventListener("resize",o),r&&e.current&&r.unobserve(e.current)}},[])}const U0={position:"absolute",width:"100%",height:"100%",top:0,left:0},cz=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,ed=e=>({x:e.x,y:e.y,zoom:e.k}),Vi=(e,n)=>e.target.closest(`.${n}`),Zw=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),Jw=e=>{const n=e.ctrlKey&&Sf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n},uz=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),dz=({onMove:e,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=oi.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:d=!0,defaultViewport:m,translateExtent:p,minZoom:w,maxZoom:v,zoomActivationKeyCode:b,preventScrolling:y=!0,children:x,noWheelClassName:S,noPanClassName:_})=>{const C=g.useRef(),k=Wt(),N=g.useRef(!1),A=g.useRef(!1),T=g.useRef(null),P=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:D,d3ZoomHandler:F,userSelectionActive:E}=pt(uz,Hn),L=Hc(b),R=g.useRef(0),W=g.useRef(!1),I=g.useRef();return lz(T),g.useEffect(()=>{if(T.current){const j=T.current.getBoundingClientRect(),H=j0().scaleExtent([w,v]).translateExtent(p),M=Cn(T.current).call(H),$=lo.translate(m.x,m.y).scale(Xa(m.zoom,w,v)),Y=[[0,0],[j.width,j.height]],q=H.constrain()($,Y,p);H.transform(M,q),H.wheelDelta(Jw),k.setState({d3Zoom:H,d3Selection:M,d3ZoomHandler:M.on("wheel.zoom"),transform:[q.x,q.y,q.k],domNode:T.current.closest(".react-flow")})}},[]),g.useEffect(()=>{D&&O&&(a&&!L&&!E?D.on("wheel.zoom",j=>{if(Vi(j,S))return!1;j.preventDefault(),j.stopImmediatePropagation();const H=D.property("__zoom").k||1;if(j.ctrlKey&&i){const pe=fr(j),ne=Jw(j),ie=H*Math.pow(2,ne);O.scaleTo(D,ie,pe,j);return}const M=j.deltaMode===1?20:1;let $=c===oi.Vertical?0:j.deltaX*M,Y=c===oi.Horizontal?0:j.deltaY*M;!Sf()&&j.shiftKey&&c!==oi.Vertical&&($=j.deltaY*M,Y=0),O.translateBy(D,-($/H)*l,-(Y/H)*l,{internal:!0});const q=ed(D.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:ce,onViewportChangeEnd:X}=k.getState();clearTimeout(I.current),W.current||(W.current=!0,n==null||n(j,q),Z==null||Z(q)),W.current&&(e==null||e(j,q),ce==null||ce(q),I.current=setTimeout(()=>{r==null||r(j,q),X==null||X(q),W.current=!1},150))},{passive:!1}):typeof F<"u"&&D.on("wheel.zoom",function(j,H){if(!y&&j.type==="wheel"&&!j.ctrlKey||Vi(j,S))return null;j.preventDefault(),F.call(this,j,H)},{passive:!1}))},[E,a,c,D,O,F,L,i,y,S,n,e,r]),g.useEffect(()=>{O&&O.on("start",j=>{var $,Y;if(!j.sourceEvent||j.sourceEvent.internal)return null;R.current=($=j.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:H}=k.getState(),M=ed(j.transform);N.current=!0,P.current=M,((Y=j.sourceEvent)==null?void 0:Y.type)==="mousedown"&&k.setState({paneDragging:!0}),H==null||H(M),n==null||n(j.sourceEvent,M)})},[O,n]),g.useEffect(()=>{O&&(E&&!N.current?O.on("zoom",null):E||O.on("zoom",j=>{var M;const{onViewportChange:H}=k.getState();if(k.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),A.current=!!(o&&Zw(d,R.current??0)),(e||H)&&!((M=j.sourceEvent)!=null&&M.internal)){const $=ed(j.transform);H==null||H($),e==null||e(j.sourceEvent,$)}}))},[E,O,e,d,o]),g.useEffect(()=>{O&&O.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:H}=k.getState();if(N.current=!1,k.setState({paneDragging:!1}),o&&Zw(d,R.current??0)&&!A.current&&o(j.sourceEvent),A.current=!1,(r||H)&&cz(P.current,j.transform)){const M=ed(j.transform);P.current=M,clearTimeout(C.current),C.current=setTimeout(()=>{H==null||H(M),r==null||r(j.sourceEvent,M)},a?150:0)}})},[O,a,d,r,o]),g.useEffect(()=>{O&&O.filter(j=>{const H=L||s,M=i&&j.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&j.button===1&&j.type==="mousedown"&&(Vi(j,"react-flow__node")||Vi(j,"react-flow__edge")))return!0;if(!d&&!H&&!a&&!u&&!i||E||!u&&j.type==="dblclick"||Vi(j,S)&&j.type==="wheel"||Vi(j,_)&&(j.type!=="wheel"||a&&j.type==="wheel"&&!L)||!i&&j.ctrlKey&&j.type==="wheel"||!H&&!a&&!M&&j.type==="wheel"||!d&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(d)&&!d.includes(j.button)&&j.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&$})},[E,O,s,i,a,u,d,f,L]),z.createElement("div",{className:"react-flow__renderer",ref:T,style:U0},x)},fz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function hz(){const{userSelectionActive:e,userSelectionRect:n}=pt(fz,Hn);return e&&n?z.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function e1(e,n){const r=n.parentNode||n.parentId,o=e.find(s=>s.id===r);if(o){const s=n.position.x+n.width-o.width,i=n.position.y+n.height-o.height;if(s>0||i>0||n.position.x<0||n.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),i>0&&(o.style.height+=i),n.position.x<0){const a=Math.abs(n.position.x);o.position.x=o.position.x-a,o.style.width+=a,n.position.x=0}if(n.position.y<0){const a=Math.abs(n.position.y);o.position.y=o.position.y-a,o.style.height+=a,n.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function pz(e,n){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const r=e.filter(o=>o.type==="add").map(o=>o.item);return n.reduce((o,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return o.push(s),o;const a={...s};for(const l of i)if(l)switch(l.type){case"select":{a.selected=l.selected;break}case"position":{typeof l.position<"u"&&(a.position=l.position),typeof l.positionAbsolute<"u"&&(a.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(a.dragging=l.dragging),a.expandParent&&e1(o,a);break}case"dimensions":{typeof l.dimensions<"u"&&(a.width=l.dimensions.width,a.height=l.dimensions.height),typeof l.updateStyle<"u"&&(a.style={...a.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(a.resizing=l.resizing),a.expandParent&&e1(o,a);break}case"remove":return o}return o.push(a),o},r)}function mz(e,n){return pz(e,n)}const ss=(e,n)=>({id:e,type:"select",selected:n});function ua(e,n){return e.reduce((r,o)=>{const s=n.includes(o.id);return!o.selected&&s?(o.selected=!0,r.push(ss(o.id,!0))):o.selected&&!s&&(o.selected=!1,r.push(ss(o.id,!1))),r},[])}const Op=(e,n)=>r=>{r.target===n.current&&(e==null||e(r))},gz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Zk=g.memo(({isSelecting:e,selectionMode:n=Uc.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:f,children:d})=>{const m=g.useRef(null),p=Wt(),w=g.useRef(0),v=g.useRef(0),b=g.useRef(),{userSelectionActive:y,elementsSelectable:x,dragging:S}=pt(gz,Hn),_=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,v.current=0},C=F=>{i==null||i(F),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=F=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){F.preventDefault();return}a==null||a(F)},N=l?F=>l(F):void 0,A=F=>{const{resetSelectedElements:E,domNode:L}=p.getState();if(b.current=L==null?void 0:L.getBoundingClientRect(),!x||!e||F.button!==0||F.target!==m.current||!b.current)return;const{x:R,y:W}=Rs(F,b.current);E(),p.setState({userSelectionRect:{width:0,height:0,startX:R,startY:W,x:R,y:W}}),o==null||o(F)},T=F=>{const{userSelectionRect:E,nodeInternals:L,edges:R,transform:W,onNodesChange:I,onEdgesChange:j,nodeOrigin:H,getNodes:M}=p.getState();if(!e||!b.current||!E)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Rs(F,b.current),Y=E.startX??0,q=E.startY??0,Z={...E,x:$.x<Y?$.x:Y,y:$.y<q?$.y:q,width:Math.abs($.x-Y),height:Math.abs($.y-q)},ce=M(),X=Ik(L,Z,W,n===Uc.Partial,!0,H),pe=Ok(X,R).map(ie=>ie.id),ne=X.map(ie=>ie.id);if(w.current!==ne.length){w.current=ne.length;const ie=ua(ce,ne);ie.length&&(I==null||I(ie))}if(v.current!==pe.length){v.current=pe.length;const ie=ua(R,pe);ie.length&&(j==null||j(ie))}p.setState({userSelectionRect:Z})},P=F=>{if(F.button!==0)return;const{userSelectionRect:E}=p.getState();!y&&E&&F.target===m.current&&(C==null||C(F)),p.setState({nodesSelectionActive:w.current>0}),_(),s==null||s(F)},O=F=>{y&&(p.setState({nodesSelectionActive:w.current>0}),s==null||s(F)),_()},D=x&&(e||y);return z.createElement("div",{className:on(["react-flow__pane",{dragging:S,selection:e}]),onClick:D?void 0:Op(C,m),onContextMenu:Op(k,m),onWheel:Op(N,m),onMouseEnter:D?void 0:c,onMouseDown:D?A:void 0,onMouseMove:D?T:u,onMouseUp:D?P:void 0,onMouseLeave:D?O:f,ref:m,style:U0},d,z.createElement(hz,null))});Zk.displayName="Pane";function Jk(e,n){const r=e.parentNode||e.parentId;if(!r)return!1;const o=n.get(r);return o?o.selected?!0:Jk(o,n):!1}function t1(e,n,r){let o=e;do{if(o!=null&&o.matches(n))return!0;if(o===r.current)return!1;o=o.parentElement}while(o);return!1}function yz(e,n,r,o){return Array.from(e.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!Jk(s,e))&&(s.draggable||n&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:r.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function vz(e,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(e.width||0),n[1][1]-(e.height||0)]]}function eN(e,n,r,o,s=[0,0],i){const a=vz(e,e.extent||o);let l=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const d=r.get(c),{x:m,y:p}=vi(d,s).positionAbsolute;l=d&&vr(m)&&vr(p)&&vr(d.width)&&vr(d.height)?[[m+e.width*s[0],p+e.height*s[1]],[m+d.width-e.width+e.width*s[0],p+d.height-e.height+e.height*s[1]]]:l}else i==null||i("005",Wo.error005()),l=a;else if(e.extent&&c&&e.extent!=="parent"){const d=r.get(c),{x:m,y:p}=vi(d,s).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+p],[e.extent[1][0]+m,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const d=r.get(c);u=vi(d,s).positionAbsolute}const f=l&&l!=="parent"?R0(n,l):n;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Dp({nodeId:e,dragItems:n,nodeInternals:r}){const o=n.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?o.find(s=>s.id===e):o[0],o]}const n1=(e,n,r,o)=>{const s=n.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),a=n.getBoundingClientRect(),l={x:a.width*o[0],y:a.height*o[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-a.left-l.x)/r,y:(u.top-a.top-l.y)/r,...M0(c)}})};function El(e,n,r){return r===void 0?r:o=>{const s=n().nodeInternals.get(e);s&&r(o,{...s})}}function $g({id:e,store:n,unselect:r=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:l,onError:c}=n.getState(),u=l.get(e);if(!u){c==null||c("012",Wo.error012(e));return}n.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=o==null?void 0:o.current)==null?void 0:f.blur()})):s([e])}function xz(){const e=Wt();return g.useCallback(({sourceEvent:r})=>{const{transform:o,snapGrid:s,snapToGrid:i}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,c={x:(a-o[0])/o[2],y:(l-o[1])/o[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function $p(e){return(n,r,o)=>e==null?void 0:e(n,o)}function tN({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const l=Wt(),[c,u]=g.useState(!1),f=g.useRef([]),d=g.useRef({x:null,y:null}),m=g.useRef(0),p=g.useRef(null),w=g.useRef({x:0,y:0}),v=g.useRef(null),b=g.useRef(!1),y=g.useRef(!1),x=g.useRef(!1),S=xz();return g.useEffect(()=>{if(e!=null&&e.current){const _=Cn(e.current),C=({x:A,y:T})=>{const{nodeInternals:P,onNodeDrag:O,onSelectionDrag:D,updateNodePositions:F,nodeExtent:E,snapGrid:L,snapToGrid:R,nodeOrigin:W,onError:I}=l.getState();d.current={x:A,y:T};let j=!1,H={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&E){const $=xh(f.current,W);H=Fc($)}if(f.current=f.current.map($=>{const Y={x:A-$.distance.x,y:T-$.distance.y};R&&(Y.x=L[0]*Math.round(Y.x/L[0]),Y.y=L[1]*Math.round(Y.y/L[1]));const q=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];f.current.length>1&&E&&!$.extent&&(q[0][0]=$.positionAbsolute.x-H.x+E[0][0],q[1][0]=$.positionAbsolute.x+($.width??0)-H.x2+E[1][0],q[0][1]=$.positionAbsolute.y-H.y+E[0][1],q[1][1]=$.positionAbsolute.y+($.height??0)-H.y2+E[1][1]);const Z=eN($,Y,P,q,W,I);return j=j||$.position.x!==Z.position.x||$.position.y!==Z.position.y,$.position=Z.position,$.positionAbsolute=Z.positionAbsolute,$}),!j)return;F(f.current,!0,!0),u(!0);const M=s?O:$p(D);if(M&&v.current){const[$,Y]=Dp({nodeId:s,dragItems:f.current,nodeInternals:P});M(v.current,$,Y)}},k=()=>{if(!p.current)return;const[A,T]=_k(w.current,p.current);if(A!==0||T!==0){const{transform:P,panBy:O}=l.getState();d.current.x=(d.current.x??0)-A/P[2],d.current.y=(d.current.y??0)-T/P[2],O({x:A,y:T})&&C(d.current)}m.current=requestAnimationFrame(k)},N=A=>{var W;const{nodeInternals:T,multiSelectionActive:P,nodesDraggable:O,unselectNodesAndEdges:D,onNodeDragStart:F,onSelectionDragStart:E}=l.getState();y.current=!0;const L=s?F:$p(E);(!a||!i)&&!P&&s&&((W=T.get(s))!=null&&W.selected||D()),s&&i&&a&&$g({id:s,store:l,nodeRef:e});const R=S(A);if(d.current=R,f.current=yz(T,O,R,s),L&&f.current){const[I,j]=Dp({nodeId:s,dragItems:f.current,nodeInternals:T});L(A.sourceEvent,I,j)}};if(n)_.on(".drag",null);else{const A=ck().on("start",T=>{const{domNode:P,nodeDragThreshold:O}=l.getState();O===0&&N(T),x.current=!1;const D=S(T);d.current=D,p.current=(P==null?void 0:P.getBoundingClientRect())||null,w.current=Rs(T.sourceEvent,p.current)}).on("drag",T=>{var F,E;const P=S(T),{autoPanOnNodeDrag:O,nodeDragThreshold:D}=l.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!b.current&&y.current&&O&&(b.current=!0,k()),!y.current){const L=P.xSnapped-(((F=d==null?void 0:d.current)==null?void 0:F.x)??0),R=P.ySnapped-(((E=d==null?void 0:d.current)==null?void 0:E.y)??0);Math.sqrt(L*L+R*R)>D&&N(T)}(d.current.x!==P.xSnapped||d.current.y!==P.ySnapped)&&f.current&&y.current&&(v.current=T.sourceEvent,w.current=Rs(T.sourceEvent,p.current),C(P))}}).on("end",T=>{if(!(!y.current||x.current)&&(u(!1),b.current=!1,y.current=!1,cancelAnimationFrame(m.current),f.current)){const{updateNodePositions:P,nodeInternals:O,onNodeDragStop:D,onSelectionDragStop:F}=l.getState(),E=s?D:$p(F);if(P(f.current,!1,!1),E){const[L,R]=Dp({nodeId:s,dragItems:f.current,nodeInternals:O});E(T.sourceEvent,L,R)}}}).filter(T=>{const P=T.target;return!T.button&&(!r||!t1(P,`.${r}`,e))&&(!o||t1(P,o,e))});return _.call(A),()=>{_.on(".drag",null)}}}},[e,n,r,o,i,l,s,a,S]),c}function nN(){const e=Wt();return g.useCallback(r=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:f}=e.getState(),d=a().filter(x=>x.selected&&(x.draggable||f&&typeof x.draggable>"u")),m=l?c[0]:5,p=l?c[1]:5,w=r.isShiftPressed?4:1,v=r.x*m*w,b=r.y*p*w,y=d.map(x=>{if(x.positionAbsolute){const S={x:x.positionAbsolute.x+v,y:x.positionAbsolute.y+b};l&&(S.x=c[0]*Math.round(S.x/c[0]),S.y=c[1]*Math.round(S.y/c[1]));const{positionAbsolute:_,position:C}=eN(x,S,o,s,void 0,u);x.position=C,x.positionAbsolute=_}return x});i(y,!0,!1)},[])}const Sa={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Al=e=>{const n=({id:r,type:o,data:s,xPos:i,yPos:a,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:f,onMouseEnter:d,onMouseMove:m,onMouseLeave:p,onContextMenu:w,onDoubleClick:v,style:b,className:y,isDraggable:x,isSelectable:S,isConnectable:_,isFocusable:C,selectNodesOnDrag:k,sourcePosition:N,targetPosition:A,hidden:T,resizeObserver:P,dragHandle:O,zIndex:D,isParent:F,noDragClassName:E,noPanClassName:L,initialized:R,disableKeyboardA11y:W,ariaLabel:I,rfId:j,hasHandleBounds:H})=>{const M=Wt(),$=g.useRef(null),Y=g.useRef(null),q=g.useRef(N),Z=g.useRef(A),ce=g.useRef(o),X=S||x||f||d||m||p,pe=nN(),ne=El(r,M.getState,d),ie=El(r,M.getState,m),le=El(r,M.getState,p),ye=El(r,M.getState,w),Pe=El(r,M.getState,v),ve=_e=>{const{nodeDragThreshold:ee}=M.getState();if(S&&(!k||!x||ee>0)&&$g({id:r,store:M,nodeRef:$}),f){const De=M.getState().nodeInternals.get(r);De&&f(_e,{...De})}},re=_e=>{if(!Mg(_e)&&!W)if(Ek.includes(_e.key)&&S){const ee=_e.key==="Escape";$g({id:r,store:M,unselect:ee,nodeRef:$})}else x&&u&&Object.prototype.hasOwnProperty.call(Sa,_e.key)&&(M.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),pe({x:Sa[_e.key].x,y:Sa[_e.key].y,isShiftPressed:_e.shiftKey}))};g.useEffect(()=>()=>{Y.current&&(P==null||P.unobserve(Y.current),Y.current=null)},[]),g.useEffect(()=>{if($.current&&!T){const _e=$.current;(!R||!H||Y.current!==_e)&&(Y.current&&(P==null||P.unobserve(Y.current)),P==null||P.observe(_e),Y.current=_e)}},[T,R,H]),g.useEffect(()=>{const _e=ce.current!==o,ee=q.current!==N,De=Z.current!==A;$.current&&(_e||ee||De)&&(_e&&(ce.current=o),ee&&(q.current=N),De&&(Z.current=A),M.getState().updateNodeDimensions([{id:r,nodeElement:$.current,forceUpdate:!0}]))},[r,o,N,A]);const Se=tN({nodeRef:$,disabled:T||!x,noDragClassName:E,handleSelector:O,nodeId:r,isSelectable:S,selectNodesOnDrag:k});return T?null:z.createElement("div",{className:on(["react-flow__node",`react-flow__node-${o}`,{[L]:x},y,{selected:u,selectable:S,parent:F,dragging:Se}]),ref:$,style:{zIndex:D,transform:`translate(${l}px,${c}px)`,pointerEvents:X?"all":"none",visibility:R?"visible":"hidden",...b},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ne,onMouseMove:ie,onMouseLeave:le,onContextMenu:ye,onClick:ve,onDoubleClick:Pe,onKeyDown:C?re:void 0,tabIndex:C?0:void 0,role:C?"button":void 0,"aria-describedby":W?void 0:`${Gk}-${j}`,"aria-label":I},z.createElement(M8,{value:r},z.createElement(e,{id:r,data:s,type:o,xPos:i,yPos:a,selected:u,isConnectable:_,sourcePosition:N,targetPosition:A,dragging:Se,dragHandle:O,zIndex:D})))};return n.displayName="NodeWrapper",g.memo(n)};const wz=e=>{const n=e.getNodes().filter(r=>r.selected);return{...xh(n,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function bz({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const o=Wt(),{width:s,height:i,x:a,y:l,transformString:c,userSelectionActive:u}=pt(wz,Hn),f=nN(),d=g.useRef(null);if(g.useEffect(()=>{var w;r||(w=d.current)==null||w.focus({preventScroll:!0})},[r]),tN({nodeRef:d}),u||!s||!i)return null;const m=e?w=>{const v=o.getState().getNodes().filter(b=>b.selected);e(w,v)}:void 0,p=w=>{Object.prototype.hasOwnProperty.call(Sa,w.key)&&f({x:Sa[w.key].x,y:Sa[w.key].y,isShiftPressed:w.shiftKey})};return z.createElement("div",{className:on(["react-flow__nodesselection","react-flow__container",n]),style:{transform:c}},z.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:s,height:i,top:l,left:a}}))}var Sz=g.memo(bz);const _z=e=>e.nodesSelectionActive,rN=({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:f,selectionKeyCode:d,selectionOnDrag:m,selectionMode:p,onSelectionStart:w,onSelectionEnd:v,multiSelectionKeyCode:b,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:S,zoomOnScroll:_,zoomOnPinch:C,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:P,defaultViewport:O,translateExtent:D,minZoom:F,maxZoom:E,preventScrolling:L,onSelectionContextMenu:R,noWheelClassName:W,noPanClassName:I,disableKeyboardA11y:j})=>{const H=pt(_z),M=Hc(d),$=Hc(y),Y=$||P,q=$||k,Z=M||m&&Y!==!0;return az({deleteKeyCode:l,multiSelectionKeyCode:b}),z.createElement(dz,{onMove:c,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:i,elementsSelectable:S,zoomOnScroll:_,zoomOnPinch:C,panOnScroll:q,panOnScrollSpeed:N,panOnScrollMode:A,zoomOnDoubleClick:T,panOnDrag:!M&&Y,defaultViewport:O,translateExtent:D,minZoom:F,maxZoom:E,zoomActivationKeyCode:x,preventScrolling:L,noWheelClassName:W,noPanClassName:I},z.createElement(Zk,{onSelectionStart:w,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:Y,isSelecting:!!Z,selectionMode:p},e,H&&z.createElement(Sz,{onSelectionContextMenu:R,noPanClassName:I,disableKeyboardA11y:j})))};rN.displayName="FlowRenderer";var Cz=g.memo(rN);function kz(e){return pt(g.useCallback(r=>e?Ik(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Nz(e){const n={input:Al(e.input||Bk),default:Al(e.default||Dg),output:Al(e.output||Wk),group:Al(e.group||z0)},r={},o=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Al(e[i]||Dg),s),r);return{...n,...o}}const Ez=({x:e,y:n,width:r,height:o,origin:s})=>!r||!o?{x:e,y:n}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:n}:{x:e-r*s[0],y:n-o*s[1]},Az=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),oN=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:i,onError:a}=pt(Az,Hn),l=kz(e.onlyRenderVisibleElements),c=g.useRef(),u=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(d=>{const m=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(m)});return c.current=f,f},[]);return g.useEffect(()=>()=>{var f;(f=c==null?void 0:c.current)==null||f.disconnect()},[]),z.createElement("div",{className:"react-flow__nodes",style:U0},l.map(f=>{var C,k,N;let d=f.type||"default";e.nodeTypes[d]||(a==null||a("003",Wo.error003(d)),d="default");const m=e.nodeTypes[d]||e.nodeTypes.default,p=!!(f.draggable||n&&typeof f.draggable>"u"),w=!!(f.selectable||s&&typeof f.selectable>"u"),v=!!(f.connectable||r&&typeof f.connectable>"u"),b=!!(f.focusable||o&&typeof f.focusable>"u"),y=e.nodeExtent?R0(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,x=(y==null?void 0:y.x)??0,S=(y==null?void 0:y.y)??0,_=Ez({x,y:S,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return z.createElement(m,{key:f.id,id:f.id,className:f.className,style:f.style,type:d,data:f.data,sourcePosition:f.sourcePosition||Te.Bottom,targetPosition:f.targetPosition||Te.Top,hidden:f.hidden,xPos:x,yPos:S,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:p,isSelectable:w,isConnectable:v,isFocusable:b,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((C=f[It])==null?void 0:C.z)??0,isParent:!!((k=f[It])!=null&&k.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((N=f[It])!=null&&N.handleBounds)})}))};oN.displayName="NodeRenderer";var Tz=g.memo(oN);const jz=(e,n,r)=>r===Te.Left?e-n:r===Te.Right?e+n:e,Pz=(e,n,r)=>r===Te.Top?e-n:r===Te.Bottom?e+n:e,r1="react-flow__edgeupdater",o1=({position:e,centerX:n,centerY:r,radius:o=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:l})=>z.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:on([r1,`${r1}-${l}`]),cx:jz(n,o,e),cy:Pz(r,o,e),r:o,stroke:"transparent",fill:"transparent"}),Mz=()=>!0;var Wi=e=>{const n=({id:r,className:o,type:s,data:i,onClick:a,onEdgeDoubleClick:l,selected:c,animated:u,label:f,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:v,style:b,source:y,target:x,sourceX:S,sourceY:_,targetX:C,targetY:k,sourcePosition:N,targetPosition:A,elementsSelectable:T,hidden:P,sourceHandleId:O,targetHandleId:D,onContextMenu:F,onMouseEnter:E,onMouseMove:L,onMouseLeave:R,reconnectRadius:W,onReconnect:I,onReconnectStart:j,onReconnectEnd:H,markerEnd:M,markerStart:$,rfId:Y,ariaLabel:q,isFocusable:Z,isReconnectable:ce,pathOptions:X,interactionWidth:pe,disableKeyboardA11y:ne})=>{const ie=g.useRef(null),[le,ye]=g.useState(!1),[Pe,ve]=g.useState(!1),re=Wt(),Se=g.useMemo(()=>`url('#${Ig($,Y)}')`,[$,Y]),_e=g.useMemo(()=>`url('#${Ig(M,Y)}')`,[M,Y]);if(P)return null;const ee=Nt=>{var Qt;const{edges:xt,addSelectedEdges:Qe,unselectNodesAndEdges:Dt,multiSelectionActive:ln}=re.getState(),st=xt.find(ir=>ir.id===r);st&&(T&&(re.setState({nodesSelectionActive:!1}),st.selected&&ln?(Dt({nodes:[],edges:[st]}),(Qt=ie.current)==null||Qt.blur()):Qe([r])),a&&a(Nt,st))},De=Nl(r,re.getState,l),Be=Nl(r,re.getState,F),$e=Nl(r,re.getState,E),ze=Nl(r,re.getState,L),ct=Nl(r,re.getState,R),rt=(Nt,xt)=>{if(Nt.button!==0)return;const{edges:Qe,isValidConnection:Dt}=re.getState(),ln=xt?x:y,st=(xt?D:O)||null,Qt=xt?"target":"source",ir=Dt||Mz,V=xt,te=Qe.find(me=>me.id===r);ve(!0),j==null||j(Nt,te,Qt);const ge=me=>{ve(!1),H==null||H(me,te,Qt)};zk({event:Nt,handleId:st,nodeId:ln,onConnect:me=>I==null?void 0:I(te,me),isTarget:V,getState:re.getState,setState:re.setState,isValidConnection:ir,edgeUpdaterType:Qt,onReconnectEnd:ge})},an=Nt=>rt(Nt,!0),ot=Nt=>rt(Nt,!1),Me=()=>ye(!0),jn=()=>ye(!1),sr=!T&&!a,dt=Nt=>{var xt;if(!ne&&Ek.includes(Nt.key)&&T){const{unselectNodesAndEdges:Qe,addSelectedEdges:Dt,edges:ln}=re.getState();Nt.key==="Escape"?((xt=ie.current)==null||xt.blur(),Qe({edges:[ln.find(Qt=>Qt.id===r)]})):Dt([r])}};return z.createElement("g",{className:on(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:c,animated:u,inactive:sr,updating:le}]),onClick:ee,onDoubleClick:De,onContextMenu:Be,onMouseEnter:$e,onMouseMove:ze,onMouseLeave:ct,onKeyDown:Z?dt:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":q===null?void 0:q||`Edge from ${y} to ${x}`,"aria-describedby":Z?`${Yk}-${Y}`:void 0,ref:ie},!Pe&&z.createElement(e,{id:r,source:y,target:x,selected:c,animated:u,label:f,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:w,labelBgBorderRadius:v,data:i,style:b,sourceX:S,sourceY:_,targetX:C,targetY:k,sourcePosition:N,targetPosition:A,sourceHandleId:O,targetHandleId:D,markerStart:Se,markerEnd:_e,pathOptions:X,interactionWidth:pe}),ce&&z.createElement(z.Fragment,null,(ce==="source"||ce===!0)&&z.createElement(o1,{position:N,centerX:S,centerY:_,radius:W,onMouseDown:an,onMouseEnter:Me,onMouseOut:jn,type:"source"}),(ce==="target"||ce===!0)&&z.createElement(o1,{position:A,centerX:C,centerY:k,radius:W,onMouseDown:ot,onMouseEnter:Me,onMouseOut:jn,type:"target"})))};return n.displayName="EdgeWrapper",g.memo(n)};function Rz(e){const n={default:Wi(e.default||Cf),straight:Wi(e.bezier||D0),step:Wi(e.step||O0),smoothstep:Wi(e.step||vh),simplebezier:Wi(e.simplebezier||I0)},r={},o=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Wi(e[i]||Cf),s),r);return{...n,...o}}function s1(e,n,r=null){const o=((r==null?void 0:r.x)||0)+n.x,s=((r==null?void 0:r.y)||0)+n.y,i=(r==null?void 0:r.width)||n.width,a=(r==null?void 0:r.height)||n.height;switch(e){case Te.Top:return{x:o+i/2,y:s};case Te.Right:return{x:o+i,y:s+a/2};case Te.Bottom:return{x:o+i/2,y:s+a};case Te.Left:return{x:o,y:s+a/2}}}function i1(e,n){return e?e.length===1||!n?e[0]:n&&e.find(r=>r.id===n)||null:null}const Iz=(e,n,r,o,s,i)=>{const a=s1(r,e,n),l=s1(i,o,s);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function Oz({sourcePos:e,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:s,targetHeight:i,width:a,height:l,transform:c}){const u={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+r,n.x+s),y2:Math.max(e.y+o,n.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=Fc({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:l/c[2]}),d=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),m=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(d*m)>0}function a1(e){var o,s,i,a,l;const n=((o=e==null?void 0:e[It])==null?void 0:o.handleBounds)||null,r=n&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},n,!!r]}const Dz=[{level:0,isMaxLevel:!0,edges:[]}];function $z(e,n,r=!1){let o=-1;const s=e.reduce((a,l)=>{var f,d;const c=vr(l.zIndex);let u=c?l.zIndex:0;if(r){const m=n.get(l.target),p=n.get(l.source),w=l.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),v=Math.max(((f=p==null?void 0:p[It])==null?void 0:f.z)||0,((d=m==null?void 0:m[It])==null?void 0:d.z)||0,1e3);u=(c?l.zIndex:0)+(w?v:0)}return a[u]?a[u].push(l):a[u]=[l],o=u>o?u:o,a},{}),i=Object.entries(s).map(([a,l])=>{const c=+a;return{edges:l,level:c,isMaxLevel:c===o}});return i.length===0?Dz:i}function Lz(e,n,r){const o=pt(g.useCallback(s=>e?s.edges.filter(i=>{const a=n.get(i.source),l=n.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&Oz({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,n]));return $z(o,n,r)}const zz=({color:e="none",strokeWidth:n=1})=>z.createElement("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Fz=({color:e="none",strokeWidth:n=1})=>z.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),l1={[_f.Arrow]:zz,[_f.ArrowClosed]:Fz};function Uz(e){const n=Wt();return g.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(l1,e)?l1[e]:((i=(s=n.getState()).onError)==null||i.call(s,"009",Wo.error009(e)),null)},[e])}const Hz=({id:e,type:n,color:r,width:o=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const c=Uz(n);return c?z.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},z.createElement(c,{color:r,strokeWidth:a})):null},Bz=({defaultColor:e,rfId:n})=>r=>{const o=[];return r.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const l=Ig(a,n);o.includes(l)||(s.push({id:l,color:a.color||e,...a}),o.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},sN=({defaultColor:e,rfId:n})=>{const r=pt(g.useCallback(Bz({defaultColor:e,rfId:n}),[e,n]),(o,s)=>!(o.length!==s.length||o.some((i,a)=>i.id!==s[a].id)));return z.createElement("defs",null,r.map(o=>z.createElement(Hz,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};sN.displayName="MarkerDefinitions";var Vz=g.memo(sN);const Wz=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),iN=({defaultMarkerColor:e,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:o,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:d,onReconnect:m,onReconnectStart:p,onReconnectEnd:w,reconnectRadius:v,children:b,disableKeyboardA11y:y})=>{const{edgesFocusable:x,edgesUpdatable:S,elementsSelectable:_,width:C,height:k,connectionMode:N,nodeInternals:A,onError:T}=pt(Wz,Hn),P=Lz(n,A,r);return C?z.createElement(z.Fragment,null,P.map(({level:O,edges:D,isMaxLevel:F})=>z.createElement("svg",{key:O,style:{zIndex:O},width:C,height:k,className:"react-flow__edges react-flow__container"},F&&z.createElement(Vz,{defaultColor:e,rfId:o}),z.createElement("g",null,D.map(E=>{const[L,R,W]=a1(A.get(E.source)),[I,j,H]=a1(A.get(E.target));if(!W||!H)return null;let M=E.type||"default";s[M]||(T==null||T("011",Wo.error011(M)),M="default");const $=s[M]||s.default,Y=N===ji.Strict?j.target:(j.target??[]).concat(j.source??[]),q=i1(R.source,E.sourceHandle),Z=i1(Y,E.targetHandle),ce=(q==null?void 0:q.position)||Te.Bottom,X=(Z==null?void 0:Z.position)||Te.Top,pe=!!(E.focusable||x&&typeof E.focusable>"u"),ne=E.reconnectable||E.updatable,ie=typeof m<"u"&&(ne||S&&typeof ne>"u");if(!q||!Z)return T==null||T("008",Wo.error008(q,E)),null;const{sourceX:le,sourceY:ye,targetX:Pe,targetY:ve}=Iz(L,q,ce,I,Z,X);return z.createElement($,{key:E.id,id:E.id,className:on([E.className,i]),type:M,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:le,sourceY:ye,targetX:Pe,targetY:ve,sourcePosition:ce,targetPosition:X,elementsSelectable:_,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f,onEdgeDoubleClick:d,onReconnect:m,onReconnectStart:p,onReconnectEnd:w,reconnectRadius:v,rfId:o,ariaLabel:E.ariaLabel,isFocusable:pe,isReconnectable:ie,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:y})})))),b):null};iN.displayName="EdgeRenderer";var qz=g.memo(iN);const Gz=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Yz({children:e}){const n=pt(Gz);return z.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function Kz(e){const n=F0(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const Xz={[Te.Left]:Te.Right,[Te.Right]:Te.Left,[Te.Top]:Te.Bottom,[Te.Bottom]:Te.Top},aN=({nodeId:e,handleType:n,style:r,type:o=ls.Bezier,CustomComponent:s,connectionStatus:i})=>{var k,N,A;const{fromNode:a,handleId:l,toX:c,toY:u,connectionMode:f}=pt(g.useCallback(T=>({fromNode:T.nodeInternals.get(e),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[e]),Hn),d=(k=a==null?void 0:a[It])==null?void 0:k.handleBounds;let m=d==null?void 0:d[n];if(f===ji.Loose&&(m=m||(d==null?void 0:d[n==="source"?"target":"source"])),!a||!m)return null;const p=l?m.find(T=>T.id===l):m[0],w=p?p.x+p.width/2:(a.width??0)/2,v=p?p.y+p.height/2:a.height??0,b=(((N=a.positionAbsolute)==null?void 0:N.x)??0)+w,y=(((A=a.positionAbsolute)==null?void 0:A.y)??0)+v,x=p==null?void 0:p.position,S=x?Xz[x]:null;if(!x||!S)return null;if(s)return z.createElement(s,{connectionLineType:o,connectionLineStyle:r,fromNode:a,fromHandle:p,fromX:b,fromY:y,toX:c,toY:u,fromPosition:x,toPosition:S,connectionStatus:i});let _="";const C={sourceX:b,sourceY:y,sourcePosition:x,targetX:c,targetY:u,targetPosition:S};return o===ls.Bezier?[_]=Mk(C):o===ls.Step?[_]=Rg({...C,borderRadius:0}):o===ls.SmoothStep?[_]=Rg(C):o===ls.SimpleBezier?[_]=Pk(C):_=`M${b},${y} ${c},${u}`,z.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:r})};aN.displayName="ConnectionLine";const Qz=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Zz({containerStyle:e,style:n,type:r,component:o}){const{nodeId:s,handleType:i,nodesConnectable:a,width:l,height:c,connectionStatus:u}=pt(Qz,Hn);return!(s&&i&&l&&a)?null:z.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},z.createElement("g",{className:on(["react-flow__connection",u])},z.createElement(aN,{nodeId:s,handleType:i,style:n,type:r,CustomComponent:o,connectionStatus:u})))}function c1(e,n){return g.useRef(null),Wt(),g.useMemo(()=>n(e),[e])}const lN=({nodeTypes:e,edgeTypes:n,onMove:r,onMoveStart:o,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:w,onSelectionStart:v,onSelectionEnd:b,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:C,selectionOnDrag:k,selectionMode:N,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:P,deleteKeyCode:O,onlyRenderVisibleElements:D,elementsSelectable:F,selectNodesOnDrag:E,defaultViewport:L,translateExtent:R,minZoom:W,maxZoom:I,preventScrolling:j,defaultMarkerColor:H,zoomOnScroll:M,zoomOnPinch:$,panOnScroll:Y,panOnScrollSpeed:q,panOnScrollMode:Z,zoomOnDoubleClick:ce,panOnDrag:X,onPaneClick:pe,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:le,onPaneScroll:ye,onPaneContextMenu:Pe,onEdgeContextMenu:ve,onEdgeMouseEnter:re,onEdgeMouseMove:Se,onEdgeMouseLeave:_e,onReconnect:ee,onReconnectStart:De,onReconnectEnd:Be,reconnectRadius:$e,noDragClassName:ze,noWheelClassName:ct,noPanClassName:rt,elevateEdgesOnSelect:an,disableKeyboardA11y:ot,nodeOrigin:Me,nodeExtent:jn,rfId:sr})=>{const dt=c1(e,Nz),Nt=c1(n,Rz);return Kz(i),z.createElement(Cz,{onPaneClick:pe,onPaneMouseEnter:ne,onPaneMouseMove:ie,onPaneMouseLeave:le,onPaneContextMenu:Pe,onPaneScroll:ye,deleteKeyCode:O,selectionKeyCode:C,selectionOnDrag:k,selectionMode:N,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:P,elementsSelectable:F,onMove:r,onMoveStart:o,onMoveEnd:s,zoomOnScroll:M,zoomOnPinch:$,zoomOnDoubleClick:ce,panOnScroll:Y,panOnScrollSpeed:q,panOnScrollMode:Z,panOnDrag:X,defaultViewport:L,translateExtent:R,minZoom:W,maxZoom:I,onSelectionContextMenu:w,preventScrolling:j,noDragClassName:ze,noWheelClassName:ct,noPanClassName:rt,disableKeyboardA11y:ot},z.createElement(Yz,null,z.createElement(qz,{edgeTypes:Nt,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:D,onEdgeContextMenu:ve,onEdgeMouseEnter:re,onEdgeMouseMove:Se,onEdgeMouseLeave:_e,onReconnect:ee,onReconnectStart:De,onReconnectEnd:Be,reconnectRadius:$e,defaultMarkerColor:H,noPanClassName:rt,elevateEdgesOnSelect:!!an,disableKeyboardA11y:ot,rfId:sr},z.createElement(Zz,{style:x,type:y,component:S,containerStyle:_})),z.createElement("div",{className:"react-flow__edgelabel-renderer"}),z.createElement(Tz,{nodeTypes:dt,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:E,onlyRenderVisibleElements:D,noPanClassName:rt,noDragClassName:ze,disableKeyboardA11y:ot,nodeOrigin:Me,nodeExtent:jn,rfId:sr})))};lN.displayName="GraphView";var Jz=g.memo(lN);const Lg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Lg,nodeExtent:Lg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ji.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:N8,isValidConnection:void 0},eF=()=>HD((e,n)=>({...Qo,setNodes:r=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:i}=n();e({nodeInternals:Ip(r,o,s,i)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:o={}}=n();e({edges:r.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(r,o)=>{const s=typeof r<"u",i=typeof o<"u",a=s?Ip(r,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:r=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=n(),f=c==null?void 0:c.querySelector(".react-flow__viewport");if(!f)return;const d=window.getComputedStyle(f),{m22:m}=new window.DOMMatrixReadOnly(d.transform),p=r.reduce((v,b)=>{const y=s.get(b.id);if(y!=null&&y.hidden)s.set(y.id,{...y,[It]:{...y[It],handleBounds:void 0}});else if(y){const x=M0(b.nodeElement);!!(x.width&&x.height&&(y.width!==x.width||y.height!==x.height||b.forceUpdate))&&(s.set(y.id,{...y,[It]:{...y[It],handleBounds:{source:n1(".source",b.nodeElement,m,u),target:n1(".target",b.nodeElement,m,u)}},...x}),v.push({id:y.id,type:"dimensions",dimensions:x}))}return v},[]);Xk(s,u);const w=a||i&&!a&&Qk(n,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:w}),(p==null?void 0:p.length)>0&&(o==null||o(p))},updateNodePositions:(r,o=!0,s=!1)=>{const{triggerNodeChanges:i}=n(),a=r.map(l=>{const c={id:l.id,type:"position",dragging:s};return o&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});i(a)},triggerNodeChanges:r=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:l,elevateNodesOnSelect:c}=n();if(r!=null&&r.length){if(i){const u=mz(r,l()),f=Ip(u,s,a,c);e({nodeInternals:f})}o==null||o(r)}},addSelectedNodes:r=>{const{multiSelectionActive:o,edges:s,getNodes:i}=n();let a,l=null;o?a=r.map(c=>ss(c,!0)):(a=ua(i(),r),l=ua(s,[])),Ju({changedNodes:a,changedEdges:l,get:n,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:o,edges:s,getNodes:i}=n();let a,l=null;o?a=r.map(c=>ss(c,!0)):(a=ua(s,r),l=ua(i(),[])),Ju({changedNodes:l,changedEdges:a,get:n,set:e})},unselectNodesAndEdges:({nodes:r,edges:o}={})=>{const{edges:s,getNodes:i}=n(),a=r||i(),l=o||s,c=a.map(f=>(f.selected=!1,ss(f.id,!1))),u=l.map(f=>ss(f.id,!1));Ju({changedNodes:c,changedEdges:u,get:n,set:e})},setMinZoom:r=>{const{d3Zoom:o,maxZoom:s}=n();o==null||o.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:o,minZoom:s}=n();o==null||o.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var o;(o=n().d3Zoom)==null||o.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:o}=n(),i=o().filter(l=>l.selected).map(l=>ss(l.id,!1)),a=r.filter(l=>l.selected).map(l=>ss(l.id,!1));Ju({changedNodes:i,changedEdges:a,get:n,set:e})},setNodeExtent:r=>{const{nodeInternals:o}=n();o.forEach(s=>{s.positionAbsolute=R0(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(o)})},panBy:r=>{const{transform:o,width:s,height:i,d3Zoom:a,d3Selection:l,translateExtent:c}=n();if(!a||!l||!r.x&&!r.y)return!1;const u=lo.translate(o[0]+r.x,o[1]+r.y).scale(o[2]),f=[[0,0],[s,i]],d=a==null?void 0:a.constrain()(u,f,c);return a.transform(l,d),o[0]!==d.x||o[1]!==d.y||o[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Qo.connectionNodeId,connectionHandleId:Qo.connectionHandleId,connectionHandleType:Qo.connectionHandleType,connectionStatus:Qo.connectionStatus,connectionStartHandle:Qo.connectionStartHandle,connectionEndHandle:Qo.connectionEndHandle}),reset:()=>e({...Qo})}),Object.is),cN=({children:e})=>{const n=g.useRef(null);return n.current||(n.current=eF()),z.createElement(x8,{value:n.current},e)};cN.displayName="ReactFlowProvider";const uN=({children:e})=>g.useContext(yh)?z.createElement(z.Fragment,null,e):z.createElement(cN,null,e);uN.displayName="ReactFlowWrapper";const tF={input:Bk,default:Dg,output:Wk,group:z0},nF={default:Cf,straight:D0,step:O0,smoothstep:vh,simplebezier:I0},rF=[0,0],oF=[15,15],sF={x:0,y:0,zoom:1},iF={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},H0=g.forwardRef(({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,className:s,nodeTypes:i=tF,edgeTypes:a=nF,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:m,onConnect:p,onConnectStart:w,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:k,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:T,onNodesDelete:P,onEdgesDelete:O,onSelectionChange:D,onSelectionDragStart:F,onSelectionDrag:E,onSelectionDragStop:L,onSelectionContextMenu:R,onSelectionStart:W,onSelectionEnd:I,connectionMode:j=ji.Strict,connectionLineType:H=ls.Bezier,connectionLineStyle:M,connectionLineComponent:$,connectionLineContainerStyle:Y,deleteKeyCode:q="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:ce=!1,selectionMode:X=Uc.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:ne=Sf()?"Meta":"Control",zoomActivationKeyCode:ie=Sf()?"Meta":"Control",snapToGrid:le=!1,snapGrid:ye=oF,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:ve=!0,nodesDraggable:re,nodesConnectable:Se,nodesFocusable:_e,nodeOrigin:ee=rF,edgesFocusable:De,edgesUpdatable:Be,elementsSelectable:$e,defaultViewport:ze=sF,minZoom:ct=.5,maxZoom:rt=2,translateExtent:an=Lg,preventScrolling:ot=!0,nodeExtent:Me,defaultMarkerColor:jn="#b1b1b7",zoomOnScroll:sr=!0,zoomOnPinch:dt=!0,panOnScroll:Nt=!1,panOnScrollSpeed:xt=.5,panOnScrollMode:Qe=oi.Free,zoomOnDoubleClick:Dt=!0,panOnDrag:ln=!0,onPaneClick:st,onPaneMouseEnter:Qt,onPaneMouseMove:ir,onPaneMouseLeave:V,onPaneScroll:te,onPaneContextMenu:ge,children:Ce,onEdgeContextMenu:me,onEdgeDoubleClick:Ve,onEdgeMouseEnter:we,onEdgeMouseMove:Ae,onEdgeMouseLeave:ke,onEdgeUpdate:Fe,onEdgeUpdateStart:Et,onEdgeUpdateEnd:Zt,onReconnect:_r,onReconnectStart:yn,onReconnectEnd:vn,reconnectRadius:Dh=10,edgeUpdaterRadius:$h=10,onNodesChange:vu,onEdgesChange:Lh,noDragClassName:zh="nodrag",noWheelClassName:Li="nowheel",noPanClassName:xu="nopan",fitView:Fh=!1,fitViewOptions:Uh,connectOnClick:Hh=!0,attributionPosition:dl,proOptions:wu,defaultEdgeOptions:Bh,elevateNodesOnSelect:G=!0,elevateEdgesOnSelect:Q=!1,disableKeyboardA11y:K=!1,autoPanOnConnect:ae=!0,autoPanOnNodeDrag:he=!0,connectionRadius:se=20,isValidConnection:Le,onError:Ge,style:Ue,id:tt,nodeDragThreshold:zt,...Vn},Go)=>{const Cr=tt||"1";return z.createElement("div",{...Vn,style:{...Ue,...iF},ref:Go,className:on(["react-flow",s]),"data-testid":"rf__wrapper",id:tt},z.createElement(uN,null,z.createElement(Jz,{onInit:u,onMove:f,onMoveStart:d,onMoveEnd:m,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:x,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:a,connectionLineType:H,connectionLineStyle:M,connectionLineComponent:$,connectionLineContainerStyle:Y,selectionKeyCode:Z,selectionOnDrag:ce,selectionMode:X,deleteKeyCode:q,multiSelectionKeyCode:ne,panActivationKeyCode:pe,zoomActivationKeyCode:ie,onlyRenderVisibleElements:Pe,selectNodesOnDrag:ve,defaultViewport:ze,translateExtent:an,minZoom:ct,maxZoom:rt,preventScrolling:ot,zoomOnScroll:sr,zoomOnPinch:dt,zoomOnDoubleClick:Dt,panOnScroll:Nt,panOnScrollSpeed:xt,panOnScrollMode:Qe,panOnDrag:ln,onPaneClick:st,onPaneMouseEnter:Qt,onPaneMouseMove:ir,onPaneMouseLeave:V,onPaneScroll:te,onPaneContextMenu:ge,onSelectionContextMenu:R,onSelectionStart:W,onSelectionEnd:I,onEdgeContextMenu:me,onEdgeDoubleClick:Ve,onEdgeMouseEnter:we,onEdgeMouseMove:Ae,onEdgeMouseLeave:ke,onReconnect:_r??Fe,onReconnectStart:yn??Et,onReconnectEnd:vn??Zt,reconnectRadius:Dh??$h,defaultMarkerColor:jn,noDragClassName:zh,noWheelClassName:Li,noPanClassName:xu,elevateEdgesOnSelect:Q,rfId:Cr,disableKeyboardA11y:K,nodeOrigin:ee,nodeExtent:Me}),z.createElement(K8,{nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:p,onConnectStart:w,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:y,nodesDraggable:re,nodesConnectable:Se,nodesFocusable:_e,edgesFocusable:De,edgesUpdatable:Be,elementsSelectable:$e,elevateNodesOnSelect:G,minZoom:ct,maxZoom:rt,nodeExtent:Me,onNodesChange:vu,onEdgesChange:Lh,snapToGrid:le,snapGrid:ye,connectionMode:j,translateExtent:an,connectOnClick:Hh,defaultEdgeOptions:Bh,fitView:Fh,fitViewOptions:Uh,onNodesDelete:P,onEdgesDelete:O,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:T,onSelectionDrag:E,onSelectionDragStart:F,onSelectionDragStop:L,noPanClassName:xu,nodeOrigin:ee,rfId:Cr,autoPanOnConnect:ae,autoPanOnNodeDrag:he,onError:Ge,connectionRadius:se,isValidConnection:Le,nodeDragThreshold:zt}),z.createElement(G8,{onSelectionChange:D}),Ce,z.createElement(b8,{proOptions:wu,position:dl}),z.createElement(ez,{rfId:Cr,disableKeyboardA11y:K})))});H0.displayName="ReactFlow";function dN(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}const fN=({id:e,x:n,y:r,width:o,height:s,style:i,color:a,strokeColor:l,strokeWidth:c,className:u,borderRadius:f,shapeRendering:d,onClick:m,selected:p})=>{const{background:w,backgroundColor:v}=i||{},b=a||w||v;return z.createElement("rect",{className:on(["react-flow__minimap-node",{selected:p},u]),x:n,y:r,rx:f,ry:f,width:o,height:s,fill:b,stroke:l,strokeWidth:c,shapeRendering:d,onClick:m?y=>m(y,e):void 0})};fN.displayName="MiniMapNode";var aF=g.memo(fN);const lF=e=>e.nodeOrigin,cF=e=>e.getNodes().filter(n=>!n.hidden&&n.width&&n.height),Lp=e=>e instanceof Function?e:()=>e;function uF({nodeStrokeColor:e="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:i=aF,onClick:a}){const l=pt(cF,dN),c=pt(lF),u=Lp(n),f=Lp(e),d=Lp(r),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return z.createElement(z.Fragment,null,l.map(p=>{const{x:w,y:v}=vi(p,c).positionAbsolute;return z.createElement(i,{key:p.id,x:w,y:v,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:u(p),borderRadius:o,strokeColor:f(p),strokeWidth:s,shapeRendering:m,onClick:a,id:p.id})}))}var dF=g.memo(uF);const fF=200,hF=150,pF=e=>{const n=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:n.length>0?C8(xh(n,e.nodeOrigin),r):r,rfId:e.rfId}},mF="react-flow__minimap-desc";function hN({style:e,className:n,nodeStrokeColor:r="transparent",nodeColor:o="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:f=1,position:d="bottom-right",onClick:m,onNodeClick:p,pannable:w=!1,zoomable:v=!1,ariaLabel:b="React Flow mini map",inversePan:y=!1,zoomStep:x=10,offsetScale:S=5}){const _=Wt(),C=g.useRef(null),{boundingRect:k,viewBB:N,rfId:A}=pt(pF,dN),T=(e==null?void 0:e.width)??fF,P=(e==null?void 0:e.height)??hF,O=k.width/T,D=k.height/P,F=Math.max(O,D),E=F*T,L=F*P,R=S*F,W=k.x-(E-k.width)/2-R,I=k.y-(L-k.height)/2-R,j=E+R*2,H=L+R*2,M=`${mF}-${A}`,$=g.useRef(0);$.current=F,g.useEffect(()=>{if(C.current){const Z=Cn(C.current),ce=ne=>{const{transform:ie,d3Selection:le,d3Zoom:ye}=_.getState();if(ne.sourceEvent.type!=="wheel"||!le||!ye)return;const Pe=-ne.sourceEvent.deltaY*(ne.sourceEvent.deltaMode===1?.05:ne.sourceEvent.deltaMode?1:.002)*x,ve=ie[2]*Math.pow(2,Pe);ye.scaleTo(le,ve)},X=ne=>{const{transform:ie,d3Selection:le,d3Zoom:ye,translateExtent:Pe,width:ve,height:re}=_.getState();if(ne.sourceEvent.type!=="mousemove"||!le||!ye)return;const Se=$.current*Math.max(1,ie[2])*(y?-1:1),_e={x:ie[0]-ne.sourceEvent.movementX*Se,y:ie[1]-ne.sourceEvent.movementY*Se},ee=[[0,0],[ve,re]],De=lo.translate(_e.x,_e.y).scale(ie[2]),Be=ye.constrain()(De,ee,Pe);ye.transform(le,Be)},pe=j0().on("zoom",w?X:null).on("zoom.wheel",v?ce:null);return Z.call(pe),()=>{Z.on("zoom",null)}}},[w,v,y,x]);const Y=m?Z=>{const ce=fr(Z);m(Z,{x:ce[0],y:ce[1]})}:void 0,q=p?(Z,ce)=>{const X=_.getState().nodeInternals.get(ce);p(Z,X)}:void 0;return z.createElement(P0,{position:d,style:e,className:on(["react-flow__minimap",n]),"data-testid":"rf__minimap"},z.createElement("svg",{width:T,height:P,viewBox:`${W} ${I} ${j} ${H}`,role:"img","aria-labelledby":M,ref:C,onClick:Y},b&&z.createElement("title",{id:M},b),z.createElement(dF,{onClick:q,nodeColor:o,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:l}),z.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-R},${I-R}h${j+R*2}v${H+R*2}h${-j-R*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:c,fillRule:"evenodd",stroke:u,strokeWidth:f,pointerEvents:"none"})))}hN.displayName="MiniMap";var pN=g.memo(hN);function gF(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}function yF(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},z.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function vF(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},z.createElement("path",{d:"M0 0h32v4.2H0z"}))}function xF(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},z.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function wF(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function bF(){return z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},z.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Wl=({children:e,className:n,...r})=>z.createElement("button",{type:"button",className:on(["react-flow__controls-button",n]),...r},e);Wl.displayName="ControlButton";const SF=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),mN=({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:l,onInteractiveChange:c,className:u,children:f,position:d="bottom-left"})=>{const m=Wt(),[p,w]=g.useState(!1),{isInteractive:v,minZoomReached:b,maxZoomReached:y}=pt(SF,gF),{zoomIn:x,zoomOut:S,fitView:_}=F0();if(g.useEffect(()=>{w(!0)},[]),!p)return null;const C=()=>{x(),i==null||i()},k=()=>{S(),a==null||a()},N=()=>{_(s),l==null||l()},A=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)};return z.createElement(P0,{className:on(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},n&&z.createElement(z.Fragment,null,z.createElement(Wl,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},z.createElement(yF,null)),z.createElement(Wl,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},z.createElement(vF,null))),r&&z.createElement(Wl,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},z.createElement(xF,null)),o&&z.createElement(Wl,{className:"react-flow__controls-interactive",onClick:A,title:"toggle interactivity","aria-label":"toggle interactivity"},v?z.createElement(bF,null):z.createElement(wF,null)),f)};mN.displayName="Controls";var gN=g.memo(mN);function _F(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var er;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(er||(er={}));function CF({color:e,dimensions:n,lineWidth:r}){return z.createElement("path",{stroke:e,strokeWidth:r,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function kF({color:e,radius:n}){return z.createElement("circle",{cx:n,cy:n,r:n,fill:e})}const NF={[er.Dots]:"#91919a",[er.Lines]:"#eee",[er.Cross]:"#e2e2e2"},EF={[er.Dots]:1,[er.Lines]:1,[er.Cross]:6},AF=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function yN({id:e,variant:n=er.Dots,gap:r=20,size:o,lineWidth:s=1,offset:i=2,color:a,style:l,className:c}){const u=g.useRef(null),{transform:f,patternId:d}=pt(AF,_F),m=a||NF[n],p=o||EF[n],w=n===er.Dots,v=n===er.Cross,b=Array.isArray(r)?r:[r,r],y=[b[0]*f[2]||1,b[1]*f[2]||1],x=p*f[2],S=v?[x,x]:y,_=w?[x/i,x/i]:[S[0]/i,S[1]/i];return z.createElement("svg",{className:on(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},z.createElement("pattern",{id:d+e,x:f[0]%y[0],y:f[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},w?z.createElement(kF,{color:m,radius:x/i}):z.createElement(CF,{dimensions:S,color:m,lineWidth:s})),z.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}yN.displayName="Background";var vN=g.memo(yN);const TF=ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ye=g.forwardRef(({className:e,variant:n,size:r,asChild:o=!1,...s},i)=>{const a=o?oM:"button";return h.jsx(a,{className:Ie(TF({variant:n,size:r,className:e})),ref:i,...s})});Ye.displayName="Button";const kf=fh(e=>({selectedAgentId:null,selectAgent:n=>e({selectedAgentId:n})}));function jF(){return h.jsxs("div",{className:"px-6 py-3 rounded-full bg-purple-500/10 border border-purple-500/30 flex items-center gap-2 hover:border-purple-400/60 transition-colors shadow-sm shadow-purple-500/20",children:[h.jsx(ZM,{className:"h-4 w-4 text-purple-400"}),h.jsx("span",{className:"text-sm font-semibold text-purple-200",children:"Meta Cortex"}),h.jsx(Pi,{type:"source",position:Te.Right,className:"!w-3 !h-3 !bg-purple-400 !border-2 !border-purple-500/40"})]})}const PF={idle:"bg-muted",working:"bg-atlas-success",error:"bg-destructive"};function MF({id:e,data:n,selected:r}){const o=kf(c=>c.selectAgent),s=PF[n.status]??"bg-muted",i=!!n.isTalking,a=n.sourceId??e,l=!!n.isVirtual;return h.jsxs("div",{onClick:()=>o(a),className:`px-6 py-3 rounded-full border flex items-center gap-3 cursor-pointer transition-all hover:shadow-lg hover:shadow-primary/20 min-w-[200px] ${r?"bg-card border-primary shadow-lg shadow-primary/30":"bg-card border-border hover:border-primary/50"} ${i?"ring-2 ring-amber-400 ring-offset-2 ring-offset-background":""} ${l?"opacity-90 backdrop-blur-sm":""}`,children:[h.jsx(Pi,{type:"target",position:Te.Left,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20"}),h.jsx("div",{className:`w-2 h-2 rounded-full ${s}`}),h.jsx(QM,{className:"h-4 w-4 text-muted-foreground"}),h.jsxs("div",{className:"flex flex-col flex-1",children:[h.jsx("span",{className:"text-sm font-medium text-foreground",children:n.name}),h.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[140px]",children:n.role})]}),i&&h.jsx("span",{className:"text-xs mr-1",children:""}),h.jsx(Pi,{type:"source",position:Te.Right,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20 ml-2"})]})}const co=g.forwardRef(({className:e,type:n,...r},o)=>h.jsx("input",{type:n,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));co.displayName="Input";var RF="Label",xN=g.forwardRef((e,n)=>h.jsx(Oe.label,{...e,ref:n,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xN.displayName=RF;var wN=xN;const IF=ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=g.forwardRef(({className:e,...n},r)=>h.jsx(wN,{ref:r,className:Ie(IF(),e),...n}));ft.displayName=wN.displayName;const mr=g.forwardRef(({className:e,...n},r)=>h.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));mr.displayName="Textarea";function zg(e,[n,r]){return Math.min(r,Math.max(n,e))}var OF=g.createContext(void 0);function wh(e){const n=g.useContext(OF);return e||n||"ltr"}var zp=0;function bN(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??u1()),document.body.insertAdjacentElement("beforeend",e[1]??u1()),zp++,()=>{zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),zp--}},[])}function u1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fp="focusScope.autoFocusOnMount",Up="focusScope.autoFocusOnUnmount",d1={bubbles:!1,cancelable:!0},DF="FocusScope",B0=g.forwardRef((e,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=g.useState(null),u=Bt(s),f=Bt(i),d=g.useRef(null),m=et(n,v=>c(v)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(o){let v=function(S){if(p.paused||!l)return;const _=S.target;l.contains(_)?d.current=_:ts(d.current,{select:!0})},b=function(S){if(p.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||ts(d.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&ts(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[o,l,p.paused]),g.useEffect(()=>{if(l){h1.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Fp,d1);l.addEventListener(Fp,u),l.dispatchEvent(y),y.defaultPrevented||($F(HF(SN(l)),{select:!0}),document.activeElement===v&&ts(l))}return()=>{l.removeEventListener(Fp,u),setTimeout(()=>{const y=new CustomEvent(Up,d1);l.addEventListener(Up,f),l.dispatchEvent(y),y.defaultPrevented||ts(v??document.body,{select:!0}),l.removeEventListener(Up,f),h1.remove(p)},0)}}},[l,u,f,p]);const w=g.useCallback(v=>{if(!r&&!o||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const x=v.currentTarget,[S,_]=LF(x);S&&_?!v.shiftKey&&y===_?(v.preventDefault(),r&&ts(S,{select:!0})):v.shiftKey&&y===S&&(v.preventDefault(),r&&ts(_,{select:!0})):y===x&&v.preventDefault()}},[r,o,p.paused]);return h.jsx(Oe.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});B0.displayName=DF;function $F(e,{select:n=!1}={}){const r=document.activeElement;for(const o of e)if(ts(o,{select:n}),document.activeElement!==r)return}function LF(e){const n=SN(e),r=f1(n,e),o=f1(n.reverse(),e);return[r,o]}function SN(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function f1(e,n){for(const r of e)if(!zF(r,{upTo:n}))return r}function zF(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function FF(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&FF(e)&&n&&e.select()}}var h1=UF();function UF(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=p1(e,n),e.unshift(n)},remove(n){var r;e=p1(e,n),(r=e[0])==null||r.resume()}}}function p1(e,n){const r=[...e],o=r.indexOf(n);return o!==-1&&r.splice(o,1),r}function HF(e){return e.filter(n=>n.tagName!=="A")}function _N(e){const n=g.useRef({value:e,previous:e});return g.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var BF=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},qi=new WeakMap,td=new WeakMap,nd={},Hp=0,CN=function(e){return e&&(e.host||CN(e.parentNode))},VF=function(e,n){return n.map(function(r){if(e.contains(r))return r;var o=CN(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},WF=function(e,n,r,o){var s=VF(n,Array.isArray(e)?e:[e]);nd[r]||(nd[r]=new WeakMap);var i=nd[r],a=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(o),w=p!==null&&p!=="false",v=(qi.get(m)||0)+1,b=(i.get(m)||0)+1;qi.set(m,v),i.set(m,b),a.push(m),v===1&&w&&td.set(m,!0),b===1&&m.setAttribute(r,"true"),w||m.setAttribute(o,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(n),l.clear(),Hp++,function(){a.forEach(function(d){var m=qi.get(d)-1,p=i.get(d)-1;qi.set(d,m),i.set(d,p),m||(td.has(d)||d.removeAttribute(o),td.delete(d)),p||d.removeAttribute(r)}),Hp--,Hp||(qi=new WeakMap,qi=new WeakMap,td=new WeakMap,nd={})}},kN=function(e,n,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=BF(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live]"))),WF(o,s,r,"aria-hidden")):function(){return null}},eo=function(){return eo=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},eo.apply(this,arguments)};function NN(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)n.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r}function qF(e,n,r){if(r||arguments.length===2)for(var o=0,s=n.length,i;o<s;o++)(i||!(o in n))&&(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}var jd="right-scroll-bar-position",Pd="width-before-scroll-bar",GF="with-scroll-bars-hidden",YF="--removed-body-scroll-bar-size";function Bp(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function KF(e,n){var r=g.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(o){var s=r.value;s!==o&&(r.value=o,r.callback(o,s))}}}})[0];return r.callback=n,r.facade}var XF=typeof window<"u"?g.useLayoutEffect:g.useEffect,m1=new WeakMap;function QF(e,n){var r=KF(null,function(o){return e.forEach(function(s){return Bp(s,o)})});return XF(function(){var o=m1.get(r);if(o){var s=new Set(o),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||Bp(l,null)}),i.forEach(function(l){s.has(l)||Bp(l,a)})}m1.set(r,e)},[e]),r}function ZF(e){return e}function JF(e,n){n===void 0&&(n=ZF);var r=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=n(i,o);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(o=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){o=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var c=function(){var f=a;a=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return s}function e9(e){e===void 0&&(e={});var n=JF(null);return n.options=eo({async:!0,ssr:!1},e),n}var EN=function(e){var n=e.sideCar,r=NN(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return g.createElement(o,eo({},r))};EN.isSideCarExport=!0;function t9(e,n){return e.useMedium(n),EN}var AN=e9(),Vp=function(){},bh=g.forwardRef(function(e,n){var r=g.useRef(null),o=g.useState({onScrollCapture:Vp,onWheelCapture:Vp,onTouchMoveCapture:Vp}),s=o[0],i=o[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,v=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,S=e.gapMode,_=NN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,k=QF([r,n]),N=eo(eo({},_),s);return g.createElement(g.Fragment,null,f&&g.createElement(C,{sideCar:AN,removeScrollBar:u,shards:d,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),a?g.cloneElement(g.Children.only(l),eo(eo({},N),{ref:k})):g.createElement(x,eo({},N,{className:c,ref:k}),l))});bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bh.classNames={fullWidth:Pd,zeroRight:jd};var n9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=n9();return n&&e.setAttribute("nonce",n),e}function o9(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function s9(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var i9=function(){var e=0,n=null;return{add:function(r){e==0&&(n=r9())&&(o9(n,r),s9(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},a9=function(){var e=i9();return function(n,r){g.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},TN=function(){var e=a9(),n=function(r){var o=r.styles,s=r.dynamic;return e(o,s),null};return n},l9={left:0,top:0,right:0,gap:0},Wp=function(e){return parseInt(e||"",10)||0},c9=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],o=n[e==="padding"?"paddingTop":"marginTop"],s=n[e==="padding"?"paddingRight":"marginRight"];return[Wp(r),Wp(o),Wp(s)]},u9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return l9;var n=c9(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-r+n[2]-n[0])}},d9=TN(),_a="data-scroll-locked",f9=function(e,n,r,o){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(GF,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(_a,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(Pd,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(_a,`] {
    `).concat(YF,": ").concat(l,`px;
  }
`)},g1=function(){var e=parseInt(document.body.getAttribute(_a)||"0",10);return isFinite(e)?e:0},h9=function(){g.useEffect(function(){return document.body.setAttribute(_a,(g1()+1).toString()),function(){var e=g1()-1;e<=0?document.body.removeAttribute(_a):document.body.setAttribute(_a,e.toString())}},[])},p9=function(e){var n=e.noRelative,r=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;h9();var i=g.useMemo(function(){return u9(s)},[s]);return g.createElement(d9,{styles:f9(i,!n,s,r?"":"!important")})},Fg=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return Fg=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{Fg=!1}var Gi=Fg?{passive:!1}:!1,m9=function(e){return e.tagName==="TEXTAREA"},jN=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!m9(e)&&r[n]==="visible")},g9=function(e){return jN(e,"overflowY")},y9=function(e){return jN(e,"overflowX")},y1=function(e,n){var r=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=PN(e,o);if(s){var i=MN(e,o),a=i[1],l=i[2];if(a>l)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},v9=function(e){var n=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[n,r,o]},x9=function(e){var n=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[n,r,o]},PN=function(e,n){return e==="v"?g9(n):y9(n)},MN=function(e,n){return e==="v"?v9(n):x9(n)},w9=function(e,n){return e==="h"&&n==="rtl"?-1:1},b9=function(e,n,r,o,s){var i=w9(e,window.getComputedStyle(n).direction),a=i*o,l=r.target,c=n.contains(l),u=!1,f=a>0,d=0,m=0;do{if(!l)break;var p=MN(e,l),w=p[0],v=p[1],b=p[2],y=v-b-i*w;(w||y)&&PN(e,l)&&(d+=y,m+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(n.contains(l)||n===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(u=!0),u},od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v1=function(e){return[e.deltaX,e.deltaY]},x1=function(e){return e&&"current"in e?e.current:e},S9=function(e,n){return e[0]===n[0]&&e[1]===n[1]},_9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},C9=0,Yi=[];function k9(e){var n=g.useRef([]),r=g.useRef([0,0]),o=g.useRef(),s=g.useState(C9++)[0],i=g.useState(TN)[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=qF([e.lockRef.current],(e.shards||[]).map(x1),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var y=od(v),x=r.current,S="deltaX"in v?v.deltaX:x[0]-y[0],_="deltaY"in v?v.deltaY:x[1]-y[1],C,k=v.target,N=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in v&&N==="h"&&k.type==="range")return!1;var A=y1(N,k);if(!A)return!0;if(A?C=N:(C=N==="v"?"h":"v",A=y1(N,k)),!A)return!1;if(!o.current&&"changedTouches"in v&&(S||_)&&(o.current=C),!C)return!0;var T=o.current||C;return b9(T,b,v,T==="h"?S:_,!0)},[]),c=g.useCallback(function(v){var b=v;if(!(!Yi.length||Yi[Yi.length-1]!==i)){var y="deltaY"in b?v1(b):od(b),x=n.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&S9(C.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var S=(a.current.shards||[]).map(x1).filter(Boolean).filter(function(C){return C.contains(b.target)}),_=S.length>0?l(b,S[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(v,b,y,x){var S={name:v,delta:b,target:y,should:x,shadowParent:N9(y)};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(_){return _!==S})},1)},[]),f=g.useCallback(function(v){r.current=od(v),o.current=void 0},[]),d=g.useCallback(function(v){u(v.type,v1(v),v.target,l(v,e.lockRef.current))},[]),m=g.useCallback(function(v){u(v.type,od(v),v.target,l(v,e.lockRef.current))},[]);g.useEffect(function(){return Yi.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Gi),document.addEventListener("touchmove",c,Gi),document.addEventListener("touchstart",f,Gi),function(){Yi=Yi.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Gi),document.removeEventListener("touchmove",c,Gi),document.removeEventListener("touchstart",f,Gi)}},[]);var p=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:_9(s)}):null,p?g.createElement(p9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N9(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const E9=t9(AN,k9);var V0=g.forwardRef(function(e,n){return g.createElement(bh,eo({},e,{ref:n,sideCar:E9}))});V0.classNames=bh.classNames;var A9=[" ","Enter","ArrowUp","ArrowDown"],T9=[" ","Enter"],Mi="Select",[Sh,_h,j9]=n0(Mi),[ul,kq]=ho(Mi,[j9,sh]),Ch=sh(),[P9,Ws]=ul(Mi),[M9,R9]=ul(Mi),RN=e=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:m,required:p,form:w}=e,v=Ch(n),[b,y]=g.useState(null),[x,S]=g.useState(null),[_,C]=g.useState(!1),k=wh(u),[N,A]=Ds({prop:o,defaultProp:s??!1,onChange:i,caller:Mi}),[T,P]=Ds({prop:a,defaultProp:l,onChange:c,caller:Mi}),O=g.useRef(null),D=b?w||!!b.closest("form"):!0,[F,E]=g.useState(new Set),L=Array.from(F).map(R=>R.props.value).join(";");return h.jsx(Z2,{...v,children:h.jsxs(P9,{required:p,scope:n,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Ro(),value:T,onValueChange:P,open:N,onOpenChange:A,dir:k,triggerPointerDownPosRef:O,disabled:m,children:[h.jsx(Sh.Provider,{scope:n,children:h.jsx(M9,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(R=>{E(W=>new Set(W).add(R))},[]),onNativeOptionRemove:g.useCallback(R=>{E(W=>{const I=new Set(W);return I.delete(R),I})},[]),children:r})}),D?h.jsxs(rE,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:T,onChange:R=>P(R.target.value),disabled:m,form:w,children:[T===void 0?h.jsx("option",{value:""}):null,Array.from(F)]},L):null]})})};RN.displayName=Mi;var IN="SelectTrigger",ON=g.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:o=!1,...s}=e,i=Ch(r),a=Ws(IN,r),l=a.disabled||o,c=et(n,a.onTriggerChange),u=_h(r),f=g.useRef("touch"),[d,m,p]=sE(v=>{const b=u().filter(S=>!S.disabled),y=b.find(S=>S.value===a.value),x=iE(b,v,y);x!==void 0&&a.onValueChange(x.value)}),w=v=>{l||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(J2,{asChild:!0,...i,children:h.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oE(a.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&w(v)}),onPointerDown:Ee(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:Ee(s.onKeyDown,v=>{const b=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&A9.includes(v.key)&&(w(),v.preventDefault())})})})});ON.displayName=IN;var DN="SelectValue",$N=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:s,children:i,placeholder:a="",...l}=e,c=Ws(DN,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=et(n,c.onValueNodeChange);return Xt(()=>{u(f)},[u,f]),h.jsx(Oe.span,{...l,ref:d,style:{pointerEvents:"none"},children:oE(c.value)?h.jsx(h.Fragment,{children:a}):i})});$N.displayName=DN;var I9="SelectIcon",LN=g.forwardRef((e,n)=>{const{__scopeSelect:r,children:o,...s}=e;return h.jsx(Oe.span,{"aria-hidden":!0,...s,ref:n,children:o||""})});LN.displayName=I9;var O9="SelectPortal",zN=e=>h.jsx(Jf,{asChild:!0,...e});zN.displayName=O9;var Ri="SelectContent",FN=g.forwardRef((e,n)=>{const r=Ws(Ri,e.__scopeSelect),[o,s]=g.useState();if(Xt(()=>{s(new DocumentFragment)},[]),!r.open){const i=o;return i?$i.createPortal(h.jsx(UN,{scope:e.__scopeSelect,children:h.jsx(Sh.Slot,{scope:e.__scopeSelect,children:h.jsx("div",{children:e.children})})}),i):null}return h.jsx(HN,{...e,ref:n})});FN.displayName=Ri;var Tr=10,[UN,qs]=ul(Ri),D9="SelectContentImpl",$9=Ba("SelectContent.RemoveScroll"),HN=g.forwardRef((e,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b,...y}=e,x=Ws(Ri,r),[S,_]=g.useState(null),[C,k]=g.useState(null),N=et(n,X=>_(X)),[A,T]=g.useState(null),[P,O]=g.useState(null),D=_h(r),[F,E]=g.useState(!1),L=g.useRef(!1);g.useEffect(()=>{if(S)return kN(S)},[S]),bN();const R=g.useCallback(X=>{const[pe,...ne]=D().map(ye=>ye.ref.current),[ie]=ne.slice(-1),le=document.activeElement;for(const ye of X)if(ye===le||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===pe&&C&&(C.scrollTop=0),ye===ie&&C&&(C.scrollTop=C.scrollHeight),ye==null||ye.focus(),document.activeElement!==le))return},[D,C]),W=g.useCallback(()=>R([A,S]),[R,A,S]);g.useEffect(()=>{F&&W()},[F,W]);const{onOpenChange:I,triggerPointerDownPosRef:j}=x;g.useEffect(()=>{if(S){let X={x:0,y:0};const pe=ie=>{var le,ye;X={x:Math.abs(Math.round(ie.pageX)-(((le=j.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ye=j.current)==null?void 0:ye.y)??0))}},ne=ie=>{X.x<=10&&X.y<=10?ie.preventDefault():S.contains(ie.target)||I(!1),document.removeEventListener("pointermove",pe),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ne,{capture:!0})}}},[S,I,j]),g.useEffect(()=>{const X=()=>I(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[I]);const[H,M]=sE(X=>{const pe=D().filter(le=>!le.disabled),ne=pe.find(le=>le.ref.current===document.activeElement),ie=iE(pe,X,ne);ie&&setTimeout(()=>ie.ref.current.focus())}),$=g.useCallback((X,pe,ne)=>{const ie=!L.current&&!ne;(x.value!==void 0&&x.value===pe||ie)&&(T(X),ie&&(L.current=!0))},[x.value]),Y=g.useCallback(()=>S==null?void 0:S.focus(),[S]),q=g.useCallback((X,pe,ne)=>{const ie=!L.current&&!ne;(x.value!==void 0&&x.value===pe||ie)&&O(X)},[x.value]),Z=o==="popper"?Ug:BN,ce=Z===Ug?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return h.jsx(UN,{scope:r,content:S,viewport:C,onViewportChange:k,itemRefCallback:$,selectedItem:A,onItemLeave:Y,itemTextRefCallback:q,focusSelectedItem:W,selectedItemText:P,position:o,isPositioned:F,searchRef:H,children:h.jsx(V0,{as:$9,allowPinchZoom:!0,children:h.jsx(B0,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Ee(s,X=>{var pe;(pe=x.trigger)==null||pe.focus({preventScroll:!0}),X.preventDefault()}),children:h.jsx(nu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(Z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault(),...y,...ce,onPlaced:()=>E(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,X=>{const pe=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!pe&&X.key.length===1&&M(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ie=D().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const le=X.target,ye=ie.indexOf(le);ie=ie.slice(ye+1)}setTimeout(()=>R(ie)),X.preventDefault()}})})})})})})});HN.displayName=D9;var L9="SelectItemAlignedPosition",BN=g.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:o,...s}=e,i=Ws(Ri,r),a=qs(Ri,r),[l,c]=g.useState(null),[u,f]=g.useState(null),d=et(n,N=>f(N)),m=_h(r),p=g.useRef(!1),w=g.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=a,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&b&&y){const N=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const le=P.left-A.left,ye=T.left-le,Pe=N.left-ye,ve=N.width+Pe,re=Math.max(ve,A.width),Se=window.innerWidth-Tr,_e=zg(ye,[Tr,Math.max(Tr,Se-re)]);l.style.minWidth=ve+"px",l.style.left=_e+"px"}else{const le=A.right-P.right,ye=window.innerWidth-T.right-le,Pe=window.innerWidth-N.right-ye,ve=N.width+Pe,re=Math.max(ve,A.width),Se=window.innerWidth-Tr,_e=zg(ye,[Tr,Math.max(Tr,Se-re)]);l.style.minWidth=ve+"px",l.style.right=_e+"px"}const O=m(),D=window.innerHeight-Tr*2,F=v.scrollHeight,E=window.getComputedStyle(u),L=parseInt(E.borderTopWidth,10),R=parseInt(E.paddingTop,10),W=parseInt(E.borderBottomWidth,10),I=parseInt(E.paddingBottom,10),j=L+R+F+I+W,H=Math.min(b.offsetHeight*5,j),M=window.getComputedStyle(v),$=parseInt(M.paddingTop,10),Y=parseInt(M.paddingBottom,10),q=N.top+N.height/2-Tr,Z=D-q,ce=b.offsetHeight/2,X=b.offsetTop+ce,pe=L+R+X,ne=j-pe;if(pe<=q){const le=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-v.offsetTop-v.offsetHeight,Pe=Math.max(Z,ce+(le?Y:0)+ye+W),ve=pe+Pe;l.style.height=ve+"px"}else{const le=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Pe=Math.max(q,L+v.offsetTop+(le?$:0)+ce)+ne;l.style.height=Pe+"px",v.scrollTop=pe-q+v.offsetTop}l.style.margin=`${Tr}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",o==null||o(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,b,y,i.dir,o]);Xt(()=>S(),[S]);const[_,C]=g.useState();Xt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const k=g.useCallback(N=>{N&&w.current===!0&&(S(),x==null||x(),w.current=!1)},[S,x]);return h.jsx(F9,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:h.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:h.jsx(Oe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BN.displayName=L9;var z9="SelectPopperPosition",Ug=g.forwardRef((e,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:s=Tr,...i}=e,a=Ch(r);return h.jsx(eC,{...a,...i,ref:n,align:o,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ug.displayName=z9;var[F9,W0]=ul(Ri,{}),Hg="SelectViewport",VN=g.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:o,...s}=e,i=qs(Hg,r),a=W0(Hg,r),l=et(n,i.onViewportChange),c=g.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),h.jsx(Sh.Slot,{scope:r,children:h.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const w=window.innerHeight-Tr*2,v=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),y=Math.max(v,b);if(y<w){const x=y+p,S=Math.min(w,x),_=x-S;d.style.height=S+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});VN.displayName=Hg;var WN="SelectGroup",[U9,H9]=ul(WN),B9=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=Ro();return h.jsx(U9,{scope:r,id:s,children:h.jsx(Oe.div,{role:"group","aria-labelledby":s,...o,ref:n})})});B9.displayName=WN;var qN="SelectLabel",GN=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=H9(qN,r);return h.jsx(Oe.div,{id:s.id,...o,ref:n})});GN.displayName=qN;var Nf="SelectItem",[V9,YN]=ul(Nf),KN=g.forwardRef((e,n)=>{const{__scopeSelect:r,value:o,disabled:s=!1,textValue:i,...a}=e,l=Ws(Nf,r),c=qs(Nf,r),u=l.value===o,[f,d]=g.useState(i??""),[m,p]=g.useState(!1),w=et(n,x=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,x,o,s)}),v=Ro(),b=g.useRef("touch"),y=()=>{s||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(V9,{scope:r,value:o,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(x=>{d(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx(Sh.ItemSlot,{scope:r,value:o,disabled:s,textValue:f,children:h.jsx(Oe.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:Ee(a.onFocus,()=>p(!0)),onBlur:Ee(a.onBlur,()=>p(!1)),onClick:Ee(a.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:Ee(a.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:Ee(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Ee(a.onPointerMove,x=>{var S;b.current=x.pointerType,s?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Ee(a.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(T9.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});KN.displayName=Nf;var ql="SelectItemText",XN=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:s,...i}=e,a=Ws(ql,r),l=qs(ql,r),c=YN(ql,r),u=R9(ql,r),[f,d]=g.useState(null),m=et(n,y=>d(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=f==null?void 0:f.textContent,w=g.useMemo(()=>h.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Xt(()=>(v(w),()=>b(w)),[v,b,w]),h.jsxs(h.Fragment,{children:[h.jsx(Oe.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?$i.createPortal(i.children,a.valueNode):null]})});XN.displayName=ql;var QN="SelectItemIndicator",ZN=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return YN(QN,r).isSelected?h.jsx(Oe.span,{"aria-hidden":!0,...o,ref:n}):null});ZN.displayName=QN;var Bg="SelectScrollUpButton",JN=g.forwardRef((e,n)=>{const r=qs(Bg,e.__scopeSelect),o=W0(Bg,e.__scopeSelect),[s,i]=g.useState(!1),a=et(n,o.onScrollButtonChange);return Xt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?h.jsx(tE,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});JN.displayName=Bg;var Vg="SelectScrollDownButton",eE=g.forwardRef((e,n)=>{const r=qs(Vg,e.__scopeSelect),o=W0(Vg,e.__scopeSelect),[s,i]=g.useState(!1),a=et(n,o.onScrollButtonChange);return Xt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?h.jsx(tE,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eE.displayName=Vg;var tE=g.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:o,...s}=e,i=qs("SelectScrollButton",r),a=g.useRef(null),l=_h(r),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Xt(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),h.jsx(Oe.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(o,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(o,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),W9="SelectSeparator",nE=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return h.jsx(Oe.div,{"aria-hidden":!0,...o,ref:n})});nE.displayName=W9;var Wg="SelectArrow",q9=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=Ch(r),i=Ws(Wg,r),a=qs(Wg,r);return i.open&&a.position==="popper"?h.jsx(tC,{...s,...o,ref:n}):null});q9.displayName=Wg;var G9="SelectBubbleInput",rE=g.forwardRef(({__scopeSelect:e,value:n,...r},o)=>{const s=g.useRef(null),i=et(o,s),a=_N(n);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&f){const d=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(d)}},[a,n]),h.jsx(Oe.select,{...r,style:{...Y_,...r.style},ref:i,defaultValue:n})});rE.displayName=G9;function oE(e){return e===""||e===void 0}function sE(e){const n=Bt(e),r=g.useRef(""),o=g.useRef(0),s=g.useCallback(a=>{const l=r.current+a;n(l),function c(u){r.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>c(""),1e3))}(l)},[n]),i=g.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,s,i]}function iE(e,n,r){const s=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let a=Y9(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Y9(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var K9=RN,aE=ON,X9=$N,Q9=LN,Z9=zN,lE=FN,J9=VN,cE=GN,uE=KN,e7=XN,t7=ZN,dE=JN,fE=eE,hE=nE;const q0=K9,G0=X9,kh=g.forwardRef(({className:e,children:n,...r},o)=>h.jsxs(aE,{ref:o,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,h.jsx(Q9,{asChild:!0,children:h.jsx(su,{className:"h-4 w-4 opacity-50"})})]}));kh.displayName=aE.displayName;const pE=g.forwardRef(({className:e,...n},r)=>h.jsx(dE,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...n,children:h.jsx(e3,{className:"h-4 w-4"})}));pE.displayName=dE.displayName;const mE=g.forwardRef(({className:e,...n},r)=>h.jsx(fE,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...n,children:h.jsx(su,{className:"h-4 w-4"})}));mE.displayName=fE.displayName;const Nh=g.forwardRef(({className:e,children:n,position:r="popper",...o},s)=>h.jsx(Z9,{children:h.jsxs(lE,{ref:s,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[h.jsx(pE,{}),h.jsx(J9,{className:Ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),h.jsx(mE,{})]})}));Nh.displayName=lE.displayName;const n7=g.forwardRef(({className:e,...n},r)=>h.jsx(cE,{ref:r,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));n7.displayName=cE.displayName;const Bc=g.forwardRef(({className:e,children:n,...r},o)=>h.jsxs(uE,{ref:o,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(t7,{children:h.jsx(JM,{className:"h-4 w-4"})})}),h.jsx(e7,{children:n})]}));Bc.displayName=uE.displayName;const r7=g.forwardRef(({className:e,...n},r)=>h.jsx(hE,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...n}));r7.displayName=hE.displayName;var o7="Separator",w1="horizontal",s7=["horizontal","vertical"],gE=g.forwardRef((e,n)=>{const{decorative:r,orientation:o=w1,...s}=e,i=i7(o)?o:w1,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.jsx(Oe.div,{"data-orientation":i,...l,...s,ref:n})});gE.displayName=o7;function i7(e){return s7.includes(e)}var yE=gE;const Y0=g.forwardRef(({className:e,orientation:n="horizontal",decorative:r=!0,...o},s)=>h.jsx(yE,{ref:s,decorative:r,orientation:n,className:Ie("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));Y0.displayName=yE.displayName;var Eh="Switch",[a7,Nq]=ho(Eh),[l7,c7]=a7(Eh),vE=g.forwardRef((e,n)=>{const{__scopeSwitch:r,name:o,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[m,p]=g.useState(null),w=et(n,S=>p(S)),v=g.useRef(!1),b=m?f||!!m.closest("form"):!0,[y,x]=Ds({prop:s,defaultProp:i??!1,onChange:u,caller:Eh});return h.jsxs(l7,{scope:r,checked:y,disabled:l,children:[h.jsx(Oe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":SE(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:w,onClick:Ee(e.onClick,S=>{x(_=>!_),b&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),b&&h.jsx(bE,{control:m,bubbles:!v.current,name:o,value:c,checked:y,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});vE.displayName=Eh;var xE="SwitchThumb",wE=g.forwardRef((e,n)=>{const{__scopeSwitch:r,...o}=e,s=c7(xE,r);return h.jsx(Oe.span,{"data-state":SE(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:n})});wE.displayName=xE;var u7="SwitchBubbleInput",bE=g.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:o=!0,...s},i)=>{const a=g.useRef(null),l=et(a,i),c=_N(r),u=H2(n);return g.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:o});p.call(f,r),f.dispatchEvent(w)}},[c,r,o]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bE.displayName=u7;function SE(e){return e?"checked":"unchecked"}var _E=vE,d7=wE;const Vc=g.forwardRef(({className:e,...n},r)=>h.jsx(_E,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...n,ref:r,children:h.jsx(d7,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vc.displayName=_E.displayName;const f7="flex flex-col gap-2";function h7({description:e,tooltip:n,secure:r}){return!e&&!n&&!r?null:h.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r&&h.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-500/10 px-2 py-0.5 text-amber-200",children:[h.jsx(c3,{className:"h-3 w-3"}),"Secret"]}),e&&h.jsx("span",{children:e}),n&&h.jsxs(N4,{children:[h.jsx(E4,{asChild:!0,children:h.jsx(a3,{className:"h-3.5 w-3.5 cursor-help"})}),h.jsx(uC,{side:"top",children:n})]})]})}function CE({schema:e,values:n,defaults:r,disabled:o,onChange:s}){const i=g.useMemo(()=>({...r,...n}),[r,n]),a=(l,c)=>{const u={...i,[l]:c};s(u)};return e.length?h.jsx("div",{className:"flex flex-col gap-4",children:e.map(l=>{const c=i[l.key],u=l.placeholder??(l.required?"Required":"Optional");return h.jsxs("div",{className:f7,children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ft,{className:"text-sm font-medium text-foreground",htmlFor:`config-${l.key}`,children:[l.label,l.required&&h.jsx("span",{className:"ml-1 text-red-400",children:"*"})]})}),(()=>{switch(l.type){case"textarea":return h.jsx(mr,{id:`config-${l.key}`,value:typeof c=="string"?c:"",onChange:f=>a(l.key,f.target.value),placeholder:u,disabled:o,className:"resize-none"});case"boolean":return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Vc,{id:`config-${l.key}`,checked:!!c,onCheckedChange:f=>a(l.key,f),disabled:o}),h.jsx(ft,{htmlFor:`config-${l.key}`,className:"text-sm text-muted-foreground",children:u})]});case"select":return h.jsxs(q0,{value:typeof c=="string"?c:void 0,onValueChange:f=>a(l.key,f),disabled:o,children:[h.jsx(kh,{id:`config-${l.key}`,children:h.jsx(G0,{placeholder:u})}),h.jsx(Nh,{children:(l.options??[]).map(f=>h.jsx(Bc,{value:f,children:f},f))})]});case"number":return h.jsx(co,{id:`config-${l.key}`,type:"number",value:typeof c=="number"?c:c??"",onChange:f=>a(l.key,Number(f.target.value)),placeholder:u,disabled:o});case"password":return h.jsx(co,{id:`config-${l.key}`,type:"password",value:typeof c=="string"?c:"",onChange:f=>a(l.key,f.target.value),placeholder:u,disabled:o});case"string":default:return h.jsx(co,{id:`config-${l.key}`,type:"text",value:typeof c=="string"?c:c??"",onChange:f=>a(l.key,f.target.value),placeholder:u,disabled:o})}})(),h7({description:l.description,tooltip:l.tooltip,secure:l.secure})]},l.key)})}):h.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional configuration is required."})}const p7=["idle","working","error"];function m7({agent:e,onUpdate:n,onDelete:r,isSaving:o,isDeleting:s}){const i=kf(re=>re.selectAgent),[a,l]=g.useState(""),[c,u]=g.useState(""),[f,d]=g.useState(""),[m,p]=g.useState(""),[w,v]=g.useState("idle"),[b,y]=g.useState(!1),[x,S]=g.useState(null),[_,C]=g.useState(!1),[k,N]=g.useState(!1),[A,T]=g.useState([]),[P,O]=g.useState({}),[D,F]=g.useState(""),[E,L]=g.useState(""),[R,W]=g.useState(!1),[I,j]=g.useState(null),[H,M]=g.useState(null),[$,Y]=g.useState(!1),{toast:q}=rl();g.useEffect(()=>{var Se,_e,ee,De;if(!e){l(""),u(""),d(""),p(""),v("idle"),S(null);return}l(e.name),u(e.role);const re=Array.isArray(e.objectives)?e.objectives:typeof e.objectives=="string"?[e.objectives]:[];d(re.join(`
`)),p(e.memory_context??""),v(e.status??"idle"),y(!!e.internet_access_enabled),S(null),T(((Se=e.config)==null?void 0:Se.schema)??[]),O(((_e=e.config)==null?void 0:_e.values)??{}),F(((ee=e.config)==null?void 0:ee.agentType)??e.agent_type??e.role),L(((De=e.config)==null?void 0:De.summary)??e.config_summary??""),j(null),M(null)},[e]);const{data:Z,isFetching:ce}=Bo({queryKey:["agents",e==null?void 0:e.id,"memory"],queryFn:()=>_t.getAgentMemory(e.id,10),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),{data:X,isFetching:pe,refetch:ne}=Bo({queryKey:["agent-config",e==null?void 0:e.id],queryFn:()=>_t.fetchAgentConfig(e.id),enabled:!!(e!=null&&e.id),staleTime:6e4});g.useEffect(()=>{X&&(T(X.configSchema??[]),O(X.values??{}),F(X.agentType??(e==null?void 0:e.agent_type)??(e==null?void 0:e.role)??""),L(X.description??(e==null?void 0:e.config_summary)??""),j(null),M(null))},[X,e==null?void 0:e.agent_type,e==null?void 0:e.config_summary,e==null?void 0:e.role]);const ie=g.useMemo(()=>e!=null&&e.tools?Object.entries(e.tools).filter(([re,Se])=>!!re&&!!Se).map(([re])=>re):[],[e]),le=async()=>{if(e){C(!0),S(null);try{const re=f.split(/\n/).map(Se=>Se.trim()).filter(Boolean);await n(e.id,{name:a.trim(),role:c.trim(),objectives:re,memory_context:m.trim(),status:w,internet_access_enabled:b})}catch(re){S(re instanceof Error?re.message:"Failed to update agent")}finally{C(!1)}}},ye=async()=>{if(e){N(!0),S(null);try{await r(e.id),i(null)}catch(re){S(re instanceof Error?re.message:"Failed to delete agent")}finally{N(!1)}}},Pe=async()=>{if(!(!e||A.length===0)){W(!0),j(null),M(null);try{await _t.updateAgentConfig(e.id,{agentType:D||e.agent_type||e.role,summary:E||e.config_summary||e.role,schema:A,values:P}),j("Configuration saved"),q({title:"Configuration updated",description:`${e.name} can now use its tools.`}),await ne()}catch(re){const Se=re instanceof Error?re.message:"Failed to update configuration";M(Se),q({title:"Configuration error",description:Se,variant:"destructive"})}finally{W(!1)}}},ve=async()=>{if(e){Y(!0),M(null),j(null);try{const re=await _t.generateAgentConfig(e.role||e.name,{existingAgents:[],preferredTools:Object.keys(e.tools??{})});T(re.configSchema??[]),O(re.defaults??{}),F(re.agentType??e.agent_type??e.role),L(re.description??e.config_summary??"")}catch(re){const Se=re instanceof Error?re.message:"Failed to infer configuration";M(Se),q({title:"Could not infer config",description:Se,variant:"destructive"})}finally{Y(!1)}}};return e?h.jsxs("div",{className:"w-[380px] h-full bg-card border-l border-border flex flex-col",children:[h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Manage sandbox access, goals, and routing."})]}),h.jsx(Ye,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:ye,disabled:k||s,children:k||s?h.jsx(to,{className:"h-4 w-4 animate-spin"}):h.jsx(v2,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"agent-name",children:"Name"}),h.jsx(co,{id:"agent-name",value:a,onChange:re=>l(re.target.value),className:"bg-background border-border"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"agent-role",children:"Instructions"}),h.jsx(mr,{id:"agent-role",value:c,onChange:re=>u(re.target.value),className:"bg-background border-border min-h-[120px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx(ft,{htmlFor:"agent-status",children:"Status"})}),h.jsxs(q0,{value:w,onValueChange:re=>v(re),children:[h.jsx(kh,{className:"bg-background border-border",children:h.jsx(G0,{})}),h.jsx(Nh,{className:"bg-popover border-border",children:p7.map(re=>h.jsx(Bc,{value:re,className:"capitalize",children:re},re))})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/60 bg-muted/10 p-3",children:[h.jsxs("div",{children:[h.jsx(ft,{className:"text-sm",children:"Autonomous internet access"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Toggle to allow this agent to call the sandboxed internet module. Disabled by default."})]}),h.jsx(Vc,{checked:b,onCheckedChange:y})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"agent-objectives",children:"Objectives"}),h.jsx(mr,{id:"agent-objectives",placeholder:"One per line",value:f,onChange:re=>d(re.target.value),className:"bg-background border-border min-h-[120px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"agent-memory",children:"Memory context"}),h.jsx(mr,{id:"agent-memory",placeholder:"Persistent context shared with the sandbox",value:m,onChange:re=>p(re.target.value),className:"bg-background border-border min-h-[100px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{children:"Tools"}),ie.length===0?h.jsx("p",{className:"text-xs text-muted-foreground",children:"No tools configured"}):h.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(re=>h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",children:re},re))})]}),h.jsxs("div",{className:"space-y-3 rounded-lg border border-border/60 bg-muted/10 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(ft,{className:"text-sm",children:"Tool configuration"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Store sandbox credentials securely per agent."})]}),(pe||$)&&h.jsx(to,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),H&&h.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[h.jsx(Zm,{className:"h-3.5 w-3.5"}),h.jsx("span",{children:H})]}),A.length===0?h.jsx(Ye,{variant:"outline",onClick:ve,disabled:$,className:"w-full",children:$?"Detecting configuration...":"Detect configuration fields"}):h.jsxs("div",{className:"space-y-3",children:[h.jsx(CE,{schema:A,values:P,onChange:re=>{O(re),j(null)},defaults:void 0,disabled:R}),h.jsxs("div",{className:"flex items-center justify-between",children:[I&&h.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[h.jsx(i0,{className:"h-3.5 w-3.5"}),I]}),h.jsx(Ye,{onClick:Pe,disabled:R,children:R?"Saving...":"Save configuration"})]})]})]}),h.jsx(Y0,{}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ft,{children:"Recent memory"}),ce&&h.jsx(to,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),h.jsxs("div",{className:"space-y-3",children:[((Z==null?void 0:Z.items)??[]).slice(0,5).map(re=>{var $e;const Se=(($e=re.metadata)==null?void 0:$e.retention)??{},_e=typeof Se.reason=="string"?Se.reason:null,ee=re.memory_type==="short_term"?typeof Se.expiresAt=="string"?Se.expiresAt:re.expires_at:null,De=ee?new Date(ee):null,Be=re.memory_type==="short_term"?"bg-sky-500/15 text-sky-300 border border-sky-500/40":"bg-emerald-500/15 text-emerald-300 border border-emerald-500/30";return h.jsxs("div",{className:"rounded-lg border border-border/60 bg-muted/20 p-3 space-y-2",children:[h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsx("p",{className:"text-xs text-foreground line-clamp-3",children:re.content}),h.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full whitespace-nowrap ${Be}`,children:re.memory_type==="short_term"?"STM":"LTM"})]}),h.jsxs("div",{className:"flex flex-col gap-1 text-[10px] text-muted-foreground",children:[h.jsx("span",{children:re.memory_type==="short_term"?De?`Expires ${De.toLocaleString()}`:"Short-term context":`Captured ${new Date(re.created_at).toLocaleString()}`}),_e&&h.jsxs("span",{className:"italic",children:["Reason: ",_e]})]})]},re.id)}),(!Z||Z.items.length===0)&&!ce&&h.jsx("p",{className:"text-xs text-muted-foreground",children:"No memory captured yet."})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{children:"Task summary"}),h.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries((Z==null?void 0:Z.taskCounts)??{}).map(([re,Se])=>h.jsxs("div",{className:"rounded border border-border/60 bg-muted/10 p-2 text-center",children:[h.jsx("p",{className:"font-semibold text-foreground",children:Se}),h.jsx("p",{className:"text-muted-foreground capitalize",children:re})]},re))})]}),x&&h.jsx("p",{className:"text-xs text-destructive",children:x})]}),h.jsx("div",{className:"border-t border-border/60 p-4",children:h.jsx(Ye,{onClick:le,disabled:_||o,className:"w-full",children:_||o?"Saving...":"Save changes"})})]}):null}var Ah="Dialog",[kE,Eq]=ho(Ah),[g7,Vr]=kE(Ah),NE=e=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,f]=Ds({prop:o,defaultProp:s??!1,onChange:i,caller:Ah});return h.jsx(g7,{scope:n,triggerRef:l,contentRef:c,contentId:Ro(),titleId:Ro(),descriptionId:Ro(),open:u,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(d=>!d),[f]),modal:a,children:r})};NE.displayName=Ah;var EE="DialogTrigger",y7=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=Vr(EE,r),i=et(n,s.triggerRef);return h.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Q0(s.open),...o,ref:i,onClick:Ee(e.onClick,s.onOpenToggle)})});y7.displayName=EE;var K0="DialogPortal",[v7,AE]=kE(K0,{forceMount:void 0}),TE=e=>{const{__scopeDialog:n,forceMount:r,children:o,container:s}=e,i=Vr(K0,n);return h.jsx(v7,{scope:n,forceMount:r,children:g.Children.map(o,a=>h.jsx(Hr,{present:r||i.open,children:h.jsx(Jf,{asChild:!0,container:s,children:a})}))})};TE.displayName=K0;var Ef="DialogOverlay",jE=g.forwardRef((e,n)=>{const r=AE(Ef,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,i=Vr(Ef,e.__scopeDialog);return i.modal?h.jsx(Hr,{present:o||i.open,children:h.jsx(w7,{...s,ref:n})}):null});jE.displayName=Ef;var x7=Ba("DialogOverlay.RemoveScroll"),w7=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=Vr(Ef,r);return h.jsx(V0,{as:x7,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(Oe.div,{"data-state":Q0(s.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),Ii="DialogContent",PE=g.forwardRef((e,n)=>{const r=AE(Ii,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,i=Vr(Ii,e.__scopeDialog);return h.jsx(Hr,{present:o||i.open,children:i.modal?h.jsx(b7,{...s,ref:n}):h.jsx(S7,{...s,ref:n})})});PE.displayName=Ii;var b7=g.forwardRef((e,n)=>{const r=Vr(Ii,e.__scopeDialog),o=g.useRef(null),s=et(n,r.contentRef,o);return g.useEffect(()=>{const i=o.current;if(i)return kN(i)},[]),h.jsx(ME,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),S7=g.forwardRef((e,n)=>{const r=Vr(Ii,e.__scopeDialog),o=g.useRef(!1),s=g.useRef(!1);return h.jsx(ME,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(o.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ME=g.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Vr(Ii,r),c=g.useRef(null),u=et(n,c);return bN(),h.jsxs(h.Fragment,{children:[h.jsx(B0,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(nu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Q0(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(_7,{titleId:l.titleId}),h.jsx(k7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),X0="DialogTitle",RE=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=Vr(X0,r);return h.jsx(Oe.h2,{id:s.titleId,...o,ref:n})});RE.displayName=X0;var IE="DialogDescription",OE=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=Vr(IE,r);return h.jsx(Oe.p,{id:s.descriptionId,...o,ref:n})});OE.displayName=IE;var DE="DialogClose",$E=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=Vr(DE,r);return h.jsx(Oe.button,{type:"button",...o,ref:n,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});$E.displayName=DE;function Q0(e){return e?"open":"closed"}var LE="DialogTitleWarning",[Aq,zE]=nM(LE,{contentName:Ii,titleName:X0,docsSlug:"dialog"}),_7=({titleId:e})=>{const n=zE(LE),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},C7="DialogDescriptionWarning",k7=({contentRef:e,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zE(C7).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");n&&s&&(document.getElementById(n)||console.warn(o))},[o,e,n]),null},N7=NE,E7=TE,FE=jE,UE=PE,HE=RE,BE=OE,A7=$E;const T7=N7,j7=E7,VE=g.forwardRef(({className:e,...n},r)=>h.jsx(FE,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));VE.displayName=FE.displayName;const P7=ou("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),WE=g.forwardRef(({side:e="right",className:n,children:r,...o},s)=>h.jsxs(j7,{children:[h.jsx(VE,{}),h.jsxs(UE,{ref:s,className:Ie(P7({side:e}),n),...o,children:[r,h.jsxs(A7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(iu,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WE.displayName=UE.displayName;const qE=({className:e,...n})=>h.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...n});qE.displayName="SheetHeader";const GE=g.forwardRef(({className:e,...n},r)=>h.jsx(HE,{ref:r,className:Ie("text-lg font-semibold text-foreground",e),...n}));GE.displayName=HE.displayName;const YE=g.forwardRef(({className:e,...n},r)=>h.jsx(BE,{ref:r,className:Ie("text-sm text-muted-foreground",e),...n}));YE.displayName=BE.displayName;var qp="rovingFocusGroup.onEntryFocus",M7={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[qg,KE,R7]=n0(hu),[I7,XE]=ho(hu,[R7]),[O7,D7]=I7(hu),QE=g.forwardRef((e,n)=>h.jsx(qg.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(qg.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx($7,{...e,ref:n})})}));QE.displayName=hu;var $7=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,m=g.useRef(null),p=et(n,m),w=wh(i),[v,b]=Ds({prop:a,defaultProp:l??null,onChange:c,caller:hu}),[y,x]=g.useState(!1),S=Bt(u),_=KE(r),C=g.useRef(!1),[k,N]=g.useState(0);return g.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(qp,S),()=>A.removeEventListener(qp,S)},[S]),h.jsx(O7,{scope:r,orientation:o,dir:w,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(A=>b(A),[b]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:g.useCallback(()=>N(A=>A-1),[]),children:h.jsx(Oe.div,{tabIndex:y||k===0?-1:0,"data-orientation":o,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{C.current=!0}),onFocus:Ee(e.onFocus,A=>{const T=!C.current;if(A.target===A.currentTarget&&T&&!y){const P=new CustomEvent(qp,M7);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=_().filter(R=>R.focusable),D=O.find(R=>R.active),F=O.find(R=>R.id===v),L=[D,F,...O].filter(Boolean).map(R=>R.ref.current);eA(L,f)}}C.current=!1}),onBlur:Ee(e.onBlur,()=>x(!1))})})}),ZE="RovingFocusGroupItem",JE=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Ro(),u=i||c,f=D7(ZE,r),d=f.currentTabStopId===u,m=KE(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=f;return g.useEffect(()=>{if(o)return p(),()=>w()},[o,p,w]),h.jsx(qg.ItemSlot,{scope:r,id:u,focusable:o,active:s,children:h.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:n,onMouseDown:Ee(e.onMouseDown,b=>{o?f.onItemFocus(u):b.preventDefault()}),onFocus:Ee(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=F7(b,f.orientation,f.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const _=S.indexOf(b.currentTarget);S=f.loop?U7(S,_+1):S.slice(_+1)}setTimeout(()=>eA(S))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:v!=null}):a})})});JE.displayName=ZE;var L7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z7(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function F7(e,n,r){const o=z7(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return L7[o]}function eA(e,n=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:n}),document.activeElement!==r))return}function U7(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var H7=QE,B7=JE,Th="Tabs",[V7,Tq]=ho(Th,[XE]),tA=XE(),[W7,Z0]=V7(Th),nA=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=wh(l),[d,m]=Ds({prop:o,onChange:s,defaultProp:i??"",caller:Th});return h.jsx(W7,{scope:r,baseId:Ro(),value:d,onValueChange:m,orientation:a,dir:f,activationMode:c,children:h.jsx(Oe.div,{dir:f,"data-orientation":a,...u,ref:n})})});nA.displayName=Th;var rA="TabsList",oA=g.forwardRef((e,n)=>{const{__scopeTabs:r,loop:o=!0,...s}=e,i=Z0(rA,r),a=tA(r);return h.jsx(H7,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:o,children:h.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:n})})});oA.displayName=rA;var sA="TabsTrigger",iA=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,disabled:s=!1,...i}=e,a=Z0(sA,r),l=tA(r),c=cA(a.baseId,o),u=uA(a.baseId,o),f=o===a.value;return h.jsx(B7,{asChild:!0,...l,focusable:!s,active:f,children:h.jsx(Oe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:n,onMouseDown:Ee(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?a.onValueChange(o):d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(o)}),onFocus:Ee(e.onFocus,()=>{const d=a.activationMode!=="manual";!f&&!s&&d&&a.onValueChange(o)})})})});iA.displayName=sA;var aA="TabsContent",lA=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,forceMount:s,children:i,...a}=e,l=Z0(aA,r),c=cA(l.baseId,o),u=uA(l.baseId,o),f=o===l.value,d=g.useRef(f);return g.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),h.jsx(Hr,{present:s||f,children:({present:m})=>h.jsx(Oe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:n,style:{...e.style,animationDuration:d.current?"0s":void 0},children:m&&i})})});lA.displayName=aA;function cA(e,n){return`${e}-trigger-${n}`}function uA(e,n){return`${e}-content-${n}`}var q7=nA,dA=oA,fA=iA,hA=lA;const G7=q7,pA=g.forwardRef(({className:e,...n},r)=>h.jsx(dA,{ref:r,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));pA.displayName=dA.displayName;const Gg=g.forwardRef(({className:e,...n},r)=>h.jsx(fA,{ref:r,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...n}));Gg.displayName=fA.displayName;const Yg=g.forwardRef(({className:e,...n},r)=>h.jsx(hA,{ref:r,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));Yg.displayName=hA.displayName;const Y7=ou("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function J0({className:e,variant:n,...r}){return h.jsx("div",{className:Ie(Y7({variant:n}),e),...r})}function K7({open:e,onOpenChange:n,onCreateManual:r,onGenerateFromPrompt:o}){var _e;const[s,i]=g.useState("natural"),[a,l]=g.useState(""),[c,u]=g.useState("Generalist Agent"),[f,d]=g.useState(""),[m,p]=g.useState(""),[w,v]=g.useState(""),[b,y]=g.useState(!1),[x,S]=g.useState(!1),[_,C]=g.useState(null),[k,N]=g.useState(""),[A,T]=g.useState(!1),[P,O]=g.useState(!1),[D,F]=g.useState(null),[E,L]=g.useState(null),[R,W]=g.useState(null),[I,j]=g.useState({}),[H,M]=g.useState(!1),[$,Y]=g.useState(!1),[q,Z]=g.useState(null),[ce,X]=g.useState(!1),{toast:pe}=rl(),ne=ll(),ie=()=>{l(""),u("Generalist Agent"),d(""),p(""),v(""),y(!1),S(!1),C(null),N(""),T(!1),O(!1),F(null),L(null),W(null),j({}),M(!1),Y(!1),Z(null),X(!1),i("natural")},le=ee=>{ee||ie(),n(ee)},ye=async()=>{if(!a.trim()){C("Name is required");return}C(null),S(!0);try{const ee=m.split(/[,\n]/).map(Be=>Be.trim()).filter(Boolean).reduce((Be,$e)=>(Be[$e]=!0,Be),{}),De=f.split(/\n/).map(Be=>Be.trim()).filter(Boolean);await r({name:a.trim(),role:c.trim()||"Generalist Agent",tools:ee,objectives:De,memory_context:w.trim()||void 0,internet_access_enabled:b}),ie(),n(!1)}catch(ee){C(ee instanceof Error?ee.message:"Failed to create agent")}finally{S(!1)}},Pe=async()=>{var ee,De;if(!k.trim()){F("Describe the agent you want to build");return}F(null),W(null),j({}),Z(null),X(!1),O(!0),M(!0);try{const Be=k.trim(),$e=await o(Be,{persist:!0,spawn:A||void 0,creator:"atlas-ui"});L($e);try{const ze=await _t.generateAgentConfig(Be);W(ze);const ct=ze.defaults??{},rt=((De=(ee=$e.savedAgent)==null?void 0:ee.config)==null?void 0:De.values)??{};j({...ct,...rt})}catch(ze){const ct=ze instanceof Error?ze.message:"Failed to infer configuration";W(null),Z(ct)}}catch(Be){L(null);const $e=Be instanceof Error?Be.message:"Failed to generate agent";F($e),Z($e)}finally{O(!1),M(!1)}},ve=async()=>{var ee;if(!R||R.configSchema.length===0){pe({title:"No configuration to save",description:"Generate a configuration schema first."});return}Z(null),Y(!0),X(!1);try{const De={agentType:R.agentType,summary:R.description,schema:R.configSchema,values:I};let Be=((ee=E==null?void 0:E.savedAgent)==null?void 0:ee.id)??null;if(Be)await _t.updateAgent(Be,{config:De});else{const $e=E==null?void 0:E.spec,ze=await _t.createAgent({name:($e==null?void 0:$e.name)??"Generated Agent",role:($e==null?void 0:$e.description)??"Autonomous Agent",tools:{},objectives:($e==null?void 0:$e.goals)??[],memory_context:($e==null?void 0:$e.description)??"",internet_access_enabled:!1,config:De});Be=ze.id,L(ct=>ct&&{...ct,savedAgent:ze})}X(!0),pe({title:"Configuration saved",description:"Credentials stored for this agent."}),ne.invalidateQueries({queryKey:["agents"]})}catch(De){const Be=De instanceof Error?De.message:"Failed to save configuration";Z(Be),pe({title:"Configuration error",description:Be,variant:"destructive"})}finally{Y(!1)}},re=E==null?void 0:E.spec.securityProfile,Se=g.useMemo(()=>re?[{label:"Sandbox",value:re.sandbox?"Enabled":"Disabled",highlight:re.sandbox},{label:"Internet",value:re.network.allowInternet?`Allowed (${re.network.domainsAllowed.join(", ")||"all domains"})`:"Disabled",highlight:re.network.allowInternet},{label:"Filesystem",value:`Read ${re.filesystem.read.join(", ")||"none"}  Write ${re.filesystem.write.join(", ")||"none"}`},{label:"Permissions",value:re.permissions.join(", ")||"None"},{label:"Timeout",value:`${re.executionTimeout}s`}]:null,[re]);return h.jsx(T7,{open:e,onOpenChange:le,children:h.jsxs(WE,{side:"right",className:"w-[520px] sm:w-[540px] overflow-y-auto",children:[h.jsxs(qE,{className:"space-y-2",children:[h.jsx(GE,{children:"Create a new agent"}),h.jsx(YE,{children:"Generate a secure agent from natural language or configure one manually with full sandbox controls."})]}),h.jsxs(G7,{value:s,onValueChange:ee=>i(ee),className:"mt-6",children:[h.jsxs(pA,{className:"grid grid-cols-2",children:[h.jsx(Gg,{value:"natural",children:"Natural language"}),h.jsx(Gg,{value:"manual",children:"Manual setup"})]}),h.jsxs(Yg,{value:"natural",className:"mt-6 space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"prompt",children:"Describe your agent"}),h.jsx(mr,{id:"prompt",placeholder:"Create an agent that monitors tech news every morning and emails me a summary",value:k,onChange:ee=>N(ee.target.value),className:"h-32 resize-none"}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Vc,{id:"spawn-now",checked:A,onCheckedChange:T}),h.jsx(ft,{htmlFor:"spawn-now",children:"Launch sandbox after creation"})]}),h.jsxs("span",{children:[k.trim().length," characters"]})]})]}),D&&h.jsx("p",{className:"text-xs text-destructive",children:D}),h.jsx(Ye,{onClick:Pe,disabled:P,className:"w-full",children:P?"Generating...":"Generate agent"}),H&&h.jsx("p",{className:"text-xs text-muted-foreground",children:"Inferring required configuration"}),q&&!H&&!R&&h.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[h.jsx(Zm,{className:"h-3.5 w-3.5"}),h.jsx("span",{children:q})]}),R&&h.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Tool configuration"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide credentials and defaults so the agent can act autonomously."})]}),q&&h.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[h.jsx(Zm,{className:"h-3.5 w-3.5"}),h.jsx("span",{children:q})]}),h.jsx(CE,{schema:R.configSchema,values:I,defaults:R.defaults,disabled:$,onChange:ee=>{j(ee),X(!1)}}),h.jsxs("div",{className:"flex items-center justify-between",children:[ce&&h.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[h.jsx(i0,{className:"h-3.5 w-3.5"}),"Saved"]}),h.jsx(Ye,{onClick:ve,disabled:$,className:"ml-auto",children:$?"Saving...":"Save configuration"})]})]}),E&&h.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-foreground",children:E.spec.name}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Model: ",E.spec.model]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:E.spec.description})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Goals"}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:E.spec.goals.map(ee=>h.jsx(J0,{variant:"secondary",className:"text-[11px]",children:ee},ee))})]}),Se&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Security profile"}),h.jsx("div",{className:"mt-2 space-y-2 text-xs",children:Se.map(ee=>h.jsxs("div",{className:"flex justify-between gap-4",children:[h.jsx("span",{className:"text-muted-foreground",children:ee.label}),h.jsx("span",{className:ee.highlight?"text-atlas-success":"text-foreground",children:ee.value})]},ee.label))})]})]}),h.jsx(Y0,{}),h.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[h.jsxs("p",{children:["Sandbox ID: ",E.spawnResult?E.spawnResult.sandboxId??"pending":"not launched"]}),Array.isArray((_e=E.spawnResult)==null?void 0:_e.logs)&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"font-medium text-foreground",children:"Launch log"}),h.jsx("ul",{className:"space-y-0.5",children:E.spawnResult.logs.map(ee=>h.jsx("li",{children:ee.message},`${ee.timestamp}-${ee.message}`))})]})]}),h.jsx(Ye,{variant:"secondary",onClick:()=>n(!1),className:"w-full",children:"Done"})]})]}),h.jsxs(Yg,{value:"manual",className:"mt-6 space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"name",children:"Agent name"}),h.jsx(co,{id:"name",value:a,onChange:ee=>l(ee.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"role",children:"Role & instructions"}),h.jsx(mr,{id:"role",value:c,onChange:ee=>u(ee.target.value),className:"min-h-[100px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"objectives",children:"Objectives"}),h.jsx(mr,{id:"objectives",placeholder:"One objective per line",value:f,onChange:ee=>d(ee.target.value),className:"min-h-[100px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"tools",children:"Tools (comma separated)"}),h.jsx(mr,{id:"tools",placeholder:"Slack, Notion, CRM",value:m,onChange:ee=>p(ee.target.value),className:"min-h-[80px]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{htmlFor:"memory",children:"Memory context"}),h.jsx(mr,{id:"memory",placeholder:"Provide any default context or shared state",value:w,onChange:ee=>v(ee.target.value),className:"min-h-[80px]"})]}),h.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-border/60 bg-muted/10 p-4",children:[h.jsxs("div",{className:"space-y-1 pr-4",children:[h.jsx(ft,{className:"text-sm font-semibold",children:"Autonomous internet access"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Disabled by default. Enable to allow browsing, summarization, and citations via the secure proxy."})]}),h.jsx(Vc,{checked:b,onCheckedChange:y})]}),_&&h.jsx("p",{className:"text-xs text-destructive",children:_}),h.jsx(Ye,{onClick:ye,disabled:x,className:"w-full",children:x?"Creating...":"Create agent"})]})]})]})})}const xi=fh(e=>({agents:{},links:{},lastMessage:void 0,updateGraph:n=>e(()=>({agents:Object.fromEntries(n.agents.map(r=>[r.id,r])),links:Object.fromEntries(n.links.map(r=>[r.id,r]))})),updateState:n=>e(r=>{const o=r.agents[n.agentId],s={...r.agents};o&&typeof n.isTalking=="boolean"&&(s[n.agentId]={...o,isTalking:n.isTalking});const i={...r.links};if(n.linkActivity){const a=`${n.agentId}::${n.linkActivity.targetId}`,l=i[a]??{id:a,source:n.agentId,target:n.linkActivity.targetId,isActive:!1};i[a]={...l,isActive:n.linkActivity.isActive,lastMessageId:n.linkActivity.messageId??l.lastMessageId}}return{agents:s,links:i,lastMessage:n.message??r.lastMessage}}),pushMessage:n=>e(()=>({lastMessage:n})),clear:()=>e({agents:{},links:{},lastMessage:void 0})}));function X7(e){return JSON.parse(JSON.stringify(e))}const lc=fh(e=>({pipeline:null,sessionId:null,setPipeline:(n,r)=>e({pipeline:X7(n),sessionId:r??null}),clear:()=>e({pipeline:null,sessionId:null})})),mA="atlas_automations",Ys="atlas_last_automation_id",b1=2e3,On=e=>typeof e=="object"&&e!==null,Yn=(e,n)=>`${e}::${n}`,gA=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`automation-${Math.random().toString(36).slice(2,10)}`,sd=e=>{var s,i,a,l;const n=e.id.toLowerCase(),r=((i=(s=e.name)==null?void 0:s.toLowerCase)==null?void 0:i.call(s))??"",o=((l=(a=e.role)==null?void 0:a.toLowerCase)==null?void 0:l.call(a))??"";return n.includes("meta")&&n.includes("controller")||r.includes("meta controller")||o.includes("meta controller")||o.includes("meta-controller")||o==="meta"},pu=()=>{if(typeof window>"u")return null;const e=window.supabase??window.__supabase__;return e&&typeof e.from=="function"?e:null},mu=()=>{if(typeof window>"u")return"remote";const e=window.atlasConfig;return((e==null?void 0:e.persistenceMode)??void 0??"remote")==="local"?"local":"remote"},Gp=e=>e.length===0?"":e.length===1?e[0]:e.length===2?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`,gu=e=>{if(!On(e))return null;const n=typeof e.id=="string"?e.id:typeof e.uuid=="string"?e.uuid:gA(),r=e.name??e.title??"Untitled Automation",o=typeof r=="string"&&r.trim().length>0?r:"Untitled Automation",s=typeof e.description=="string"?e.description:typeof e.summary=="string"?e.summary:void 0,i=e.data??e.blueprint??e.payload??{},a=typeof e.createdAt=="string"?e.createdAt:typeof e.created_at=="string"?e.created_at:new Date().toISOString(),l=typeof e.updatedAt=="string"?e.updatedAt:typeof e.updated_at=="string"?e.updated_at:a;let c;if(On(i))c=i;else try{c=JSON.parse(String(i))}catch{c={}}return{id:n,name:o,description:s,data:c,createdAt:a,updatedAt:l}},Qa=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem(mA);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n.map(o=>gu(o)).filter(o=>o!==null):[]}catch(e){return console.warn("Failed to read automations from localStorage",e),[]}},ev=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(mA,JSON.stringify(e))}catch(n){console.warn("Failed to write automations to localStorage",n)}};async function Q7(){var e;if(mu()==="remote"){const n=pu();if(n)try{const r=n.from("automations");let o=(e=r.select)==null?void 0:e.call(r,"*");o&&typeof o.order=="function"&&(o=o.order("created_at",{ascending:!0}));const{data:s,error:i}=await o??{data:null,error:null};if(i)throw new Error(i.message??"Failed to load automations from Supabase");return Array.isArray(s)?s.map(a=>gu(a)).filter(a=>a!==null):[]}catch(r){return console.warn("Supabase automation load failed, falling back to localStorage",r),Qa()}}return Qa()}async function Z7(e){var r,o,s,i,a,l,c,u;if(mu()==="remote"){const f=pu();if(f)try{const d=f.from("automations"),m=(a=(s=(r=d.select)==null?void 0:(o=r.call(d,"*")).eq)==null?void 0:(i=s.call(o,"id",e)).maybeSingle)==null?void 0:a.call(i),{data:p,error:w}=await(m??((u=(l=d.select)==null?void 0:(c=l.call(d,"*")).eq)==null?void 0:u.call(c,"id",e)))??{data:null,error:null};if(w)throw new Error(w.message??"Failed to load automation");return gu(p)}catch(d){console.warn("Supabase automation lookup failed, falling back to local cache",d)}}return Qa().find(f=>f.id===e)??null}async function J7(e,n,r){var a,l,c;const o=new Date().toISOString(),s={id:gA(),name:e.trim().length>0?e:"Untitled Automation",description:(n==null?void 0:n.trim())||void 0,data:r,createdAt:o,updatedAt:o};if(mu()==="remote"){const u=pu();if(u)try{const f=u.from("automations");let d=(a=f.insert)==null?void 0:a.call(f,[{id:s.id,name:s.name,description:s.description??null,data:s.data,created_at:s.createdAt,updated_at:s.updatedAt}]);d&&typeof d.select=="function"&&(d=((c=(l=d.select("*")).maybeSingle)==null?void 0:c.call(l))??d.select("*"));const{data:m,error:p}=await d??{data:null,error:null};if(p)throw new Error(p.message??"Failed to create automation");const w=gu(m);if(w)return w}catch(f){console.warn("Supabase automation creation failed, falling back to localStorage",f)}}const i=Qa();return i.push(s),ev(i),s}async function eU(e,n,r,o){var f,d,m,p,w;const s=new Date().toISOString(),i={id:e,name:n.trim().length>0?n:"Untitled Automation",description:(r==null?void 0:r.trim())||void 0,data:o,updated_at:s,updatedAt:s};if(mu()==="remote"){const v=pu();if(v)try{const b=v.from("automations");let y=(m=(f=b.update)==null?void 0:(d=f.call(b,{name:i.name,description:i.description??null,data:i.data,updated_at:i.updated_at})).eq)==null?void 0:m.call(d,"id",e);y&&typeof y.select=="function"&&(y=((w=(p=y.select("*")).maybeSingle)==null?void 0:w.call(p))??y.select("*"));const{data:x,error:S}=await y??{data:null,error:null};if(S)throw new Error(S.message??"Failed to save automation");const _=gu(x);return _||{id:e,name:i.name,description:i.description,data:i.data,createdAt:s,updatedAt:s}}catch(b){console.warn("Supabase automation save failed, falling back to localStorage",b)}}const a=Qa(),l=a.findIndex(v=>v.id===e),c=a[l],u={id:e,name:i.name,description:i.description,data:o,createdAt:(c==null?void 0:c.createdAt)??s,updatedAt:s};return l>=0?a[l]=u:a.push(u),ev(a),u}async function tU(e){var r,o,s,i;if(!e)return;if(mu()==="remote"){const a=pu();if(a)try{const l=a.from("automations");await(((s=(r=l.delete)==null?void 0:(o=r.call(l)).eq)==null?void 0:s.call(o,"id",e))??((i=l.delete)==null?void 0:i.call(l)))}catch(l){console.warn("Supabase automation delete failed, falling back to localStorage",l)}}const n=Qa().filter(a=>a.id!==e);ev(n)}const nU=e=>{if(!On(e))return null;const n=typeof e.version=="number"?e.version:1;let r={};if(On(e.positions)){const l={};for(const[c,u]of Object.entries(e.positions))On(u)&&typeof u.x=="number"&&typeof u.y=="number"&&(l[c]={x:u.x,y:u.y});r=l}else if(Array.isArray(e.nodes)){const l={};for(const c of e.nodes)On(c)&&typeof c.id=="string"&&On(c.position)&&typeof c.position.x=="number"&&typeof c.position.y=="number"&&(l[c.id]={x:c.position.x,y:c.position.y});r=l}const o=[],s=Array.isArray(e.edges)?e.edges:Array.isArray(e.links)?e.links:[];for(const l of s){if(!On(l))continue;const c=typeof l.source=="string"?l.source:typeof l.from=="string"?l.from:void 0,u=typeof l.target=="string"?l.target:typeof l.to=="string"?l.to:void 0;if(!c||!u)continue;const f=typeof l.id=="string"&&l.id.length>0?l.id:typeof l.key=="string"?l.key:Yn(c,u),d=On(l.metadata)?l.metadata:void 0;o.some(m=>m.id===f)||o.push({id:f,source:c,target:u,metadata:d})}const i=On(e.metadata)?e.metadata:void 0;let a=null;if(On(e.pipeline))try{a=JSON.parse(JSON.stringify(e.pipeline))}catch{a=e.pipeline}return{version:n,positions:r,edges:o,metadata:i,pipeline:a}},rU=(e,n,r,o,s)=>{const i={};e.forEach((c,u)=>{const f=Gl(u,e.length),d=n[c.id]??f;i[c.id]={x:d.x,y:d.y}});const a=[],l=new Set;return r.forEach(c=>{const u=Yn(c.source,c.target);l.has(u)||(l.add(u),a.push(c))}),{version:1,positions:i,edges:a.map(c=>({id:c.id,source:c.source,target:c.target,metadata:c.metadata})),metadata:s,pipeline:o?JSON.parse(JSON.stringify(o)):null}},oU={start:jF,agent:MF},_o={AtlasContractsAgent:{objectives:["Continuously ingest and summarize new contract updates coming from Atlas systems.","Surface risks, key dates, and required actions to the Atlas Meta Controller.","Keep downstream agents informed about contract status changes and approvals."],memoryContext:"Maintain a running digest of all contract negotiations, approvals, obligations, and deadlines. Include current owners, counterparties, renewal windows, and signature status for each agreement.",instructions:["Poll Atlas Bridge contracts endpoint on the cadence provided by the orchestrator.","Annotate each contract event with risk level, next action, and responsible team.","Publish concise summaries to the routing queue for finance and operations agents."]},AtlasTasksAgent:{objectives:["Aggregate tasks created across Atlas products and partner systems.","Detect blockers or overdue work and notify the responsible Atlas squad.","Feed prioritized task lists to downstream execution agents."],memoryContext:"Track active tasks, owners, dependencies, and due dates. Record context about blockers, escalation status, and linked documents so other agents can execute without re-querying the source.",instructions:["Ingest task updates from Atlas Bridge every time the orchestrator signals new activity.","Normalize task metadata (status, owner, effort) and highlight changes since last poll.","Dispatch curated task summaries to the Atlas Meta Controller and subscribers."]},AtlasInvoicesAgent:{objectives:["Monitor invoices flowing through Atlas finance and flag anomalies.","Coordinate with Atlas Contracts and Accounts Receivable agents to resolve issues.","Provide real-time reporting on invoice status, payments, and delinquencies."],memoryContext:"Maintain invoice ledgers with invoice numbers, customers, payment status, and outstanding balances. Include cross-links to underlying contracts and tasks required for resolution.",instructions:["Fetch invoice snapshots from Atlas Bridge finance endpoints on each trigger.","Detect discrepancies such as overdue invoices, missing PO numbers, or mismatched totals.","Escalate critical invoice events to the Meta Controller and notify finance stakeholders."]},AtlasNotifyAgent:{objectives:["Broadcast critical Atlas platform events to subscribed channels.","Route notifications to the correct downstream agents based on severity and topic.","Ensure Meta Controller has concise digests for decision making."],memoryContext:"Store notification templates, routing preferences, and recent alerts. Track which squads have acknowledged alerts and outstanding follow-ups.",instructions:["Receive upstream events from Atlas agents and format them for the notify pipeline.","Select delivery channels (Slack, email, dashboards) based on routing rules.","Log delivery receipts and escalate if acknowledgements are missing."]},AtlasWorkspaceAgent:{objectives:["Synthesize Atlas workspace activity into actionable summaries.","Highlight collaboration hotspots, blockers, and opportunities.","Support other agents with contextual workspace intelligence."],memoryContext:"Capture workspace artifacts, recent collaboration threads, and project milestones. Maintain snapshots so other agents can reference historical context without re-fetching data.",instructions:["Query Atlas workspace APIs on demand from orchestration triggers.","Summarize key updates, tagging the relevant squads and linking follow-up tasks.","Publish structured insights to downstream automation pipelines."]},AtlasBridgeAgent:{objectives:["Serve as the gateway between Atlas agents and external data sources.","Normalize responses from Atlas Bridge endpoints for downstream consumption.","Enforce rate limiting and authentication policies for bridge traffic."],memoryContext:"Retain metadata about recent bridge calls, caching policies, and API schemas. Keep diagnostics for throttling events and upstream errors to assist debugging.",instructions:["Handle bridge requests from sibling agents, applying auth credentials securely.","Transform responses into standardized payloads and flag anomalies.","Record usage metrics and surface them to monitoring agents."]}},sU=(e,n,r)=>{const o=r.objectives,s=Array.isArray(o)?o.map(f=>String(f).trim()).filter(f=>f.length>0):typeof o=="string"?o.split(/[\n\r]+/).map(f=>f.trim()).filter(f=>f.length>0):[],i=r.memoryContext??r.memory_context??r.memory,a=typeof i=="string"&&i.trim().length>0?i.trim():void 0,l=r.instructions??r.workplan,c=Array.isArray(l)?l.map(f=>String(f).trim()).filter(f=>f.length>0):typeof l=="string"?l.split(/[\n\r]+/).map(f=>f.trim()).filter(f=>f.length>0):[];if(s.length||c.length){const f=S1(e,n);return{objectives:s.length?s:f.objectives,memoryContext:a??f.memoryContext,instructions:c.length?c:f.instructions}}const u=e&&_o[e];return u||S1(e,n)},S1=(e,n)=>{if(e&&_o[e])return _o[e];const r=n.toLowerCase();if(r.includes("contract"))return _o.AtlasContractsAgent;if(r.includes("invoice")||r.includes("bill"))return _o.AtlasInvoicesAgent;if(r.includes("task")||r.includes("todo"))return _o.AtlasTasksAgent;if(r.includes("notify")||r.includes("alert"))return _o.AtlasNotifyAgent;if(r.includes("workspace"))return _o.AtlasWorkspaceAgent;if(r.includes("bridge"))return _o.AtlasBridgeAgent;const o=n.trim().length>0?n.trim():"Atlas Agent";return{objectives:[`Execute the "${o}" responsibilities for the Atlas automation network.`,"Collaborate with sibling agents by publishing actionable summaries.","Report key outcomes and anomalies back to the Atlas Meta Controller."],memoryContext:`Maintain the working memory for the ${o} agent, capturing inputs, decisions, escalations, and outputs so that sibling agents can pick up work seamlessly.`,instructions:[`Ingest relevant signals for the "${o}" domain.`,"Transform raw data into structured insights and tasks for downstream agents.","Log context-rich updates to the shared memory store for auditability."]}},iU={id:"start",type:"start",position:{x:0,y:0},data:{label:"Start"},draggable:!1},Tl=e=>e.startsWith("pipeline:")?e.slice(9):e,Gl=(e,n)=>{if(n<=0)return{x:0,y:0};const s=Math.max(320,n*180/(2*Math.PI)),i=e/n*2*Math.PI;return{x:Math.cos(i)*s,y:Math.sin(i)*s}};function aU(){const e=ll(),{toast:n}=rl(),[r,o]=g.useState(!1),[s,i]=g.useState(!1),[a,l]=g.useState({}),[c,u]=g.useState("Untitled Automation"),[f,d]=g.useState(""),[m,p]=g.useState(!1),[w,v]=g.useState(!1),[b,y]=g.useState("__new"),[x,S]=g.useState([]),[_,C]=g.useState(!1),[k,N]=g.useState(null),[A,T]=g.useState([]),[P,O]=g.useState(null),[D,F]=g.useState(!1),[E,L]=g.useState(!1),[R,W]=g.useState([]),[I,j]=g.useState(null),[H,M]=g.useState(null),[$,Y]=g.useState(!1),[q,Z]=g.useState(!1),[ce,X]=g.useState(""),[pe,ne]=g.useState(!1),[ie,le]=g.useState(null),ye=lc(G=>G.setPipeline),Pe=lc(G=>G.clear),ve=lc(G=>G.pipeline),[re,Se]=g.useState(!1),_e=g.useRef(null),ee=g.useRef(null),De=g.useRef(!1),Be=g.useRef(null),$e=g.useRef(null),[ze,ct]=g.useState(null),rt=g.useCallback(()=>{W([]),Y(!1),M(null),j(null)},[]),an=xi(G=>G.agents),ot=xi(G=>G.links),{data:Me=[],isLoading:jn}=Bo({queryKey:["agents"],queryFn:()=>_t.listAgents(),select:G=>G.items,refetchInterval:15e3});g.useEffect(()=>{l(G=>{const Q={...G};let K=!1;const ae=Me.length;return Me.forEach((he,se)=>{Q[he.id]||(Q[he.id]=Gl(se,ae),K=!0)}),K?Q:G})},[Me]);const sr=kd({mutationFn:G=>_t.createAgent(G),onSuccess:G=>{n({title:"Agent created",description:`${G.name} is now available.`}),e.invalidateQueries({queryKey:["agents"]})},onError:G=>{n({title:"Failed to create agent",description:G.message,variant:"destructive"})}}),dt=kd({mutationFn:G=>_t.deleteAgent(G),onSuccess:()=>{n({title:"Agent removed"}),e.invalidateQueries({queryKey:["agents"]})},onError:G=>{n({title:"Failed to delete agent",description:G.message,variant:"destructive"})}}),Nt=kd({mutationFn:({id:G,updates:Q})=>_t.updateAgent(G,Q),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})},onError:G=>{n({title:"Failed to update agent",description:G.message,variant:"destructive"})}}),xt=kf(G=>G.selectedAgentId),Qe=kf(G=>G.selectAgent),Dt=g.useMemo(()=>Me.find(G=>G.id===xt)??null,[Me,xt]),ln=g.useMemo(()=>new Set(R),[R]),st=g.useCallback(G=>{if(rt(),!G){O(null),y("__new"),u("Untitled Automation"),d(""),T([]),l({}),v(!1),Pe(),Qe(null),Se(!1),_e.current=null,typeof window<"u"&&window.localStorage.removeItem(Ys);return}O(G),y(G.id),u(G.name),d(G.description??""),v(!1);const Q=nU(G.data);if(Q){l(()=>{const ae={};return Object.entries(Q.positions).forEach(([he,se])=>{ae[Tl(he)]=se}),ae}),T(Q.edges.map(ae=>({id:ae.id,source:ae.source,target:ae.target,metadata:ae.metadata}))),Q.pipeline?ye(Q.pipeline,null):Pe(),Q.metadata&&typeof Q.metadata.selectedAgentId=="string"?Qe(Q.metadata.selectedAgentId):Qe(null);const K=(()=>{try{return JSON.stringify({pipeline:Q.pipeline??null,positions:Q.positions,persistedEdges:Q.edges,name:G.name.trim(),description:(G.description??"").trim()})}catch{return`${Date.now()}`}})();_e.current=K}else l({}),T([]),Pe(),Qe(null),_e.current=null;ee.current&&(window.clearTimeout(ee.current),ee.current=null),Se(!1),typeof window<"u"&&window.localStorage.setItem(Ys,G.id),console.log(`[automation-persist] Auto-loaded automation "${G.name}"`)},[rt,Pe,Qe,ye,d,u]),Qt=g.useCallback(async G=>{var xv;if(rt(),Qe(null),!G||G.length===0)return"No changes detected.";const Q=ve??{name:c.trim()||"Untitled Automation",nodes:[],edges:[]},K=JSON.parse(JSON.stringify(Q)),ae=new Set,he=[],se=[],Le=[],Ge=[],Ue=new Set;let tt=!1,zt=!1,Vn=!1,Go=!1,Cr=null,bu=!1;const Vh=J=>{const oe=(J&&J.trim().length>0?J.trim():void 0)??`node-${Math.random().toString(36).slice(2,8)}`;if(!K.nodes.some(Ze=>Ze.id===oe))return oe;let fe=2,Ne=`${oe}-${fe}`;for(;K.nodes.some(Ze=>Ze.id===Ne);)fe+=1,Ne=`${oe}-${fe}`;return Ne},Su=new Map,qt=(J,oe)=>{J&&Su.set(J,oe)};K.nodes.forEach(J=>{var oe,fe;qt(J.id,J.id),typeof J.agent=="string"&&qt(J.agent,J.id),typeof((oe=J.config)==null?void 0:oe.label)=="string"&&qt(J.config.label,J.id),typeof((fe=J.config)==null?void 0:fe.agentId)=="string"&&qt(J.config.agentId,J.config.agentId)});const zi=[...Me];zi.forEach(J=>{qt(J.id,J.id),qt(J.name,J.id),qt(J.role,J.id)});const bT=J=>{const oe=K.nodes.find(Ze=>Ze.id===J);if(oe)return oe;const fe=Vh(J),Ne={id:fe,agent:J,type:"Action",config:{}};return K.nodes.push(Ne),ae.add(J),Le.push(fe),tt=!0,Ne},Wn=J=>{const oe=Su.get(J);if(oe)return oe;if(K.nodes.some(Ne=>Ne.id===J)||zi.some(Ne=>Ne.id===J))return J;const fe=zi.find(Ne=>Ne.name===J||Ne.role===J);return fe?(qt(J,fe.id),fe.id):bT(J).id},mv=J=>J?["persist","persistent","save","persistEdge"].some(fe=>J[fe]===!0||J[fe]==="true"):!1,gv=(J,oe,fe)=>{const Ne=Yn(J,oe);Ue.delete(Ne),Ge.push({id:typeof(fe==null?void 0:fe.id)=="string"&&fe.id.length>0?fe.id:Ne,source:J,target:oe,metadata:fe})},yv=(J,oe)=>{const fe=Yn(J,oe);Ue.add(fe)},ST=J=>{A.forEach(oe=>{(oe.source===J||oe.target===J)&&Ue.add(Yn(oe.source,oe.target))})},Wh=(J,oe)=>{const fe=Wn(J),Ne=Tl(fe);l(Ze=>{const Pt={...Ze},cn=Pt[Ne];return cn&&cn.x===oe.x&&cn.y===oe.y?Ze:(Vn=!0,Pt[Ne]={x:oe.x,y:oe.y},Pt)})},_T=async J=>{const oe=On(J.metadata)?J.metadata:{},Ne=[typeof oe.agentId=="string"?oe.agentId:void 0,J.id,J.agentType,J.label].map(Jt=>typeof Jt=="string"?Jt.trim():"").filter(Jt=>Jt.length>0);let Ze=null;for(const Jt of Ne){const wt=Su.get(Jt);if(wt){Ze=wt;break}}if(!Ze)for(const Jt of Ne){const wt=Jt.toLowerCase(),Pn=zi.find(Gs=>Gs.id===Jt?!0:(typeof Gs.name=="string"?Gs.name.toLowerCase():"")===wt);if(Pn){Ne.forEach(Gs=>qt(Gs,Pn.id)),Ze=Pn.id;break}}const Pt=(J.label&&J.label.trim().length>0?J.label.trim():J.agentType&&J.agentType.trim().length>0?J.agentType.trim():J.id&&J.id.trim().length>0?J.id.trim():`Agent ${Math.random().toString(36).slice(2,6)}`).slice(0,80),cn=typeof oe.role=="string"?oe.role.trim():"",xn=cn.length>0?cn:J.agentType??Pt,un=sU(J.agentType,Pt,oe),kr={};On(oe.tools)&&Object.entries(oe.tools).forEach(([Jt,wt])=>{Jt&&typeof Jt=="string"&&(kr[Jt]=!!wt)});let Wr=Ze;if(!Wr){const Jt={name:Pt,role:xn,tools:kr,objectives:un.objectives};Jt.memory_context=un.memoryContext,typeof oe.internet_access_enabled=="boolean"&&(Jt.internet_access_enabled=oe.internet_access_enabled);try{const wt=await _t.createAgent(Jt);zi.push(wt),e.setQueryData(["agents"],Pn=>Pn?Pn.items.some(Gs=>Gs.id===wt.id)?Pn:{items:[...Pn.items,wt]}:{items:[wt]}),Ne.forEach(Pn=>qt(Pn,wt.id)),qt(wt.name,wt.id),qt(wt.role,wt.id),qt(wt.id,wt.id),ae.add(wt.name),bu=!0,Wr=wt.id}catch(wt){console.error("[automation-builder] Failed to create agent from prompt",wt),n({title:"Failed to create agent",description:wt instanceof Error?wt.message:"Unknown error occurred.",variant:"destructive"});const Pn=Vh(J.id??J.label);qt(Pn,Pn),ae.add(Pt),Wr=Pn}}return Wr||(Wr=Vh(J.id??J.label)),oe.objectives=un.objectives,oe.memoryContext=un.memoryContext,oe.instructions=un.instructions,{id:Wr,profile:un}},CT=G.filter(J=>J.type==="create_node");for(const J of CT){const oe=J.node??{},{id:fe,profile:Ne}=await _T(oe),Ze=zi.some(Wr=>Wr.id===fe);Ze&&!Su.has(fe)&&qt(fe,fe),qt(oe.id,fe),qt(oe.agentType,fe),qt(oe.label,fe);const Pt=oe.agentType??oe.id??fe,cn=oe.type??"Action",xn={...oe.config??{}};oe.label&&(xn.label=oe.label);const un=On(oe.metadata)?{...oe.metadata}:{};un.objectives=Ne.objectives,un.memoryContext=Ne.memoryContext,un.instructions=Ne.instructions,xn.metadata=un,xn.agentId=fe;const kr=K.nodes.findIndex(Wr=>Wr.id===fe);kr>=0?K.nodes[kr]={...K.nodes[kr],agent:Pt,type:cn,config:{...K.nodes[kr].config,...xn}}:(K.nodes.push({id:fe,agent:Pt,type:cn,config:xn}),Le.push(fe)),tt=!0,Ze||ae.add(oe.label??Pt??fe),oe.position&&Wh(fe,oe.position)}for(const J of G.filter(oe=>oe.type!=="create_node"))switch(J.type){case"update_node":{const oe=Wn(J.id),fe=K.nodes.find(Ne=>Ne.id===oe);if(!fe){console.warn("[automation-builder] update_node target not found",J.id);break}J.agentType&&(fe.agent=J.agentType),J.nodeType&&(J.nodeType==="Trigger"||J.nodeType==="Processor"||J.nodeType==="Action")&&(fe.type=J.nodeType),J.config&&(fe.config={...fe.config,...J.config}),J.label&&(fe.config={...fe.config,label:J.label}),J.metadata&&(fe.config={...fe.config,metadata:{...(xv=fe.config)==null?void 0:xv.metadata,...J.metadata}}),J.position&&Wh(oe,J.position),tt=!0;break}case"delete_node":{const oe=Wn(J.id),fe=K.nodes.findIndex(Ne=>Ne.id===oe);fe>=0&&(K.nodes.splice(fe,1),K.edges=K.edges.filter(Ne=>Ne.from!==oe&&Ne.to!==oe),ST(oe),tt=!0);break}case"connect_nodes":{const oe=Wn(J.from),fe=Wn(J.to);K.edges.some(Ze=>Ze.from===oe&&Ze.to===fe)||(K.edges.push({from:oe,to:fe}),tt=!0),he.push(`${oe}  ${fe}`),mv(J.metadata)&&gv(oe,fe,J.metadata);break}case"disconnect_nodes":{const oe=Wn(J.from),fe=Wn(J.to),Ne=K.edges.length;K.edges=K.edges.filter(Ze=>!(Ze.from===oe&&Ze.to===fe)),K.edges.length!==Ne&&(tt=!0),yv(oe,fe);break}case"create_edge":{const oe=Wn(J.edge.from),fe=Wn(J.edge.to);K.edges.some(Ze=>Ze.from===oe&&Ze.to===fe)||(K.edges.push({from:oe,to:fe}),tt=!0),he.push(`${oe}  ${fe}`),mv(J.edge.metadata)&&gv(oe,fe,J.edge.metadata);break}case"delete_edge":{const oe=Wn(J.edge.from),fe=Wn(J.edge.to),Ne=K.edges.length;K.edges=K.edges.filter(Ze=>!(Ze.from===oe&&Ze.to===fe)),K.edges.length!==Ne&&(tt=!0),yv(oe,fe);break}case"set_position":{Wh(J.id,J.position);break}case"set_positions":{const oe=Object.entries(J.positions??{});oe.length>0&&l(fe=>{const Ne={...fe};let Ze=!1;return oe.forEach(([Pt,cn])=>{const xn=Wn(Pt),un=Tl(xn),kr=Ne[un];(!kr||kr.x!==cn.x||kr.y!==cn.y)&&(Ne[un]={x:cn.x,y:cn.y},Ze=!0)}),Ze?(Vn=!0,Ne):fe});break}case"focus_node":{const oe=Wn(J.id);(Me.some(fe=>fe.id===oe)||K.nodes.some(fe=>fe.id===oe))&&(Cr=oe);break}case"update_metadata":{J.name&&J.name.trim().length>0&&(K.name=J.name.trim(),u(J.name.trim()),se.push(`name  ${J.name.trim()}`),zt=!0),typeof J.description=="string"&&(d(J.description),se.push("description"),zt=!0),J.data&&Object.keys(J.data).length>0&&(se.push("metadata"),zt=!0);break}default:{console.warn("[automation-builder] Unhandled instruction action",J);break}}if(Le.length>0&&l(J=>{const oe={...J};let fe=Object.keys(oe).length+1,Ne=!1;return Le.forEach(Ze=>{const Pt=Tl(Ze);oe[Pt]||(oe[Pt]=Gl(fe,fe+1),fe+=1,Ne=!0)}),Ne?(Vn=!0,oe):J}),(Ge.length>0||Ue.size>0)&&T(J=>{let oe=J.filter(Ne=>!Ue.has(Yn(Ne.source,Ne.target))),fe=oe.length!==J.length;return Ge.forEach(Ne=>{const Ze=Yn(Ne.source,Ne.target),Pt=oe.findIndex(xn=>Yn(xn.source,xn.target)===Ze),cn=JSON.stringify(Ne.metadata??{});if(Pt>=0){const xn=oe[Pt],un=JSON.stringify(xn.metadata??{});(xn.id!==Ne.id||un!==cn)&&(oe=[...oe.slice(0,Pt),Ne,...oe.slice(Pt+1)],fe=!0)}else oe=[...oe,Ne],fe=!0}),fe?(Go=!0,oe):J}),(tt||zt)&&ye(K,null),(tt||zt||Vn||Go)&&Se(!0),Cr&&Me.some(J=>J.id===Cr)&&Qe(Cr),bu)try{await e.invalidateQueries({queryKey:["agents"]})}catch(J){console.warn("[automation-builder] failed to refresh agents",J)}const Fi=[],vv=Array.from(ae);return vv.length&&Fi.push(`Created ${Gp(vv)}`),he.length&&Fi.push(`Connected ${Gp(he)}`),se.length&&Fi.push(`Updated ${Gp(se)}`),!Fi.length&&!tt&&!zt&&!Vn&&!Go&&Fi.push("No changes applied"),`${Fi.join(". ")}.`},[Me,c,ve,rt,Qe,d,Se,u,A,T,l,ye,e,n]),ir=g.useCallback(async()=>{C(!0);try{const G=await Q7();return S(G),N(null),G}catch(G){const Q=G instanceof Error?G.message:"Failed to load automations";return N(Q),n({title:"Failed to load automations",description:Q,variant:"destructive"}),[]}finally{C(!1)}},[n]);g.useEffect(()=>{let G=!0;return(async()=>{const Q=await ir();if(G)if(Q.length>0){const K=typeof window<"u"?window.localStorage.getItem(Ys):null,ae=(K?Q.find(he=>he.id===K):void 0)??Q[0];st(ae)}else st(null)})(),()=>{G=!1}},[st,ir]);const V=g.useMemo(()=>{const G=(ve==null?void 0:ve.nodes.map((K,ae)=>{var Vn,Go,Cr;const he=typeof((Vn=K.config)==null?void 0:Vn.agentId)=="string"?K.config.agentId:void 0,se=he?Me.find(bu=>bu.id===he):void 0,Le=`pipeline:${K.id}`;if(se)return null;const Ge=(se==null?void 0:se.name)??(typeof((Go=K.config)==null?void 0:Go.label)=="string"&&K.config.label.trim().length>0?K.config.label.trim():K.agent??K.id)??`Node ${ae+1}`,Ue=a[K.id]??Gl(ae,((ve==null?void 0:ve.nodes.length)??0)+Me.length+1),tt=(se==null?void 0:se.id)??K.id,zt=!se;return{id:Le,type:"agent",position:Ue,data:{name:Ge,status:(se==null?void 0:se.status)??"design",role:(se==null?void 0:se.role)??K.type,isTalking:se?((Cr=an[se.id])==null?void 0:Cr.isTalking)??!1:!1,isVirtual:zt,sourceId:tt},draggable:!0,selectable:!0,selected:ln.has(Le)}}).filter(K=>K!==null))??[],Q=Me.map((K,ae)=>{var he;return{id:K.id,type:"agent",position:a[K.id]??Gl(ae,Me.length),data:{name:K.name,status:K.status,role:K.role,isTalking:((he=an[K.id])==null?void 0:he.isTalking)??!1,isVirtual:!1,sourceId:K.id},selected:xt===K.id||ln.has(K.id)}});return[iU,...G,...Q]},[Me,ve,an,a,xt,ln]);g.useEffect(()=>{if(!ze||V.length===0)return;const G=requestAnimationFrame(()=>{try{ze.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(Q){console.warn("[agent-network] fitView failed",Q)}});return()=>cancelAnimationFrame(G)},[V,ze]);const te=g.useMemo(()=>{const G=new Set(Me.map(Q=>Q.id));return Object.values(ot).filter(Q=>G.has(Q.source)&&G.has(Q.target)).map(Q=>({id:Q.id,source:Q.source,target:Q.target,animated:Q.isActive,style:{stroke:Q.isActive?"#facc15":"#6366f1",strokeWidth:Q.isActive?3:1.5,opacity:Q.isActive?1:.8},data:{isActive:Q.isActive}}))},[ot,Me]),ge=g.useMemo(()=>{const G=new Set(Me.map(Q=>Q.id));return A.filter(Q=>G.has(Q.source)&&G.has(Q.target)).map(Q=>({id:`saved-${Q.id}`,source:Q.source,target:Q.target,animated:!1,style:{stroke:"#818cf8",strokeWidth:2,opacity:.85,strokeDasharray:"6 3"},data:{persisted:!0,metadata:Q.metadata}}))},[Me,A]),Ce=g.useMemo(()=>{if(!ve)return[];const G=new Set(ve.nodes.map(K=>K.id)),Q=new Map;return ve.nodes.forEach(K=>{var he;const ae=typeof((he=K.config)==null?void 0:he.agentId)=="string"?K.config.agentId:void 0;ae&&Me.some(se=>se.id===ae)&&Q.set(K.id,ae)}),ve.edges.map(K=>{const ae=Q.get(K.from),he=Q.get(K.to),se=G.has(K.from),Le=G.has(K.to),Ge=ae??(se?`pipeline:${K.from}`:K.from),Ue=he??(Le?`pipeline:${K.to}`:K.to);return{id:`pipeline-${Ge}-${Ue}`,source:Ge,target:Ue,animated:!0,style:{stroke:"#a855f7",strokeWidth:2,opacity:.9,strokeDasharray:"4 2"},data:{pipeline:!0}}})},[Me,ve]),me=g.useMemo(()=>{const G=new Set,Q=[],K=Ue=>{const tt=Yn(Ue.source,Ue.target);G.has(tt)||(G.add(tt),Q.push(Ue))};ge.forEach(K),te.forEach(K),Ce.forEach(K);const ae=Me.find(sd);if(ae&&!Q.some(tt=>tt.source===ae.id||tt.target===ae.id)){const tt={id:`meta-anchor-${ae.id}`,source:"start",target:ae.id,animated:!0,style:{stroke:"#f97316",strokeWidth:3,opacity:1},data:{metaController:!0}};K(tt)}const he=new Set;for(const Ue of Q)he.add(Ue.target);const se=(ve==null?void 0:ve.nodes.map(Ue=>`pipeline:${Ue.id}`))??[],Le=Me.filter(Ue=>!he.has(Ue.id)).map(Ue=>({id:`start-${Ue.id}`,source:"start",target:Ue.id,animated:!1,style:{stroke:"#3b82f6",strokeWidth:1.5,opacity:.6}})),Ge=se.filter(Ue=>!he.has(Ue)).map(Ue=>({id:`start-${Ue}`,source:"start",target:Ue,animated:!1,style:{stroke:"#6366f1",strokeWidth:1.5,opacity:.6,strokeDasharray:"2 2"}}));return[...Le,...Ge,...Q]},[Me,ve,te,Ce,ge]),Ve=g.useCallback(()=>{const G=new Map;A.forEach(K=>{G.set(Yn(K.source,K.target),K)}),Object.values(ot).forEach(K=>{G.set(Yn(K.source,K.target),{id:K.id??Yn(K.source,K.target),source:K.source,target:K.target,metadata:{isActive:K.isActive??!1,lastMessageId:K.lastMessageId??null}})});const Q=Me.find(sd);if(Q){const K=Yn("start",Q.id);G.has(K)||G.set(K,{id:`start-${Q.id}-meta`,source:"start",target:Q.id,metadata:{enforced:!0,label:"meta-controller-anchor"}})}return Array.from(G.values())},[Me,ot,A]),we=g.useCallback(()=>{const G={pipeline:ve??null,positions:a,persistedEdges:A,name:c.trim(),description:f.trim()};try{return JSON.stringify(G)}catch{return`${Date.now()}`}},[f,c,ve,A,a]),Ae=g.useCallback(async G=>{const Q=b;if(!Q||Q==="__new"){_e.current=we(),Se(!1);return}if(De.current&&Be.current){await Be.current;return}const K=async()=>{const he=ve?JSON.parse(JSON.stringify(ve)):{name:c.trim()||"Untitled Automation",nodes:[],edges:[]},se={selectedAgentId:xt??null,description:f??"",updatedAt:new Date().toISOString()},Le=rU(Me,a,Ve(),he,se);try{console.log(`[automation-persist] Saving automation "${c.trim()||"Untitled Automation"}"...`);const Ge=await eU(Q,c.trim()||"Untitled Automation",f,Le);O(Ge),u(Ge.name),d(Ge.description??""),typeof window<"u"&&window.localStorage.setItem(Ys,Ge.id),S(Ue=>{const tt=Ue.findIndex(zt=>zt.id===Ge.id);if(tt>=0){const zt=[...Ue];return zt[tt]=Ge,zt}return[...Ue,Ge]}),_e.current=G??we(),Se(!1),console.log(`[automation-persist] Saved automation "${Ge.name}" at ${new Date().toISOString()}`)}catch(Ge){console.error("[automation-persist] failed to save automation",Ge),n({title:"Failed to save automation",description:Ge instanceof Error?Ge.message:"Unknown error occurred.",variant:"destructive"})}};De.current=!0;const ae=K().finally(()=>{De.current=!1,Be.current=null});Be.current=ae,await ae},[Me,f,c,ve,Ve,we,a,b,xt,n]),ke=g.useCallback(async()=>{ee.current&&(window.clearTimeout(ee.current),ee.current=null),(De.current||re)&&await Ae()},[re,Ae]);g.useEffect(()=>()=>{ke()},[ke]);const Fe=g.useCallback(async()=>{await ke(),F(!0);try{rt();const G={name:"New Automation",nodes:[],edges:[]},Q={version:1,positions:{},edges:[],metadata:{createdAt:new Date().toISOString(),createdBy:"Atlas UI"},pipeline:G};ye(G,null),l({}),T([]),u("Untitled Automation"),d(""),p(!0),Se(!1),O(null),y("__new"),_e.current=(()=>{try{return JSON.stringify({pipeline:G,positions:{},persistedEdges:[],name:"Untitled Automation",description:""})}catch{return`${Date.now()}`}})();const K=await J7("Untitled Automation",void 0,Q);S(ae=>[...ae,K]),st(K),n({title:"New automation ready",description:"Customize the network layout and hit save when ready."})}catch(G){n({title:"Failed to create automation",description:G instanceof Error?G.message:"Unknown error occurred.",variant:"destructive"})}finally{F(!1)}},[st,rt,ke,n,ye]),Et=g.useCallback(async()=>{if(!b||b==="__new"){p(!1),O(null),u("Untitled Automation"),d(""),T([]),l({}),Pe(),Qe(null),S(Q=>Q.filter(K=>K.id!=="__new")),typeof window<"u"&&window.localStorage.removeItem(Ys);return}if(window.confirm(`Delete automation "${c.trim()||"Untitled Automation"}"? This cannot be undone.`)){L(!0);try{await ke(),await tU(b),S(K=>K.filter(ae=>ae.id!==b)),typeof window<"u"&&window.localStorage.getItem(Ys)===b&&window.localStorage.removeItem(Ys),n({title:"Automation deleted",description:`${c.trim()||"Untitled Automation"} removed.`}),rt(),p(!1);const Q=x.filter(K=>K.id!==b);Q.length>0?st(Q[0]):st(null)}catch(Q){console.error("[automation-builder] failed to delete automation",Q),n({title:"Failed to delete automation",description:Q instanceof Error?Q.message:"Unknown error occurred.",variant:"destructive"})}finally{L(!1)}}},[st,x,c,rt,Pe,ke,Qe,b,n]),Zt=g.useCallback(G=>{var he;if(!ze)return;const Q=new Set(Me.filter(se=>sd(se)).map(se=>se.id)),K=new Set;ze.getNodes().forEach(se=>{if(se.type!=="agent"||!se.positionAbsolute)return;const Ge=(se.data??{}).sourceId??(se.id.startsWith("pipeline:")?se.id.replace(/^pipeline:/,""):se.id);if(Ge&&Q.has(Ge))return;const Ue=se.width??0,tt=se.height??0,zt=se.positionAbsolute.x+Ue/2,Vn=se.positionAbsolute.y+tt/2;zt>=G.x1&&zt<=G.x2&&Vn>=G.y1&&Vn<=G.y2&&K.add(se.id)});const ae=Array.from(K);if(W(se=>se.length===ae.length&&se.every(Le=>K.has(Le))?se:ae),K.size===1){const[se]=ae;let Le=null;if(se.startsWith("pipeline:")){const Ge=se.replace(/^pipeline:/,""),Ue=ve==null?void 0:ve.nodes.find(zt=>zt.id===Ge),tt=((he=Ue==null?void 0:Ue.config)==null?void 0:he.agentId)??null;tt&&!Q.has(tt)&&(Le=tt)}else Q.has(se)||(Le=se);Le&&Me.some(Ge=>Ge.id===Le)?Qe(Le):Qe(null)}else Qe(null)},[Me,ve,ze,Qe]),_r=g.useCallback(G=>{if(!q||G.button!==0)return;const Q=G.target;if(Q.closest(".react-flow__node")||Q.closest(".react-flow__edge")||Q.closest(".react-flow__handle")||Q.closest(".react-flow__controls")||Q.closest(".react-flow__minimap")||!ze||!$e.current)return;G.preventDefault(),G.stopPropagation();const{left:K,top:ae}=$e.current.getBoundingClientRect(),he={x:G.clientX,y:G.clientY};rt(),Qe(null),j(he),M({left:he.x-K,top:he.y-ae,width:0,height:0}),Y(!0)},[rt,q,ze,Qe]),yn=g.useCallback(G=>{if(!$||!I||!ze||!$e.current)return;G.preventDefault(),G.stopPropagation();const{left:Q,top:K}=$e.current.getBoundingClientRect(),ae={x:G.clientX,y:G.clientY},he={left:Math.min(I.x,ae.x)-Q,top:Math.min(I.y,ae.y)-K,width:Math.abs(ae.x-I.x),height:Math.abs(ae.y-I.y)};M(he);const se=ze.project({x:I.x-Q,y:I.y-K}),Le=ze.project({x:ae.x-Q,y:ae.y-K}),Ge={x1:Math.min(se.x,Le.x),x2:Math.max(se.x,Le.x),y1:Math.min(se.y,Le.y),y2:Math.max(se.y,Le.y)};Zt(Ge)},[$,I,ze,Zt]),vn=g.useCallback(()=>{$&&(Y(!1),M(null),j(null))},[$]);g.useEffect(()=>{q||(Y(!1),M(null),j(null))},[q]);const Dh=g.useCallback(G=>{if($){if(G.preventDefault(),G.stopPropagation(),I&&ze&&$e.current){const{left:Q,top:K}=$e.current.getBoundingClientRect(),ae={x:G.clientX,y:G.clientY},he=ze.project({x:I.x-Q,y:I.y-K}),se=ze.project({x:ae.x-Q,y:ae.y-K}),Le={x1:Math.min(he.x,se.x),x2:Math.max(he.x,se.x),y1:Math.min(he.y,se.y),y2:Math.max(he.y,se.y)};Zt(Le)}vn()}},[vn,$,I,ze,Zt]),$h=g.useCallback(G=>{if($){if(G.preventDefault(),G.stopPropagation(),I&&ze&&$e.current){const{left:Q,top:K}=$e.current.getBoundingClientRect(),ae={x:G.clientX,y:G.clientY},he=ze.project({x:I.x-Q,y:I.y-K}),se=ze.project({x:ae.x-Q,y:ae.y-K}),Le={x1:Math.min(he.x,se.x),x2:Math.max(he.x,se.x),y1:Math.min(he.y,se.y),y2:Math.max(he.y,se.y)};Zt(Le)}vn()}},[vn,$,I,ze,Zt]),vu=g.useCallback(async()=>{if(!R.length)return;const G=new Set(Me.filter(ae=>sd(ae)).map(ae=>ae.id)),Q=new Set,K=new Set;if(R.forEach(ae=>{if(ae.startsWith("pipeline:")){Q.add(ae.replace(/^pipeline:/,""));return}!G.has(ae)&&Me.some(he=>he.id===ae)&&K.add(ae)}),ve&&ve.nodes.forEach(ae=>{var se;const he=(se=ae.config)==null?void 0:se.agentId;he&&K.has(he)&&Q.add(ae.id)}),ve&&Q.size>0){const ae=ve.nodes.filter(se=>!Q.has(se.id)),he=ve.edges.filter(se=>!Q.has(se.from)&&!Q.has(se.to));ye({...ve,nodes:ae,edges:he},null),l(se=>{const Le={...se};return Q.forEach(Ge=>{delete Le[Ge],delete Le[`pipeline:${Ge}`]}),Le}),T(se=>se.filter(Le=>!Q.has(Le.source)&&!Q.has(Le.target))),Se(!0)}if(K.size>0){for(const ae of K)try{await dt.mutateAsync(ae)}catch(he){console.error("[automation-builder] failed to delete agent",he)}l(ae=>{const he={...ae};return K.forEach(se=>{delete he[se],delete he[`pipeline:${se}`]}),he}),T(ae=>ae.filter(he=>!K.has(he.source)&&!K.has(he.target)))}rt(),Qe(null)},[Me,ve,rt,dt,Qe,R,Se,T,l,ye]);g.useEffect(()=>{const G=Q=>{(Q.key==="Delete"||Q.key==="Backspace")&&R.length>0&&(Q.preventDefault(),vu()),Q.key==="Escape"&&($||R.length>0)&&(Q.preventDefault(),rt(),Qe(null))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[rt,vu,$,Qe,R.length]);const Lh=g.useCallback(async G=>{if(await ke(),G==="__new"){await Fe();return}C(!0);try{const Q=await Z7(G);Q?(S(K=>{const ae=K.findIndex(se=>se.id===Q.id);if(ae===-1)return[...K,Q];const he=[...K];return he[ae]=Q,he}),st(Q),p(!0),n({title:"Loaded automation",description:Q.name})):n({title:"Automation not found",description:"The selected automation could not be loaded.",variant:"destructive"})}catch(Q){n({title:"Failed to load automation",description:Q instanceof Error?Q.message:"Unknown error occurred.",variant:"destructive"})}finally{C(!1)}},[st,ke,Fe,p,n]);g.useEffect(()=>{if(!b||b==="__new"||De.current)return;const G=we();G!==_e.current&&(Se(!0),ee.current&&window.clearTimeout(ee.current),console.log(`[automation-persist] Change detected  saving in ${b1/1e3}s`),ee.current=window.setTimeout(()=>{ee.current=null,Ae(G).catch(Q=>{console.error("[automation-persist] auto-save failed",Q)})},b1))},[we,Ae,b]);const zh=g.useCallback(async()=>{await ke(),n({title:"Automation saved",description:`${c.trim()||"Untitled Automation"} saved successfully.`})},[c,ke,n]),Li=g.useCallback(G=>{const Q=Tl(G.id);l(K=>{const ae=K[Q],he={x:G.position.x,y:G.position.y};return ae&&ae.x===he.x&&ae.y===he.y?K:{...K,[Q]:he}})},[]),xu=g.useCallback((G,Q)=>{Q.id!=="start"&&Li(Q)},[Li]),Fh=g.useCallback((G,Q)=>{Q.id!=="start"&&Li(Q)},[Li]),Uh=g.useCallback(()=>{rt(),Qe(null)},[rt,Qe]),Hh=g.useCallback(()=>{o(!0)},[]),dl=g.useMemo(()=>{const G=Me.length,Q=A.length,K=Object.values(ot).length;return{totalAgents:G,savedConnections:Q,liveConnections:K}},[Me.length,ot,A.length]),wu=g.useMemo(()=>{if(!P)return null;try{return new Date(P.updatedAt).toLocaleString()}catch{return P.updatedAt}},[P]),Bh=g.useCallback(async G=>{var K;G.preventDefault();const Q=ce.trim();if(!(!Q||pe)){ne(!0),le(null);try{const ae={name:c,description:f};ve&&(ae.pipeline=ve);const he=await _t.interpretAutomationPrompt(Q,ae);if(!(he!=null&&he.actions)||he.actions.length===0)throw new Error((he==null?void 0:he.message)??"Could not understand prompt.");const se=await Qt(he.actions),Le=((K=he.message)==null?void 0:K.trim())??se??"Automation updated.";le(Le),X("");const Ge=Le.startsWith("")?Le:` ${Le}`,Ue=se&&se!==Le?se:he.message&&he.message!==Le?he.message:void 0;n({title:Ge,description:Ue})}catch(ae){console.error("[automation-builder] prompt submission failed",ae);const he=ae instanceof Error?ae.message:"Unknown error occurred.";le("Could not understand prompt."),n({title:" Could not understand prompt.",description:he,variant:"destructive"})}finally{ne(!1)}}},[Qt,f,c,ve,pe,ce,p,n]);return h.jsxs("div",{className:"h-screen w-full flex bg-[#0b0b0f]",children:[h.jsxs("div",{ref:$e,className:"flex-1 relative",onMouseDown:_r,onMouseMove:yn,onMouseUp:Dh,onMouseLeave:$h,children:[h.jsxs(H0,{nodes:V,edges:me,onNodeDrag:xu,onNodeDragStop:Fh,onPaneClick:Uh,onMove:Hh,nodeTypes:oU,fitView:!0,fitViewOptions:{padding:.35,includeHiddenNodes:!0},className:"bg-[#0b0b0f] dot-grid-background",onInit:G=>{ct(G),requestAnimationFrame(()=>{try{G.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(Q){console.warn("[agent-network] initial fitView failed",Q)}})},panOnDrag:!q,selectionOnDrag:q,children:[h.jsx(vN,{variant:er.Dots,gap:20,size:1,color:"#222",className:"opacity-50"}),h.jsxs(gN,{className:"bg-card/80 backdrop-blur-sm border border-border rounded-lg",children:[h.jsx("button",{type:"button",title:"Lasso select (toggle)",className:Ie("react-flow__controls-button hover:bg-primary/70",q?"bg-primary text-primary-foreground":"bg-transparent text-white/80"),onClick:()=>Z(!0),children:h.jsx(m3,{className:"h-4 w-4"})}),h.jsx("button",{type:"button",title:"Pan mode (toggle)",className:Ie("react-flow__controls-button hover:bg-primary/70",q?"bg-transparent text-white/80":"bg-primary text-primary-foreground"),onClick:()=>Z(!1),children:h.jsx(i3,{className:"h-4 w-4"})})]}),r&&h.jsx(pN,{className:"!bg-card/60 !backdrop-blur-sm border border-border/50 rounded-lg",maskColor:"rgba(11, 11, 15, 0.6)",nodeColor:G=>G.type==="start"?"#10b981":"#3b82f6"})]}),H?h.jsx("div",{className:"pointer-events-none absolute rounded-sm border border-sky-400/70 bg-sky-400/20",style:{left:H.left,top:H.top,width:H.width,height:H.height}}):null,pe&&h.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 bg-neutral-900 border border-neutral-800 px-4 py-2 rounded-xl text-sm text-neutral-400 animate-pulse",children:"Interpreting prompt..."}),h.jsxs(Yt,{className:"absolute left-1/2 top-6 z-30 w-[420px] -translate-x-1/2 bg-black/40 backdrop-blur border border-white/10 shadow-lg",children:[h.jsxs("button",{type:"button",onClick:()=>p(G=>!G),className:"flex w-full items-center gap-3 px-5 py-4 text-left transition hover:bg-white/5",children:[h.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10",children:h.jsx(_3,{className:"h-5 w-5 text-white/80"})}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ft,{className:"text-xs font-semibold uppercase tracking-[0.28em] text-white/60",children:"Automation"}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("span",{className:"flex items-center gap-1 text-xs font-semibold text-white/80",children:[h.jsx("span",{className:Ie("inline-flex h-2.5 w-2.5 rounded-full shadow-[0_0_8px]",re?"bg-amber-400 shadow-amber-400/70":"bg-emerald-400 shadow-emerald-400/60")}),re?"Unsaved":"Saved"]})})]}),w?h.jsx(co,{autoFocus:!0,value:c,onChange:G=>u(G.target.value),onBlur:()=>v(!1),onKeyDown:G=>{G.key==="Enter"&&G.currentTarget.blur()},placeholder:"Atlas launch playbook",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"}):h.jsx("button",{type:"button",className:"w-full text-sm font-medium text-white text-left hover:text-white/80",onClick:()=>v(!0),children:c.trim()||"Name your automation"})]}),h.jsx(su,{className:Ie("h-4 w-4 text-white/70 transition-transform duration-300",m?"rotate-180":"rotate-0")})]}),m&&h.jsxs("div",{className:"space-y-4 border-t border-white/10 px-5 py-4",children:[k?h.jsx("div",{className:"rounded-lg border border-red-400/40 bg-red-900/20 px-3 py-2 text-xs text-red-200",children:k}):null,h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Load existing"}),h.jsxs(q0,{value:b,onValueChange:Lh,disabled:_||D,children:[h.jsx(kh,{className:"border-white/10 bg-white/5 text-white",children:h.jsx(G0,{placeholder:x.length?"Select automation":"No automations saved yet"})}),h.jsxs(Nh,{className:"bg-black/80 backdrop-blur border-white/10 text-white",children:[x.map(G=>h.jsx(Bc,{value:G.id,children:G.name},G.id)),h.jsx(Bc,{value:"__new",children:"New automation"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Name"}),h.jsx(co,{value:c,onChange:G=>u(G.target.value),placeholder:"Atlas launch playbook",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Description"}),h.jsx(mr,{value:f,onChange:G=>d(G.target.value),placeholder:"High-level goal or context for this automation",className:"min-h-[72px] border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ft,{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Blueprint Snapshot"}),h.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-xs text-white/80 space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Agents mapped"}),h.jsx("span",{className:"font-semibold text-white",children:dl.totalAgents})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Saved connections"}),h.jsx("span",{className:"font-semibold text-white",children:dl.savedConnections})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Live connections"}),h.jsx("span",{className:"font-semibold text-white",children:dl.liveConnections})]}),wu?h.jsxs("div",{className:"flex items-center justify-between text-white/60",children:[h.jsx("span",{children:"Last saved"}),h.jsx("span",{children:wu})]}):h.jsx("div",{className:"text-white/60",children:"Not saved yet."})]})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx(Ye,{variant:"ghost",className:"text-white/70 hover:bg-white/10",onClick:()=>p(!1),children:"Close"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ye,{variant:"destructive",className:"text-white",onClick:Et,disabled:D||_||E,children:E?"Deleting":"Delete"}),h.jsx(Ye,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:Fe,disabled:D||_,children:D?"Working":"New"}),h.jsx(Ye,{className:"bg-white/10 hover:bg-white/20 text-white",disabled:D||_,onClick:zh,children:D?"Saving":"Save"})]})]})]})]}),h.jsxs(Ye,{onClick:()=>i(!0),disabled:jn,className:"absolute top-6 right-6 rounded-full h-11 px-6 bg-primary/90 hover:bg-primary text-primary-foreground shadow-lg backdrop-blur-sm border border-white/10",children:[h.jsx(Sd,{className:"h-4 w-4 mr-2"}),"New Agent"]}),h.jsx("div",{className:"pointer-events-none absolute bottom-6 left-1/2 z-30 flex -translate-x-1/2 justify-center px-6",children:h.jsxs("form",{onSubmit:Bh,className:"pointer-events-auto flex w-full min-w-[320px] max-w-[680px] flex-col items-center gap-2",children:[h.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-white/20 bg-black/60 px-4 py-2.5 text-sm text-white/80 backdrop-blur-lg shadow-lg",children:[h.jsx("input",{value:ce,onChange:G=>X(G.target.value),className:"flex-1 bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none",placeholder:"Type in a change youd like to see",disabled:pe}),h.jsx(Ye,{type:"submit",size:"icon",className:"h-9 w-9 rounded-full border border-white/30 bg-white/10 text-white hover:bg-white/20",disabled:pe||ce.trim().length===0,children:pe?h.jsx(to,{className:"h-4 w-4 animate-spin"}):h.jsx(x3,{className:"h-4 w-4"})})]}),ie&&!ie.toLowerCase().startsWith("awaiting_key")?h.jsx("span",{className:"text-xs text-white/60",children:ie}):null]})})]}),h.jsx("div",{className:Ie("relative flex-shrink-0 overflow-hidden transition-all duration-500 ease-out",Dt?"w-[400px] max-w-[400px]":"w-0 max-w-0 pointer-events-none"),children:h.jsx("div",{className:Ie("h-full transform transition-transform duration-500 ease-out",Dt?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:Dt&&h.jsx(m7,{agent:Dt,onDelete:G=>dt.mutateAsync(G),onUpdate:(G,Q)=>Nt.mutateAsync({id:G,updates:Q}),isDeleting:dt.isPending,isSaving:Nt.isPending})})}),h.jsx(K7,{open:s,onOpenChange:i,onCreateManual:async G=>{await sr.mutateAsync(G)},onGenerateFromPrompt:async(G,Q)=>{const K=await _t.buildAgentFromPrompt(G,Q);return n({title:"Agent generated",description:K.spec.name}),e.invalidateQueries({queryKey:["agents"]}),K}})]})}const lU=(e,n)=>{if(n<=0)return{x:0,y:0};const s=Math.max(240,n*160/(2*Math.PI)),i=e/n*2*Math.PI;return{x:Math.cos(i)*s,y:Math.sin(i)*s}},cU=e=>`${e.agent}  ${e.type}`;function uU({open:e,onClose:n,pipeline:r,sessionId:o,status:s}){const i=xi(d=>d.agents),a=xi(d=>d.links),l=g.useMemo(()=>`automation:${o}:`,[o]),c=g.useMemo(()=>{const d=Object.values(i).filter(p=>p.id.startsWith(l)).sort((p,w)=>p.id.localeCompare(w.id)),m=d.length;return m===0?[]:d.map((p,w)=>({id:p.id,data:{label:p.name,role:p.role},position:lU(w,m),draggable:!1,style:{borderRadius:12,padding:"12px 16px",border:"1px solid rgba(148, 163, 184, 0.5)",background:"rgba(15,23,42,0.7)",color:"rgb(226,232,240)",fontSize:13}}))},[i,l]),u=g.useMemo(()=>Object.values(a).filter(m=>m.source.startsWith(l)&&m.target.startsWith(l)).map(m=>({id:m.id,source:m.source,target:m.target,animated:m.isActive,style:{strokeWidth:m.isActive?3:1.5,stroke:m.isActive?"#facc15":"#60a5fa"}})),[a,l]),f=g.useMemo(()=>r?r.nodes.map((d,m)=>{var p,w;return{index:m+1,agent:d.agent,type:d.type,status:(p=d.metadata)==null?void 0:p.status,atlasModule:(w=d.metadata)==null?void 0:w.atlasModule}}):[],[r]);return h.jsxs("div",{className:`pointer-events-none fixed inset-0 z-50 transition ${e?"visible opacity-100":"invisible opacity-0"}`,children:[h.jsx("div",{className:`absolute inset-0 bg-background/40 backdrop-blur-sm transition-opacity duration-300 ${e?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"}`,onClick:n}),h.jsxs("aside",{className:`pointer-events-auto absolute right-0 top-0 flex h-full w-full max-w-4xl transform flex-col border-l border-border/70 bg-background/95 shadow-2xl transition-transform duration-500 ${e?"translate-x-0":"translate-x-full"}`,children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-6 py-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Automation Builder"}),h.jsx("div",{className:"text-lg font-semibold text-foreground",children:(r==null?void 0:r.name)??"Live automation pipeline"}),s&&h.jsxs("div",{className:"text-xs uppercase tracking-wide text-muted-foreground/80",children:["Status: ",s]})]}),h.jsx(Ye,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Close automation drawer",children:h.jsx(iu,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"flex flex-1 min-h-0",children:[h.jsxs("div",{className:"hidden w-72 flex-shrink-0 border-r border-border/60 bg-muted/20 lg:flex lg:flex-col",children:[h.jsx("div",{className:"px-6 py-4 border-b border-border/60",children:h.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Pipeline steps"})}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-3",children:f.length===0?h.jsx("p",{className:"text-sm text-muted-foreground/80",children:"Describe an automation in the console to populate the canvas."}):f.map(d=>{const m=(d.type??"").toLowerCase().includes("atlas");return h.jsxs("div",{className:"rounded-xl border border-border/50 bg-background/70 p-3 text-sm space-y-1.5",children:[h.jsxs("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground/70",children:["Step ",d.index]}),h.jsxs("div",{className:"font-medium text-foreground flex items-center gap-2",children:[cU(d),m&&h.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-semibold uppercase tracking-wider text-atlas-success/90",children:[h.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-atlas-success animate-pulse-glow"}),"Atlas Connected"]})]}),d.atlasModule&&h.jsxs("div",{className:"text-[11px] text-muted-foreground/80",children:["Module: ",h.jsx("span",{className:"text-foreground/90",children:d.atlasModule})]}),d.status&&h.jsx("div",{className:"text-[11px] text-atlas-success/90",children:d.status})]},d.index)})})]}),h.jsx("div",{className:"flex-1 relative",children:c.length===0?h.jsx("div",{className:"flex h-full items-center justify-center text-sm text-muted-foreground/80",children:"Waiting for automation activity"}):h.jsxs(H0,{nodes:c,edges:u,fitView:!0,panOnScroll:!0,panOnDrag:!0,zoomOnScroll:!0,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,proOptions:{hideAttribution:!0},children:[h.jsx(pN,{pannable:!0,zoomable:!0}),h.jsx(gN,{}),h.jsx(vN,{variant:er.Dots,gap:18,size:1,color:"rgba(148, 163, 184, 0.3)"})]})})]}),h.jsx("div",{className:"border-t border-border/60 px-6 py-3",children:h.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Pipelines stream live from the Agent Network. Provide credentials when prompted to unlock secure modules."})})]})]})}const _1="atlas:command-console:sessions",Yp="atlas:command-console:current-session",Kp=typeof window<"u",yA=()=>`Conversation ${new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,jl=()=>{const e=new Date().toISOString();return{id:`session-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,title:yA(),createdAt:e,updatedAt:e,messages:[]}},dU=(e,n)=>{const r=e.find(s=>s.role==="user"&&s.content.trim().length>0);if(!r)return n;const o=r.content.trim();return o.length<=60?o:`${o.slice(0,57)}`};function fU(){const[e,n]=g.useState(()=>{var f,d;if(!Kp){const m=jl();return{sessions:[m],currentSessionId:m.id}}try{const m=window.localStorage.getItem(_1),p=window.localStorage.getItem(Yp);if(m){const w=JSON.parse(m),v=Array.isArray(w)&&w.length>0?w:[jl()],b=((f=v.find(y=>y.id===p))==null?void 0:f.id)??((d=v[0])==null?void 0:d.id)??null;return{sessions:v,currentSessionId:b}}}catch(m){console.warn("[command-history] failed to hydrate history",m)}const u=jl();return{sessions:[u],currentSessionId:u.id}}),{sessions:r,currentSessionId:o}=e;g.useEffect(()=>{if(Kp)try{window.localStorage.setItem(_1,JSON.stringify(r))}catch(u){console.warn("[command-history] failed to persist sessions",u)}},[r]),g.useEffect(()=>{if(Kp)try{o?window.localStorage.setItem(Yp,o):window.localStorage.removeItem(Yp)}catch(u){console.warn("[command-history] failed to persist current session id",u)}},[o]);const s=g.useCallback(()=>{const u=jl();return n(f=>({sessions:[...f.sessions,u],currentSessionId:u.id})),u.id},[]),i=g.useCallback(u=>{n(f=>f.currentSessionId===u||!f.sessions.some(m=>m.id===u)?f:{...f,currentSessionId:u})},[]),a=g.useCallback(u=>{n(f=>{const d=f.sessions.filter(p=>p.id!==u);if(d.length===0){const p=jl();return{sessions:[p],currentSessionId:p.id}}const m=f.currentSessionId===u?d[d.length-1].id:f.currentSessionId;return{sessions:d,currentSessionId:m}})},[]),l=g.useCallback((u,f)=>{n(d=>({sessions:d.sessions.map(p=>{if(p.id!==u)return p;const w=new Date().toISOString();return{...p,messages:f,updatedAt:w,title:dU(f,p.title??yA())}}),currentSessionId:d.currentSessionId}))},[]);return g.useMemo(()=>({sessions:r,currentSessionId:o,createSession:s,selectSession:i,deleteSession:a,updateSessionMessages:l}),[r,o,s,i,a,l])}const vA=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`msg-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,C1=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`automation-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`,ar=e=>({id:vA(),createdAt:new Date().toISOString(),...e}),Gr=40,hU=25,k1=e=>{const n=[],r=e.name?`Automation: ${e.name}`:"Automation pipeline updated";return n.push(r),e.nodes.forEach((o,s)=>{n.push(`${s+1}. [${o.type}] ${o.agent}`)}),n.join(`
`)},pU=e=>(e.streamContent??e.content??"").trim(),mU=e=>{const n=new Date(e);if(Number.isNaN(n.getTime()))return"";const r=Date.now()-n.getTime(),o=Math.round(r/6e4);if(o<=0)return"just now";if(o<60)return`${o}m ago`;const s=Math.round(o/60);if(s<24)return`${s}h ago`;const i=Math.round(s/24);return i<7?`${i}d ago`:n.toLocaleDateString(void 0,{month:"short",day:"numeric"})},gU=e=>({messageId:e.id,role:e.role,content:(e.streamContent??e.content??"").trim(),agentId:e.agentId,agentName:e.agentName,status:e.status??null,taskId:e.taskId??null,createdAt:e.createdAt}),yU=e=>({id:e.messageId&&e.messageId.trim().length>0?e.messageId:vA(),createdAt:e.createdAt??new Date().toISOString(),role:e.role,content:e.content,agentId:e.agentId??void 0,agentName:e.agentName??void 0,status:e.status??void 0,taskId:e.taskId??void 0});function N1(e,n){const r=n.toLowerCase();return e.find(o=>o.id===n)||e.find(o=>o.name.toLowerCase()===r)}function vU(e,n){const r=n.toLowerCase();return e.find(o=>r.includes(o.name.toLowerCase()))||e.find(o=>r.includes(o.role.toLowerCase()))||e[0]}function xU(e,n){const r=e.trim();if(!r)throw new Error("Command cannot be empty");if(r.startsWith("/"))return{command:r};if(r.startsWith("@")){const i=r.slice(1).split(/\s+/),a=i.shift()??"",l=i.join(" "),c=N1(n,a);if(!c)throw new Error(`Agent ${a} not found`);return{command:`/run ${c.id} "${l||`Run command for ${c.name}`}"`,routedAgent:c}}const o=r.match(/(?:^|\s)@([\w-]+)/);if(o){const i=N1(n,o[1]);if(!i)throw new Error(`Agent ${o[1]} not found`);const a=r.replace(o[0],"").trim();return{command:`/run ${i.id} "${a||`Run command for ${i.name}`}"`,routedAgent:i}}if(n.length===0)throw new Error("No agents are available to handle this request");const s=vU(n,r);return{command:`/run ${s.id} "${r}"`,routedAgent:s}}function wU(e){return e.task&&e.agent?e.task.status==="pending"?"":`${e.message??"Task enqueued"} for ${e.agent.name}. Status: ${e.task.status}`:e.agent&&e.message?`${e.message} (${e.agent.name})`:e.message??"Command executed."}function Xp(e,n){const r=e??"Agent";switch(n.status){case"pending":return"";case"working":return"";case"completed":{const o=n.result;if(typeof o=="string")return`${r} completed the task:

${o}`;if(o&&typeof o=="object"){const s=typeof o.thought=="string"?o.thought.trim():"",i=typeof o.message=="string"?o.message.trim():"",a=[s,i].filter(l=>l&&l.length>0);return a.length>0?a.join(`

`):""}return""}case"error":{const o=n.result;return typeof o=="string"?`Task for ${r} failed: ${o}`:o&&typeof o=="object"&&typeof o.message=="string"?`Task for ${r} failed: ${o.message}`:`Task for ${r} failed.`}default:return`${r} reported status: ${n.status}`}}function bU(){const e=ll(),{toast:n}=rl(),[r,o]=g.useState([]),[s,i]=g.useState(""),[a,l]=g.useState(null),[c,u]=g.useState(0),f=g.useRef(null),d=g.useRef(null),m=g.useRef(new Map),[p,w]=g.useState(!1),v=g.useRef(C1()),b=g.useRef(null),y=g.useRef(!1),[x,S]=g.useState(!1),[_,C]=g.useState(null),[k,N]=g.useState(null),[A,T]=g.useState(""),[P,O]=g.useState(null),[D,F]=g.useState(Gr),[E,L]=g.useState(!0),R=lc(V=>V.setPipeline),W=lc(V=>V.clear),{sessions:I,currentSessionId:j,createSession:H,selectSession:M,deleteSession:$,updateSessionMessages:Y}=fU(),q=g.useRef(!1),Z=g.useRef(null),ce=g.useMemo(()=>I.find(V=>V.id===j)??null,[I,j]),X=g.useMemo(()=>{const V=Math.max(0,r.length-D);return r.slice(V)},[r,D]),pe=g.useMemo(()=>{const V=X[X.length-1];return V?`${V.id}:${V.streamContent??V.content??""}:${V.status??""}:${V.streamingState??""}`:""},[X]),ne=g.useCallback((V={})=>{const te=d.current;if(!te)return;const ge=V.immediate?"auto":"smooth";te.scrollTo({top:te.scrollHeight,behavior:ge})},[]),ie=g.useCallback(()=>{const V=d.current;if(!V)return;const te=V.scrollHeight-V.scrollTop-V.clientHeight<120;if(L(te),V.scrollTop<80&&D<r.length){const ge=V.scrollHeight;F(Ce=>Math.min(Ce+hU,r.length)),requestAnimationFrame(()=>{const Ce=d.current;if(!Ce)return;const me=Ce.scrollHeight-ge;Ce.scrollTop+=me})}},[r.length,D]);g.useEffect(()=>{if(r.length===0){F(Gr);return}F(V=>Math.min(Math.max(V,Gr),r.length))},[r.length]),g.useEffect(()=>{X.length&&E&&ne({immediate:!0})},[X.length,pe,E,ne]);const le=g.useCallback(()=>j||H(),[j,H]),ye=g.useCallback(V=>{const te=m.current.get(V);te&&(te.close(),m.current.delete(V))},[]);g.useEffect(()=>{if(!j){Z.current=null,r.length>0&&(o([]),F(Gr));return}if(Z.current===j)return;const V=I.find(Ce=>Ce.id===j);if(!V){Z.current=null,q.current=!1,o([]),F(Gr);return}Z.current=j,q.current=!0;const te=V.messages.map(Ce=>yU(Ce));o(te),F(Math.min(Gr,te.length||Gr)),L(!0),requestAnimationFrame(()=>ne({immediate:!0}));const ge=typeof window<"u"?window.setTimeout(()=>{q.current=!1},0):null;return()=>{ge&&typeof window<"u"&&window.clearTimeout(ge),q.current=!1}},[j,I,ne]),g.useEffect(()=>{if(!j||q.current||Z.current!==j)return;const V=r.map(te=>gU(te));Y(j,V)},[r,j,Y]),g.useEffect(()=>{m.current.forEach(V=>V.close()),m.current.clear()},[j]),g.useEffect(()=>{_&&R(_,v.current)},[_,R]);const Pe=g.useCallback(V=>{var ge;const te=v.current;(ge=b.current)==null||ge.close(),b.current=null,y.current=!1,S(!1),C(null),N(null),O(null),T(""),V!=null&&V.endSession&&_t.endAutomationSession(te).catch(Ce=>{console.warn("[automation] failed to end session",Ce)}),v.current=C1(),W()},[W]);g.useEffect(()=>()=>{Pe({endSession:!0})},[Pe]);const ve=g.useCallback(V=>{C(te=>{const ge=te??{name:void 0,nodes:[],edges:[]},Ce=ge.nodes.findIndex(Ve=>Ve.id===V.id),me=Ce>=0?ge.nodes.map((Ve,we)=>we===Ce?{...Ve,...V}:Ve):[...ge.nodes,V];return{...ge,nodes:me}})},[]),re=g.useCallback(V=>{C(te=>{const ge=te??{name:void 0,nodes:[],edges:[]};return ge.edges.some(me=>me.from===V.from&&me.to===V.to)?ge:{...ge,edges:[...ge.edges,V]}})},[]),Se=g.useCallback(()=>{if(typeof window>"u"||b.current)return;const V=v.current,te=`${Io}/automation-builder/events?sessionId=${encodeURIComponent(V)}`,ge=new window.EventSource(te);b.current=ge;const Ce=ke=>{try{const Fe=JSON.parse(ke.data);S(Fe.isOpen)}catch(Fe){console.error("[automation] failed to parse drawer event",Fe)}},me=ke=>{try{const Fe=JSON.parse(ke.data);C(Fe)}catch(Fe){console.error("[automation] failed to parse pipeline event",Fe)}},Ve=ke=>{try{const Fe=JSON.parse(ke.data);ve(Fe)}catch(Fe){console.error("[automation] failed to parse node event",Fe)}},we=ke=>{try{const Fe=JSON.parse(ke.data);re(Fe)}catch(Fe){console.error("[automation] failed to parse edge event",Fe)}},Ae=ke=>{try{const Fe=JSON.parse(ke.data),Et=Fe.detail?` (${JSON.stringify(Fe.detail)})`:"";O(`${Fe.status}${Et}`)}catch(Fe){console.error("[automation] failed to parse status event",Fe)}};ge.addEventListener("drawer",Ce),ge.addEventListener("pipeline",me),ge.addEventListener("node",Ve),ge.addEventListener("edge",we),ge.addEventListener("status",Ae),ge.onerror=ke=>{console.error("[automation] stream error",ke),ge.close(),b.current=null}},[re,ve]),_e=g.useCallback(V=>{switch(y.current=!0,Se(),V.pipeline&&(C(V.pipeline),S(!0)),O(V.status),V.status){case"success":{if(N(null),V.pipeline){const te=k1(V.pipeline);o(ge=>[...ge,ar({role:"assistant",content:te})]),L(!0)}else o(te=>[...te,ar({role:"assistant",content:"Automation pipeline updated."})]),L(!0);break}case"awaiting_key":{const te=V.agent??"automation step",ge=V.prompt??"This step requires a secure credential.";N({agent:te,prompt:ge}),o(Ce=>[...Ce,ar({role:"assistant",content:`${ge} (${te})`})]),L(!0);break}case"saved":{N(null);const te=V.name??"automation";o(ge=>[...ge,ar({role:"assistant",content:`Automation saved as ${te}.`})]),L(!0);break}case"loaded":{if(N(null),V.pipeline){const te=k1(V.pipeline);o(ge=>[...ge,ar({role:"assistant",content:te})]),L(!0)}else o(te=>[...te,ar({role:"assistant",content:"Automation loaded successfully."})]),L(!0);break}}},[Se]),ee=g.useCallback(async V=>{const te=v.current;try{const ge=await _t.sendAutomationMessage({sessionId:te,message:V});return _e(ge),!0}catch(ge){let Ce=ge instanceof Error?ge.message:"Automation builder failed.";try{const Ae=JSON.parse(Ce);Ae&&typeof Ae.message=="string"&&(Ce=Ae.message)}catch{}const me=["describe what should happen","could not determine the trigger","describe where to send"],Ve=Ce.toLowerCase();return!y.current&&me.some(Ae=>Ve.includes(Ae))?!1:(o(Ae=>[...Ae,ar({role:"system",content:`Automation builder error: ${Ce}`})]),L(!0),n({title:"Automation builder error",description:Ce,variant:"destructive"}),!0)}},[_e,n]),De=g.useCallback(async V=>{if(V.preventDefault(),!k)return;const te=A.trim();if(!te){n({title:"Provide the requested credential",description:"Enter the required key to continue building the automation."});return}const ge=v.current,Ce=k.agent,me=te;T("");try{const Ve=await _t.provideAutomationKey({sessionId:ge,agent:Ce,value:me});_e(Ve)}catch(Ve){let we=Ve instanceof Error?Ve.message:"Failed to submit credential.";try{const Ae=JSON.parse(we);Ae&&typeof Ae.message=="string"&&(we=Ae.message)}catch{}o(Ae=>[...Ae,ar({role:"system",content:`Credential submission failed: ${we}`})]),L(!0),n({title:"Credential submission failed",description:we,variant:"destructive"})}},[A,k,_e,n]),Be=g.useCallback((V,te)=>{o(ge=>ge.map(Ce=>{var Ve,we,Ae;if(Ce.taskId!==V)return Ce;const me={...Ce};switch(te.agent&&(me.agentId=te.agent.id,me.agentName=te.agent.name),te.type){case"token":{const ke=`${me.streamContent??""}${te.token}`;return me.streamContent=ke,me.status="working",me.streamingState="streaming",me}case"log":{const ke=te.message.trim(),Fe=ke?`${ke}
`:"",Et=`${me.streamContent??""}${Fe}`;return me.streamContent=Et,me.status=me.status??"working",me.streamingState="streaming",me.content=Et||me.content,me}case"status":return me.status=te.status,te.task&&(me.content=Xp(me.agentName??((Ve=te.agent)==null?void 0:Ve.name),te.task)),me.streamingState="streaming",me;case"complete":{const ke=te.task;return me.status=te.status,ke?me.content=Xp(me.agentName??((we=te.agent)==null?void 0:we.name),ke):me.streamContent&&(me.content=me.streamContent),me.streamContent=void 0,me.streamingState="complete",me}case"error":{te.task,me.status=te.status;const ke=typeof te.message=="string"?te.message:"Task failed.",Fe=me.agentName??((Ae=te.agent)==null?void 0:Ae.name)??"agent";return me.content=`Task for ${Fe} failed: ${ke}`,me.streamContent=void 0,me.streamingState="complete",me}default:return me}}))},[]),$e=g.useCallback(V=>{if(!V||m.current.has(V)||typeof window>"u"||typeof window.EventSource>"u")return;const te=`/tasks/${V}/stream`,ge=Io?`${Io}${te}`:te,Ce=new window.EventSource(ge);m.current.set(V,Ce),Ce.onmessage=me=>{try{const Ve=JSON.parse(me.data);Be(V,Ve),(Ve.type==="complete"||Ve.type==="error")&&ye(V)}catch(Ve){console.error("Failed to parse task stream event",Ve)}},Ce.onerror=()=>{ye(V),o(me=>me.map(Ve=>Ve.taskId===V?{...Ve,streamingState:"complete"}:Ve))}},[ye,Be]);g.useEffect(()=>()=>{m.current.forEach(V=>V.close()),m.current.clear()},[]);const{data:ze=[]}=Bo({queryKey:["agents"],queryFn:()=>_t.listAgents(),select:V=>V.items,refetchInterval:2e4}),ct=kd({mutationFn:V=>_t.runCommand(V),onSuccess:V=>{var te;o(ge=>{var Ce,me,Ve,we;return[...ge,ar({role:"assistant",content:wU(V),taskId:(Ce=V.task)==null?void 0:Ce.id,status:(me=V.task)==null?void 0:me.status,agentId:(Ve=V.agent)==null?void 0:Ve.id,agentName:(we=V.agent)==null?void 0:we.name,streamingState:V.task?"streaming":void 0})]}),L(!0),(te=V.task)!=null&&te.id&&$e(V.task.id),e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["tasks"]})},onError:V=>{o(te=>[...te,ar({role:"system",content:`Error: ${V.message}`})]),L(!0),n({title:"Command failed",description:V.message,variant:"destructive"})}}),rt=g.useMemo(()=>r.filter(V=>V.taskId&&V.streamingState==="streaming").map(V=>V.taskId),[r]),an=g.useMemo(()=>r.filter(V=>V.taskId&&V.streamingState!=="streaming"&&!["completed","error"].includes(V.status??"pending")).map(V=>V.taskId),[r]),{data:ot}=Bo({queryKey:["tasks"],queryFn:()=>_t.listTasks(),enabled:an.length>0,refetchInterval:an.length>0?2e3:!1});g.useEffect(()=>{ot&&o(V=>V.map(te=>{if(!te.taskId||te.streamingState==="streaming")return te;const ge=ot.items.find(me=>me.id===te.taskId);if(!ge)return te;const Ce=Xp(te.agentName,ge);return Ce===te.content&&ge.status===te.status?te:{...te,content:Ce,status:ge.status}}))},[ot]);const Me=ct.isPending||rt.length>0||an.length>0,jn=g.useMemo(()=>{const V=r.find(ge=>ge.streamingState==="streaming");if(V!=null&&V.agentName)return V.agentName;const te=r.find(ge=>ge.taskId&&!["completed","error"].includes(ge.status??"pending"));return te==null?void 0:te.agentName},[r]),sr=g.useMemo(()=>ze.length===0?["Create an agent that monitors onboarding emails","Generate a financial summary for this week"]:ze.slice(0,4).map(V=>`@${V.name} run a status update`),[ze]),dt=g.useMemo(()=>{if(a===null)return[];const V=a.toLowerCase();return ze.filter(te=>V?te.name.toLowerCase().includes(V)||te.role.toLowerCase().includes(V)||te.id.toLowerCase().includes(V):!0)},[ze,a]);g.useEffect(()=>{if(dt.length===0){u(0);return}c>=dt.length&&u(0)},[dt,c]);const Nt=async()=>{const V=s.trim();if(!V)return;le();const te=ar({role:"user",content:V});if(o(Ce=>[...Ce,te]),L(!0),!await ee(V))try{const{command:Ce}=xU(V,ze);await ct.mutateAsync(Ce)}catch(Ce){const me=Ce instanceof Error?Ce.message:"Failed to process command";o(Ve=>[...Ve,ar({role:"system",content:`Error: ${me}`})]),L(!0),n({title:"Unable to route message",description:me,variant:"destructive"})}i(""),l(null),u(0)},xt=g.useCallback(V=>{const te=f.current;if(!te)return;const ge=te.selectionStart??s.length,Ce=s.slice(0,ge),me=s.slice(ge);if(!Ce.match(/@[\w-]*$/))return;const we=Ce.lastIndexOf("@"),Ae=s.slice(0,we),ke=`@${V.id} `,Fe=`${Ae}${ke}${me}`;i(Fe),l(null),u(0),requestAnimationFrame(()=>{const Et=Ae.length+ke.length;te.focus(),te.setSelectionRange(Et,Et)})},[s]),Qe=V=>{const{value:te,selectionStart:ge}=V.target;i(te);const Ce=ge??te.length,Ve=te.slice(0,Ce).match(/@([\w-]*)$/);Ve?(l(Ve[1]),u(0)):(l(null),u(0))},Dt=V=>{if(a!==null&&dt.length>0){if(V.key==="ArrowDown"){V.preventDefault(),u(te=>(te+1)%dt.length);return}if(V.key==="ArrowUp"){V.preventDefault(),u(te=>(te-1+dt.length)%dt.length);return}if(V.key==="Enter"){V.preventDefault(),xt(dt[c]);return}if(V.key==="Escape"){V.preventDefault(),l(null),u(0);return}}V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),Nt())},ln=g.useCallback(V=>{Pe({endSession:!0}),Z.current=null,M(V),w(!1),F(Gr),L(!0)},[Pe,M]),st=g.useCallback(()=>{Pe({endSession:!0}),Z.current=null,H(),o([]),F(Gr),L(!0),w(!1)},[H,Pe]),Qt=g.useCallback(V=>{Pe({endSession:!0}),Z.current=null,$(V),V===j&&(o([]),F(Gr))},[j,$,Pe]),ir=(ce==null?void 0:ce.title)??"New conversation";return h.jsxs("div",{className:"relative flex h-screen",children:[h.jsx(uU,{open:x,onClose:()=>S(!1),pipeline:_,sessionId:v.current,status:P??void 0}),h.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-80 border-r border-border/60 bg-background/95 backdrop-blur-xl transition-transform duration-300 ${p?"translate-x-0":"-translate-x-full"}`,children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-border/60",children:[h.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Chat history"}),h.jsx(Ye,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>w(!1),"aria-label":"Close chat history",children:h.jsx(iu,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[h.jsxs(Ye,{onClick:st,variant:"outline",className:"w-full justify-start gap-2 border-border/70 text-sm text-foreground",children:[h.jsx(Sd,{className:"h-4 w-4"}),h.jsx("span",{children:"New chat"})]}),h.jsx("div",{className:"space-y-2",children:I.length===0?h.jsx("div",{className:"rounded-xl border border-border/70 px-4 py-6 text-sm text-muted-foreground/80",children:"No conversations yet. Start a new chat to see it here."}):I.map(V=>{const te=V.id===j;return h.jsxs("div",{className:"group relative",children:[h.jsx("button",{onClick:()=>ln(V.id),className:`w-full rounded-xl border px-4 py-3 text-left transition ${te?"border-atlas-glow/60 bg-muted/40 text-foreground":"border-border/70 bg-background/80 text-foreground hover:border-border hover:bg-muted/30"}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-sm font-medium leading-snug line-clamp-2",children:V.title}),h.jsxs("div",{className:"mt-1 flex items-center gap-1 text-[11px] uppercase tracking-wide text-muted-foreground/80",children:[h.jsx(o3,{className:"h-3 w-3"}),h.jsx("span",{children:mU(V.updatedAt)})]})]}),h.jsxs("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-muted-foreground/70",children:[V.messages.length," msgs"]})]})}),h.jsx(Ye,{size:"icon",variant:"ghost","aria-label":"Delete conversation",onClick:ge=>{ge.stopPropagation(),Qt(V.id)},className:"absolute right-2 top-2 h-8 w-8 opacity-0 transition group-hover:opacity-100 text-muted-foreground hover:text-destructive",children:h.jsx(v2,{className:"h-4 w-4"})})]},V.id)})})]})]}),p&&h.jsx("button",{type:"button",className:"fixed inset-0 z-30 bg-background/40 backdrop-blur-sm",onClick:()=>w(!1),"aria-label":"Close chat history overlay"}),h.jsxs("div",{className:"flex flex-1 flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-6 py-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ye,{size:"icon",variant:"ghost",className:"h-9 w-9 text-muted-foreground hover:text-foreground",onClick:()=>w(V=>!V),"aria-label":"Toggle chat history",children:h.jsx(d3,{className:"h-5 w-5"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Command Console"}),h.jsx("div",{className:"text-sm font-medium text-foreground line-clamp-1",children:ir})]})]}),h.jsxs(Ye,{variant:"outline",size:"sm",className:"gap-2 border-border/70 text-sm",onClick:st,children:[h.jsx(Sd,{className:"h-4 w-4"}),"New chat"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-8",ref:d,onScroll:ie,children:r.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-6 animate-fade-in",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(a0,{className:"w-8 h-8 text-atlas-glow"})}),h.jsxs("div",{className:"text-center space-y-1",children:[h.jsx("h1",{className:"text-4xl font-normal",children:h.jsx("span",{className:"text-atlas-glow",children:"Hello, Founder"})}),h.jsx("p",{className:"text-3xl font-normal text-muted-foreground/80",children:"What should we build today?"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-8 max-w-2xl",children:sr.map(V=>h.jsx("button",{onClick:()=>i(V),className:"p-4 text-left text-sm border border-border rounded-xl hover:border-atlas-glow/50 hover:bg-muted/30 transition-all",children:V},V))})]}):h.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[D<r.length&&h.jsx("div",{className:"flex justify-center",children:h.jsx("span",{className:"text-xs text-muted-foreground",children:"Scroll up to load previous messages"})}),X.map(V=>{if(V.role==="user")return h.jsx("div",{className:"flex justify-end animate-fade-in",children:h.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[h.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-atlas-glow",children:"You"}),h.jsx("div",{className:"max-w-2xl rounded-2xl px-4 py-3 whitespace-pre-wrap bg-atlas-glow/20 text-foreground inline-block w-auto",children:V.streamContent??V.content})]})},V.id);const te=pU(V);return te.trim()?h.jsxs("div",{className:"animate-fade-in space-y-2",children:[h.jsx("div",{className:`text-xs font-medium uppercase tracking-wide text-muted-foreground ${V.role==="system"?"text-destructive":""}`,children:V.role==="assistant"?V.agentName??"Atlas":"System"}),h.jsx("div",{className:`whitespace-pre-wrap leading-relaxed text-sm md:text-base ${V.role==="system"?"text-destructive":"text-foreground"}`,children:te})]},V.id):null}),Me&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:jn??"Atlas"}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[ct.isPending?"Processing command...":jn?`${jn} is working...`:"Processing command...",h.jsx(to,{className:"h-3 w-3 animate-spin"})]})]})]})}),h.jsx("div",{className:"bg-background p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[k&&h.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/60 p-4 backdrop-blur-sm",children:[h.jsx("div",{className:"flex items-start justify-between gap-4",children:h.jsxs("div",{children:[h.jsxs("div",{className:"text-xs font-semibold uppercase tracking-wide text-atlas-glow",children:["Secure credential required ",k.agent?`(${k.agent})`:""]}),h.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:k.prompt})]})}),h.jsxs("form",{className:"mt-4 flex flex-col gap-3 sm:flex-row",onSubmit:De,children:[h.jsx(co,{type:"password",value:A,onChange:V=>T(V.target.value),placeholder:"Paste credential securely",className:"flex-1",required:!0}),h.jsx(Ye,{type:"submit",className:"sm:w-auto",children:"Submit"})]})]}),h.jsxs("div",{className:"relative bg-card/40 backdrop-blur-sm border border-border/50 rounded-[28px] hover:border-border transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3 px-5 py-4",children:[h.jsx(Ye,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9",onClick:()=>i(V=>`${V} /create `),"aria-label":"Create agent",children:h.jsx(Sd,{className:"h-5 w-5"})}),h.jsx("input",{type:"text",value:s,onChange:Qe,onKeyDown:Dt,placeholder:"Ask Atlas Core or route with @agent...",className:"flex-1 bg-transparent border-0 text-base text-foreground placeholder:text-muted-foreground/60 focus:outline-none",disabled:Me,ref:f}),h.jsxs("button",{className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors px-3 py-1.5 rounded-lg hover:bg-muted/50",type:"button",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),h.jsx("span",{children:"Tools"})]}),h.jsx(Ye,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9","aria-label":"Voice input",children:h.jsx(h3,{className:"h-5 w-5"})})]}),a!==null&&h.jsx("div",{className:"absolute left-16 right-16 bottom-full z-10 mb-2 rounded-2xl border border-border/60 bg-background/95 backdrop-blur-xl shadow-lg",children:dt.length>0?h.jsx("ul",{className:"py-2",children:dt.map((V,te)=>h.jsx("li",{children:h.jsxs("button",{type:"button",onMouseDown:ge=>{ge.preventDefault(),xt(V)},className:`flex w-full items-center gap-3 px-4 py-2 text-left text-sm transition-colors ${te===c?"bg-muted/60 text-foreground":"text-muted-foreground hover:bg-muted/40 hover:text-foreground"}`,children:[h.jsx("span",{className:"font-medium text-foreground",children:V.name}),h.jsx("span",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:V.role})]})},V.id))}):h.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground",children:"No matching agents"})})]})]})})]})]})}function SU(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function _U(e,n,r){return n=PU(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function E1(e,n){return NU(e)||SU(e,n)||xA(e,n)||TU()}function CU(e){return kU(e)||EU(e)||xA(e)||AU()}function kU(e){if(Array.isArray(e))return Kg(e)}function NU(e){if(Array.isArray(e))return e}function EU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xA(e,n){if(e){if(typeof e=="string")return Kg(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kg(e,n)}}function Kg(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function AU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function PU(e){var n=jU(e,"string");return typeof n=="symbol"?n:String(n)}var MU=function(n,r){var o=new Set(r);return Object.assign.apply(Object,[{}].concat(CU(Object.entries(n).filter(function(s){var i=E1(s,1),a=i[0];return!o.has(a)}).map(function(s){var i=E1(s,2),a=i[0],l=i[1];return _U({},a,l)}))))};function Xg(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function RU(e){if(Array.isArray(e))return e}function IU(e){if(Array.isArray(e))return Xg(e)}function OU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DU(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function $U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zU(e,n){return RU(e)||DU(e,n)||wA(e,n)||$U()}function A1(e){return IU(e)||OU(e)||wA(e)||LU()}function wA(e,n){if(e){if(typeof e=="string")return Xg(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xg(e,n):void 0}}function FU(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,o=r===void 0?"div":r,s=n.nodeMapper,i=s===void 0?function(f){return f}:s,a=n.methodNames,l=a===void 0?[]:a,c=n.initPropNames,u=c===void 0?[]:c;return g.forwardRef(function(f,d){var m=g.useRef(),p=g.useMemo(function(){var b=Object.fromEntries(u.filter(function(y){return f.hasOwnProperty(y)}).map(function(y){return[y,f[y]]}));return e(b)},[]);T1(function(){p(i(m.current))},g.useLayoutEffect),T1(function(){return p._destructor instanceof Function?p._destructor:void 0});var w=g.useCallback(function(b){for(var y=arguments.length,x=new Array(y>1?y-1:0),S=1;S<y;S++)x[S-1]=arguments[S];return p[b]instanceof Function?p[b].apply(p,x):void 0},[p]),v=g.useRef({});return Object.keys(MU(f,[].concat(A1(l),A1(u)))).filter(function(b){return v.current[b]!==f[b]}).forEach(function(b){return w(b,f[b])}),v.current=f,g.useImperativeHandle(d,function(){return Object.fromEntries(l.map(function(b){return[b,function(){for(var y=arguments.length,x=new Array(y),S=0;S<y;S++)x[S]=arguments[S];return w.apply(void 0,[b].concat(x))}]}))},[w]),z.createElement(o,{ref:m})})}function T1(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.useEffect,r=g.useRef(),o=g.useRef(!1),s=g.useRef(!1),i=g.useState(0),a=zU(i,2);a[0];var l=a[1];o.current&&(s.current=!0),n(function(){return o.current||(r.current=e(),o.current=!0),l(function(c){return c+1}),function(){s.current&&r.current&&r.current()}},[])}class j1 extends Map{constructor(n,r=BU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[o,s]of n)this.set(o,s)}get(n){return super.get(P1(this,n))}has(n){return super.has(P1(this,n))}set(n,r){return super.set(UU(this,n),r)}delete(n){return super.delete(HU(this,n))}}function P1({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):r}function UU({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function HU({_intern:e,_key:n},r){const o=n(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function BU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function M1(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function R1(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function VU(e,n){let r=0;for(let o of e)(o=+o)&&(r+=o);return r}var WU=typeof global=="object"&&global&&global.Object===Object&&global,qU=typeof self=="object"&&self&&self.Object===Object&&self,bA=WU||qU||Function("return this")(),Af=bA.Symbol,SA=Object.prototype,GU=SA.hasOwnProperty,YU=SA.toString,Pl=Af?Af.toStringTag:void 0;function KU(e){var n=GU.call(e,Pl),r=e[Pl];try{e[Pl]=void 0;var o=!0}catch{}var s=YU.call(e);return o&&(n?e[Pl]=r:delete e[Pl]),s}var XU=Object.prototype,QU=XU.toString;function ZU(e){return QU.call(e)}var JU="[object Null]",eH="[object Undefined]",I1=Af?Af.toStringTag:void 0;function tH(e){return e==null?e===void 0?eH:JU:I1&&I1 in Object(e)?KU(e):ZU(e)}function nH(e){return e!=null&&typeof e=="object"}var rH="[object Symbol]";function oH(e){return typeof e=="symbol"||nH(e)&&tH(e)==rH}var sH=/\s/;function iH(e){for(var n=e.length;n--&&sH.test(e.charAt(n)););return n}var aH=/^\s+/;function lH(e){return e&&e.slice(0,iH(e)+1).replace(aH,"")}function Tf(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var O1=NaN,cH=/^[-+]0x[0-9a-f]+$/i,uH=/^0b[01]+$/i,dH=/^0o[0-7]+$/i,fH=parseInt;function D1(e){if(typeof e=="number")return e;if(oH(e))return O1;if(Tf(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Tf(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=lH(e);var r=uH.test(e);return r||dH.test(e)?fH(e.slice(2),r?2:8):cH.test(e)?O1:+e}var Qp=function(){return bA.Date.now()},hH="Expected a function",pH=Math.max,mH=Math.min;function _A(e,n,r){var o,s,i,a,l,c,u=0,f=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(hH);n=D1(n)||0,Tf(r)&&(f=!!r.leading,d="maxWait"in r,i=d?pH(D1(r.maxWait)||0,n):i,m="trailing"in r?!!r.trailing:m);function p(k){var N=o,A=s;return o=s=void 0,u=k,a=e.apply(A,N),a}function w(k){return u=k,l=setTimeout(y,n),f?p(k):a}function v(k){var N=k-c,A=k-u,T=n-N;return d?mH(T,i-A):T}function b(k){var N=k-c,A=k-u;return c===void 0||N>=n||N<0||d&&A>=i}function y(){var k=Qp();if(b(k))return x(k);l=setTimeout(y,v(k))}function x(k){return l=void 0,m&&o?p(k):(o=s=void 0,a)}function S(){l!==void 0&&clearTimeout(l),u=0,o=c=s=l=void 0}function _(){return l===void 0?a:x(Qp())}function C(){var k=Qp(),N=b(k);if(o=arguments,s=this,c=k,N){if(l===void 0)return w(c);if(d)return clearTimeout(l),l=setTimeout(y,n),p(c)}return l===void 0&&(l=setTimeout(y,n)),a}return C.cancel=S,C.flush=_,C}var gH="Expected a function";function yH(e,n,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(gH);return Tf(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),_A(e,n,{leading:o,maxWait:n,trailing:s})}var wi=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-wi.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?wi.Bounce.In(e*2)*.5:wi.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),Yl=function(){return performance.now()},CA=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(var s=0,i=r;s<i.length;s++){var a=i[s];(n=a._group)===null||n===void 0||n.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,s=n;o<s.length;o++){var i=s[o];i._group=void 0,delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=Yl()),r===void 0&&(r=!0);var o=Object.keys(this._tweens);if(o.length!==0)for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<o.length;s++){var i=this._tweens[o[s]],a=!r;i&&i.update(n,a)===!1&&!r&&this.remove(i)}o=Object.keys(this._tweensAddedDuringUpdate)}},e}(),da={Linear:function(e,n){var r=e.length-1,o=r*n,s=Math.floor(o),i=da.Utils.Linear;return n<0?i(e[0],e[1],o):n>1?i(e[r],e[r-1],r-o):i(e[s],e[s+1>r?r:s+1],o-s)},Bezier:function(e,n){for(var r=0,o=e.length-1,s=Math.pow,i=da.Utils.Bernstein,a=0;a<=o;a++)r+=s(1-n,o-a)*s(n,a)*e[a]*i(o,a);return r},CatmullRom:function(e,n){var r=e.length-1,o=r*n,s=Math.floor(o),i=da.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(s=Math.floor(o=r*(1+n))),i(e[(s-1+r)%r],e[s],e[(s+1)%r],e[(s+2)%r],o-s)):n<0?e[0]-(i(e[0],e[0],e[1],e[1],-o)-e[0]):n>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],o-r)-e[r]):i(e[s?s-1:0],e[s],e[r<s+1?r:s+1],e[r<s+2?r:s+2],o-s)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=da.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:function(){var e=[1];return function(n){var r=1;if(e[n])return e[n];for(var o=n;o>1;o--)r*=o;return e[n]=r,r}}(),CatmullRom:function(e,n,r,o,s){var i=(r-e)*.5,a=(o-n)*.5,l=s*s,c=s*l;return(2*n-2*r+i+a)*c+(-3*n+3*r-2*i-a)*l+i*s+n}}},vH=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Qg=new CA,$1=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=wi.Linear.None,this._interpolationFunction=da.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=vH.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Qg,Qg.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=Yl()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var i in this._valuesEnd)s[i]=this._valuesEnd[i];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,o,s,i){for(var a in o){var l=n[a],c=Array.isArray(l),u=c?"array":typeof l,f=!c&&Array.isArray(o[a]);if(!(u==="undefined"||u==="function")){if(f){var d=o[a];if(d.length===0)continue;for(var m=[l],p=0,w=d.length;p<w;p+=1){var v=this._handleRelativeValue(l,d[p]);if(isNaN(v)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(v)}f&&(o[a]=m)}if((u==="object"||c)&&l&&!f){r[a]=c?[]:{};var b=l;for(var y in b)r[a][y]=b[y];s[a]=c?[]:{};var d=o[a];if(!this._isDynamic){var x={};for(var y in d)x[y]=d[y];o[a]=d=x}this._setupProperties(b,r[a],d,s[a],i)}else(typeof r[a]>"u"||i)&&(r[a]=l),c||(r[a]*=1),f?s[a]=o[a].slice().reverse():s[a]=r[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=Yl()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=Yl()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=wi.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=da.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var o=this,s;if(n===void 0&&(n=Yl()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var i;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=n-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(o._duration===0||a>c)return 1;var v=Math.trunc(a/l),b=a-v*l,y=Math.min(b/o._duration,1);return y===0&&a===o._duration?1:y},f=u(),d=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,d),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||a>=this._duration)if(this._repeat>0){var m=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=m);for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*m,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,w=this._chainedTweens.length;p<w;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,o,s){for(var i in o)if(r[i]!==void 0){var a=r[i]||0,l=o[i],c=Array.isArray(n[i]),u=Array.isArray(l),f=!c&&u;f?n[i]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(n[i],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(n[i]=a+(l-a)*s))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],o=this._valuesEnd[n];typeof o=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(o):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}(),fo=Qg;fo.getAll.bind(fo);fo.removeAll.bind(fo);fo.add.bind(fo);fo.remove.bind(fo);fo.update.bind(fo);function L1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function xH(e){if(Array.isArray(e))return e}function wH(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bH(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function SH(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function _H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(e,n){return xH(e)||SH(e,n)||kH(e,n)||_H()}function kH(e,n){if(e){if(typeof e=="string")return L1(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L1(e,n):void 0}}var NH=bH(function e(n,r){var o=r.default,s=o===void 0?null:o,i=r.triggerUpdate,a=i===void 0?!0:i,l=r.onChange,c=l===void 0?function(u,f){}:l;wH(this,e),this.name=n,this.defaultVal=s,this.triggerUpdate=a,this.onChange=c});function tv(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,o=e.props,s=o===void 0?{}:o,i=e.methods,a=i===void 0?{}:i,l=e.aliases,c=l===void 0?{}:l,u=e.init,f=u===void 0?function(){}:u,d=e.update,m=d===void 0?function(){}:d,p=Object.keys(s).map(function(w){return new NH(w,s[w])});return function w(){for(var v=arguments.length,b=new Array(v),y=0;y<v;y++)b[y]=arguments[y];var x=!!(this instanceof w&&this.constructor),S=x?b.shift():void 0,_=b[0],C=_===void 0?{}:_,k=Object.assign({},r instanceof Function?r(C):r,{initialised:!1}),N={};function A(O){return T(O,C),P(),A}var T=function(D,F){f.call(A,D,k,F),k.initialised=!0},P=_A(function(){k.initialised&&(m.call(A,k,N),N={})},1);return p.forEach(function(O){A[O.name]=D(O);function D(F){var E=F.name,L=F.triggerUpdate,R=L===void 0?!1:L,W=F.onChange,I=W===void 0?function(M,$){}:W,j=F.defaultVal,H=j===void 0?null:j;return function(M){var $=k[E];if(!arguments.length)return $;var Y=M===void 0?H:M;return k[E]=Y,I.call(A,Y,k,$),!N.hasOwnProperty(E)&&(N[E]=$),R&&P(),A}}}),Object.keys(a).forEach(function(O){A[O]=function(){for(var D,F=arguments.length,E=new Array(F),L=0;L<F;L++)E[L]=arguments[L];return(D=a[O]).call.apply(D,[A,k].concat(E))}}),Object.entries(c).forEach(function(O){var D=CH(O,2),F=D[0],E=D[1];return A[F]=A[E]}),A.resetProps=function(){return p.forEach(function(O){A[O.name](O.defaultVal)}),A},A.resetProps(),k._rerender=P,x&&S&&A(S),A}}var it=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jf(e)}var EH=/^\s+/,AH=/\s+$/;function je(e,n){if(e=e||"",n=n||{},e instanceof je)return e;if(!(this instanceof je))return new je(e,n);var r=TH(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}je.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,o,s,i,a,l;return r=n.r/255,o=n.g/255,s=n.b/255,r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),o<=.03928?a=o/12.92:a=Math.pow((o+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*i+.7152*a+.0722*l},setAlpha:function(n){return this._a=kA(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=F1(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=F1(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),s=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+o+"%, "+s+"%)":"hsva("+r+", "+o+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var n=z1(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=z1(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),s=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+o+"%, "+s+"%)":"hsla("+r+", "+o+"%, "+s+"%, "+this._roundA+")"},toHex:function(n){return U1(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return RH(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(St(this._r,255)*100)+"%",g:Math.round(St(this._g,255)*100)+"%",b:Math.round(St(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(St(this._r,255)*100)+"%, "+Math.round(St(this._g,255)*100)+"%, "+Math.round(St(this._b,255)*100)+"%)":"rgba("+Math.round(St(this._r,255)*100)+"%, "+Math.round(St(this._g,255)*100)+"%, "+Math.round(St(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:WH[U1(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+H1(this._r,this._g,this._b,this._a),o=r,s=this._gradientType?"GradientType = 1, ":"";if(n){var i=je(n);o="#"+H1(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+o+")"},toString:function(n){var r=!!n;n=n||this._format;var o=!1,s=this._a<1&&this._a>=0,i=!r&&s&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return i?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(o=this.toRgbString()),n==="prgb"&&(o=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(o=this.toHexString()),n==="hex3"&&(o=this.toHexString(!0)),n==="hex4"&&(o=this.toHex8String(!0)),n==="hex8"&&(o=this.toHex8String()),n==="name"&&(o=this.toName()),n==="hsl"&&(o=this.toHslString()),n==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return je(this.toString())},_applyModification:function(n,r){var o=n.apply(null,[this].concat([].slice.call(r)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification($H,arguments)},brighten:function(){return this._applyModification(LH,arguments)},darken:function(){return this._applyModification(zH,arguments)},desaturate:function(){return this._applyModification(IH,arguments)},saturate:function(){return this._applyModification(OH,arguments)},greyscale:function(){return this._applyModification(DH,arguments)},spin:function(){return this._applyModification(FH,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(BH,arguments)},complement:function(){return this._applyCombination(UH,arguments)},monochromatic:function(){return this._applyCombination(VH,arguments)},splitcomplement:function(){return this._applyCombination(HH,arguments)},triad:function(){return this._applyCombination(B1,[3])},tetrad:function(){return this._applyCombination(B1,[4])}};je.fromRatio=function(e,n){if(jf(e)=="object"){var r={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?r[o]=e[o]:r[o]=Kl(e[o]));e=r}return je(e,n)};function TH(e){var n={r:0,g:0,b:0},r=1,o=null,s=null,i=null,a=!1,l=!1;return typeof e=="string"&&(e=KH(e)),jf(e)=="object"&&(xo(e.r)&&xo(e.g)&&xo(e.b)?(n=jH(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):xo(e.h)&&xo(e.s)&&xo(e.v)?(o=Kl(e.s),s=Kl(e.v),n=MH(e.h,o,s),a=!0,l="hsv"):xo(e.h)&&xo(e.s)&&xo(e.l)&&(o=Kl(e.s),i=Kl(e.l),n=PH(e.h,o,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=kA(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function jH(e,n,r){return{r:St(e,255)*255,g:St(n,255)*255,b:St(r,255)*255}}function z1(e,n,r){e=St(e,255),n=St(n,255),r=St(r,255);var o=Math.max(e,n,r),s=Math.min(e,n,r),i,a,l=(o+s)/2;if(o==s)i=a=0;else{var c=o-s;switch(a=l>.5?c/(2-o-s):c/(o+s),o){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4;break}i/=6}return{h:i,s:a,l}}function PH(e,n,r){var o,s,i;e=St(e,360),n=St(n,100),r=St(r,100);function a(u,f,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(f-u)*6*d:d<1/2?f:d<2/3?u+(f-u)*(2/3-d)*6:u}if(n===0)o=s=i=r;else{var l=r<.5?r*(1+n):r+n-r*n,c=2*r-l;o=a(c,l,e+1/3),s=a(c,l,e),i=a(c,l,e-1/3)}return{r:o*255,g:s*255,b:i*255}}function F1(e,n,r){e=St(e,255),n=St(n,255),r=St(r,255);var o=Math.max(e,n,r),s=Math.min(e,n,r),i,a,l=o,c=o-s;if(a=o===0?0:c/o,o==s)i=0;else{switch(o){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4;break}i/=6}return{h:i,s:a,v:l}}function MH(e,n,r){e=St(e,360)*6,n=St(n,100),r=St(r,100);var o=Math.floor(e),s=e-o,i=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),c=o%6,u=[r,a,i,i,l,r][c],f=[l,r,r,a,i,i][c],d=[i,i,l,r,r,a][c];return{r:u*255,g:f*255,b:d*255}}function U1(e,n,r,o){var s=[Dr(Math.round(e).toString(16)),Dr(Math.round(n).toString(16)),Dr(Math.round(r).toString(16))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function RH(e,n,r,o,s){var i=[Dr(Math.round(e).toString(16)),Dr(Math.round(n).toString(16)),Dr(Math.round(r).toString(16)),Dr(NA(o))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function H1(e,n,r,o){var s=[Dr(NA(o)),Dr(Math.round(e).toString(16)),Dr(Math.round(n).toString(16)),Dr(Math.round(r).toString(16))];return s.join("")}je.equals=function(e,n){return!e||!n?!1:je(e).toRgbString()==je(n).toRgbString()};je.random=function(){return je.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function IH(e,n){n=n===0?0:n||10;var r=je(e).toHsl();return r.s-=n/100,r.s=jh(r.s),je(r)}function OH(e,n){n=n===0?0:n||10;var r=je(e).toHsl();return r.s+=n/100,r.s=jh(r.s),je(r)}function DH(e){return je(e).desaturate(100)}function $H(e,n){n=n===0?0:n||10;var r=je(e).toHsl();return r.l+=n/100,r.l=jh(r.l),je(r)}function LH(e,n){n=n===0?0:n||10;var r=je(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),je(r)}function zH(e,n){n=n===0?0:n||10;var r=je(e).toHsl();return r.l-=n/100,r.l=jh(r.l),je(r)}function FH(e,n){var r=je(e).toHsl(),o=(r.h+n)%360;return r.h=o<0?360+o:o,je(r)}function UH(e){var n=je(e).toHsl();return n.h=(n.h+180)%360,je(n)}function B1(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=je(e).toHsl(),o=[je(e)],s=360/n,i=1;i<n;i++)o.push(je({h:(r.h+i*s)%360,s:r.s,l:r.l}));return o}function HH(e){var n=je(e).toHsl(),r=n.h;return[je(e),je({h:(r+72)%360,s:n.s,l:n.l}),je({h:(r+216)%360,s:n.s,l:n.l})]}function BH(e,n,r){n=n||6,r=r||30;var o=je(e).toHsl(),s=360/r,i=[je(e)];for(o.h=(o.h-(s*n>>1)+720)%360;--n;)o.h=(o.h+s)%360,i.push(je(o));return i}function VH(e,n){n=n||6;for(var r=je(e).toHsv(),o=r.h,s=r.s,i=r.v,a=[],l=1/n;n--;)a.push(je({h:o,s,v:i})),i=(i+l)%1;return a}je.mix=function(e,n,r){r=r===0?0:r||50;var o=je(e).toRgb(),s=je(n).toRgb(),i=r/100,a={r:(s.r-o.r)*i+o.r,g:(s.g-o.g)*i+o.g,b:(s.b-o.b)*i+o.b,a:(s.a-o.a)*i+o.a};return je(a)};je.readability=function(e,n){var r=je(e),o=je(n);return(Math.max(r.getLuminance(),o.getLuminance())+.05)/(Math.min(r.getLuminance(),o.getLuminance())+.05)};je.isReadable=function(e,n,r){var o=je.readability(e,n),s,i;switch(i=!1,s=XH(r),s.level+s.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i};je.mostReadable=function(e,n,r){var o=null,s=0,i,a,l,c;r=r||{},a=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<n.length;u++)i=je.readability(e,n[u]),i>s&&(s=i,o=je(n[u]));return je.isReadable(e,o,{level:l,size:c})||!a?o:(r.includeFallbackColors=!1,je.mostReadable(e,["#fff","#000"],r))};var Zg=je.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},WH=je.hexNames=qH(Zg);function qH(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function kA(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function St(e,n){GH(e)&&(e="100%");var r=YH(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function jh(e){return Math.min(1,Math.max(0,e))}function Gn(e){return parseInt(e,16)}function GH(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function YH(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Dr(e){return e.length==1?"0"+e:""+e}function Kl(e){return e<=1&&(e=e*100+"%"),e}function NA(e){return Math.round(parseFloat(e)*255).toString(16)}function V1(e){return Gn(e)/255}var Ar=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function xo(e){return!!Ar.CSS_UNIT.exec(e)}function KH(e){e=e.replace(EH,"").replace(AH,"").toLowerCase();var n=!1;if(Zg[e])e=Zg[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Ar.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Ar.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ar.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Ar.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ar.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Ar.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ar.hex8.exec(e))?{r:Gn(r[1]),g:Gn(r[2]),b:Gn(r[3]),a:V1(r[4]),format:n?"name":"hex8"}:(r=Ar.hex6.exec(e))?{r:Gn(r[1]),g:Gn(r[2]),b:Gn(r[3]),format:n?"name":"hex"}:(r=Ar.hex4.exec(e))?{r:Gn(r[1]+""+r[1]),g:Gn(r[2]+""+r[2]),b:Gn(r[3]+""+r[3]),a:V1(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Ar.hex3.exec(e))?{r:Gn(r[1]+""+r[1]),g:Gn(r[2]+""+r[2]),b:Gn(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function XH(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function Jg(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function QH(e){if(Array.isArray(e))return Jg(e)}function EA(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function ZH(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JH(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lr(e,n){return e.get(EA(e,n))}function W1(e,n,r){ZH(e,n),n.set(e,r)}function q1(e,n,r){return e.set(EA(e,n),r),r}function eB(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,iB(o.key),o)}}function tB(e,n,r){return n&&eB(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(e){return QH(e)||nB(e)||aB(e)||rB()}function sB(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function iB(e){var n=sB(e,"string");return typeof n=="symbol"?n:n+""}function aB(e,n){if(e){if(typeof e=="string")return Jg(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jg(e,n):void 0}}var lB=123,cB=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},AA=function(n,r,o){return(n<<16)+(r<<8)+o},uB=function(n){var r=je(n).toRgb(),o=r.r,s=r.g,i=r.b;return AA(o,s,i)},G1=function(n,r){return n*lB%Math.pow(2,r)},Ks=new WeakMap,wo=new WeakMap,dB=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;JH(this,e),W1(this,Ks,void 0),W1(this,wo,void 0),q1(wo,this,n),this.reset()}return tB(e,[{key:"reset",value:function(){q1(Ks,this,["__reserved for background__"])}},{key:"register",value:function(r){if(lr(Ks,this).length>=Math.pow(2,24-lr(wo,this)))return null;var o=lr(Ks,this).length,s=G1(o,lr(wo,this)),i=cB(o+(s<<24-lr(wo,this)));return lr(Ks,this).push(r),i}},{key:"lookup",value:function(r){if(!r)return null;var o=typeof r=="string"?uB(r):AA.apply(void 0,oB(r));if(!o)return null;var s=o&Math.pow(2,24-lr(wo,this))-1,i=o>>24-lr(wo,this)&Math.pow(2,lr(wo,this))-1;return G1(s,lr(wo,this))!==i||s>=lr(Ks,this).length?null:lr(Ks,this)[s]}}])}(),yu,kt,TA,jA,Js,Y1,PA,MA,RA,nv,ey,ty,Wc={},IA=[],fB=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ph=Array.isArray;function ro(e,n){for(var r in n)e[r]=n[r];return e}function rv(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function hB(e,n,r){var o,s,i,a={};for(i in n)i=="key"?o=n[i]:i=="ref"?s=n[i]:a[i]=n[i];if(arguments.length>2&&(a.children=arguments.length>3?yu.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return cc(e,a,o,s,null)}function cc(e,n,r,o,s){var i={type:e,props:n,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++TA,__i:-1,__u:0};return s==null&&kt.vnode!=null&&kt.vnode(i),i}function Mh(e){return e.children}function Md(e,n){this.props=e,this.context=n}function Za(e,n){if(n==null)return e.__?Za(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Za(e):null}function OA(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return OA(e)}}function K1(e){(!e.__d&&(e.__d=!0)&&Js.push(e)&&!Pf.__r++||Y1!=kt.debounceRendering)&&((Y1=kt.debounceRendering)||PA)(Pf)}function Pf(){for(var e,n,r,o,s,i,a,l=1;Js.length;)Js.length>l&&Js.sort(MA),e=Js.shift(),l=Js.length,e.__d&&(r=void 0,o=void 0,s=(o=(n=e).__v).__e,i=[],a=[],n.__P&&((r=ro({},o)).__v=o.__v+1,kt.vnode&&kt.vnode(r),ov(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[s]:null,i,s??Za(o),!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,LA(i,r,a),o.__e=o.__=null,r.__e!=s&&OA(r)));Pf.__r=0}function DA(e,n,r,o,s,i,a,l,c,u,f){var d,m,p,w,v,b,y,x=o&&o.__k||IA,S=n.length;for(c=pB(r,n,x,c,S),d=0;d<S;d++)(p=r.__k[d])!=null&&(m=p.__i==-1?Wc:x[p.__i]||Wc,p.__i=d,b=ov(e,p,m,s,i,a,l,c,u,f),w=p.__e,p.ref&&m.ref!=p.ref&&(m.ref&&sv(m.ref,null,p),f.push(p.ref,p.__c||w,p)),v==null&&w!=null&&(v=w),(y=!!(4&p.__u))||m.__k===p.__k?c=$A(p,c,e,y):typeof p.type=="function"&&b!==void 0?c=b:w&&(c=w.nextSibling),p.__u&=-7);return r.__e=v,c}function pB(e,n,r,o,s){var i,a,l,c,u,f=r.length,d=f,m=0;for(e.__k=new Array(s),i=0;i<s;i++)(a=n[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(c=i+m,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?cc(null,a,null,null,null):Ph(a)?cc(Mh,{children:a},null,null,null):a.constructor==null&&a.__b>0?cc(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(u=a.__i=mB(a,r,c,d))!=-1&&(d--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(s>f?m--:s<f&&m++),typeof a.type!="function"&&(a.__u|=4)):u!=c&&(u==c-1?m--:u==c+1?m++:(u>c?m--:m++,a.__u|=4))):e.__k[i]=null;if(d)for(i=0;i<f;i++)(l=r[i])!=null&&!(2&l.__u)&&(l.__e==o&&(o=Za(l)),FA(l,l));return o}function $A(e,n,r,o){var s,i;if(typeof e.type=="function"){for(s=e.__k,i=0;s&&i<s.length;i++)s[i]&&(s[i].__=e,n=$A(s[i],n,r,o));return n}e.__e!=n&&(o&&(n&&e.type&&!n.parentNode&&(n=Za(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function mB(e,n,r,o){var s,i,a,l=e.key,c=e.type,u=n[r],f=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||f&&l==u.key&&c==u.type)return r;if(o>(f?1:0)){for(s=r-1,i=r+1;s>=0||i<n.length;)if((u=n[a=s>=0?s--:i++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return a}return-1}function X1(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||fB.test(n)?r:r+"px"}function id(e,n,r,o,s){var i,a;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(n in o)r&&n in r||X1(e.style,n,"");if(r)for(n in r)o&&r[n]==o[n]||X1(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")i=n!=(n=n.replace(RA,"$1")),a=n.toLowerCase(),n=a in e||n=="onFocusOut"||n=="onFocusIn"?a.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=r,r?o?r.u=o.u:(r.u=nv,e.addEventListener(n,i?ty:ey,i)):e.removeEventListener(n,i?ty:ey,i);else{if(s=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function Q1(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=nv++;else if(n.t<r.u)return;return r(kt.event?kt.event(n):n)}}}function ov(e,n,r,o,s,i,a,l,c,u){var f,d,m,p,w,v,b,y,x,S,_,C,k,N,A,T,P,O=n.type;if(n.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),i=[l=n.__e=r.__e]),(f=kt.__b)&&f(n);e:if(typeof O=="function")try{if(y=n.props,x="prototype"in O&&O.prototype.render,S=(f=O.contextType)&&o[f.__c],_=f?S?S.props.value:f.__:o,r.__c?b=(d=n.__c=r.__c).__=d.__E:(x?n.__c=d=new O(y,_):(n.__c=d=new Md(y,_),d.constructor=O,d.render=yB),S&&S.sub(d),d.props=y,d.state||(d.state={}),d.context=_,d.__n=o,m=d.__d=!0,d.__h=[],d._sb=[]),x&&d.__s==null&&(d.__s=d.state),x&&O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ro({},d.__s)),ro(d.__s,O.getDerivedStateFromProps(y,d.__s))),p=d.props,w=d.state,d.__v=n,m)x&&O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),x&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(x&&O.getDerivedStateFromProps==null&&y!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,_),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,_)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(d.props=y,d.state=d.__s,d.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(D){D&&(D.__=n)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,_),x&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,w,v)})}if(d.context=_,d.props=y,d.__P=e,d.__e=!1,k=kt.__r,N=0,x){for(d.state=d.__s,d.__d=!1,k&&k(n),f=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do d.__d=!1,k&&k(n),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++N<25);d.state=d.__s,d.getChildContext!=null&&(o=ro(ro({},o),d.getChildContext())),x&&!m&&d.getSnapshotBeforeUpdate!=null&&(v=d.getSnapshotBeforeUpdate(p,w)),T=f,f!=null&&f.type===Mh&&f.key==null&&(T=zA(f.props.children)),l=DA(e,Ph(T)?T:[T],n,r,o,s,i,a,l,c,u),d.base=n.__e,n.__u&=-161,d.__h.length&&a.push(d),b&&(d.__E=d.__=null)}catch(D){if(n.__v=null,c||i!=null)if(D.then){for(n.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,n.__e=l}else{for(P=i.length;P--;)rv(i[P]);ny(n)}else n.__e=r.__e,n.__k=r.__k,D.then||ny(n);kt.__e(D,n,r)}else i==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):l=n.__e=gB(r.__e,n,r,o,s,i,a,c,u);return(f=kt.diffed)&&f(n),128&n.__u?void 0:l}function ny(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ny)}function LA(e,n,r){for(var o=0;o<r.length;o++)sv(r[o],r[++o],r[++o]);kt.__c&&kt.__c(n,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(i){i.call(s)})}catch(i){kt.__e(i,s.__v)}})}function zA(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ph(e)?e.map(zA):ro({},e)}function gB(e,n,r,o,s,i,a,l,c){var u,f,d,m,p,w,v,b=r.props,y=n.props,x=n.type;if(x=="svg"?s="http://www.w3.org/2000/svg":x=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!x&&(x?p.localName==x:p.nodeType==3)){e=p,i[u]=null;break}}if(e==null){if(x==null)return document.createTextNode(y);e=document.createElementNS(s,x,y.is&&y),l&&(kt.__m&&kt.__m(n,i),l=!1),i=null}if(x==null)b===y||l&&e.data==y||(e.data=y);else{if(i=i&&yu.call(e.childNodes),b=r.props||Wc,!l&&i!=null)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;id(e,u,null,p,s)}}for(u in y)p=y[u],u=="children"?m=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?w=p:u=="checked"?v=p:l&&typeof p!="function"||b[u]===p||id(e,u,p,b[u],s);if(f)l||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),n.__k=[];else if(d&&(e.innerHTML=""),DA(n.type=="template"?e.content:e,Ph(m)?m:[m],n,r,o,x=="foreignObject"?"http://www.w3.org/1999/xhtml":s,i,a,i?i[0]:r.__k&&Za(r,0),l,c),i!=null)for(u=i.length;u--;)rv(i[u]);l||(u="value",x=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[u]||x=="progress"&&!w||x=="option"&&w!=b[u])&&id(e,u,w,b[u],s),u="checked",v!=null&&v!=e[u]&&id(e,u,v,b[u],s))}return e}function sv(e,n,r){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&n==null||(e.__u=e(n))}else e.current=n}catch(s){kt.__e(s,r)}}function FA(e,n,r){var o,s;if(kt.unmount&&kt.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||sv(o,null,n)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){kt.__e(i,n)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&FA(o[s],n,r||typeof e.type!="function");r||rv(e.__e),e.__c=e.__=e.__e=void 0}function yB(e,n,r){return this.constructor(e,r)}function vB(e,n,r){var o,s,i,a;n==document&&(n=document.documentElement),kt.__&&kt.__(e,n),s=(o=typeof r=="function")?null:n.__k,i=[],a=[],ov(n,e=(!o&&r||n).__k=hB(Mh,null,[e]),s||Wc,Wc,n.namespaceURI,!o&&r?[r]:s?null:n.firstChild?yu.call(n.childNodes):null,i,!o&&r?r:s?s.__e:n.firstChild,o,a),LA(i,e,a)}function UA(e,n,r){var o,s,i,a,l=ro({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)i=="key"?o=n[i]:i=="ref"?s=n[i]:l[i]=n[i]===void 0&&a!=null?a[i]:n[i];return arguments.length>2&&(l.children=arguments.length>3?yu.call(arguments,2):r),cc(e.type,l,o||e.key,s||e.ref,null)}yu=IA.slice,kt={__e:function(e,n,r,o){for(var s,i,a;n=n.__;)if((s=n.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),a=s.__d),a)return s.__E=s}catch(l){e=l}throw e}},TA=0,jA=function(e){return e!=null&&e.constructor==null},Md.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ro({},this.state),typeof e=="function"&&(e=e(ro({},r),this.props)),e&&ro(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),K1(this))},Md.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),K1(this))},Md.prototype.render=Mh,Js=[],PA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,MA=function(e,n){return e.__v.__b-n.__v.__b},Pf.__r=0,RA=/(PointerCapture)$|Capture$/i,nv=0,ey=Q1(!1),ty=Q1(!0);function Z1(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function xB(e){if(Array.isArray(e))return e}function wB(e,n,r){return(n=NB(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function bB(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function SB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function _B(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?J1(Object(r),!0).forEach(function(o){wB(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function CB(e,n){return xB(e)||bB(e,n)||EB(e,n)||SB()}function kB(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function NB(e){var n=kB(e,"string");return typeof n=="symbol"?n:n+""}function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mf(e)}function EB(e,n){if(e){if(typeof e=="string")return Z1(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z1(e,n):void 0}}var ry=function(n){if(Mf(n)!=="object")return n;var r=UA(n);if(r.props){var o;r.props=_B({},r.props),r!=null&&(o=r.props)!==null&&o!==void 0&&o.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(ry):ry(r.props.children))}return r},AB=function(n){return jA(UA(n))},TB=function(n,r){delete r.__k,vB(ry(n),r)};function jB(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var PB=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;jB(PB);var MB=tv({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.style,i=s===void 0?{}:s,a=!!n&&Mf(n)==="object"&&!!n.node&&typeof n.node=="function",l=Cn(a?n.node():n);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(i).forEach(function(u){var f=CB(u,2),d=f[0],m=f[1];return r.tooltipEl.style(d,m)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var f=fr(u),d=l.node(),m=d.offsetWidth,p=d.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(f[0]/m*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-f[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",f[0]+"px").style("top",f[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):AB(n.content)?(n.tooltipEl.text(""),TB(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function RB(e,n,r){var o,s=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function i(){var a,l=o.length,c,u=0,f=0,d=0;for(a=0;a<l;++a)c=o[a],u+=c.x||0,f+=c.y||0,d+=c.z||0;for(u=(u/l-e)*s,f=(f/l-n)*s,d=(d/l-r)*s,a=0;a<l;++a)c=o[a],u&&(c.x-=u),f&&(c.y-=f),d&&(c.z-=d)}return i.initialize=function(a){o=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(n=+a,i):n},i.z=function(a){return arguments.length?(r=+a,i):r},i.strength=function(a){return arguments.length?(s=+a,i):s},i}function IB(e){const n=+this._x.call(null,e);return HA(this.cover(n),n,e)}function HA(e,n,r){if(isNaN(n))return e;var o,s=e._root,i={data:r},a=e._x0,l=e._x1,c,u,f,d,m;if(!s)return e._root=i,e;for(;s.length;)if((f=n>=(c=(a+l)/2))?a=c:l=c,o=s,!(s=s[d=+f]))return o[d]=i,e;if(u=+e._x.call(null,s.data),n===u)return i.next=s,o?o[d]=i:e._root=i,e;do o=o?o[d]=new Array(2):e._root=new Array(2),(f=n>=(c=(a+l)/2))?a=c:l=c;while((d=+f)==(m=+(u>=c)));return o[m]=s,o[d]=i,e}function OB(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let o=1/0,s=-1/0;for(let i=0,a;i<n;++i)isNaN(a=+this._x.call(null,e[i]))||(r[i]=a,a<o&&(o=a),a>s&&(s=a));if(o>s)return this;this.cover(o).cover(s);for(let i=0;i<n;++i)HA(this,r[i],e[i]);return this}function DB(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var o=r-n||1,s=this._root,i,a;n>e||e>=r;)switch(a=+(e<n),i=new Array(2),i[a]=s,s=i,o*=2,a){case 0:r=n+o;break;case 1:n=r-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._x1=r,this}function $B(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function LB(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Oo(e,n,r){this.node=e,this.x0=n,this.x1=r}function zB(e,n){var r,o=this._x0,s,i,a=this._x1,l=[],c=this._root,u,f;for(c&&l.push(new Oo(c,o,a)),n==null?n=1/0:(o=e-n,a=e+n);u=l.pop();)if(!(!(c=u.node)||(s=u.x0)>a||(i=u.x1)<o))if(c.length){var d=(s+i)/2;l.push(new Oo(c[1],d,i),new Oo(c[0],s,d)),(f=+(e>=d))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-f],l[l.length-1-f]=u)}else{var m=Math.abs(e-+this._x.call(null,c.data));m<n&&(n=m,o=e-m,a=e+m,r=c.data)}return r}function FB(e){if(isNaN(c=+this._x.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._x1,c,u,f,d,m;if(!r)return this;if(r.length)for(;;){if((f=c>=(u=(a+l)/2))?a=u:l=u,n=r,!(r=r[d=+f]))return this;if(!r.length)break;n[d+1&1]&&(o=n,m=d)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[d]=i:delete n[d],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(o?o[m]=r:this._root=r),this):(this._root=i,this)}function UB(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function HB(){return this._root}function BB(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function VB(e){var n=[],r,o=this._root,s,i,a;for(o&&n.push(new Oo(o,this._x0,this._x1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.x1)&&o.length){var l=(i+a)/2;(s=o[1])&&n.push(new Oo(s,l,a)),(s=o[0])&&n.push(new Oo(s,i,l))}return this}function WB(e){var n=[],r=[],o;for(this._root&&n.push(new Oo(this._root,this._x0,this._x1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.x1,c=(a+l)/2;(i=s[0])&&n.push(new Oo(i,a,c)),(i=s[1])&&n.push(new Oo(i,c,l))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.x1);return this}function qB(e){return e[0]}function GB(e){return arguments.length?(this._x=e,this):this._x}function BA(e,n){var r=new iv(n??qB,NaN,NaN);return e==null?r:r.addAll(e)}function iv(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function eb(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Bn=BA.prototype=iv.prototype;Bn.copy=function(){var e=new iv(this._x,this._x0,this._x1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=eb(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var s=0;s<2;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(2)}):n.target[s]=eb(o));return e};Bn.add=IB;Bn.addAll=OB;Bn.cover=DB;Bn.data=$B;Bn.extent=LB;Bn.find=zB;Bn.remove=FB;Bn.removeAll=UB;Bn.root=HB;Bn.size=BB;Bn.visit=VB;Bn.visitAfter=WB;Bn.x=GB;function YB(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return VA(this.cover(n,r),n,r,e)}function VA(e,n,r,o){if(isNaN(n)||isNaN(r))return e;var s,i=e._root,a={data:o},l=e._x0,c=e._y0,u=e._x1,f=e._y1,d,m,p,w,v,b,y,x;if(!i)return e._root=a,e;for(;i.length;)if((v=n>=(d=(l+u)/2))?l=d:u=d,(b=r>=(m=(c+f)/2))?c=m:f=m,s=i,!(i=i[y=b<<1|v]))return s[y]=a,e;if(p=+e._x.call(null,i.data),w=+e._y.call(null,i.data),n===p&&r===w)return a.next=i,s?s[y]=a:e._root=a,e;do s=s?s[y]=new Array(4):e._root=new Array(4),(v=n>=(d=(l+u)/2))?l=d:u=d,(b=r>=(m=(c+f)/2))?c=m:f=m;while((y=b<<1|v)===(x=(w>=m)<<1|p>=d));return s[x]=i,s[y]=a,e}function KB(e){var n,r,o=e.length,s,i,a=new Array(o),l=new Array(o),c=1/0,u=1/0,f=-1/0,d=-1/0;for(r=0;r<o;++r)isNaN(s=+this._x.call(null,n=e[r]))||isNaN(i=+this._y.call(null,n))||(a[r]=s,l[r]=i,s<c&&(c=s),s>f&&(f=s),i<u&&(u=i),i>d&&(d=i));if(c>f||u>d)return this;for(this.cover(c,u).cover(f,d),r=0;r<o;++r)VA(this,a[r],l[r],e[r]);return this}function XB(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,o=this._y0,s=this._x1,i=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,i=(o=Math.floor(n))+1;else{for(var a=s-r||1,l=this._root,c,u;r>e||e>=s||o>n||n>=i;)switch(u=(n<o)<<1|e<r,c=new Array(4),c[u]=l,l=c,a*=2,u){case 0:s=r+a,i=o+a;break;case 1:r=s-a,i=o+a;break;case 2:s=r+a,o=i-a;break;case 3:r=s-a,o=i-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=o,this._x1=s,this._y1=i,this}function QB(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function ZB(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function kn(e,n,r,o,s){this.node=e,this.x0=n,this.y0=r,this.x1=o,this.y1=s}function JB(e,n,r){var o,s=this._x0,i=this._y0,a,l,c,u,f=this._x1,d=this._y1,m=[],p=this._root,w,v;for(p&&m.push(new kn(p,s,i,f,d)),r==null?r=1/0:(s=e-r,i=n-r,f=e+r,d=n+r,r*=r);w=m.pop();)if(!(!(p=w.node)||(a=w.x0)>f||(l=w.y0)>d||(c=w.x1)<s||(u=w.y1)<i))if(p.length){var b=(a+c)/2,y=(l+u)/2;m.push(new kn(p[3],b,y,c,u),new kn(p[2],a,y,b,u),new kn(p[1],b,l,c,y),new kn(p[0],a,l,b,y)),(v=(n>=y)<<1|e>=b)&&(w=m[m.length-1],m[m.length-1]=m[m.length-1-v],m[m.length-1-v]=w)}else{var x=e-+this._x.call(null,p.data),S=n-+this._y.call(null,p.data),_=x*x+S*S;if(_<r){var C=Math.sqrt(r=_);s=e-C,i=n-C,f=e+C,d=n+C,o=p.data}}return o}function eV(e){if(isNaN(f=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._y0,c=this._x1,u=this._y1,f,d,m,p,w,v,b,y;if(!r)return this;if(r.length)for(;;){if((w=f>=(m=(a+c)/2))?a=m:c=m,(v=d>=(p=(l+u)/2))?l=p:u=p,n=r,!(r=r[b=v<<1|w]))return this;if(!r.length)break;(n[b+1&3]||n[b+2&3]||n[b+3&3])&&(o=n,y=b)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[b]=i:delete n[b],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[y]=r:this._root=r),this):(this._root=i,this)}function tV(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function nV(){return this._root}function rV(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function oV(e){var n=[],r,o=this._root,s,i,a,l,c;for(o&&n.push(new kn(o,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.y0,l=r.x1,c=r.y1)&&o.length){var u=(i+l)/2,f=(a+c)/2;(s=o[3])&&n.push(new kn(s,u,f,l,c)),(s=o[2])&&n.push(new kn(s,i,f,u,c)),(s=o[1])&&n.push(new kn(s,u,a,l,f)),(s=o[0])&&n.push(new kn(s,i,a,u,f))}return this}function sV(e){var n=[],r=[],o;for(this._root&&n.push(new kn(this._root,this._x0,this._y0,this._x1,this._y1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.y0,c=o.x1,u=o.y1,f=(a+c)/2,d=(l+u)/2;(i=s[0])&&n.push(new kn(i,a,l,f,d)),(i=s[1])&&n.push(new kn(i,f,l,c,d)),(i=s[2])&&n.push(new kn(i,a,d,f,u)),(i=s[3])&&n.push(new kn(i,f,d,c,u))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function iV(e){return e[0]}function aV(e){return arguments.length?(this._x=e,this):this._x}function lV(e){return e[1]}function cV(e){return arguments.length?(this._y=e,this):this._y}function WA(e,n,r){var o=new av(n??iV,r??lV,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function av(e,n,r,o,s,i){this._x=e,this._y=n,this._x0=r,this._y0=o,this._x1=s,this._y1=i,this._root=void 0}function tb(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Tn=WA.prototype=av.prototype;Tn.copy=function(){var e=new av(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=tb(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var s=0;s<4;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(4)}):n.target[s]=tb(o));return e};Tn.add=YB;Tn.addAll=KB;Tn.cover=XB;Tn.data=QB;Tn.extent=ZB;Tn.find=JB;Tn.remove=eV;Tn.removeAll=tV;Tn.root=nV;Tn.size=rV;Tn.visit=oV;Tn.visitAfter=sV;Tn.x=aV;Tn.y=cV;function uV(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),o=+this._z.call(null,e);return qA(this.cover(n,r,o),n,r,o,e)}function qA(e,n,r,o,s){if(isNaN(n)||isNaN(r)||isNaN(o))return e;var i,a=e._root,l={data:s},c=e._x0,u=e._y0,f=e._z0,d=e._x1,m=e._y1,p=e._z1,w,v,b,y,x,S,_,C,k,N,A;if(!a)return e._root=l,e;for(;a.length;)if((_=n>=(w=(c+d)/2))?c=w:d=w,(C=r>=(v=(u+m)/2))?u=v:m=v,(k=o>=(b=(f+p)/2))?f=b:p=b,i=a,!(a=a[N=k<<2|C<<1|_]))return i[N]=l,e;if(y=+e._x.call(null,a.data),x=+e._y.call(null,a.data),S=+e._z.call(null,a.data),n===y&&r===x&&o===S)return l.next=a,i?i[N]=l:e._root=l,e;do i=i?i[N]=new Array(8):e._root=new Array(8),(_=n>=(w=(c+d)/2))?c=w:d=w,(C=r>=(v=(u+m)/2))?u=v:m=v,(k=o>=(b=(f+p)/2))?f=b:p=b;while((N=k<<2|C<<1|_)===(A=(S>=b)<<2|(x>=v)<<1|y>=w));return i[A]=a,i[N]=l,e}function dV(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),o=new Float64Array(n),s=new Float64Array(n);let i=1/0,a=1/0,l=1/0,c=-1/0,u=-1/0,f=-1/0;for(let d=0,m,p,w,v;d<n;++d)isNaN(p=+this._x.call(null,m=e[d]))||isNaN(w=+this._y.call(null,m))||isNaN(v=+this._z.call(null,m))||(r[d]=p,o[d]=w,s[d]=v,p<i&&(i=p),p>c&&(c=p),w<a&&(a=w),w>u&&(u=w),v<l&&(l=v),v>f&&(f=v));if(i>c||a>u||l>f)return this;this.cover(i,a,l).cover(c,u,f);for(let d=0;d<n;++d)qA(this,r[d],o[d],s[d],e[d]);return this}function fV(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var o=this._x0,s=this._y0,i=this._z0,a=this._x1,l=this._y1,c=this._z1;if(isNaN(o))a=(o=Math.floor(e))+1,l=(s=Math.floor(n))+1,c=(i=Math.floor(r))+1;else{for(var u=a-o||1,f=this._root,d,m;o>e||e>=a||s>n||n>=l||i>r||r>=c;)switch(m=(r<i)<<2|(n<s)<<1|e<o,d=new Array(8),d[m]=f,f=d,u*=2,m){case 0:a=o+u,l=s+u,c=i+u;break;case 1:o=a-u,l=s+u,c=i+u;break;case 2:a=o+u,s=l-u,c=i+u;break;case 3:o=a-u,s=l-u,c=i+u;break;case 4:a=o+u,l=s+u,i=c-u;break;case 5:o=a-u,l=s+u,i=c-u;break;case 6:a=o+u,s=l-u,i=c-u;break;case 7:o=a-u,s=l-u,i=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=o,this._y0=s,this._z0=i,this._x1=a,this._y1=l,this._z1=c,this}function hV(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function pV(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ut(e,n,r,o,s,i,a){this.node=e,this.x0=n,this.y0=r,this.z0=o,this.x1=s,this.y1=i,this.z1=a}function mV(e,n,r,o){var s,i=this._x0,a=this._y0,l=this._z0,c,u,f,d,m,p,w=this._x1,v=this._y1,b=this._z1,y=[],x=this._root,S,_;for(x&&y.push(new ut(x,i,a,l,w,v,b)),o==null?o=1/0:(i=e-o,a=n-o,l=r-o,w=e+o,v=n+o,b=r+o,o*=o);S=y.pop();)if(!(!(x=S.node)||(c=S.x0)>w||(u=S.y0)>v||(f=S.z0)>b||(d=S.x1)<i||(m=S.y1)<a||(p=S.z1)<l))if(x.length){var C=(c+d)/2,k=(u+m)/2,N=(f+p)/2;y.push(new ut(x[7],C,k,N,d,m,p),new ut(x[6],c,k,N,C,m,p),new ut(x[5],C,u,N,d,k,p),new ut(x[4],c,u,N,C,k,p),new ut(x[3],C,k,f,d,m,N),new ut(x[2],c,k,f,C,m,N),new ut(x[1],C,u,f,d,k,N),new ut(x[0],c,u,f,C,k,N)),(_=(r>=N)<<2|(n>=k)<<1|e>=C)&&(S=y[y.length-1],y[y.length-1]=y[y.length-1-_],y[y.length-1-_]=S)}else{var A=e-+this._x.call(null,x.data),T=n-+this._y.call(null,x.data),P=r-+this._z.call(null,x.data),O=A*A+T*T+P*P;if(O<o){var D=Math.sqrt(o=O);i=e-D,a=n-D,l=r-D,w=e+D,v=n+D,b=r+D,s=x.data}}return s}const gV=(e,n,r,o,s,i)=>Math.sqrt((e-o)**2+(n-s)**2+(r-i)**2);function yV(e,n,r,o){const s=[],i=e-o,a=n-o,l=r-o,c=e+o,u=n+o,f=r+o;return this.visit((d,m,p,w,v,b,y)=>{if(!d.length)do{const x=d.data;gV(e,n,r,this._x(x),this._y(x),this._z(x))<=o&&s.push(x)}while(d=d.next);return m>c||p>u||w>f||v<i||b<a||y<l}),s}function vV(e){if(isNaN(m=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._y0,c=this._z0,u=this._x1,f=this._y1,d=this._z1,m,p,w,v,b,y,x,S,_,C,k;if(!r)return this;if(r.length)for(;;){if((x=m>=(v=(a+u)/2))?a=v:u=v,(S=p>=(b=(l+f)/2))?l=b:f=b,(_=w>=(y=(c+d)/2))?c=y:d=y,n=r,!(r=r[C=_<<2|S<<1|x]))return this;if(!r.length)break;(n[C+1&7]||n[C+2&7]||n[C+3&7]||n[C+4&7]||n[C+5&7]||n[C+6&7]||n[C+7&7])&&(o=n,k=C)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[C]=i:delete n[C],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[k]=r:this._root=r),this):(this._root=i,this)}function xV(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function wV(){return this._root}function bV(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function SV(e){var n=[],r,o=this._root,s,i,a,l,c,u,f;for(o&&n.push(new ut(o,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.y0,l=r.z0,c=r.x1,u=r.y1,f=r.z1)&&o.length){var d=(i+c)/2,m=(a+u)/2,p=(l+f)/2;(s=o[7])&&n.push(new ut(s,d,m,p,c,u,f)),(s=o[6])&&n.push(new ut(s,i,m,p,d,u,f)),(s=o[5])&&n.push(new ut(s,d,a,p,c,m,f)),(s=o[4])&&n.push(new ut(s,i,a,p,d,m,f)),(s=o[3])&&n.push(new ut(s,d,m,l,c,u,p)),(s=o[2])&&n.push(new ut(s,i,m,l,d,u,p)),(s=o[1])&&n.push(new ut(s,d,a,l,c,m,p)),(s=o[0])&&n.push(new ut(s,i,a,l,d,m,p))}return this}function _V(e){var n=[],r=[],o;for(this._root&&n.push(new ut(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.y0,c=o.z0,u=o.x1,f=o.y1,d=o.z1,m=(a+u)/2,p=(l+f)/2,w=(c+d)/2;(i=s[0])&&n.push(new ut(i,a,l,c,m,p,w)),(i=s[1])&&n.push(new ut(i,m,l,c,u,p,w)),(i=s[2])&&n.push(new ut(i,a,p,c,m,f,w)),(i=s[3])&&n.push(new ut(i,m,p,c,u,f,w)),(i=s[4])&&n.push(new ut(i,a,l,w,m,p,d)),(i=s[5])&&n.push(new ut(i,m,l,w,u,p,d)),(i=s[6])&&n.push(new ut(i,a,p,w,m,f,d)),(i=s[7])&&n.push(new ut(i,m,p,w,u,f,d))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.z0,o.x1,o.y1,o.z1);return this}function CV(e){return e[0]}function kV(e){return arguments.length?(this._x=e,this):this._x}function NV(e){return e[1]}function EV(e){return arguments.length?(this._y=e,this):this._y}function AV(e){return e[2]}function TV(e){return arguments.length?(this._z=e,this):this._z}function GA(e,n,r,o){var s=new lv(n??CV,r??NV,o??AV,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function lv(e,n,r,o,s,i,a,l,c){this._x=e,this._y=n,this._z=r,this._x0=o,this._y0=s,this._z0=i,this._x1=a,this._y1=l,this._z1=c,this._root=void 0}function nb(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var sn=GA.prototype=lv.prototype;sn.copy=function(){var e=new lv(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=nb(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var s=0;s<8;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(8)}):n.target[s]=nb(o));return e};sn.add=uV;sn.addAll=dV;sn.cover=fV;sn.data=hV;sn.extent=pV;sn.find=mV;sn.findAllWithinRadius=yV;sn.remove=vV;sn.removeAll=xV;sn.root=wV;sn.size=bV;sn.visit=SV;sn.visitAfter=_V;sn.x=kV;sn.y=EV;sn.z=TV;function tn(e){return function(){return e}}function No(e){return(e()-.5)*1e-6}function jV(e){return e.index}function rb(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function PV(e){var n=jV,r=m,o,s=tn(30),i,a,l,c,u,f,d=1;e==null&&(e=[]);function m(y){return 1/Math.min(c[y.source.index],c[y.target.index])}function p(y){for(var x=0,S=e.length;x<d;++x)for(var _=0,C,k,N,A=0,T=0,P=0,O,D;_<S;++_)C=e[_],k=C.source,N=C.target,A=N.x+N.vx-k.x-k.vx||No(f),l>1&&(T=N.y+N.vy-k.y-k.vy||No(f)),l>2&&(P=N.z+N.vz-k.z-k.vz||No(f)),O=Math.sqrt(A*A+T*T+P*P),O=(O-i[_])/O*y*o[_],A*=O,T*=O,P*=O,N.vx-=A*(D=u[_]),l>1&&(N.vy-=T*D),l>2&&(N.vz-=P*D),k.vx+=A*(D=1-D),l>1&&(k.vy+=T*D),l>2&&(k.vz+=P*D)}function w(){if(a){var y,x=a.length,S=e.length,_=new Map(a.map((k,N)=>[n(k,N,a),k])),C;for(y=0,c=new Array(x);y<S;++y)C=e[y],C.index=y,typeof C.source!="object"&&(C.source=rb(_,C.source)),typeof C.target!="object"&&(C.target=rb(_,C.target)),c[C.source.index]=(c[C.source.index]||0)+1,c[C.target.index]=(c[C.target.index]||0)+1;for(y=0,u=new Array(S);y<S;++y)C=e[y],u[y]=c[C.source.index]/(c[C.source.index]+c[C.target.index]);o=new Array(S),v(),i=new Array(S),b()}}function v(){if(a)for(var y=0,x=e.length;y<x;++y)o[y]=+r(e[y],y,e)}function b(){if(a)for(var y=0,x=e.length;y<x;++y)i[y]=+s(e[y],y,e)}return p.initialize=function(y,...x){a=y,f=x.find(S=>typeof S=="function")||Math.random,l=x.find(S=>[1,2,3].includes(S))||2,w()},p.links=function(y){return arguments.length?(e=y,w(),p):e},p.id=function(y){return arguments.length?(n=y,p):n},p.iterations=function(y){return arguments.length?(d=+y,p):d},p.strength=function(y){return arguments.length?(r=typeof y=="function"?y:tn(+y),v(),p):r},p.distance=function(y){return arguments.length?(s=typeof y=="function"?y:tn(+y),b(),p):s},p}const MV=1664525,RV=1013904223,ob=4294967296;function IV(){let e=1;return()=>(e=(MV*e+RV)%ob)/ob}var sb=3;function Zp(e){return e.x}function ib(e){return e.y}function OV(e){return e.z}var DV=10,$V=Math.PI*(3-Math.sqrt(5)),LV=Math.PI*20/(9+Math.sqrt(221));function zV(e,n){n=n||2;var r=Math.min(sb,Math.max(1,Math.round(n))),o,s=1,i=.001,a=1-Math.pow(i,1/300),l=0,c=.6,u=new Map,f=E0(p),d=cu("tick","end"),m=IV();e==null&&(e=[]);function p(){w(),d.call("tick",o),s<i&&(f.stop(),d.call("end",o))}function w(y){var x,S=e.length,_;y===void 0&&(y=1);for(var C=0;C<y;++C)for(s+=(l-s)*a,u.forEach(function(k){k(s)}),x=0;x<S;++x)_=e[x],_.fx==null?_.x+=_.vx*=c:(_.x=_.fx,_.vx=0),r>1&&(_.fy==null?_.y+=_.vy*=c:(_.y=_.fy,_.vy=0)),r>2&&(_.fz==null?_.z+=_.vz*=c:(_.z=_.fz,_.vz=0));return o}function v(){for(var y=0,x=e.length,S;y<x;++y){if(S=e[y],S.index=y,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||r>1&&isNaN(S.y)||r>2&&isNaN(S.z)){var _=DV*(r>2?Math.cbrt(.5+y):r>1?Math.sqrt(.5+y):y),C=y*$V,k=y*LV;r===1?S.x=_:r===2?(S.x=_*Math.cos(C),S.y=_*Math.sin(C)):(S.x=_*Math.sin(C)*Math.cos(k),S.y=_*Math.cos(C),S.z=_*Math.sin(C)*Math.sin(k))}(isNaN(S.vx)||r>1&&isNaN(S.vy)||r>2&&isNaN(S.vz))&&(S.vx=0,r>1&&(S.vy=0),r>2&&(S.vz=0))}}function b(y){return y.initialize&&y.initialize(e,m,r),y}return v(),o={tick:w,restart:function(){return f.restart(p),o},stop:function(){return f.stop(),o},numDimensions:function(y){return arguments.length?(r=Math.min(sb,Math.max(1,Math.round(y))),u.forEach(b),o):r},nodes:function(y){return arguments.length?(e=y,v(),u.forEach(b),o):e},alpha:function(y){return arguments.length?(s=+y,o):s},alphaMin:function(y){return arguments.length?(i=+y,o):i},alphaDecay:function(y){return arguments.length?(a=+y,o):+a},alphaTarget:function(y){return arguments.length?(l=+y,o):l},velocityDecay:function(y){return arguments.length?(c=1-y,o):1-c},randomSource:function(y){return arguments.length?(m=y,u.forEach(b),o):m},force:function(y,x){return arguments.length>1?(x==null?u.delete(y):u.set(y,b(x)),o):u.get(y)},find:function(){var y=Array.prototype.slice.call(arguments),x=y.shift()||0,S=(r>1?y.shift():null)||0,_=(r>2?y.shift():null)||0,C=y.shift()||1/0,k=0,N=e.length,A,T,P,O,D,F;for(C*=C,k=0;k<N;++k)D=e[k],A=x-D.x,T=S-(D.y||0),P=_-(D.z||0),O=A*A+T*T+P*P,O<C&&(F=D,C=O);return F},on:function(y,x){return arguments.length>1?(d.on(y,x),o):d.on(y)}}}function FV(){var e,n,r,o,s,i=tn(-30),a,l=1,c=1/0,u=.81;function f(w){var v,b=e.length,y=(n===1?BA(e,Zp):n===2?WA(e,Zp,ib):n===3?GA(e,Zp,ib,OV):null).visitAfter(m);for(s=w,v=0;v<b;++v)r=e[v],y.visit(p)}function d(){if(e){var w,v=e.length,b;for(a=new Array(v),w=0;w<v;++w)b=e[w],a[b.index]=+i(b,w,e)}}function m(w){var v=0,b,y,x=0,S,_,C,k,N=w.length;if(N){for(S=_=C=k=0;k<N;++k)(b=w[k])&&(y=Math.abs(b.value))&&(v+=b.value,x+=y,S+=y*(b.x||0),_+=y*(b.y||0),C+=y*(b.z||0));v*=Math.sqrt(4/N),w.x=S/x,n>1&&(w.y=_/x),n>2&&(w.z=C/x)}else{b=w,b.x=b.data.x,n>1&&(b.y=b.data.y),n>2&&(b.z=b.data.z);do v+=a[b.data.index];while(b=b.next)}w.value=v}function p(w,v,b,y,x){if(!w.value)return!0;var S=[b,y,x][n-1],_=w.x-r.x,C=n>1?w.y-r.y:0,k=n>2?w.z-r.z:0,N=S-v,A=_*_+C*C+k*k;if(N*N/u<A)return A<c&&(_===0&&(_=No(o),A+=_*_),n>1&&C===0&&(C=No(o),A+=C*C),n>2&&k===0&&(k=No(o),A+=k*k),A<l&&(A=Math.sqrt(l*A)),r.vx+=_*w.value*s/A,n>1&&(r.vy+=C*w.value*s/A),n>2&&(r.vz+=k*w.value*s/A)),!0;if(w.length||A>=c)return;(w.data!==r||w.next)&&(_===0&&(_=No(o),A+=_*_),n>1&&C===0&&(C=No(o),A+=C*C),n>2&&k===0&&(k=No(o),A+=k*k),A<l&&(A=Math.sqrt(l*A)));do w.data!==r&&(N=a[w.data.index]*s/A,r.vx+=_*N,n>1&&(r.vy+=C*N),n>2&&(r.vz+=k*N));while(w=w.next)}return f.initialize=function(w,...v){e=w,o=v.find(b=>typeof b=="function")||Math.random,n=v.find(b=>[1,2,3].includes(b))||2,d()},f.strength=function(w){return arguments.length?(i=typeof w=="function"?w:tn(+w),d(),f):i},f.distanceMin=function(w){return arguments.length?(l=w*w,f):Math.sqrt(l)},f.distanceMax=function(w){return arguments.length?(c=w*w,f):Math.sqrt(c)},f.theta=function(w){return arguments.length?(u=w*w,f):Math.sqrt(u)},f}function UV(e,n,r,o){var s,i,a=tn(.1),l,c;typeof e!="function"&&(e=tn(+e)),n==null&&(n=0),r==null&&(r=0),o==null&&(o=0);function u(d){for(var m=0,p=s.length;m<p;++m){var w=s[m],v=w.x-n||1e-6,b=(w.y||0)-r||1e-6,y=(w.z||0)-o||1e-6,x=Math.sqrt(v*v+b*b+y*y),S=(c[m]-x)*l[m]*d/x;w.vx+=v*S,i>1&&(w.vy+=b*S),i>2&&(w.vz+=y*S)}}function f(){if(s){var d,m=s.length;for(l=new Array(m),c=new Array(m),d=0;d<m;++d)c[d]=+e(s[d],d,s),l[d]=isNaN(c[d])?0:+a(s[d],d,s)}}return u.initialize=function(d,...m){s=d,i=m.find(p=>[1,2,3].includes(p))||2,f()},u.strength=function(d){return arguments.length?(a=typeof d=="function"?d:tn(+d),f(),u):a},u.radius=function(d){return arguments.length?(e=typeof d=="function"?d:tn(+d),f(),u):e},u.x=function(d){return arguments.length?(n=+d,u):n},u.y=function(d){return arguments.length?(r=+d,u):r},u.z=function(d){return arguments.length?(o=+d,u):o},u}function HV(e){var n=tn(.1),r,o,s;typeof e!="function"&&(e=tn(e==null?0:+e));function i(l){for(var c=0,u=r.length,f;c<u;++c)f=r[c],f.vx+=(s[c]-f.x)*o[c]*l}function a(){if(r){var l,c=r.length;for(o=new Array(c),s=new Array(c),l=0;l<c;++l)o[l]=isNaN(s[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return i.initialize=function(l){r=l,a()},i.strength=function(l){return arguments.length?(n=typeof l=="function"?l:tn(+l),a(),i):n},i.x=function(l){return arguments.length?(e=typeof l=="function"?l:tn(+l),a(),i):e},i}function BV(e){var n=tn(.1),r,o,s;typeof e!="function"&&(e=tn(e==null?0:+e));function i(l){for(var c=0,u=r.length,f;c<u;++c)f=r[c],f.vy+=(s[c]-f.y)*o[c]*l}function a(){if(r){var l,c=r.length;for(o=new Array(c),s=new Array(c),l=0;l<c;++l)o[l]=isNaN(s[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return i.initialize=function(l){r=l,a()},i.strength=function(l){return arguments.length?(n=typeof l=="function"?l:tn(+l),a(),i):n},i.y=function(l){return arguments.length?(e=typeof l=="function"?l:tn(+l),a(),i):e},i}const{abs:Ml,cos:bo,sin:Ki,acos:VV,atan2:Rl,sqrt:Zo,pow:cr}=Math;function Il(e){return e<0?-cr(-e,1/3):cr(e,1/3)}const YA=Math.PI,ad=2*YA,Jo=YA/2,WV=1e-6,Jp=Number.MAX_SAFE_INTEGER||9007199254740991,em=Number.MIN_SAFE_INTEGER||-9007199254740991,qV={x:0,y:0,z:0},de={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let o=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(o+=r.z*r.z),Zo(o)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const o=n.length-1;if(e===1)return n[o].t=1,n[o];const s=1-e;let i=n;if(o===0)return n[0].t=e,n[0];if(o===1){const l={x:s*i[0].x+e*i[1].x,y:s*i[0].y+e*i[1].y,t:e};return r&&(l.z=s*i[0].z+e*i[1].z),l}if(o<4){let l=s*s,c=e*e,u,f,d,m=0;o===2?(i=[i[0],i[1],i[2],qV],u=l,f=s*e*2,d=c):o===3&&(u=l*s,f=l*e*3,d=s*c*3,m=e*c);const p={x:u*i[0].x+f*i[1].x+d*i[2].x+m*i[3].x,y:u*i[0].y+f*i[1].y+d*i[2].y+m*i[3].y,t:e};return r&&(p.z=u*i[0].z+f*i[1].z+d*i[2].z+m*i[3].z),p}const a=JSON.parse(JSON.stringify(n));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*e,y:a[l].y+(a[l+1].y-a[l].y)*e},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,n,r,o){const s=1-e,i=r,a=n;let l=i[0],c=i[1],u=i[2],f=i[3],d;if(l*=s,c*=e,a.length===2)return d=l+c,{x:(l*a[0].x+c*a[1].x)/d,y:(l*a[0].y+c*a[1].y)/d,z:o?(l*a[0].z+c*a[1].z)/d:!1,t:e};if(l*=s,c*=2*s,u*=e*e,a.length===3)return d=l+c+u,{x:(l*a[0].x+c*a[1].x+u*a[2].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y)/d,z:o?(l*a[0].z+c*a[1].z+u*a[2].z)/d:!1,t:e};if(l*=s,c*=1.5*s,u*=3*s,f*=e*e*e,a.length===4)return d=l+c+u+f,{x:(l*a[0].x+c*a[1].x+u*a[2].x+f*a[3].x)/d,y:(l*a[0].y+c*a[1].y+u*a[2].y+f*a[3].y)/d,z:o?(l*a[0].z+c*a[1].z+u*a[2].z+f*a[3].z)/d:!1,t:e}},derive:function(e,n){const r=[];for(let o=e,s=o.length,i=s-1;s>1;s--,i--){const a=[];for(let l=0,c;l<i;l++)c={x:i*(o[l+1].x-o[l].x),y:i*(o[l+1].y-o[l].y)},n&&(c.z=i*(o[l+1].z-o[l].z)),a.push(c);r.push(a),o=a}return r},between:function(e,n,r){return n<=e&&e<=r||de.approximately(e,n)||de.approximately(e,r)},approximately:function(e,n,r){return Ml(e-n)<=(r||WV)},length:function(e){const r=de.Tvalues.length;let o=0;for(let s=0,i;s<r;s++)i=.5*de.Tvalues[s]+.5,o+=de.Cvalues[s]*de.arcfn(i,e);return .5*o},map:function(e,n,r,o,s){const i=r-n,a=s-o,l=e-n,c=l/i;return o+a*c},lerp:function(e,n,r){const o={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(o.z=n.z+e*(r.z-n.z)),o},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(de.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const o=n.x-e.x,s=n.y-e.y,i=r.x-e.x,a=r.y-e.y,l=o*a-s*i,c=o*i+s*a;return Rl(l,c)},round:function(e,n){const r=""+e,o=r.indexOf(".");return parseFloat(r.substring(0,o+1+n))},dist:function(e,n){const r=e.x-n.x,o=e.y-n.y;return Zo(r*r+o*o)},closest:function(e,n){let r=cr(2,63),o,s;return e.forEach(function(i,a){s=de.dist(n,i),s<r&&(r=s,o=a)}),{mdist:r,mpos:o}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=cr(e,n)+cr(1-e,n),o=r-1;return Ml(o/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=cr(1-e,n),o=cr(e,n)+r;return r/o},lli8:function(e,n,r,o,s,i,a,l){const c=(e*o-n*r)*(s-a)-(e-r)*(s*l-i*a),u=(e*o-n*r)*(i-l)-(n-o)*(s*l-i*a),f=(e-r)*(i-l)-(n-o)*(s-a);return f==0?!1:{x:c/f,y:u/f}},lli4:function(e,n,r,o){const s=e.x,i=e.y,a=n.x,l=n.y,c=r.x,u=r.y,f=o.x,d=o.y;return de.lli8(s,i,a,l,c,u,f,d)},lli:function(e,n){return de.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new yt(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=Jp,r=Jp,o=em,s=em;return e.forEach(function(i){const a=i.bbox();n>a.x.min&&(n=a.x.min),r>a.y.min&&(r=a.y.min),o<a.x.max&&(o=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:n,mid:(n+o)/2,max:o,size:o-n},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(e,n,r,o,s){if(!de.bboxoverlap(n,o))return[];const i=[],a=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const f=c.intersects(u,s);f.length>0&&(f.c1=c,f.c2=u,f.s1=e,f.s2=r,i.push(f))})}),i},makeshape:function(e,n,r){const o=n.points.length,s=e.points.length,i=de.makeline(n.points[o-1],e.points[0]),a=de.makeline(e.points[s-1],n.points[0]),l={startcap:i,forward:e,back:n,endcap:a,bbox:de.findbbox([i,e,n,a])};return l.intersections=function(c){return de.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let o=Jp,s=em,i,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)i=r[l],a=e.get(i),a[n]<o&&(o=a[n]),a[n]>s&&(s=a[n]);return{min:o,mid:(o+s)/2,max:s,size:s-o}},align:function(e,n){const r=n.p1.x,o=n.p1.y,s=-Rl(n.p2.y-o,n.p2.x-r),i=function(a){return{x:(a.x-r)*bo(s)-(a.y-o)*Ki(s),y:(a.x-r)*Ki(s)+(a.y-o)*bo(s)}};return e.map(i)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,o=de.align(e,n),s=function(N){return 0<=N&&N<=1};if(r===2){const N=o[0].y,A=o[1].y,T=o[2].y,P=N-2*A+T;if(P!==0){const O=-Zo(A*A-N*T),D=-N+A,F=-(O+D)/P,E=-(-O+D)/P;return[F,E].filter(s)}else if(A!==T&&P===0)return[(2*A-T)/(2*A-2*T)].filter(s);return[]}const i=o[0].y,a=o[1].y,l=o[2].y,c=o[3].y;let u=-i+3*a-3*l+c,f=3*i-6*a+3*l,d=-3*i+3*a,m=i;if(de.approximately(u,0)){if(de.approximately(f,0))return de.approximately(d,0)?[]:[-m/d].filter(s);const N=Zo(d*d-4*f*m),A=2*f;return[(N-d)/A,(-d-N)/A].filter(s)}f/=u,d/=u,m/=u;const p=(3*d-f*f)/3,w=p/3,v=(2*f*f*f-9*f*d+27*m)/27,b=v/2,y=b*b+w*w*w;let x,S,_,C,k;if(y<0){const N=-p/3,A=N*N*N,T=Zo(A),P=-v/(2*T),O=P<-1?-1:P>1?1:P,D=VV(O),F=Il(T),E=2*F;return _=E*bo(D/3)-f/3,C=E*bo((D+ad)/3)-f/3,k=E*bo((D+2*ad)/3)-f/3,[_,C,k].filter(s)}else{if(y===0)return x=b<0?Il(-b):-Il(b),_=2*x-f/3,C=-x-f/3,[_,C].filter(s);{const N=Zo(y);return x=Il(-b+N),S=Il(b+N),[x-S-f/3].filter(s)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],o=e[2],s=n-2*r+o;if(s!==0){const i=-Zo(r*r-n*o),a=-n+r,l=-(i+a)/s,c=-(-i+a)/s;return[l,c]}else if(r!==o&&s===0)return[(2*r-o)/(2*(r-o))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,o,s){let i,a,l,c,u=0,f=0;const d=de.compute(e,n),m=de.compute(e,r),p=d.x*d.x+d.y*d.y;if(o?(i=Zo(cr(d.y*m.z-m.y*d.z,2)+cr(d.z*m.x-m.z*d.x,2)+cr(d.x*m.y-m.x*d.y,2)),a=cr(p+d.z*d.z,3/2)):(i=d.x*m.y-d.y*m.x,a=cr(p,3/2)),i===0||a===0)return{k:0,r:0};if(u=i/a,f=a/i,!s){const w=de.curvature(e-.001,n,r,o,!0).k,v=de.curvature(e+.001,n,r,o,!0).k;c=(v-u+(u-w))/2,l=(Ml(v-u)+Ml(u-w))/2}return{k:u,r:f,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];const n=de.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,o=n[3].x*n[1].y,s=n[1].x*n[2].y,i=n[3].x*n[2].y,a=18*(-3*r+2*o+3*s-i),l=18*(3*r-o-3*s),c=18*(s-r);if(de.approximately(a,0)){if(!de.approximately(l,0)){let m=-c/l;if(0<=m&&m<=1)return[m]}return[]}const u=2*a;if(de.approximately(u,0))return[];const f=l*l-4*a*c;if(f<0)return[];const d=Math.sqrt(f);return[(d-l)/u,-(l+d)/u].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(e,n){const r=["x","y"],o=r.length;for(let s=0,i,a,l,c;s<o;s++)if(i=r[s],a=e[i].mid,l=n[i].mid,c=(e[i].size+n[i].size)/2,Ml(a-l)>=c)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const o=e.bbox(),s=n.bbox(),i=1e5,a=r||.5;if(o.x.size+o.y.size<a&&s.x.size+s.y.size<a)return[(i*(e._t1+e._t2)/2|0)/i+"/"+(i*(n._t1+n._t2)/2|0)/i];let l=e.split(.5),c=n.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(d){return de.bboxoverlap(d.left.bbox(),d.right.bbox())});let f=[];return u.length===0||(u.forEach(function(d){f=f.concat(de.pairiteration(d.left,d.right,a))}),f=f.filter(function(d,m){return f.indexOf(d)===m})),f},getccenter:function(e,n,r){const o=n.x-e.x,s=n.y-e.y,i=r.x-n.x,a=r.y-n.y,l=o*bo(Jo)-s*Ki(Jo),c=o*Ki(Jo)+s*bo(Jo),u=i*bo(Jo)-a*Ki(Jo),f=i*Ki(Jo)+a*bo(Jo),d=(e.x+n.x)/2,m=(e.y+n.y)/2,p=(n.x+r.x)/2,w=(n.y+r.y)/2,v=d+l,b=m+c,y=p+u,x=w+f,S=de.lli8(d,m,v,b,p,w,y,x),_=de.dist(S,e);let C=Rl(e.y-S.y,e.x-S.x),k=Rl(n.y-S.y,n.x-S.x),N=Rl(r.y-S.y,r.x-S.x),A;return C<N?((C>k||k>N)&&(C+=ad),C>N&&(A=N,N=C,C=A)):N<k&&k<C?(A=N,N=C,C=A):N+=ad,S.s=C,S.e=N,S.r=_,S},numberSort:function(e,n){return e-n}};class uc{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return de.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),o=1;o<n.length;o++)de.expandbox(r,n[o].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(o){r.push(...o.offset(n))}),new uc(r)}}const{abs:Ol,min:ab,max:lb,cos:GV,sin:YV,acos:KV,sqrt:Dl}=Math,XV=Math.PI;class yt{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),o=!1;if(typeof r[0]=="object"){o=r.length;const p=[];r.forEach(function(w){["x","y","z"].forEach(function(v){typeof w[v]<"u"&&p.push(w[v])})}),r=p}let s=!1;const i=r.length;if(o){if(o>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(i!==6&&i!==8&&i!==9&&i!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(i===9||i===12)||n&&n[0]&&typeof n[0].z<"u",l=this.points=[];for(let p=0,w=a?3:2;p<i;p+=w){var c={x:r[p],y:r[p+1]};a&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,f=this.dims=["x","y"];a&&f.push("z"),this.dimlen=f.length;const d=de.align(l,{p1:l[0],p2:l[u]}),m=de.dist(l[0],l[u]);this._linear=d.reduce((p,w)=>p+Ol(w.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,o,s){if(typeof s>"u"&&(s=.5),s===0)return new yt(r,r,o);if(s===1)return new yt(n,r,r);const i=yt.getABC(2,n,r,o,s);return new yt(n,i.A,o)}static cubicFromPoints(n,r,o,s,i){typeof s>"u"&&(s=.5);const a=yt.getABC(3,n,r,o,s);typeof i>"u"&&(i=de.dist(r,a.C));const l=i*(1-s)/s,c=de.dist(n,o),u=(o.x-n.x)/c,f=(o.y-n.y)/c,d=i*u,m=i*f,p=l*u,w=l*f,v={x:r.x-d,y:r.y-m},b={x:r.x+p,y:r.y+w},y=a.A,x={x:y.x+(v.x-y.x)/(1-s),y:y.y+(v.y-y.y)/(1-s)},S={x:y.x+(b.x-y.x)/s,y:y.y+(b.y-y.y)/s},_={x:n.x+(x.x-n.x)/s,y:n.y+(x.y-n.y)/s},C={x:o.x+(S.x-o.x)/(1-s),y:o.y+(S.y-o.y)/(1-s)};return new yt(n,_,C,o)}static getUtils(){return de}getUtils(){return yt.getUtils()}static get PolyBezier(){return uc}valueOf(){return this.toString()}toString(){return de.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,o=n[0].y,s=["M",r,o,this.order===2?"Q":"C"];for(let i=1,a=n.length;i<a;i++)s.push(n[i].x),s.push(n[i].y);return s.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=de.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=de.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return de.length(this.derivative.bind(this))}static getABC(n=2,r,o,s,i=.5){const a=de.projectionratio(i,n),l=1-a,c={x:a*r.x+l*s.x,y:a*r.y+l*s.y},u=de.abcratio(i,n);return{A:{x:o.x+(o.x-c.x)/u,y:o.y+(o.y-c.y)/u},B:o,C:c,S:r,E:s}}getABC(n,r){r=r||this.get(n);let o=this.points[0],s=this.points[this.order];return yt.getABC(this.order,o,r,s,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,o,s;r<n;r++)s=r/(n-1),o=this.compute(s),o.t=s,this._lut.push(o);return this._lut}on(n,r){r=r||5;const o=this.getLUT(),s=[];for(let i=0,a,l=0;i<o.length;i++)a=o[i],de.dist(a,n)<r&&(s.push(a),l+=i/o.length);return s.length?t/=s.length:!1}project(n){const r=this.getLUT(),o=r.length-1,s=de.closest(r,n),i=s.mpos,a=(i-1)/o,l=(i+1)/o,c=.1/o;let u=s.mdist,f=a,d=f,m;u+=1;for(let p;f<l+c;f+=c)m=this.compute(f),p=de.dist(n,m),p<u&&(u=p,d=f);return d=d<0?0:d>1?1:d,m=this.compute(d),m.t=d,m.d=u,m}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?de.computeWithRatios(n,this.points,this.ratios,this._3d):de.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],o=n.length;for(let s=1,i,a;s<o;s++)i=n[s],a=n[s-1],r[s]={x:(o-s)/o*i.x+s/o*a.x,y:(o-s)/o*i.y+s/o*a.y};return r[o]=n[o-1],new yt(r)}derivative(n){return de.compute(n,this.dpoints[0],this._3d)}dderivative(n){return de.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new yt(de.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return de.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return de.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),o=Dl(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/o,y:r.x/o}}__normal3(n){const r=this.derivative(n),o=this.derivative(n+.01),s=Dl(r.x*r.x+r.y*r.y+r.z*r.z),i=Dl(o.x*o.x+o.y*o.y+o.z*o.z);r.x/=s,r.y/=s,r.z/=s,o.x/=i,o.y/=i,o.z/=i;const a={x:o.y*r.z-o.z*r.y,y:o.z*r.x-o.x*r.z,z:o.x*r.y-o.y*r.x},l=Dl(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const c=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:n,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(n){let r=this.points,o=[],s=[],i=0;for(s[i++]=r[0],s[i++]=r[1],s[i++]=r[2],this.order===3&&(s[i++]=r[3]);r.length>1;){o=[];for(let a=0,l,c=r.length-1;a<c;a++)l=de.lerp(n,r[a],r[a+1]),s[i++]=l,o.push(l);r=o}return s}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const o=this.hull(n),s={left:this.order===2?new yt([o[0],o[3],o[5]]):new yt([o[0],o[4],o[7],o[9]]),right:this.order===2?new yt([o[5],o[4],o[2]]):new yt([o[9],o[8],o[6],o[3]]),span:o};return s.left._t1=de.map(0,0,1,this._t1,this._t2),s.left._t2=de.map(n,0,1,this._t1,this._t2),s.right._t1=de.map(n,0,1,this._t1,this._t2),s.right._t2=de.map(1,0,1,this._t1,this._t2),r?(r=de.map(r,n,1,0,1),s.right.split(r).left):s}extrema(){const n={};let r=[];return this.dims.forEach((function(o){let s=function(a){return a[o]},i=this.dpoints[0].map(s);n[o]=de.droots(i),this.order===3&&(i=this.dpoints[1].map(s),n[o]=n[o].concat(de.droots(i))),n[o]=n[o].filter(function(a){return a>=0&&a<=1}),r=r.concat(n[o].sort(de.numberSort))}).bind(this)),n.values=r.sort(de.numberSort).filter(function(o,s){return r.indexOf(o)===s}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(o){r[o]=de.getminmax(this,o,n[o])}).bind(this)),r}overlaps(n){const r=this.bbox(),o=n.bbox();return de.bboxoverlap(r,o)}offset(n,r){if(typeof r<"u"){const o=this.get(n),s=this.normal(n),i={c:o,n:s,x:o.x+s.x*r,y:o.y+s.y*r};return this._3d&&(i.z=o.z+s.z*r),i}if(this._linear){const o=this.normal(0),s=this.points.map(function(i){const a={x:i.x+n*o.x,y:i.y+n*o.y};return i.z&&o.z&&(a.z=i.z+n*o.z),a});return[new yt(s)]}return this.reduce().map(function(o){return o._linear?o.offset(n)[0]:o.scale(n)})}simple(){if(this.order===3){const s=de.angle(this.points[0],this.points[3],this.points[1]),i=de.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&i<0||s<0&&i>0)return!1}const n=this.normal(0),r=this.normal(1);let o=n.x*r.x+n.y*r.y;return this._3d&&(o+=n.z*r.z),Ol(KV(o))<XV/3}reduce(){let n,r=0,o=0,s=.01,i,a=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],n=1;n<c.length;n++)o=c[n],i=this.split(r,o),i._t1=r,i._t2=o,a.push(i),r=o;return a.forEach(function(u){for(r=0,o=0;o<=1;)for(o=r+s;o<=1+s;o+=s)if(i=u.split(r,o),!i.simple()){if(o-=s,Ol(r-o)<s)return[];i=u.split(r,o),i._t1=de.map(r,0,1,u._t1,u._t2),i._t2=de.map(o,0,1,u._t1,u._t2),l.push(i),r=o;break}r<1&&(i=u.split(r,1),i._t1=de.map(r,0,1,u._t1,u._t2),i._t2=u._t2,l.push(i))}),l}translate(n,r,o){o=typeof o=="number"?o:r;const s=this.order;let i=this.points.map((a,l)=>(1-l/s)*r+l/s*o);return new yt(this.points.map((a,l)=>({x:a.x+n.x*i[l],y:a.y+n.y*i[l]})))}scale(n){const r=this.order;let o=!1;if(typeof n=="function"&&(o=n),o&&r===2)return this.raise().scale(o);const s=this.clockwise,i=this.points;if(this._linear)return this.translate(this.normal(0),o?o(0):n,o?o(1):n);const a=o?o(0):n,l=o?o(1):n,c=[this.offset(0,10),this.offset(1,10)],u=[],f=de.lli4(c[0],c[0].c,c[1],c[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(d){const m=u[d*r]=de.copy(i[d*r]);m.x+=(d?l:a)*c[d].n.x,m.y+=(d?l:a)*c[d].n.y}),o?([0,1].forEach(function(d){if(!(r===2&&d)){var m=i[d+1],p={x:m.x-f.x,y:m.y-f.y},w=o?o((d+1)/r):n;o&&!s&&(w=-w);var v=Dl(p.x*p.x+p.y*p.y);p.x/=v,p.y/=v,u[d+1]={x:m.x+w*p.x,y:m.y+w*p.y}}}),new yt(u)):([0,1].forEach(d=>{if(r===2&&d)return;const m=u[d*r],p=this.derivative(d),w={x:m.x+p.x,y:m.y+p.y};u[d+1]=de.lli4(m,w,f,i[d+1])}),new yt(u))}outline(n,r,o,s){if(r=r===void 0?n:r,this._linear){const C=this.normal(0),k=this.points[0],N=this.points[this.points.length-1];let A,T,P;o===void 0&&(o=n,s=r),A={x:k.x+C.x*n,y:k.y+C.y*n},P={x:N.x+C.x*o,y:N.y+C.y*o},T={x:(A.x+P.x)/2,y:(A.y+P.y)/2};const O=[A,T,P];A={x:k.x-C.x*r,y:k.y-C.y*r},P={x:N.x-C.x*s,y:N.y-C.y*s},T={x:(A.x+P.x)/2,y:(A.y+P.y)/2};const D=[P,T,A],F=de.makeline(D[2],O[0]),E=de.makeline(O[2],D[0]),L=[F,new yt(O),E,new yt(D)];return new uc(L)}const i=this.reduce(),a=i.length,l=[];let c=[],u,f=0,d=this.length();const m=typeof o<"u"&&typeof s<"u";function p(C,k,N,A,T){return function(P){const O=A/N,D=(A+T)/N,F=k-C;return de.map(P,0,1,C+O*F,C+D*F)}}i.forEach(function(C){const k=C.length();m?(l.push(C.scale(p(n,o,d,f,k))),c.push(C.scale(p(-r,-s,d,f,k)))):(l.push(C.scale(n)),c.push(C.scale(-r))),f+=k}),c=c.map(function(C){return u=C.points,u[3]?C.points=[u[3],u[2],u[1],u[0]]:C.points=[u[2],u[1],u[0]],C}).reverse();const w=l[0].points[0],v=l[a-1].points[l[a-1].points.length-1],b=c[a-1].points[c[a-1].points.length-1],y=c[0].points[0],x=de.makeline(b,w),S=de.makeline(v,y),_=[x].concat(l).concat([S]).concat(c);return new uc(_)}outlineshapes(n,r,o){r=r||n;const s=this.outline(n,r).curves,i=[];for(let a=1,l=s.length;a<l/2;a++){const c=de.makeshape(s[a],s[l-a],o);c.startcap.virtual=a>1,c.endcap.virtual=a<l/2-1,i.push(c)}return i}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof yt&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=ab(n.p1.x,n.p2.x),o=ab(n.p1.y,n.p2.y),s=lb(n.p1.x,n.p2.x),i=lb(n.p1.y,n.p2.y);return de.roots(this.points,n).filter(a=>{var l=this.get(a);return de.between(l.x,r,s)&&de.between(l.y,o,i)})}selfintersects(n){const r=this.reduce(),o=r.length-2,s=[];for(let i=0,a,l,c;i<o;i++)l=r.slice(i,i+1),c=r.slice(i+2),a=this.curveintersects(l,c,n),s.push(...a);return s}curveintersects(n,r,o){const s=[];n.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let i=[];return s.forEach(function(a){const l=de.pairiteration(a.left,a.right,o);l.length>0&&(i=i.concat(l))}),i}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,o,s){const i=(s-o)/4,a=this.get(o+i),l=this.get(s-i),c=de.dist(n,r),u=de.dist(n,a),f=de.dist(n,l);return Ol(u-c)+Ol(f-c)}_iterate(n,r){let o=0,s=1,i;do{i=0,s=1;let a=this.get(o),l,c,u,f,d=!1,m=!1,p,w=s,v=1;do if(m=d,f=u,w=(o+s)/2,l=this.get(w),c=this.get(s),u=de.getccenter(a,l,c),u.interval={start:o,end:s},d=this._error(u,a,o,s)<=n,p=m&&!d,p||(v=s),d){if(s>=1){if(u.interval.end=v=1,f=u,s>1){let y={x:u.x+u.r*GV(u.e),y:u.y+u.r*YV(u.e)};u.e+=de.angle({x:u.x,y:u.y},y,this.get(1))}break}s=s+(s-o)/2}else s=w;while(!p&&i++<100);if(i>=100)break;f=f||u,r.push(f),o=v}while(s<1);return r}}function oy(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function QV(e){if(Array.isArray(e))return e}function ZV(e){if(Array.isArray(e))return oy(e)}function JV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eW(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function tW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,n){if(e==null)return{};var r,o,s=oW(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oW(e,n){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.includes(o))continue;r[o]=e[o]}return r}function sW(e,n){return QV(e)||eW(e,n)||KA(e,n)||tW()}function iW(e){return ZV(e)||JV(e)||KA(e)||nW()}function aW(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lW(e){var n=aW(e,"string");return typeof n=="symbol"?n:n+""}function KA(e,n){if(e){if(typeof e=="string")return oy(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oy(e,n):void 0}}var cW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),i=e.reduce(function(l,c){var u=l,f=c;return s.forEach(function(d,m){var p=d.keyAccessor,w=d.isProp,v;if(w){var b=f,y=b[p],x=rW(b,[p].map(lW));v=y,f=x}else v=p(f,m);m+1<s.length?(u.hasOwnProperty(v)||(u[v]={}),u=u[v]):r?(u.hasOwnProperty(v)||(u[v]=[]),u[v].push(f)):u[v]=f}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===s.length?Object.keys(c).forEach(function(f){return c[f]=r(c[f])}):Object.values(c).forEach(function(f){return l(f,u+1)})}(i);var a=i;return o&&(a=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===s.length?a.push({keys:u,vals:c}):Object.entries(c).forEach(function(f){var d=sW(f,2),m=d[0],p=d[1];return l(p,[].concat(iW(u),[m]))})}(i),n instanceof Array&&n.length===0&&a.length===1&&(a[0].keys=[])),a};function uW(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const cb=Symbol("implicit");function XA(){var e=new j1,n=[],r=[],o=cb;function s(i){let a=e.get(i);if(a===void 0){if(o!==cb)return o;e.set(i,a=n.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return n.slice();n=[],e=new j1;for(const a of i)e.has(a)||e.set(a,n.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(o=i,s):o},s.copy=function(){return XA(n,r).unknown(o)},uW.apply(s,arguments),s}function dW(e){for(var n=e.length/6|0,r=new Array(n),o=0;o<n;)r[o]="#"+e.slice(o*6,++o*6);return r}const fW=dW("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function hW(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var pW=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;hW(pW);function sy(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function mW(e){if(Array.isArray(e))return e}function gW(e){if(Array.isArray(e))return sy(e)}function ub(e,n,r){if(QA())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var s=new(e.bind.apply(e,o));return s}function qc(e,n,r){return(n=SW(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function QA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QA=function(){return!!e})()}function yW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vW(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(c=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function xW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function db(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function Xi(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?db(Object(r),!0).forEach(function(o){qc(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function dc(e,n){return mW(e)||vW(e,n)||ZA(e,n)||xW()}function gr(e){return gW(e)||yW(e)||ZA(e)||wW()}function bW(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function SW(e){var n=bW(e,"string");return typeof n=="symbol"?n:n+""}function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},iy(e)}function ZA(e,n){if(e){if(typeof e=="string")return sy(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sy(e,n):void 0}}var _W=XA(fW);function fb(e,n,r){!n||typeof r!="string"||e.filter(function(o){return!o[r]}).forEach(function(o){o[r]=_W(n(o))})}function CW(e,n){var r=e.nodes,o=e.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.nodeFilter,a=i===void 0?function(){return!0}:i,l=s.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[n(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),o.forEach(function(p){var w=p.source,v=p.target,b=_(w),y=_(v);if(!u.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!u.hasOwnProperty(y))throw"Missing target node with id: ".concat(y);var x=u[b],S=u[y];x.out.push(S);function _(C){return iy(C)==="object"?n(C):C}});var f=[];m(Object.values(u));var d=Object.assign.apply(Object,[{}].concat(gr(Object.entries(u).filter(function(p){var w=dc(p,2),v=w[1];return!v.skip}).map(function(p){var w=dc(p,2),v=w[0],b=w[1];return qc({},v,b.depth)}))));return d;function m(p){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var _=p[y];if(w.indexOf(_)!==-1){var C=[].concat(gr(w.slice(w.indexOf(_))),[_]).map(function(k){return n(k.data)});return f.some(function(k){return k.length===C.length&&k.every(function(N,A){return N===C[A]})})||(f.push(C),c(C)),1}v>_.depth&&(_.depth=v,m(_.out,[].concat(gr(w),[_]),v+(_.skip?0:1)))},y=0,x=p.length;y<x;y++)b()}}var kW=2,hn=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},hb=function(n,r){if(!r.isShadow){var o=it(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var i=Math.round(Math.abs(o(s)));i?s.__photons=gr(Array(i)).map(function(){return{}}):delete s.__photons})}},Rf=tv({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,hb(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(o){return o.fx=o.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:hn},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:hn},nodeColor:{default:"color",triggerUpdate:!1,onChange:hn},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:hn},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:hn},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:hn},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:hn},linkColor:{default:"color",triggerUpdate:!1,onChange:hn},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:hn},linkWidth:{default:1,triggerUpdate:!1,onChange:hn},linkCurvature:{default:0,triggerUpdate:!1,onChange:hn},linkCanvasObject:{triggerUpdate:!1,onChange:hn},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:hn},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:hn},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:hn},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:hn},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:hb},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,o){return o===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,o),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),s(),!n.isShadow&&i(),!n.isShadow&&a(),o(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function o(){var l=it(n.nodeVisibility),c=it(n.nodeVal),u=it(n.nodeColor),f=it(n.nodeCanvasObjectMode),d=n.ctx,m=n.isShadow/n.globalScale,p=n.graphData.nodes.filter(l);d.save(),p.forEach(function(w){var v=f(w);if(n.nodeCanvasObject&&(v==="before"||v==="replace")&&(n.nodeCanvasObject(w,d,n.globalScale),v==="replace")){d.restore();return}var b=Math.sqrt(Math.max(0,c(w)||1))*n.nodeRelSize+m;d.beginPath(),d.arc(w.x,w.y,b,0,2*Math.PI,!1),d.fillStyle=u(w)||"rgba(31, 120, 180, 0.92)",d.fill(),n.nodeCanvasObject&&v==="after"&&n.nodeCanvasObject(w,n.ctx,n.globalScale)}),d.restore()}function s(){var l=it(n.linkVisibility),c=it(n.linkColor),u=it(n.linkWidth),f=it(n.linkLineDash),d=it(n.linkCurvature),m=it(n.linkCanvasObjectMode),p=n.ctx,w=n.isShadow*2,v=n.graphData.links.filter(l);v.forEach(k);var b=[],y=[],x=v;if(n.linkCanvasObject){var S=[],_=[];v.forEach(function(N){return({before:b,after:y,replace:S}[m(N)]||_).push(N)}),x=[].concat(gr(b),y,_),b=b.concat(S)}p.save(),b.forEach(function(N){return n.linkCanvasObject(N,p,n.globalScale)}),p.restore();var C=cW(x,[c,u,f]);p.save(),Object.entries(C).forEach(function(N){var A=dc(N,2),T=A[0],P=A[1],O=!T||T==="undefined"?"rgba(0,0,0,0.15)":T;Object.entries(P).forEach(function(D){var F=dc(D,2),E=F[0],L=F[1],R=(E||1)/n.globalScale+w;Object.entries(L).forEach(function(W){var I=dc(W,2);I[0];var j=I[1],H=f(j[0]);p.beginPath(),j.forEach(function(M){var $=M.source,Y=M.target;if(!(!$||!Y||!$.hasOwnProperty("x")||!Y.hasOwnProperty("x"))){p.moveTo($.x,$.y);var q=M.__controlPoints;q?p[q.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,gr(q).concat([Y.x,Y.y])):p.lineTo(Y.x,Y.y)}}),p.strokeStyle=O,p.lineWidth=R,p.setLineDash(H||[]),p.stroke()})})}),p.restore(),p.save(),y.forEach(function(N){return n.linkCanvasObject(N,p,n.globalScale)}),p.restore();function k(N){var A=d(N);if(!A){N.__controlPoints=null;return}var T=N.source,P=N.target;if(!(!T||!P||!T.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var O=Math.sqrt(Math.pow(P.x-T.x,2)+Math.pow(P.y-T.y,2));if(O>0){var D=Math.atan2(P.y-T.y,P.x-T.x),F=O*A,E={x:(T.x+P.x)/2+F*Math.cos(D-Math.PI/2),y:(T.y+P.y)/2+F*Math.sin(D-Math.PI/2)};N.__controlPoints=[E.x,E.y]}else{var L=A*70;N.__controlPoints=[P.x,P.y-L,P.x+L,P.y]}}}}function i(){var l=1.6,c=.2,u=it(n.linkDirectionalArrowLength),f=it(n.linkDirectionalArrowRelPos),d=it(n.linkVisibility),m=it(n.linkDirectionalArrowColor||n.linkColor),p=it(n.nodeVal),w=n.ctx;w.save(),n.graphData.links.filter(d).forEach(function(v){var b=u(v);if(!(!b||b<0)){var y=v.source,x=v.target;if(!(!y||!x||!y.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,p(y)||1))*n.nodeRelSize,_=Math.sqrt(Math.max(0,p(x)||1))*n.nodeRelSize,C=Math.min(1,Math.max(0,f(v))),k=m(v)||"rgba(0,0,0,0.28)",N=b/l/2,A=v.__controlPoints&&ub(yt,[y.x,y.y].concat(gr(v.__controlPoints),[x.x,x.y])),T=A?function(R){return A.get(R)}:function(R){return{x:y.x+(x.x-y.x)*R||0,y:y.y+(x.y-y.y)*R||0}},P=A?A.length():Math.sqrt(Math.pow(x.x-y.x,2)+Math.pow(x.y-y.y,2)),O=S+b+(P-S-_-b)*C,D=T(O/P),F=T((O-b)/P),E=T((O-b*(1-c))/P),L=Math.atan2(D.y-F.y,D.x-F.x)-Math.PI/2;w.beginPath(),w.moveTo(D.x,D.y),w.lineTo(F.x+N*Math.cos(L),F.y+N*Math.sin(L)),w.lineTo(E.x,E.y),w.lineTo(F.x-N*Math.cos(L),F.y-N*Math.sin(L)),w.fillStyle=k,w.fill()}}}),w.restore()}function a(){var l=it(n.linkDirectionalParticles),c=it(n.linkDirectionalParticleSpeed),u=it(n.linkDirectionalParticleOffset),f=it(n.linkDirectionalParticleWidth),d=it(n.linkVisibility),m=it(n.linkDirectionalParticleColor||n.linkColor),p=n.ctx;p.save(),n.graphData.links.filter(d).forEach(function(w){var v=l(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var b=w.source,y=w.target;if(!(!b||!y||!b.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var x=c(w),S=Math.abs(u(w)),_=w.__photons||[],C=Math.max(0,f(w)/2)/Math.sqrt(n.globalScale),k=m(w)||"rgba(0,0,0,0.28)";p.fillStyle=k;var N=w.__controlPoints?ub(yt,[b.x,b.y].concat(gr(w.__controlPoints),[y.x,y.y])):null,A=0,T=!1;_.forEach(function(P){var O=!!P.__singleHop;if(P.hasOwnProperty("__progressRatio")||(P.__progressRatio=O?0:(A+S)/v),!O&&A++,P.__progressRatio+=x,P.__progressRatio>=1)if(!O)P.__progressRatio=P.__progressRatio%1;else{T=!0;return}var D=P.__progressRatio,F=N?N.get(D):{x:b.x+(y.x-b.x)*D||0,y:b.y+(y.y-b.y)*D||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(F.x,F.y,w,p,n.globalScale):(p.beginPath(),p.arc(F.x,F.y,C,0,2*Math.PI,!1),p.fill())}),T&&(w.__photons=w.__photons.filter(function(P){return!P.__singleHop||P.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:zV().force("link",PV()).force("charge",FV()).force("center",RB()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&fb(n.graphData.nodes,it(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&fb(n.graphData.links,it(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(m){m.source=m[n.linkSource],m.target=m[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var o=n.forceLayout.force("link");o&&o.id(function(m){return m[n.nodeId]}).links(n.graphData.links);var s=n.dagMode&&CW(n.graphData,function(m){return m[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),i=Math.max.apply(Math,gr(Object.values(s||[]))),a=n.dagLevelDistance||n.graphData.nodes.length/(i||1)*kW*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return delete m[l]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["rl","bu"].includes(n.dagMode),u=function(p){return(s[p[n.nodeId]]-i/2)*a*(c?-1:1)},f=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return m[f]=u(m)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?UV(function(m){var p=s[m[n.nodeId]]||-1;return(n.dagMode==="radialin"?i-p:p)*a}).strength(function(m){return n.dagNodeFilter(m)?1:0}):null);for(var d=0;d<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);d++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function JA(e,n){var r=e instanceof Array?e:[e],o=new n;return o._destructor&&o._destructor(),{linkProp:function(i){return{default:o[i](),onChange:function(l,c){r.forEach(function(u){return c[u][i](l)})},triggerUpdate:!1}},linkMethod:function(i){return function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var f=[];return r.forEach(function(d){var m=a[d],p=m[i].apply(m,c);p!==m&&f.push(p)}),f.length?f[0]:this}}}}var NW=800,EW=4,AW=5,eT=JA("forceGraph",Rf),TW=JA(["forceGraph","shadowGraph"],Rf),jW=Object.assign.apply(Object,gr(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return qc({},e,eT.linkProp(e))})).concat(gr(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return qc({},e,TW.linkProp(e))})))),PW=Object.assign.apply(Object,gr(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return qc({},e,eT.linkMethod(e))})));function tm(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var o=window.devicePixelRatio;n/=o,r/=o,[e.canvas,e.shadowCanvas].forEach(function(i){i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),i.width=e.width*o,i.height=e.height*o,!n&&!r&&i.getContext("2d").scale(o,o)});var s=Kr(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/s,(e.height-r)/2/s),e.needsRedraw=!0}}function tT(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function pb(e,n,r){e.save(),tT(e),e.clearRect(0,0,n,r),e.restore()}var MW=tv({props:Xi({width:{default:window.innerWidth,onChange:function(n,r){return tm(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return tm(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(s){return(s||[]).every(function(i){return!i.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(o),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function o(s){var i=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:i,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(o,s,i){return n(o,o.__indexColor,s,i)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(o,s,i){return n(o,o.__indexColor,s,i)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},jW),aliases:{stopAnimation:"pauseAnimation"},methods:Xi({graph2ScreenCoords:function(n,r,o){var s=Kr(n.canvas);return{x:r*s.k+s.x,y:o*s.k+s.y}},screen2GraphCoords:function(n,r,o){var s=Kr(n.canvas);return{x:(r-s.x)/s.k,y:(o-s.y)/s.k}},centerAt:function(n,r,o,s){if(!n.canvas)return null;if(r!==void 0||o!==void 0){var i=Object.assign({},r!==void 0?{x:r}:{},o!==void 0?{y:o}:{});return s?n.tweenGroup.add(new $1(a()).to(i,s).easing(wi.Quadratic.Out).onUpdate(l).start()):l(i),this}return a();function a(){var c=Kr(n.canvas);return{x:(n.width/2-c.x)/c.k,y:(n.height/2-c.y)/c.k}}function l(c){var u=c.x,f=c.y;n.zoom.translateTo(n.zoom.__baseElem,u===void 0?a().x:u,f===void 0?a().y:f),n.needsRedraw=!0}},zoom:function(n,r,o){if(!n.canvas)return null;if(r!==void 0)return o?n.tweenGroup.add(new $1({k:s()}).to({k:r},o).easing(wi.Quadratic.Out).onUpdate(function(a){var l=a.k;return i(l)}).start()):i(r),this;return s();function s(){return Kr(n.canvas).k}function i(a){n.zoom.scaleTo(n.zoom.__baseElem,a),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,i=new Array(s>3?s-3:0),a=3;a<s;a++)i[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,i);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(n.width-o*2)/(l.x[1]-l.x[0]),(n.height-o*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=it(n.nodeVal),s=function(l){return Math.sqrt(Math.max(0,o(l)||1))*n.nodeRelSize},i=n.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return i.length?{x:[R1(i,function(a){return a.x-a.r}),M1(i,function(a){return a.x+a.r})],y:[R1(i,function(a){return a.y-a.r}),M1(i,function(a){return a.y+a.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},PW),stateInit:function(){return{lastSetZoom:1,zoom:j0(),forceGraph:new Rf,shadowGraph:new Rf().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new dB,tweenGroup:new CA}},init:function(n,r){var o=this;n.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",n.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var i=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var d=null,m=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*m,l.y*m,1,1):null;return p&&(d=r.colorTracker.lookup(p.data)),d};Cn(r.canvas).call(ck().subject(function(){if(!r.enableNodeDrag)return null;var f=c();return f&&f.type==="Node"?f.d:null}).on("start",function(f){var d=f.subject;d.__initialDragPos={x:d.x,y:d.y,fx:d.fx,fy:d.fy},f.active||(d.fx=d.x,d.fy=d.y),r.canvas.classList.add("grabbable")}).on("drag",function(f){var d=f.subject,m=d.__initialDragPos,p=f,w=Kr(r.canvas).k,v={x:m.x+(p.x-m.x)/w-d.x,y:m.y+(p.y-m.y)/w-d.y};["x","y"].forEach(function(b){return d["f".concat(b)]=d[b]=m[b]+(p[b]-m[b])/w}),!(!d.__dragged&&AW>=Math.sqrt(VU(["x","y"].map(function(b){return Math.pow(f[b]-m[b],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,d.__dragged=!0,r.onNodeDrag(d,v))}).on("end",function(f){var d=f.subject,m=d.__initialDragPos,p={x:d.x-m.x,y:d.y-m.y};m.fx===void 0&&(d.fx=void 0),m.fy===void 0&&(d.fy=void 0),delete d.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,d.__dragged&&(delete d.__dragged,r.onNodeDragEnd(d,p))})),r.zoom(r.zoom.__baseElem=Cn(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(f){return!f.button&&r.enableZoomPanInteraction&&(f.type!=="wheel"||it(r.enableZoomInteraction)(f))&&(f.type==="wheel"||it(r.enablePanInteraction)(f))}).on("zoom",function(f){var d=f.transform;[i,a].forEach(function(m){tT(m),m.translate(d.x,d.y),m.scale(d.k,d.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Xi(Xi({},d),o.centerAt())),r.needsRedraw=!0}).on("end",function(f){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Xi(Xi({},f.transform),o.centerAt()))}),tm(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){Kr(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=EW/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new MB(s),["pointermove","pointerdown"].forEach(function(f){return s.addEventListener(f,function(d){f==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=d),!r.isPointerDragging&&d.type==="pointermove"&&r.onBackgroundClick&&(d.pressure>0||r.isPointerPressed)&&(d.pointerType==="mouse"||d.movementX===void 0||[d.movementX,d.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var m=p(s);l.x=d.pageX-m.left,l.y=d.pageY-m.top;function p(w){var v=w.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,y=window.pageYOffset||document.documentElement.scrollTop;return{top:v.top+y,left:v.left+b}}},{passive:!0})}),s.addEventListener("pointerup",function(f){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var d=[f,r.pointerDownEvent];requestAnimationFrame(function(){if(f.button===0)if(r.hoverObj){var m=r["on".concat(r.hoverObj.type,"Click")];m&&m.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,d);if(f.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(d))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,d)})}},{passive:!0}),s.addEventListener("contextmenu",function(f){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(f.preventDefault(),!1)}),r.forceGraph(i),r.shadowGraph(a);var u=yH(function(){pb(a,r.width,r.height),r.shadowGraph.linkWidth(function(d){return it(r.linkWidth)(d)+r.linkHoverPrecision});var f=Kr(r.canvas);r.shadowGraph.globalScale(f.k).tickFrame()},NW);r.flushShadowCanvas=u.flush,(this._animationCycle=function f(){var d=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var m=r.isPointerDragging?null:c();if(m!==r.hoverObj){var p=r.hoverObj,w=p?p.type:null,v=m?m.type:null;if(w&&w!==v){var b=r["on".concat(w,"Hover")];b&&b(null,p.d)}if(v){var y=r["on".concat(v,"Hover")];y&&y(m.d,w===v?p.d:null)}r.tooltip.content(m&&it(r["".concat(m.type.toLowerCase(),"Label")])(m.d)||null),r.canvas.classList[(m&&r["on".concat(v,"Click")]||!m&&r.onBackgroundClick)&&it(r.showPointerCursor)(m==null?void 0:m.d)?"add":"remove"]("clickable"),r.hoverObj=m}d&&u()}if(d){pb(i,r.width,r.height);var x=Kr(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(i,x),r.forceGraph.globalScale(x).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(i,x)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(f)})()},update:function(n){}}),nT={exports:{}},RW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IW=RW,OW=IW;function rT(){}function oT(){}oT.resetWarningCache=rT;var DW=function(){function e(o,s,i,a,l,c){if(c!==OW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:oT,resetWarningCache:rT};return r.PropTypes=r,r};nT.exports=DW();var $W=nT.exports;const B=Df($W),Rh={width:B.number,height:B.number,graphData:B.shape({nodes:B.arrayOf(B.object).isRequired,links:B.arrayOf(B.object).isRequired}),backgroundColor:B.string,nodeRelSize:B.number,nodeId:B.string,nodeLabel:B.oneOfType([B.string,B.func]),nodeVal:B.oneOfType([B.number,B.string,B.func]),nodeVisibility:B.oneOfType([B.bool,B.string,B.func]),nodeColor:B.oneOfType([B.string,B.func]),nodeAutoColorBy:B.oneOfType([B.string,B.func]),onNodeHover:B.func,onNodeClick:B.func,linkSource:B.string,linkTarget:B.string,linkLabel:B.oneOfType([B.string,B.func]),linkVisibility:B.oneOfType([B.bool,B.string,B.func]),linkColor:B.oneOfType([B.string,B.func]),linkAutoColorBy:B.oneOfType([B.string,B.func]),linkWidth:B.oneOfType([B.number,B.string,B.func]),linkCurvature:B.oneOfType([B.number,B.string,B.func]),linkDirectionalArrowLength:B.oneOfType([B.number,B.string,B.func]),linkDirectionalArrowColor:B.oneOfType([B.string,B.func]),linkDirectionalArrowRelPos:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticles:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleSpeed:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleOffset:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleWidth:B.oneOfType([B.number,B.string,B.func]),linkDirectionalParticleColor:B.oneOfType([B.string,B.func]),onLinkHover:B.func,onLinkClick:B.func,dagMode:B.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:B.number,dagNodeFilter:B.func,onDagError:B.func,d3AlphaMin:B.number,d3AlphaDecay:B.number,d3VelocityDecay:B.number,warmupTicks:B.number,cooldownTicks:B.number,cooldownTime:B.number,onEngineTick:B.func,onEngineStop:B.func,getGraphBbox:B.func},sT={zoomToFit:B.func,onNodeRightClick:B.func,onNodeDrag:B.func,onNodeDragEnd:B.func,onLinkRightClick:B.func,linkHoverPrecision:B.number,onBackgroundClick:B.func,onBackgroundRightClick:B.func,showPointerCursor:B.oneOfType([B.bool,B.func]),enablePointerInteraction:B.bool,enableNodeDrag:B.bool},cv={showNavInfo:B.bool,nodeOpacity:B.number,nodeResolution:B.number,nodeThreeObject:B.oneOfType([B.object,B.string,B.func]),nodeThreeObjectExtend:B.oneOfType([B.bool,B.string,B.func]),nodePositionUpdate:B.func,linkOpacity:B.number,linkResolution:B.number,linkCurveRotation:B.oneOfType([B.number,B.string,B.func]),linkMaterial:B.oneOfType([B.object,B.string,B.func]),linkThreeObject:B.oneOfType([B.object,B.string,B.func]),linkThreeObjectExtend:B.oneOfType([B.bool,B.string,B.func]),linkPositionUpdate:B.func,linkDirectionalArrowResolution:B.number,linkDirectionalParticleResolution:B.number,linkDirectionalParticleThreeObject:B.oneOfType([B.object,B.string,B.func]),forceEngine:B.oneOf(["d3","ngraph"]),ngraphPhysics:B.object,numDimensions:B.oneOf([1,2,3])},LW=Object.assign({},Rh,sT,{linkLineDash:B.oneOfType([B.arrayOf(B.number),B.string,B.func]),nodeCanvasObjectMode:B.oneOfType([B.string,B.func]),nodeCanvasObject:B.func,nodePointerAreaPaint:B.func,linkCanvasObjectMode:B.oneOfType([B.string,B.func]),linkCanvasObject:B.func,linkPointerAreaPaint:B.func,linkDirectionalParticleCanvasObject:B.func,autoPauseRedraw:B.bool,minZoom:B.number,maxZoom:B.number,enableZoomInteraction:B.oneOfType([B.bool,B.func]),enablePanInteraction:B.oneOfType([B.bool,B.func]),onZoom:B.func,onZoomEnd:B.func,onRenderFramePre:B.func,onRenderFramePost:B.func});Object.assign({},Rh,sT,cv,{enableNavigationControls:B.bool,controlType:B.oneOf(["trackball","orbit","fly"]),rendererConfig:B.object,extraRenderers:B.arrayOf(B.shape({render:B.func.isRequired}))});Object.assign({},Rh,cv,{nodeDesc:B.oneOfType([B.string,B.func]),linkDesc:B.oneOfType([B.string,B.func])});Object.assign({},Rh,cv,{markerAttrs:B.object,yOffset:B.number,glScale:B.number});const uv=FU(MW,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});uv.displayName="ForceGraph2D";uv.propTypes=LW;function Ss(e,n=""){let r=0;const o=`${e}:${n}`;for(let s=0;s<o.length;s+=1)r=Math.imul(31,r)+o.charCodeAt(s),r|=0;return(r>>>0)%1e6/1e6}function zW(e,n,r){const o={agent:110,document:160,memory:210},s=Ss(e.id,"angle"),i=Ss(e.id,"lobe"),a=Ss(e.id,"jx"),l=Ss(e.id,"jy"),c=s*Math.PI*2,u=n/r*.35,f=c+u,d=140,m=i<.55?-1:1,p=o[e.type]??180,w=1.2+.35*Math.abs(Math.sin(f*1.1)),v=.8+.3*Math.cos(f*1.4),b=p*(1+.15*Math.sin(f*2)),y=b*Math.cos(f)*w,x=b*Math.sin(f)*v,S=(a-.5)*(e.type==="agent"?20:35),_=(l-.5)*(e.type==="agent"?18:28),C=m*d+y+S,k=x+_;return{x:C,y:k}}function FW({data:e}){var I,j,H;const n=g.useRef(null),r=g.useRef(),[o,s]=g.useState(null),[i,a]=g.useState(null),[l,c]=g.useState(""),[u,f]=g.useState({width:0,height:0}),[d,m]=g.useState(!1),p=i==null?void 0:i.metadata,w=(i==null?void 0:i.type)==="memory"?p==null?void 0:p.memoryType:void 0,v=(i==null?void 0:i.type)==="memory"&&typeof(p==null?void 0:p.expiresAt)=="string"?p==null?void 0:p.expiresAt:null,b=(i==null?void 0:i.type)==="memory"&&p?p.retention??{}:void 0,y=g.useMemo(()=>{const M=Math.max(1,e.nodes.length),$=e.nodes.map((ne,ie)=>{const le={...ne},ye=zW(le,ie,M);le.brainX=ye.x,le.brainY=ye.y;const Pe=Ss(ne.id,"offset-x"),ve=Ss(ne.id,"offset-y"),re=Ss(ne.id,"nudge-x"),Se=Ss(ne.id,"nudge-y");return!Number.isFinite(le.x)||!Number.isFinite(le.y)?(le.x=ye.x+(Pe-.5)*18,le.y=ye.y+(ve-.5)*18):(le.x+=(re-.5)*8,le.y+=(Se-.5)*8),Number.isFinite(le.vx)||(le.vx=0),Number.isFinite(le.vy)||(le.vy=0),le}),Y=new Set($.map(ne=>ne.id)),q=e.links.map(ne=>{const ie=typeof ne.source=="string"?ne.source:ne.source.id,le=typeof ne.target=="string"?ne.target:ne.target.id;return{...ne,source:ie,target:le,_sourceId:ie,_targetId:le}}).filter(ne=>ne._sourceId!==ne._targetId&&Y.has(ne._sourceId)&&Y.has(ne._targetId)).map(({_sourceId:ne,_targetId:ie,...le})=>le),Z=$.filter(ne=>ne.type==="agent").map(ne=>ne.id),ce=$.filter(ne=>ne.type!=="agent").map(ne=>ne.id),X=new Set;q.forEach(ne=>{const ie=`${ne.source}${ne.target}`,le=`${ne.target}${ne.source}`;X.add(ie),X.add(le)});const pe=[...q];for(const ne of ce)for(const ie of Z){const le=`${ie}${ne}`;X.has(le)||(pe.push({source:ie,target:ne,relation:"shared",strength:.4}),X.add(le),X.add(`${ne}${ie}`))}return{nodes:$,links:pe}},[e]);g.useEffect(()=>{if(!n.current)return;const M=new ResizeObserver($=>{const Y=$[0];f({width:Y.contentRect.width,height:Y.contentRect.height})});return M.observe(n.current),()=>M.disconnect()},[]),g.useEffect(()=>{if(!r.current||!u.width||!u.height||!y.nodes.length)return;const M=setTimeout(()=>{r.current.zoomToFit(400,40)},150);return()=>clearTimeout(M)},[y,u]),g.useEffect(()=>{if(!r.current||!y.nodes.length)return;const M=Math.max(220,Math.min(u.width,u.height)/1.9||260),$=HV(X=>X.brainX??0).strength(.12),Y=BV(X=>X.brainY??0).strength(.12),q=r.current;if(!q||typeof q.d3Force!="function")return;q.d3Force("brain-x",$),q.d3Force("brain-y",Y);const Z=q.d3Force("charge");Z&&typeof Z.strength=="function"&&(Z.strength(-80),typeof Z.distanceMin=="function"&&Z.distanceMin(12),typeof Z.distanceMax=="function"&&Z.distanceMax(M*2.6));const ce=q.d3Force("link");return ce!=null&&ce.distance&&ce.distance(X=>{switch(X.relation){case"derived":return M*.32;case"extends":return M*.42;case"shared":return M*.48;default:return M*.38}}),typeof q.d3ReheatSimulation=="function"?q.d3ReheatSimulation():typeof q.d3Alpha=="function"&&q.d3Alpha(.7),()=>{r.current===q&&(q.d3Force("brain-x",null),q.d3Force("brain-y",null))}},[y,u]);const x=g.useCallback(M=>{if(!M||!r.current)return;const $=r.current,Y=Number.isFinite(M.x)?M.x:M.brainX??0,q=Number.isFinite(M.y)?M.y:M.brainY??0,Z=typeof $.zoom=="function"?$.zoom():void 0;if(typeof $.centerAt=="function"&&$.centerAt(Y,q,600),typeof $.zoom=="function"){const ce=Math.max(1.4,Z??1.6);$.zoom(ce,600)}a(M)},[r]),S=g.useMemo(()=>["#22d3ee","#a855f7","#f97316","#34d399","#facc15","#38bdf8","#f472b6","#c084fc","#fb7185","#818cf8"],[]),_=g.useMemo(()=>{const M=y.nodes.filter(Y=>Y.type==="agent"),$=new Map;return M.forEach((Y,q)=>{$.set(Y.id,S[q%S.length])}),$},[y.nodes,S]),C=g.useCallback((M,$)=>{if(!M.startsWith("#")||M.length!==7&&M.length!==4)return M;let Y,q,Z;return M.length===4?(Y=parseInt(M[1]+M[1],16),q=parseInt(M[2]+M[2],16),Z=parseInt(M[3]+M[3],16)):(Y=parseInt(M.slice(1,3),16),q=parseInt(M.slice(3,5),16),Z=parseInt(M.slice(5,7),16)),`rgba(${Y}, ${q}, ${Z}, ${$})`},[]),k=l.trim().toLowerCase(),N=o==null?void 0:o.id,A=i==null?void 0:i.id,T=g.useMemo(()=>k?y.nodes.filter(M=>{var q,Z;const $=((q=M.label)==null?void 0:q.toLowerCase())??"",Y=((Z=M.type)==null?void 0:Z.toLowerCase())??"";return $.includes(k)||Y.includes(k)}).slice(0,8):[],[y.nodes,k]),P=M=>{var $,Y;if(M.status==="forgotten")return"#dc2626";if(M.status==="expiring")return"#ea580c";if(M.status==="new")return"#fbbf24";if(M.status==="older")return"#10b981";switch(M.type){case"document":return"#8b5cf6";case"agent":return"#ffffff";case"memory":{const q=($=M.metadata)==null?void 0:$.memoryType;if(q==="short_term")return"#38bdf8";if(q==="long_term")return"#14b8a6";const Z=(Y=M.metadata)==null?void 0:Y.createdBy,ce=Z?_.get(Z):void 0;return ce?C(ce,.75):"#3b82f6"}default:return"#6b7280"}},O=M=>M.type==="agent"?3.8:M.type==="document"?2.8:2.4,D=M=>{switch(M.relation){case"updated":return"rgba(59, 130, 246, 0.15)";case"extends":return"rgba(139, 92, 246, 0.18)";case"derived":return"rgba(20, 184, 166, 0.2)";case"similar":return"rgba(16, 185, 129, 0.12)";case"shared":return"rgba(244, 114, 182, 0.12)";default:return"rgba(100, 116, 139, 0.1)"}},F=g.useCallback(M=>{a(M)},[]),E=g.useCallback(()=>{a(null)},[]),L=()=>{r.current&&r.current.zoom(r.current.zoom()*1.2,400)},R=()=>{r.current&&r.current.zoom(r.current.zoom()/1.2,400)},W=()=>{r.current&&r.current.zoomToFit(400,50)};return h.jsxs("div",{ref:n,className:"relative h-full w-full overflow-hidden",children:[h.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-3",children:[h.jsxs("div",{className:"relative w-80",children:[h.jsx(v3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(co,{type:"text",placeholder:"Search for nodes...",value:l,onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),120),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),x(T[0])),M.key==="Escape"&&(c(""),m(!1))},onChange:M=>c(M.target.value),className:"pl-10 bg-background/95 backdrop-blur-sm border-border"}),d&&T.length>0&&h.jsx("div",{className:"absolute left-0 top-11 w-full rounded-xl border border-border/70 bg-background/95 backdrop-blur-sm shadow-lg",children:h.jsx("div",{className:"py-1",children:T.map(M=>h.jsxs("button",{onMouseDown:$=>{$.preventDefault(),x(M),c(M.label??M.id),m(!1)},className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-muted/40 flex flex-col gap-0.5",children:[h.jsx("span",{className:"font-medium",children:M.label}),h.jsx("span",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:M.type})]},M.id))})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ye,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:L,children:h.jsx(C3,{className:"h-4 w-4"})}),h.jsx(Ye,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:R,children:h.jsx(k3,{className:"h-4 w-4"})}),h.jsx(Ye,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:W,children:h.jsx(u3,{className:"h-4 w-4"})})]})]}),o&&h.jsx(Yt,{className:"absolute top-24 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 space-y-2 w-72 animate-fade-in",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-foreground",children:o.label}),h.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:o.type})]}),h.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="new"?"bg-purple-500/20 text-purple-400":o.status==="forgotten"?"bg-red-500/20 text-red-400":"bg-muted text-muted-foreground"}`,children:o.status})]})}),i&&h.jsxs(Yt,{className:"absolute bottom-6 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 w-96 animate-fade-in",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-semibold text-foreground",children:i.label}),h.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:i.type})]}),h.jsx("button",{onClick:()=>a(null),className:"text-muted-foreground hover:text-foreground",children:""})]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Status:"}),h.jsx("span",{className:"text-foreground capitalize",children:i.status})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Connections:"}),h.jsx("span",{className:"text-foreground",children:y.links.filter(M=>{const $=typeof M.source=="string"?M.source:M.source.id,Y=typeof M.target=="string"?M.target:M.target.id;return $===i.id||Y===i.id}).length})]}),((I=i.metadata)==null?void 0:I.createdBy)&&h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Created by:"}),h.jsx("span",{className:"text-foreground",children:((j=y.nodes.find(M=>{var $;return M.id===(($=i.metadata)==null?void 0:$.createdBy)}))==null?void 0:j.label)??((H=i.metadata)==null?void 0:H.createdBy)})]}),i.type==="memory"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Memory type:"}),h.jsx("span",{className:"text-foreground capitalize",children:w==="short_term"?"Short-term":w==="long_term"?"Long-term":"Unknown"})]}),v&&h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-muted-foreground",children:"Expires:"}),h.jsx("span",{className:"text-foreground",children:new Date(v).toLocaleString()})]}),(b==null?void 0:b.reason)&&typeof b.reason=="string"&&h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground block",children:"Retention logic:"}),h.jsx("span",{className:"text-foreground italic",children:b.reason})]})]})]})]}),h.jsx(uv,{ref:r,graphData:y,width:u.width,height:u.height,nodeLabel:"label",nodeColor:M=>P(M),nodeVal:M=>O(M),nodeCanvasObject:(M,$,Y)=>{var re;const q=M,Z=q.label,ce=10/Y,X=O(q),pe=P(q),ne=q.type==="agent",ie=typeof M.x=="number"&&Number.isFinite(M.x)?M.x:0,le=typeof M.y=="number"&&Number.isFinite(M.y)?M.y:0;if(ne){$.save();const Se=X*2.4,_e=$.createRadialGradient(ie,le,X*.25,ie,le,Se);_e.addColorStop(0,"rgba(255, 255, 255, 1)"),_e.addColorStop(.35,"rgba(255, 255, 255, 0.85)"),_e.addColorStop(.7,"rgba(255, 255, 255, 0.2)"),_e.addColorStop(1,"rgba(255, 255, 255, 0)"),$.fillStyle=_e,$.beginPath(),$.arc(ie,le,Se,0,2*Math.PI),$.fill(),$.restore()}$.shadowBlur=ne?26:15,$.shadowColor=ne?"rgba(255, 255, 255, 0.85)":pe,$.beginPath(),$.arc(ie,le,X,0,2*Math.PI),$.fillStyle=pe,$.fill(),ne&&($.shadowBlur=0,$.beginPath(),$.arc(ie,le,X*.65,0,2*Math.PI),$.fillStyle="rgba(255, 255, 255, 0.9)",$.fill()),$.shadowBlur=0,$.strokeStyle=ne?"rgba(255, 255, 255, 0.85)":pe,$.lineWidth=ne?.9:.5,$.beginPath(),$.arc(ie,le,X+(ne?.2:0),0,2*Math.PI),$.stroke();const ye=k?(Z==null?void 0:Z.toLowerCase().includes(k))||((re=q.type)==null?void 0:re.toLowerCase().includes(k)):!1,Pe=N===q.id||A===q.id;ye&&($.beginPath(),$.arc(ie,le,X+1.3,0,2*Math.PI),$.strokeStyle="rgba(250, 204, 21, 0.9)",$.lineWidth=1,$.stroke()),!!Z&&(ye||Pe||Y>=1.8)&&($.shadowBlur=0,$.font=`${ce}px Inter, sans-serif`,$.textAlign="center",$.textBaseline="middle",$.fillStyle="rgba(255, 255, 255, 0.7)",$.fillText(Z,ie,le+X+ce+2))},linkColor:D,linkWidth:M=>M.strength*.8,linkCurvature:.15,linkDirectionalParticles:M=>M.relation==="derived"||M.relation==="shared"?1:0,linkDirectionalParticleWidth:1.5,linkDirectionalParticleSpeed:.003,onNodeClick:F,onBackgroundClick:E,onNodeHover:M=>s(M),cooldownTicks:150,d3AlphaDecay:.015,d3VelocityDecay:.4,backgroundColor:"#0B0D17",nodeCanvasObjectMode:()=>"replace",onRenderFramePre:M=>{const q="rgba(148, 163, 184, 0.08)",Z=M.canvas.width,ce=M.canvas.height;M.fillStyle=q;for(let X=0;X<Z;X+=40)for(let pe=0;pe<ce;pe+=40)M.beginPath(),M.arc(X,pe,.5,0,2*Math.PI),M.fill()},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0})]})}function UW({data:e}){const n={memories:e.nodes.filter(r=>r.type==="memory").length,documents:e.nodes.filter(r=>r.type==="document").length,connections:e.links.length};return h.jsxs(Yt,{className:"bg-card border-border w-80 h-full overflow-y-auto",children:[h.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Legend"}),h.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs("div",{className:"p-4 space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Statistics"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-atlas-glow"}),h.jsxs("span",{className:"text-foreground",children:[n.memories," memories"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-purple-500"}),h.jsxs("span",{className:"text-foreground",children:[n.documents," documents"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),h.jsxs("span",{className:"text-foreground",children:[e.nodes.filter(r=>r.type==="agent").length," agents"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 bg-atlas-glow/30 rounded"}),h.jsxs("span",{className:"text-foreground",children:[n.connections," connections"]})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Nodes"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-purple-500/80"}),h.jsx("span",{className:"text-foreground",children:"Document"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-sky-400"}),h.jsx("span",{className:"text-foreground",children:"Memory (STM)"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),h.jsx("span",{className:"text-foreground",children:"Memory (LTM)"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-3 h-3 rotate-45 bg-green-500"}),h.jsx("span",{className:"text-foreground",children:"Agent"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),h.jsx("span",{className:"text-foreground",children:"Forgotten"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),h.jsx("span",{className:"text-foreground",children:"Expiring soon"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow animate-pulse-glow"}),h.jsx("span",{className:"text-foreground",children:"New memory"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Connections"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow"}),h.jsx("span",{className:"text-foreground",children:"Doc  Memory"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow/50",style:{borderTop:"1px dashed"}}),h.jsx("span",{className:"text-foreground",children:"Doc similarity"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-pink-400/70"}),h.jsx("span",{className:"text-foreground",children:"Shared memory links"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Relations"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-blue-400"}),h.jsx("span",{className:"text-foreground",children:"Updates"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-purple-400"}),h.jsx("span",{className:"text-foreground",children:"Extends"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-green-400"}),h.jsx("span",{className:"text-foreground",children:"Derives"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-8 h-0.5 bg-pink-400"}),h.jsx("span",{className:"text-foreground",children:"Shared pool"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Similarity"}),h.jsxs("div",{className:"space-y-1.5",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow/30"}),h.jsx("span",{className:"text-foreground",children:"Weak"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow"}),h.jsx("span",{className:"text-foreground",children:"Strong"})]})]})]})]})]})}function HW(){const e=ll(),{data:n,isLoading:r}=Bo({queryKey:["memory","graph"],queryFn:()=>_t.fetchMemoryGraph(),refetchInterval:6e4}),o=n??{nodes:[],links:[]};return g.useEffect(()=>{if(typeof window>"u"||typeof window.EventSource>"u")return;const s="/memory/stream",i=Io?`${Io}${s}`:s,a=new window.EventSource(i);return a.onmessage=l=>{try{JSON.parse(l.data).type==="memory.created"&&e.invalidateQueries({queryKey:["memory","graph"]})}catch(c){console.error("Failed to parse memory stream payload",c)}},a.onerror=()=>{a.close()},()=>{a.close()}},[e]),h.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[h.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[h.jsx("div",{className:"border-b border-border bg-background/80 backdrop-blur-sm",children:h.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ye,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Overview"}),h.jsx(Ye,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Requests"}),h.jsx(Ye,{variant:"ghost",className:"bg-muted text-foreground",children:"Memory Graph"})]}),h.jsxs(Ye,{variant:"outline",className:"border-border hover:border-atlas-glow/50 gap-2",children:[h.jsx("span",{className:"text-sm",children:"Latest"}),h.jsx(su,{className:"h-4 w-4"})]})]})}),h.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:h.jsx("div",{className:"h-full w-full rounded-3xl border border-border/60 bg-muted/10 relative overflow-hidden",children:r?h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(Hl,{className:"h-32 w-32 rounded-full"})}):o.nodes.length===0?h.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground gap-2",children:[h.jsx("p",{className:"text-sm",children:"No memory nodes available yet."}),h.jsx("p",{className:"text-xs",children:"Run agents to populate the knowledge graph."})]}):h.jsx(FW,{data:o})})})]}),h.jsx("aside",{className:"w-80 shrink-0 border-l border-border bg-background",children:h.jsx(UW,{data:o})})]})}const mb=["bg-gradient-to-r from-cyan-500/40 via-cyan-400/40 to-sky-500/20 border-cyan-400/50 text-cyan-100","bg-gradient-to-r from-purple-500/40 via-purple-400/40 to-fuchsia-500/20 border-purple-400/50 text-purple-100","bg-gradient-to-r from-amber-500/40 via-amber-400/40 to-orange-500/20 border-amber-400/50 text-amber-100","bg-gradient-to-r from-emerald-500/40 via-emerald-400/40 to-teal-500/20 border-emerald-400/50 text-emerald-100","bg-gradient-to-r from-rose-500/40 via-rose-400/40 to-pink-500/20 border-rose-400/50 text-rose-100","bg-gradient-to-r from-blue-500/40 via-blue-400/40 to-indigo-500/20 border-blue-400/50 text-blue-100"],BW=e=>mb[e%mb.length],VW=10;function WW(){var N,A;const{toast:e}=rl(),[n,r]=g.useState("Summarize this 5-page contract and propose a fair termination clause."),[o,s]=g.useState([]),[i,a]=g.useState([]),[l,c]=g.useState(null),[u,f]=g.useState(!1),[d,m]=g.useState(null),p=g.useRef(null),[w,v]=g.useState(!1);g.useEffect(()=>()=>{var T;(T=p.current)==null||T.close()},[]);const b=g.useMemo(()=>{for(let T=o.length-1;T>=0;T-=1){const P=o[T];if(P.to==="User")return P}return null},[o]);g.useEffect(()=>{b||v(!1)},[b]);const y=()=>{s([]),a([]),c(null),m(null),v(!1)},x=()=>{var T;(T=p.current)==null||T.close(),p.current=null,f(!1)},S=()=>{const T=n.trim();if(T.length<VW){e({title:"Prompt too short",description:"Share a little more context so the agents can collaborate effectively."});return}try{x(),y(),f(!0);const P=`${Io}/multi-agent/sessions/stream?prompt=${encodeURIComponent(T)}`,O=new EventSource(P);p.current=O,O.addEventListener("agents",D=>{const F=JSON.parse(D.data);a(F.map((E,L)=>({...E,colour:BW(L)})))}),O.addEventListener("message",D=>{const F=JSON.parse(D.data);s(E=>[...E,F]),F.to==="User"&&v(!0)}),O.addEventListener("memory",D=>{const F=JSON.parse(D.data);c(F)}),O.addEventListener("complete",D=>{const F=JSON.parse(D.data);m(F.sessionId),c(F.memory),f(!1),O.close(),p.current=null}),O.addEventListener("error",D=>{u&&(console.error("[multi-agent] stream error",D),e({variant:"destructive",title:"Collaboration interrupted",description:"The agent stream was interrupted. Please try again."})),O.close(),p.current=null,f(!1)})}catch(P){console.error("[multi-agent] failed to start session",P),e({variant:"destructive",title:"Failed to start collaboration",description:P instanceof Error?P.message:"Unknown error occurred."}),f(!1)}},_=()=>{b&&v(!0)},C=i.length>0?i.length:"",k=typeof((N=l==null?void 0:l.shared)==null?void 0:N.length)=="number"&&l.shared.length>=0?l.shared.length:"";return h.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[h.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:h.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[h.jsx(b3,{className:"h-3.5 w-3.5"}),"Meta Agent Intercommunication"]}),h.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Collaboration Lab"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Spawn specialised agents, let them debate, cross-verify, and synthesise a final answer in real time."})]}),h.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-border/60 bg-background/50 px-6 py-4 text-xs md:flex",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(x2,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("span",{className:"text-muted-foreground",children:"Agents active"}),h.jsx("span",{className:"text-foreground font-semibold",children:C})]}),h.jsx("div",{className:"h-6 w-px bg-border/80"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(y2,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("span",{className:"text-muted-foreground",children:"Shared insights"}),h.jsx("span",{className:"text-foreground font-semibold",children:k})]})]})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[h.jsx(Yt,{className:"border-border/60 bg-card/80 backdrop-blur px-6 py-5",children:h.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[h.jsxs("div",{className:"flex-1 space-y-3",children:[h.jsx("label",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"user prompt"}),h.jsx(mr,{value:n,onChange:T=>r(T.target.value),rows:4,placeholder:"Analyse the latest customer feedback from Slack, helpdesk, and NPS to identify the top 3 issues and a plan to fix them.",className:"min-h-[120px]"})]}),h.jsxs("div",{className:"space-y-2 md:w-56",children:[h.jsx(Ye,{onClick:S,disabled:u,className:"w-full gap-2",children:u?h.jsxs(h.Fragment,{children:[h.jsx(to,{className:"h-4 w-4 animate-spin"}),"Collaborating"]}):h.jsxs(h.Fragment,{children:[h.jsx(a0,{className:"h-4 w-4"}),"Start collaboration"]})}),u&&h.jsxs(Ye,{variant:"ghost",onClick:x,className:"w-full gap-2 text-destructive",children:[h.jsx(n3,{className:"h-4 w-4"}),"Stop session"]})]})]})}),i.length>0&&h.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:i.map(T=>h.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${T.colour} backdrop-blur transition`,children:h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground",children:T.name}),h.jsx("p",{className:"text-xs text-white/80",children:T.role})]}),h.jsx(J0,{variant:"secondary",className:"bg-black/40 text-white",children:T.purpose})]})},T.id))}),h.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[2fr,1fr]",children:[h.jsxs(Yt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[h.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"conversation"}),b&&h.jsxs(Ye,{variant:"ghost",size:"sm",className:"gap-1 text-foreground",onClick:_,children:[h.jsx(s3,{className:"h-4 w-4"}),"View Summary"]})]}),h.jsx("div",{className:"max-h-[520px] space-y-4 overflow-y-auto px-5 py-4",children:o.length===0?h.jsx("div",{className:"rounded-lg border border-dashed border-border/60 bg-muted/10 px-4 py-10 text-center text-sm text-muted-foreground",children:"Agents will appear here once the collaboration starts."}):o.map(T=>h.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/60 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[h.jsxs("span",{className:"font-semibold text-foreground",children:[T.from,"  ",T.to]}),h.jsx("span",{children:new Date(T.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsx("p",{className:"mt-2 whitespace-pre-line text-sm text-foreground",children:T.content}),T.reasoning&&h.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[h.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),h.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:T.reasoning})]}),T.references&&T.references.length>0&&h.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[h.jsx("span",{className:"font-semibold text-foreground",children:"References"}),h.jsx("ul",{className:"mt-1 space-y-1",children:T.references.map(P=>h.jsx("li",{children:P},P))})]})]},T.id))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Yt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[h.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:h.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Shared memory"})}),h.jsx("div",{className:"space-y-3 px-5 py-4 text-sm text-muted-foreground",children:(A=l==null?void 0:l.shared)!=null&&A.length?l.shared.map(T=>h.jsxs("div",{className:"rounded-lg border border-border/60 bg-background/50 p-3",children:[h.jsx("p",{className:"text-xs text-muted-foreground/80",children:new Date(T.timestamp).toLocaleString()}),h.jsx("p",{className:"mt-1 text-foreground",children:T.content}),h.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Agents: ",T.agentsInvolved.join(", ")]})]},T.id)):h.jsx("p",{children:"No shared memory recorded yet."})})]}),h.jsxs(Yt,{className:"border-border/60 bg-card/70 backdrop-blur",children:[h.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:h.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Session metadata"})}),h.jsxs("div",{className:"space-y-2 px-5 py-4 text-sm text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Session ID"}),h.jsx("span",{className:"text-foreground font-medium",children:d??""})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:"Status"}),h.jsx("span",{className:"text-foreground font-medium",children:u?"Streaming":"Idle"})]})]})]})]})]}),w&&b&&h.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 backdrop-blur",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[h.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Final summary"}),h.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>v(!1),"aria-label":"Close summary",children:h.jsx(iu,{className:"h-4 w-4"})})]}),h.jsxs("div",{className:"space-y-4 px-5 py-4 text-sm",children:[h.jsx("p",{className:"whitespace-pre-line text-foreground",children:b.content}),b.reasoning&&h.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[h.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),h.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:b.reasoning})]})]})]})]})})]})}function qW(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var dv="ScrollArea",[iT,jq]=ho(dv),[GW,Sr]=iT(dv),aT=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:o="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=g.useState(null),[u,f]=g.useState(null),[d,m]=g.useState(null),[p,w]=g.useState(null),[v,b]=g.useState(null),[y,x]=g.useState(0),[S,_]=g.useState(0),[C,k]=g.useState(!1),[N,A]=g.useState(!1),T=et(n,O=>c(O)),P=wh(s);return h.jsx(GW,{scope:r,type:o,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:C,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:_,children:h.jsx(Oe.div,{dir:P,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});aT.displayName=dv;var lT="ScrollAreaViewport",cT=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:o,nonce:s,...i}=e,a=Sr(lT,r),l=g.useRef(null),c=et(n,l,a.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:h.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});cT.displayName=lT;var go="ScrollAreaScrollbar",fv=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Sr(go,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?h.jsx(YW,{...o,ref:n,forceMount:r}):s.type==="scroll"?h.jsx(KW,{...o,ref:n,forceMount:r}):s.type==="auto"?h.jsx(uT,{...o,ref:n,forceMount:r}):s.type==="always"?h.jsx(hv,{...o,ref:n}):null});fv.displayName=go;var YW=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Sr(go,e.__scopeScrollArea),[i,a]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),h.jsx(Hr,{present:r||i,children:h.jsx(uT,{"data-state":i?"visible":"hidden",...o,ref:n})})}),KW=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Sr(go,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Oh(()=>c("SCROLL_END"),100),[l,c]=qW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let d=u[f];const m=()=>{const p=u[f];d!==p&&(c("SCROLL"),a()),d=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),h.jsx(Hr,{present:r||l!=="hidden",children:h.jsx(hv,{"data-state":l==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uT=g.forwardRef((e,n)=>{const r=Sr(go,e.__scopeScrollArea),{forceMount:o,...s}=e,[i,a]=g.useState(!1),l=e.orientation==="horizontal",c=Oh(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:f)}},10);return Ja(r.viewport,c),Ja(r.content,c),h.jsx(Hr,{present:o||i,children:h.jsx(hv,{"data-state":i?"visible":"hidden",...s,ref:n})})}),hv=g.forwardRef((e,n)=>{const{orientation:r="vertical",...o}=e,s=Sr(go,e.__scopeScrollArea),i=g.useRef(null),a=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mT(l.viewport,l.content),f={...o,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function d(m,p){return tq(m,a.current,l,p)}return r==="horizontal"?h.jsx(XW,{...f,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=gb(m,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=d(m,s.dir))}}):r==="vertical"?h.jsx(QW,{...f,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=gb(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=d(m))}}):null}),XW=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...s}=e,i=Sr(go,e.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),u=et(n,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),h.jsx(fT,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ih(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(i.viewport){const m=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),yT(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&o({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Of(a.paddingLeft),paddingEnd:Of(a.paddingRight)}})}})}),QW=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...s}=e,i=Sr(go,e.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),u=et(n,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),h.jsx(fT,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ih(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(i.viewport){const m=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),yT(m,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&o({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Of(a.paddingTop),paddingEnd:Of(a.paddingBottom)}})}})}),[ZW,dT]=iT(go),fT=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...m}=e,p=Sr(go,r),[w,v]=g.useState(null),b=et(n,T=>v(T)),y=g.useRef(null),x=g.useRef(""),S=p.viewport,_=o.content-o.viewport,C=Bt(f),k=Bt(c),N=Oh(d,10);function A(T){if(y.current){const P=T.clientX-y.current.left,O=T.clientY-y.current.top;u({x:P,y:O})}}return g.useEffect(()=>{const T=P=>{const O=P.target;(w==null?void 0:w.contains(O))&&C(P,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[S,w,_,C]),g.useEffect(k,[o,k]),Ja(w,N),Ja(p.content,N),h.jsx(ZW,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Bt(i),onThumbPointerUp:Bt(a),onThumbPositionChange:k,onThumbPointerDown:Bt(l),children:h.jsx(Oe.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Ee(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(T))}),onPointerMove:Ee(e.onPointerMove,A),onPointerUp:Ee(e.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),If="ScrollAreaThumb",hT=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=dT(If,e.__scopeScrollArea);return h.jsx(Hr,{present:r||s.hasThumb,children:h.jsx(JW,{ref:n,...o})})}),JW=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:o,...s}=e,i=Sr(If,r),a=dT(If,r),{onThumbPositionChange:l}=a,c=et(n,d=>a.onThumbChange(d)),u=g.useRef(void 0),f=Oh(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const d=i.viewport;if(d){const m=()=>{if(f(),!u.current){const p=nq(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,f,l]),h.jsx(Oe.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Ee(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),w=d.clientX-p.left,v=d.clientY-p.top;a.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ee(e.onPointerUp,a.onThumbPointerUp)})});hT.displayName=If;var pv="ScrollAreaCorner",pT=g.forwardRef((e,n)=>{const r=Sr(pv,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?h.jsx(eq,{...e,ref:n}):null});pT.displayName=pv;var eq=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,...o}=e,s=Sr(pv,r),[i,a]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return Ja(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Ja(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),a(f)}),u?h.jsx(Oe.div,{...o,ref:n,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Of(e){return e?parseInt(e,10):0}function mT(e,n){const r=e/n;return isNaN(r)?0:r}function Ih(e){const n=mT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*n;return Math.max(o,18)}function tq(e,n,r,o="ltr"){const s=Ih(r),i=s/2,a=n||i,l=s-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=o==="ltr"?[0,f]:[f*-1,0];return gT([c,u],d)(e)}function gb(e,n,r="ltr"){const o=Ih(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=n.scrollbar.size-s,a=n.content-n.viewport,l=i-o,c=r==="ltr"?[0,a]:[a*-1,0],u=zg(e,c);return gT([0,a],[0,l])(u)}function gT(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(r-e[0])}}function yT(e,n){return e>0&&e<n}var nq=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&n(),r=i,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function Oh(e,n){const r=Bt(e),o=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),g.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,n)},[r,n])}function Ja(e,n){const r=Bt(n);Xt(()=>{let o=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(o),s.unobserve(e)}}},[e,r])}var vT=aT,rq=cT,oq=pT;const xT=g.forwardRef(({className:e,children:n,...r},o)=>h.jsxs(vT,{ref:o,className:Ie("relative overflow-hidden",e),...r,children:[h.jsx(rq,{className:"h-full w-full rounded-[inherit]",children:n}),h.jsx(wT,{}),h.jsx(oq,{})]}));xT.displayName=vT.displayName;const wT=g.forwardRef(({className:e,orientation:n="vertical",...r},o)=>h.jsx(fv,{ref:o,orientation:n,className:Ie("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:h.jsx(hT,{className:"relative flex-1 rounded-full bg-border"})}));wT.displayName=fv.displayName;const sq=async()=>{const e=await fetch(`${Io}/multi-agent/tool-agents`);if(!e.ok)throw new Error(await e.text());return(await e.json()).items??[]},yb=async(e,n=200)=>{const r=await fetch(`${Io}/multi-agent/tool-agents/${e}/logs?limit=${n}`);if(!r.ok)throw new Error(await r.text());return(await r.json()).items??[]};function iq(){const[e,n]=g.useState([]),[r,o]=g.useState(null),[s,i]=g.useState(!1),[a,l]=g.useState(null),[c,u]=g.useState([]),[f,d]=g.useState(!1),[m,p]=g.useState(null),w=async()=>{i(!0),o(null);try{const x=await sq();n(x)}catch(x){const S=x instanceof Error?x.message:"Failed to load tool agents";o(S)}finally{i(!1)}};g.useEffect(()=>{w()},[]);const v=async x=>{l(x),u([]),p(null),d(!0);try{const S=await yb(x.id);u(S)}catch(S){p(S instanceof Error?S.message:"Failed to load agent logs")}finally{d(!1)}},b=async()=>{if(a){d(!0),p(null);try{const x=await yb(a.id);u(x)}catch(x){p(x instanceof Error?x.message:"Failed to load agent logs")}finally{d(!1)}}},y=()=>{l(null),u([]),p(null)};return h.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[h.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:h.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[h.jsx(Jm,{className:"h-3.5 w-3.5"}),"Tool Agent Runtime"]}),h.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Tool Agents"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor connected tool agents, verify their status, and confirm they are registered with the runtime."})]}),h.jsxs(Ye,{onClick:w,disabled:s,className:"gap-2",children:[s?h.jsx(to,{className:"h-4 w-4 animate-spin"}):h.jsx(g3,{className:"h-4 w-4"}),"Refresh"]})]})}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[r&&h.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[h.jsx(Lx,{className:"h-4 w-4"}),h.jsx("span",{children:r})]}),!s&&e.length===0&&!r&&h.jsx("div",{className:"rounded-lg border border-border/60 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",children:"No tool agents are currently registered. Configure and save credentials for an agent to see it here."}),s&&e.length===0&&h.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[h.jsx(to,{className:"h-4 w-4 animate-spin"}),"Loading tool agents"]}),a?h.jsxs("div",{className:"rounded-lg border border-border/60 bg-[#050609]",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 bg-background/80 px-6 py-4",children:[h.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-foreground",children:[h.jsxs(Ye,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:y,children:[h.jsx(XM,{className:"h-4 w-4"}),"Back to agents"]}),h.jsx("span",{children:`${a.name} Logs`})]}),h.jsxs(Ye,{variant:"secondary",size:"sm",className:"gap-2 border border-border/50 bg-background/60 text-foreground hover:bg-background",onClick:()=>void b(),disabled:f,children:[f?h.jsx(to,{className:"h-4 w-4 animate-spin"}):h.jsx(y3,{className:"h-4 w-4"}),"Refresh"]})]}),m&&h.jsxs("div",{className:"mx-6 mt-4 flex items-center gap-2 rounded border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive",children:[h.jsx(Lx,{className:"h-3.5 w-3.5"}),m]}),h.jsx(xT,{className:"h-[28rem] px-6 py-4",children:h.jsx("div",{className:"flex flex-col gap-3 font-mono text-xs",children:f&&c.length===0?h.jsxs("div",{className:"flex items-center justify-center gap-2 rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:[h.jsx(to,{className:"h-4 w-4 animate-spin"}),"Loading logs"]}):c.length===0?h.jsx("div",{className:"rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:"No recent messages for this agent."}):c.map(x=>{const S=new Date(x.timestamp),_=Number.isNaN(S.getTime())?x.timestamp:S.toLocaleTimeString(void 0,{hour12:!1}),C=Object.keys(x.metadata??{}).length?JSON.stringify(x.metadata,null,2):null;return h.jsxs("div",{className:"rounded border border-border/30 bg-black/50 px-4 py-3 leading-relaxed text-slate-200",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-slate-400",children:[h.jsx("span",{className:"text-sky-300",children:_}),h.jsx("span",{className:x.direction==="outgoing"?"text-emerald-400":"text-amber-300",children:x.direction==="outgoing"?"OUT":"IN"}),h.jsx("span",{className:"text-slate-400",children:""}),h.jsx("span",{className:"text-slate-300",children:x.counterpart}),h.jsx("span",{className:"rounded border border-slate-500/60 px-1 py-[1px] text-[10px] text-slate-200",children:x.type.toUpperCase()})]}),h.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-slate-100",children:x.content}),C&&h.jsx("pre",{className:"mt-3 rounded border border-slate-500/30 bg-slate-900/80 p-3 text-[11px] text-slate-300",children:C})]},`${x.id}-${x.timestamp}`)})})})]}):h.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-3",children:e.map(x=>h.jsx(Yt,{className:"h-full border-border/60 bg-card/70 backdrop-blur",children:h.jsxs("div",{className:"space-y-4 p-5",children:[h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("div",{className:"text-sm font-semibold text-foreground",children:x.name}),h.jsx("div",{className:"text-xs text-muted-foreground",children:x.agentType}),h.jsxs("div",{className:"text-[10px] uppercase text-muted-foreground/70",children:["#",x.id.slice(0,8)]})]}),h.jsxs(J0,{variant:x.isTalking?"default":"secondary",className:"gap-1",children:[x.isTalking?h.jsx(i0,{className:"h-3.5 w-3.5"}):h.jsx(Jm,{className:"h-3.5 w-3.5"}),x.isTalking?"Active":"Idle"]})]}),h.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[h.jsx("div",{className:"font-medium text-foreground",children:"Role"}),h.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:x.role})]}),x.description&&h.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[h.jsx("div",{className:"font-medium text-foreground",children:"Description"}),h.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:x.description})]}),h.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[h.jsx("div",{className:"font-medium text-foreground",children:"Connections"}),x.connections.length===0?h.jsx("p",{className:"mt-1",children:"No linked agents."}):h.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4",children:x.connections.map(S=>h.jsx("li",{children:S},S))})]}),h.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full border-border/60 bg-background/60 text-foreground hover:bg-background",onClick:()=>void v(x),children:[h.jsx(S3,{className:"mr-2 h-4 w-4"}),"View Logs"]})]})},x.id))})]})})]})}function aq(){return h.jsxs("div",{className:"p-8 space-y-6 animate-fade-in",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),h.jsx("p",{className:"text-muted-foreground",children:"Configure your Atlas Forge workspace"})]}),h.jsx(Yt,{className:"bg-card border-border p-6",children:h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-muted-foreground",children:"Settings panel coming soon"})})})]})}function lq(){return h.jsxs("div",{className:"p-8 space-y-6 animate-fade-in",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Help"}),h.jsx("p",{className:"text-muted-foreground",children:"Get started with Atlas Forge"})]}),h.jsx(Yt,{className:"bg-card border-border p-6",children:h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-muted-foreground",children:"Help documentation coming soon"})})})]})}const cq=()=>{const e=Vs();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},uq="https://atlasos.app/login";function dq(){return g.useEffect(()=>{if(typeof window>"u")return;const n=`${window.location.origin}/auth/callback`,r=encodeURIComponent(n);window.location.href=`${uq}?source=forge&redirect=${r}`},[]),h.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Redirecting to Atlas login"})}function fq(){const e=Vs(),n=RC(),[r,o]=g.useState(null);return g.useEffect(()=>{const s=new URLSearchParams(e.search),i=s.get("token")||s.get("access_token"),a=s.get("refresh_token"),l=s.get("redirect");if(!i||!a){o("Missing access or refresh token.");return}(async()=>{const{error:u}=await ac.auth.setSession({access_token:i,refresh_token:a});if(u){o(u.message);return}if(typeof window<"u"){const f=l?decodeURIComponent(l):"/";n(f,{replace:!0})}})()},[e.search,n]),r?h.jsx("div",{className:"flex h-screen items-center justify-center",children:h.jsxs("div",{className:"rounded-md border border-destructive/50 bg-destructive/10 px-6 py-4 text-destructive",children:["Authentication failed: ",r]})}):h.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Signing you in"})}const hq="https://atlasos.app/login";function pq(){const{user:e,loading:n}=BC(),r=Vs();return g.useEffect(()=>{if(!n&&!e){const o=window.location.origin+r.pathname+window.location.search,s=encodeURIComponent(o);window.location.href=`${hq}?source=forge&redirect=${s}`}},[n,e,r.pathname,r.search]),n||!e&&typeof window<"u"?h.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Authenticating"}):e?h.jsx(YI,{}):null}function mq(){g.useEffect(()=>{if(typeof window>"u")return;const e=new URL(window.location.href),n=e.searchParams.get("token"),r=e.searchParams.get("refresh");!n||!r||ac.auth.setSession({access_token:n,refresh_token:r}).then(({error:o})=>{if(o){console.error("[supabase] Failed to restore session from redirect",o);return}const s=e.searchParams;s.delete("token"),s.delete("refresh");const i=s.toString(),a=`${e.pathname}${i?`?${i}`:""}${e.hash}`;window.history.replaceState({},"",a),console.log(" Supabase session restored from Atlas redirect")})},[])}function gq(e){const n=xi(a=>a.updateGraph),r=xi(a=>a.updateState),o=xi(a=>a.pushMessage),s=gi(a=>a.setUsage),i=g.useRef(null);g.useEffect(()=>{const a=`${Io}/multi-agent/events`,l=new EventSource(a);i.current=l;const c=m=>{try{const p=JSON.parse(m.data);n(p)}catch(p){console.error("[agent-graph] failed to parse graph",p)}},u=m=>{try{const p=JSON.parse(m.data);r(p)}catch(p){console.error("[agent-graph] failed to parse state",p)}},f=m=>{try{const p=JSON.parse(m.data);o(p)}catch(p){console.error("[agent-graph] failed to parse message",p)}},d=m=>{try{const p=JSON.parse(m.data);s(p)}catch(p){console.error("[agent-graph] failed to parse token usage",p)}};return l.addEventListener("graph",c),l.addEventListener("state",u),l.addEventListener("message",f),l.addEventListener("tokens",d),l.onerror=m=>{console.error("[agent-graph] stream error",m),l.close(),i.current=null},()=>{l.removeEventListener("graph",c),l.removeEventListener("state",u),l.removeEventListener("message",f),l.removeEventListener("tokens",d),l.close(),i.current=null}},[e,o,s,n,r])}const yq=new B4({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),vq=()=>(mq(),gq(!0),h.jsx(Y4,{client:yq,children:h.jsxs(k4,{children:[h.jsx(aR,{}),h.jsx(zR,{}),h.jsx(oO,{children:h.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[h.jsx(cD,{}),h.jsx("div",{className:"flex-1",children:h.jsxs(XI,{children:[h.jsx(qn,{path:"/login",element:h.jsx(dq,{})}),h.jsx(qn,{path:"/auth/callback",element:h.jsx(fq,{})}),h.jsxs(qn,{element:h.jsx(pq,{}),children:[h.jsx(qn,{path:"/",element:h.jsx(gD,{})}),h.jsx(qn,{path:"/network",element:h.jsx(aU,{})}),h.jsx(qn,{path:"/memory",element:h.jsx(HW,{})}),h.jsx(qn,{path:"/multi-agent",element:h.jsx(WW,{})}),h.jsx(qn,{path:"/console",element:h.jsx(bU,{})}),h.jsx(qn,{path:"/multi-agent/runtime",element:h.jsx(iq,{})}),h.jsx(qn,{path:"/settings",element:h.jsx(aq,{})}),h.jsx(qn,{path:"/help",element:h.jsx(lq,{})})]}),h.jsx(qn,{path:"*",element:h.jsx(cq,{})})]})})]})})]})}));U_(document.getElementById("root")).render(h.jsx(iD,{children:h.jsx(vq,{})}));
