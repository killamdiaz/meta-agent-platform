var $1=e=>{throw TypeError(e)};var Vg=(e,n,r)=>n.has(e)||$1("Cannot "+r);var V=(e,n,r)=>(Vg(e,n,"read from private field"),r?r.call(e):n.get(e)),Xe=(e,n,r)=>n.has(e)?$1("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),Me=(e,n,r,o)=>(Vg(e,n,"write to private field"),o?o.call(e,r):n.set(e,r),r),mt=(e,n,r)=>(Vg(e,n,"access private method"),r);var Yf=(e,n,r,o)=>({set _(s){Me(e,n,s,r)},get _(){return V(e,n,o)}});function SI(e,n){for(var r=0;r<n.length;r++){const o=n[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(o,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YC={exports:{}},jm={},XC={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),kI=Symbol.for("react.portal"),NI=Symbol.for("react.fragment"),CI=Symbol.for("react.strict_mode"),jI=Symbol.for("react.profiler"),_I=Symbol.for("react.provider"),EI=Symbol.for("react.context"),TI=Symbol.for("react.forward_ref"),AI=Symbol.for("react.suspense"),PI=Symbol.for("react.memo"),MI=Symbol.for("react.lazy"),z1=Symbol.iterator;function RI(e){return e===null||typeof e!="object"?null:(e=z1&&e[z1]||e["@@iterator"],typeof e=="function"?e:null)}var QC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JC=Object.assign,ZC={};function eu(e,n,r){this.props=e,this.context=n,this.refs=ZC,this.updater=r||QC}eu.prototype.isReactComponent={};eu.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};eu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ej(){}ej.prototype=eu.prototype;function Dv(e,n,r){this.props=e,this.context=n,this.refs=ZC,this.updater=r||QC}var Lv=Dv.prototype=new ej;Lv.constructor=Dv;JC(Lv,eu.prototype);Lv.isPureReactComponent=!0;var F1=Array.isArray,tj=Object.prototype.hasOwnProperty,$v={current:null},nj={key:!0,ref:!0,__self:!0,__source:!0};function rj(e,n,r){var o,s={},i=null,a=null;if(n!=null)for(o in n.ref!==void 0&&(a=n.ref),n.key!==void 0&&(i=""+n.key),n)tj.call(n,o)&&!nj.hasOwnProperty(o)&&(s[o]=n[o]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return{$$typeof:ff,type:e,key:i,ref:a,props:s,_owner:$v.current}}function II(e,n){return{$$typeof:ff,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function zv(e){return typeof e=="object"&&e!==null&&e.$$typeof===ff}function OI(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return n[r]})}var U1=/\/+/g;function Wg(e,n){return typeof e=="object"&&e!==null&&e.key!=null?OI(""+e.key):n.toString(36)}function Fh(e,n,r,o,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ff:case kI:a=!0}}if(a)return a=e,s=s(a),e=o===""?"."+Wg(a,0):o,F1(s)?(r="",e!=null&&(r=e.replace(U1,"$&/")+"/"),Fh(s,n,r,"",function(d){return d})):s!=null&&(zv(s)&&(s=II(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(U1,"$&/")+"/")+e)),n.push(s)),1;if(a=0,o=o===""?".":o+":",F1(e))for(var l=0;l<e.length;l++){i=e[l];var u=o+Wg(i,l);a+=Fh(i,n,r,u,s)}else if(u=RI(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=o+Wg(i,l++),a+=Fh(i,n,r,u,s);else if(i==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return a}function Xf(e,n,r){if(e==null)return e;var o=[],s=0;return Fh(e,o,"","",function(i){return n.call(r,i,s++)}),o}function DI(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Uh={transition:null},LI={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:$v};function oj(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Xf,forEach:function(e,n,r){Xf(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return Xf(e,function(){n++}),n},toArray:function(e){return Xf(e,function(n){return n})||[]},only:function(e){if(!zv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=eu;jt.Fragment=NI;jt.Profiler=jI;jt.PureComponent=Dv;jt.StrictMode=CI;jt.Suspense=AI;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI;jt.act=oj;jt.cloneElement=function(e,n,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=JC({},e.props),s=e.key,i=e.ref,a=e._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,a=$v.current),n.key!==void 0&&(s=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in n)tj.call(n,u)&&!nj.hasOwnProperty(u)&&(o[u]=n[u]===void 0&&l!==void 0?l[u]:n[u])}var u=arguments.length-2;if(u===1)o.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:ff,type:e.type,key:s,ref:i,props:o,_owner:a}};jt.createContext=function(e){return e={$$typeof:EI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_I,_context:e},e.Consumer=e};jt.createElement=rj;jt.createFactory=function(e){var n=rj.bind(null,e);return n.type=e,n};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:TI,render:e}};jt.isValidElement=zv;jt.lazy=function(e){return{$$typeof:MI,_payload:{_status:-1,_result:e},_init:DI}};jt.memo=function(e,n){return{$$typeof:PI,type:e,compare:n===void 0?null:n}};jt.startTransition=function(e){var n=Uh.transition;Uh.transition={};try{e()}finally{Uh.transition=n}};jt.unstable_act=oj;jt.useCallback=function(e,n){return wr.current.useCallback(e,n)};jt.useContext=function(e){return wr.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};jt.useEffect=function(e,n){return wr.current.useEffect(e,n)};jt.useId=function(){return wr.current.useId()};jt.useImperativeHandle=function(e,n,r){return wr.current.useImperativeHandle(e,n,r)};jt.useInsertionEffect=function(e,n){return wr.current.useInsertionEffect(e,n)};jt.useLayoutEffect=function(e,n){return wr.current.useLayoutEffect(e,n)};jt.useMemo=function(e,n){return wr.current.useMemo(e,n)};jt.useReducer=function(e,n,r){return wr.current.useReducer(e,n,r)};jt.useRef=function(e){return wr.current.useRef(e)};jt.useState=function(e){return wr.current.useState(e)};jt.useSyncExternalStore=function(e,n,r){return wr.current.useSyncExternalStore(e,n,r)};jt.useTransition=function(){return wr.current.useTransition()};jt.version="18.3.1";XC.exports=jt;var g=XC.exports;const B=Zc(g),Fv=SI({__proto__:null,default:B},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I=g,zI=Symbol.for("react.element"),FI=Symbol.for("react.fragment"),UI=Object.prototype.hasOwnProperty,BI=$I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HI={key:!0,ref:!0,__self:!0,__source:!0};function sj(e,n,r){var o,s={},i=null,a=null;r!==void 0&&(i=""+r),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(a=n.ref);for(o in n)UI.call(n,o)&&!HI.hasOwnProperty(o)&&(s[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)s[o]===void 0&&(s[o]=n[o]);return{$$typeof:zI,type:e,key:i,ref:a,props:s,_owner:BI.current}}jm.Fragment=FI;jm.jsx=sj;jm.jsxs=sj;YC.exports=jm;var c=YC.exports,ij={exports:{}},io={},aj={exports:{}},lj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(F,R){var A=F.length;F.push(R);e:for(;0<A;){var D=A-1>>>1,$=F[D];if(0<s($,R))F[D]=R,F[A]=$,A=D;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var R=F[0],A=F.pop();if(A!==R){F[0]=A;e:for(var D=0,$=F.length,M=$>>>1;D<M;){var Y=2*(D+1)-1,Z=F[Y],re=Y+1,Q=F[re];if(0>s(Z,A))re<$&&0>s(Q,Z)?(F[D]=Q,F[re]=A,D=re):(F[D]=Z,F[Y]=A,D=Y);else if(re<$&&0>s(Q,A))F[D]=Q,F[re]=A,D=re;else break e}}return R}function s(F,R){var A=F.sortIndex-R.sortIndex;return A!==0?A:F.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,f=null,m=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var R=r(d);R!==null;){if(R.callback===null)o(d);else if(R.startTime<=F)o(d),R.sortIndex=R.expirationTime,n(u,R);else break;R=r(d)}}function k(F){if(y=!1,S(F),!v)if(r(u)!==null)v=!0,L(C);else{var R=r(d);R!==null&&H(k,R.startTime-F)}}function C(F,R){v=!1,y&&(y=!1,x(P),P=-1),p=!0;var A=m;try{for(S(R),f=r(u);f!==null&&(!(f.expirationTime>R)||F&&!I());){var D=f.callback;if(typeof D=="function"){f.callback=null,m=f.priorityLevel;var $=D(f.expirationTime<=R);R=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(u)&&o(u),S(R)}else o(u);f=r(u)}if(f!==null)var M=!0;else{var Y=r(d);Y!==null&&H(k,Y.startTime-R),M=!1}return M}finally{f=null,m=A,p=!1}}var N=!1,j=null,P=-1,E=5,_=-1;function I(){return!(e.unstable_now()-_<E)}function O(){if(j!==null){var F=e.unstable_now();_=F;var R=!0;try{R=j(!0,F)}finally{R?U():(N=!1,j=null)}}else N=!1}var U;if(typeof w=="function")U=function(){w(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=O,U=function(){z.postMessage(null)}}else U=function(){b(O,0)};function L(F){j=F,N||(N=!0,U())}function H(F,R){P=b(function(){F(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(C))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(F){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var A=m;m=R;try{return F()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,R){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var A=m;m=F;try{return R()}finally{m=A}},e.unstable_scheduleCallback=function(F,R,A){var D=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?D+A:D):A=D,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,F={id:h++,callback:R,priorityLevel:F,startTime:A,expirationTime:$,sortIndex:-1},A>D?(F.sortIndex=A,n(d,F),r(u)===null&&F===r(d)&&(y?(x(P),P=-1):y=!0,H(k,A-D))):(F.sortIndex=$,n(u,F),v||p||(v=!0,L(C))),F},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(F){var R=m;return function(){var A=m;m=R;try{return F.apply(this,arguments)}finally{m=A}}}})(lj);aj.exports=lj;var VI=aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI=g,oo=VI;function ve(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cj=new Set,Sd={};function wl(e,n){Ic(e,n),Ic(e+"Capture",n)}function Ic(e,n){for(Sd[e]=n,e=0;e<n.length;e++)cj.add(n[e])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,qI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B1={},H1={};function GI(e){return vy.call(H1,e)?!0:vy.call(B1,e)?!1:qI.test(e)?H1[e]=!0:(B1[e]=!0,!1)}function KI(e,n,r,o){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YI(e,n,r,o){if(n===null||typeof n>"u"||KI(e,n,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function br(e,n,r,o,s,i,a){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=a}var Kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Kn[n]=new br(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uv=/[\-:]([a-z])/g;function Bv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Uv,Bv);Kn[n]=new br(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Uv,Bv);Kn[n]=new br(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Uv,Bv);Kn[n]=new br(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});Kn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hv(e,n,r,o){var s=Kn.hasOwnProperty(n)?Kn[n]:null;(s!==null?s.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(YI(n,r,s,o)&&(r=null),o||s===null?GI(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(n=s.attributeName,o=s.attributeNamespace,r===null?e.removeAttribute(n):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,o?e.setAttributeNS(o,n,r):e.setAttribute(n,r))))}var hi=WI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qf=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),Vv=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),uj=Symbol.for("react.provider"),dj=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),by=Symbol.for("react.suspense"),Sy=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),fj=Symbol.for("react.offscreen"),V1=Symbol.iterator;function yu(e){return e===null||typeof e!="object"?null:(e=V1&&e[V1]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Object.assign,qg;function Vu(e){if(qg===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qg=n&&n[1]||""}return`
`+qg+e}var Gg=!1;function Kg(e,n){if(!e||Gg)return"";Gg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(d){var o=d}Reflect.construct(e,[],n)}else{try{n.call()}catch(d){o=d}e.call(n.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=o.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Gg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vu(e):""}function XI(e){switch(e.tag){case 5:return Vu(e.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return e=Kg(e.type,!1),e;case 11:return e=Kg(e.type.render,!1),e;case 1:return e=Kg(e.type,!0),e;default:return""}}function ky(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kl:return"Fragment";case Gl:return"Portal";case wy:return"Profiler";case Vv:return"StrictMode";case by:return"Suspense";case Sy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dj:return(e.displayName||"Context")+".Consumer";case uj:return(e._context.displayName||"Context")+".Provider";case Wv:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qv:return n=e.displayName||null,n!==null?n:ky(e.type)||"Memo";case Pi:n=e._payload,e=e._init;try{return ky(e(n))}catch{}}return null}function QI(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(n);case 8:return n===Vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function fa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hj(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function JI(e){var n=hj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return s.call(this)},set:function(a){o=""+a,i.call(this,a)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jf(e){e._valueTracker||(e._valueTracker=JI(e))}function pj(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=hj(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function pp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ny(e,n){var r=n.checked;return gn({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function W1(e,n){var r=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;r=fa(n.value!=null?n.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function mj(e,n){n=n.checked,n!=null&&Hv(e,"checked",n,!1)}function Cy(e,n){mj(e,n);var r=fa(n.value),o=n.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?jy(e,n.type,r):n.hasOwnProperty("defaultValue")&&jy(e,n.type,fa(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function q1(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jy(e,n,r){(n!=="number"||pp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wu=Array.isArray;function lc(e,n,r,o){if(e=e.options,n){n={};for(var s=0;s<r.length;s++)n["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=n.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&o&&(e[r].defaultSelected=!0)}else{for(r=""+fa(r),n=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}n!==null||e[s].disabled||(n=e[s])}n!==null&&(n.selected=!0)}}function _y(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ve(91));return gn({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(ve(92));if(Wu(r)){if(1<r.length)throw Error(ve(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:fa(r)}}function gj(e,n){var r=fa(n.value),o=fa(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function K1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function xj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?xj(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zf,yj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,o,s){MSApp.execUnsafeLocalFunction(function(){return e(n,r,o,s)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Zf=Zf||document.createElement("div"),Zf.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Zf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function kd(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZI=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(e){ZI.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),od[n]=od[e]})});function vj(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||od.hasOwnProperty(e)&&od[e]?(""+n).trim():n+"px"}function wj(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var o=r.indexOf("--")===0,s=vj(r,n[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,s):e[r]=s}}var eO=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ty(e,n){if(n){if(eO[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ve(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ve(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ve(62))}}function Ay(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function Gv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var My=null,cc=null,uc=null;function Y1(e){if(e=mf(e)){if(typeof My!="function")throw Error(ve(280));var n=e.stateNode;n&&(n=Pm(n),My(e.stateNode,e.type,n))}}function bj(e){cc?uc?uc.push(e):uc=[e]:cc=e}function Sj(){if(cc){var e=cc,n=uc;if(uc=cc=null,Y1(e),n)for(e=0;e<n.length;e++)Y1(n[e])}}function kj(e,n){return e(n)}function Nj(){}var Yg=!1;function Cj(e,n,r){if(Yg)return e(n,r);Yg=!0;try{return kj(e,n,r)}finally{Yg=!1,(cc!==null||uc!==null)&&(Nj(),Sj())}}function Nd(e,n){var r=e.stateNode;if(r===null)return null;var o=Pm(r);if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,n,typeof r));return r}var Ry=!1;if(Zs)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){Ry=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{Ry=!1}function tO(e,n,r,o,s,i,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{n.apply(r,d)}catch(h){this.onError(h)}}var sd=!1,mp=null,gp=!1,Iy=null,nO={onError:function(e){sd=!0,mp=e}};function rO(e,n,r,o,s,i,a,l,u){sd=!1,mp=null,tO.apply(nO,arguments)}function oO(e,n,r,o,s,i,a,l,u){if(rO.apply(this,arguments),sd){if(sd){var d=mp;sd=!1,mp=null}else throw Error(ve(198));gp||(gp=!0,Iy=d)}}function bl(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function jj(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function X1(e){if(bl(e)!==e)throw Error(ve(188))}function sO(e){var n=e.alternate;if(!n){if(n=bl(e),n===null)throw Error(ve(188));return n!==e?null:e}for(var r=e,o=n;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){r=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return X1(s),e;if(i===o)return X1(s),n;i=i.sibling}throw Error(ve(188))}if(r.return!==o.return)r=s,o=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,o=i;break}if(l===o){a=!0,o=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,o=s;break}if(l===o){a=!0,o=i,r=s;break}l=l.sibling}if(!a)throw Error(ve(189))}}if(r.alternate!==o)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:n}function _j(e){return e=sO(e),e!==null?Ej(e):null}function Ej(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ej(e);if(n!==null)return n;e=e.sibling}return null}var Tj=oo.unstable_scheduleCallback,Q1=oo.unstable_cancelCallback,iO=oo.unstable_shouldYield,aO=oo.unstable_requestPaint,kn=oo.unstable_now,lO=oo.unstable_getCurrentPriorityLevel,Kv=oo.unstable_ImmediatePriority,Aj=oo.unstable_UserBlockingPriority,xp=oo.unstable_NormalPriority,cO=oo.unstable_LowPriority,Pj=oo.unstable_IdlePriority,_m=null,gs=null;function uO(e){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(_m,e,void 0,(e.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:hO,dO=Math.log,fO=Math.LN2;function hO(e){return e>>>=0,e===0?32:31-(dO(e)/fO|0)|0}var eh=64,th=4194304;function qu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yp(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?o=qu(l):(i&=a,i!==0&&(o=qu(i)))}else a=r&~s,a!==0?o=qu(a):i!==0&&(o=qu(i));if(o===0)return 0;if(n!==0&&n!==o&&!(n&s)&&(s=o&-o,i=n&-n,s>=i||s===16&&(i&4194240)!==0))return n;if(o&4&&(o|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)r=31-Wo(n),s=1<<r,o|=e[r],n&=~s;return o}function pO(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mO(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Wo(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&o)&&(s[a]=pO(l,n)):u<=n&&(e.expiredLanes|=l),i&=~l}}function Oy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mj(){var e=eh;return eh<<=1,!(eh&4194240)&&(eh=64),e}function Xg(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function hf(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Wo(n),e[n]=r}function gO(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wo(r),i=1<<s;n[s]=0,o[s]=-1,e[s]=-1,r&=~i}}function Yv(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Wo(r),s=1<<o;s&n|e[o]&n&&(e[o]|=n),r&=~s}}var zt=0;function Rj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ij,Xv,Oj,Dj,Lj,Dy=!1,nh=[],Qi=null,Ji=null,Zi=null,Cd=new Map,jd=new Map,Oi=[],xO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J1(e,n){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Cd.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(n.pointerId)}}function wu(e,n,r,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},n!==null&&(n=mf(n),n!==null&&Xv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,s!==null&&n.indexOf(s)===-1&&n.push(s),e)}function yO(e,n,r,o,s){switch(n){case"focusin":return Qi=wu(Qi,e,n,r,o,s),!0;case"dragenter":return Ji=wu(Ji,e,n,r,o,s),!0;case"mouseover":return Zi=wu(Zi,e,n,r,o,s),!0;case"pointerover":var i=s.pointerId;return Cd.set(i,wu(Cd.get(i)||null,e,n,r,o,s)),!0;case"gotpointercapture":return i=s.pointerId,jd.set(i,wu(jd.get(i)||null,e,n,r,o,s)),!0}return!1}function $j(e){var n=Da(e.target);if(n!==null){var r=bl(n);if(r!==null){if(n=r.tag,n===13){if(n=jj(r),n!==null){e.blockedOn=n,Lj(e.priority,function(){Oj(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bh(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ly(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Py=o,r.target.dispatchEvent(o),Py=null}else return n=mf(r),n!==null&&Xv(n),e.blockedOn=r,!1;n.shift()}return!0}function Z1(e,n,r){Bh(e)&&r.delete(n)}function vO(){Dy=!1,Qi!==null&&Bh(Qi)&&(Qi=null),Ji!==null&&Bh(Ji)&&(Ji=null),Zi!==null&&Bh(Zi)&&(Zi=null),Cd.forEach(Z1),jd.forEach(Z1)}function bu(e,n){e.blockedOn===n&&(e.blockedOn=null,Dy||(Dy=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,vO)))}function _d(e){function n(s){return bu(s,e)}if(0<nh.length){bu(nh[0],e);for(var r=1;r<nh.length;r++){var o=nh[r];o.blockedOn===e&&(o.blockedOn=null)}}for(Qi!==null&&bu(Qi,e),Ji!==null&&bu(Ji,e),Zi!==null&&bu(Zi,e),Cd.forEach(n),jd.forEach(n),r=0;r<Oi.length;r++)o=Oi[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Oi.length&&(r=Oi[0],r.blockedOn===null);)$j(r),r.blockedOn===null&&Oi.shift()}var dc=hi.ReactCurrentBatchConfig,vp=!0;function wO(e,n,r,o){var s=zt,i=dc.transition;dc.transition=null;try{zt=1,Qv(e,n,r,o)}finally{zt=s,dc.transition=i}}function bO(e,n,r,o){var s=zt,i=dc.transition;dc.transition=null;try{zt=4,Qv(e,n,r,o)}finally{zt=s,dc.transition=i}}function Qv(e,n,r,o){if(vp){var s=Ly(e,n,r,o);if(s===null)ix(e,n,o,wp,r),J1(e,o);else if(yO(s,e,n,r,o))o.stopPropagation();else if(J1(e,o),n&4&&-1<xO.indexOf(e)){for(;s!==null;){var i=mf(s);if(i!==null&&Ij(i),i=Ly(e,n,r,o),i===null&&ix(e,n,o,wp,r),i===s)break;s=i}s!==null&&o.stopPropagation()}else ix(e,n,o,null,r)}}var wp=null;function Ly(e,n,r,o){if(wp=null,e=Gv(o),e=Da(e),e!==null)if(n=bl(e),n===null)e=null;else if(r=n.tag,r===13){if(e=jj(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return wp=e,null}function zj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lO()){case Kv:return 1;case Aj:return 4;case xp:case cO:return 16;case Pj:return 536870912;default:return 16}default:return 16}}var Ki=null,Jv=null,Hh=null;function Fj(){if(Hh)return Hh;var e,n=Jv,r=n.length,o,s="value"in Ki?Ki.value:Ki.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(o=1;o<=a&&n[r-o]===s[i-o];o++);return Hh=s.slice(e,1<o?1-o:void 0)}function Vh(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rh(){return!0}function eS(){return!1}function ao(e){function n(r,o,s,i,a){this._reactName=r,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rh:eS,this.isPropagationStopped=eS,this}return gn(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),n}var tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=ao(tu),pf=gn({},tu,{view:0,detail:0}),SO=ao(pf),Qg,Jg,Su,Em=gn({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ew,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Su&&(Su&&e.type==="mousemove"?(Qg=e.screenX-Su.screenX,Jg=e.screenY-Su.screenY):Jg=Qg=0,Su=e),Qg)},movementY:function(e){return"movementY"in e?e.movementY:Jg}}),tS=ao(Em),kO=gn({},Em,{dataTransfer:0}),NO=ao(kO),CO=gn({},pf,{relatedTarget:0}),Zg=ao(CO),jO=gn({},tu,{animationName:0,elapsedTime:0,pseudoElement:0}),_O=ao(jO),EO=gn({},tu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TO=ao(EO),AO=gn({},tu,{data:0}),nS=ao(AO),PO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IO(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=RO[e])?!!n[e]:!1}function ew(){return IO}var OO=gn({},pf,{key:function(e){if(e.key){var n=PO[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Vh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ew,charCode:function(e){return e.type==="keypress"?Vh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DO=ao(OO),LO=gn({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rS=ao(LO),$O=gn({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ew}),zO=ao($O),FO=gn({},tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),UO=ao(FO),BO=gn({},Em,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HO=ao(BO),VO=[9,13,27,32],tw=Zs&&"CompositionEvent"in window,id=null;Zs&&"documentMode"in document&&(id=document.documentMode);var WO=Zs&&"TextEvent"in window&&!id,Uj=Zs&&(!tw||id&&8<id&&11>=id),oS=" ",sS=!1;function Bj(e,n){switch(e){case"keyup":return VO.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yl=!1;function qO(e,n){switch(e){case"compositionend":return Hj(n);case"keypress":return n.which!==32?null:(sS=!0,oS);case"textInput":return e=n.data,e===oS&&sS?null:e;default:return null}}function GO(e,n){if(Yl)return e==="compositionend"||!tw&&Bj(e,n)?(e=Fj(),Hh=Jv=Ki=null,Yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Uj&&n.locale!=="ko"?null:n.data;default:return null}}var KO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iS(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!KO[e.type]:n==="textarea"}function Vj(e,n,r,o){bj(o),n=bp(n,"onChange"),0<n.length&&(r=new Zv("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ad=null,Ed=null;function YO(e){t_(e,0)}function Tm(e){var n=Jl(e);if(pj(n))return e}function XO(e,n){if(e==="change")return n}var Wj=!1;if(Zs){var ex;if(Zs){var tx="oninput"in document;if(!tx){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),tx=typeof aS.oninput=="function"}ex=tx}else ex=!1;Wj=ex&&(!document.documentMode||9<document.documentMode)}function lS(){ad&&(ad.detachEvent("onpropertychange",qj),Ed=ad=null)}function qj(e){if(e.propertyName==="value"&&Tm(Ed)){var n=[];Vj(n,Ed,e,Gv(e)),Cj(YO,n)}}function QO(e,n,r){e==="focusin"?(lS(),ad=n,Ed=r,ad.attachEvent("onpropertychange",qj)):e==="focusout"&&lS()}function JO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tm(Ed)}function ZO(e,n){if(e==="click")return Tm(n)}function eD(e,n){if(e==="input"||e==="change")return Tm(n)}function tD(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xo=typeof Object.is=="function"?Object.is:tD;function Td(e,n){if(Xo(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var s=r[o];if(!vy.call(n,s)||!Xo(e[s],n[s]))return!1}return!0}function cS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uS(e,n){var r=cS(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cS(r)}}function Gj(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gj(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kj(){for(var e=window,n=pp();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=pp(e.document)}return n}function nw(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function nD(e){var n=Kj(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&Gj(r.ownerDocument.documentElement,r)){if(o!==null&&nw(r)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(o.start,s);o=o.end===void 0?i:Math.min(o.end,s),!e.extend&&i>o&&(s=o,o=i,i=s),s=uS(r,i);var a=uS(r,o);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),i>o?(e.addRange(n),e.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rD=Zs&&"documentMode"in document&&11>=document.documentMode,Xl=null,$y=null,ld=null,zy=!1;function dS(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zy||Xl==null||Xl!==pp(o)||(o=Xl,"selectionStart"in o&&nw(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ld&&Td(ld,o)||(ld=o,o=bp($y,"onSelect"),0<o.length&&(n=new Zv("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Xl)))}function oh(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ql={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},nx={},Yj={};Zs&&(Yj=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function Am(e){if(nx[e])return nx[e];if(!Ql[e])return e;var n=Ql[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Yj)return nx[e]=n[r];return e}var Xj=Am("animationend"),Qj=Am("animationiteration"),Jj=Am("animationstart"),Zj=Am("transitionend"),e_=new Map,fS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,n){e_.set(e,n),wl(n,[e])}for(var rx=0;rx<fS.length;rx++){var ox=fS[rx],oD=ox.toLowerCase(),sD=ox[0].toUpperCase()+ox.slice(1);wa(oD,"on"+sD)}wa(Xj,"onAnimationEnd");wa(Qj,"onAnimationIteration");wa(Jj,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(Zj,"onTransitionEnd");Ic("onMouseEnter",["mouseout","mouseover"]);Ic("onMouseLeave",["mouseout","mouseover"]);Ic("onPointerEnter",["pointerout","pointerover"]);Ic("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function hS(e,n,r){var o=e.type||"unknown-event";e.currentTarget=r,oO(o,n,void 0,e),e.currentTarget=null}function t_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],s=o.event;o=o.listeners;e:{var i=void 0;if(n)for(var a=o.length-1;0<=a;a--){var l=o[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;hS(s,l,d),i=u}else for(a=0;a<o.length;a++){if(l=o[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;hS(s,l,d),i=u}}}if(gp)throw e=Iy,gp=!1,Iy=null,e}function rn(e,n){var r=n[Vy];r===void 0&&(r=n[Vy]=new Set);var o=e+"__bubble";r.has(o)||(n_(n,e,2,!1),r.add(o))}function sx(e,n,r){var o=0;n&&(o|=4),n_(r,e,o,n)}var sh="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[sh]){e[sh]=!0,cj.forEach(function(r){r!=="selectionchange"&&(iD.has(r)||sx(r,!1,e),sx(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sh]||(n[sh]=!0,sx("selectionchange",!1,n))}}function n_(e,n,r,o){switch(zj(n)){case 1:var s=wO;break;case 4:s=bO;break;default:s=Qv}r=s.bind(null,n,r,e),s=void 0,!Ry||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(n,r,{capture:!0,passive:s}):e.addEventListener(n,r,!0):s!==void 0?e.addEventListener(n,r,{passive:s}):e.addEventListener(n,r,!1)}function ix(e,n,r,o,s){var i=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var l=o.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=o.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Da(l),a===null)return;if(u=a.tag,u===5||u===6){o=i=a;continue e}l=l.parentNode}}o=o.return}Cj(function(){var d=i,h=Gv(r),f=[];e:{var m=e_.get(e);if(m!==void 0){var p=Zv,v=e;switch(e){case"keypress":if(Vh(r)===0)break e;case"keydown":case"keyup":p=DO;break;case"focusin":v="focus",p=Zg;break;case"focusout":v="blur",p=Zg;break;case"beforeblur":case"afterblur":p=Zg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zO;break;case Xj:case Qj:case Jj:p=_O;break;case Zj:p=UO;break;case"scroll":p=SO;break;case"wheel":p=HO;break;case"copy":case"cut":case"paste":p=TO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rS}var y=(n&4)!==0,b=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var w=d,S;w!==null;){S=w;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,x!==null&&(k=Nd(w,x),k!=null&&y.push(Pd(w,k,S)))),b)break;w=w.return}0<y.length&&(m=new p(m,v,null,r,h),f.push({event:m,listeners:y}))}}if(!(n&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==Py&&(v=r.relatedTarget||r.fromElement)&&(Da(v)||v[ei]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=d,v=v?Da(v):null,v!==null&&(b=bl(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(y=tS,k="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=rS,k="onPointerLeave",x="onPointerEnter",w="pointer"),b=p==null?m:Jl(p),S=v==null?m:Jl(v),m=new y(k,w+"leave",p,r,h),m.target=b,m.relatedTarget=S,k=null,Da(h)===d&&(y=new y(x,w+"enter",v,r,h),y.target=S,y.relatedTarget=b,k=y),b=k,p&&v)t:{for(y=p,x=v,w=0,S=y;S;S=Tl(S))w++;for(S=0,k=x;k;k=Tl(k))S++;for(;0<w-S;)y=Tl(y),w--;for(;0<S-w;)x=Tl(x),S--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Tl(y),x=Tl(x)}y=null}else y=null;p!==null&&pS(f,m,p,y,!1),v!==null&&b!==null&&pS(f,b,v,y,!0)}}e:{if(m=d?Jl(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=XO;else if(iS(m))if(Wj)C=eD;else{C=JO;var N=QO}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=ZO);if(C&&(C=C(e,d))){Vj(f,C,r,h);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&jy(m,"number",m.value)}switch(N=d?Jl(d):window,e){case"focusin":(iS(N)||N.contentEditable==="true")&&(Xl=N,$y=d,ld=null);break;case"focusout":ld=$y=Xl=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,dS(f,r,h);break;case"selectionchange":if(rD)break;case"keydown":case"keyup":dS(f,r,h)}var j;if(tw)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Yl?Bj(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Uj&&r.locale!=="ko"&&(Yl||P!=="onCompositionStart"?P==="onCompositionEnd"&&Yl&&(j=Fj()):(Ki=h,Jv="value"in Ki?Ki.value:Ki.textContent,Yl=!0)),N=bp(d,P),0<N.length&&(P=new nS(P,e,null,r,h),f.push({event:P,listeners:N}),j?P.data=j:(j=Hj(r),j!==null&&(P.data=j)))),(j=WO?qO(e,r):GO(e,r))&&(d=bp(d,"onBeforeInput"),0<d.length&&(h=new nS("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=j))}t_(f,n)})}function Pd(e,n,r){return{instance:e,listener:n,currentTarget:r}}function bp(e,n){for(var r=n+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nd(e,r),i!=null&&o.unshift(Pd(e,i,s)),i=Nd(e,n),i!=null&&o.push(Pd(e,i,s))),e=e.return}return o}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pS(e,n,r,o,s){for(var i=n._reactName,a=[];r!==null&&r!==o;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===o)break;l.tag===5&&d!==null&&(l=d,s?(u=Nd(r,i),u!=null&&a.unshift(Pd(r,u,l))):s||(u=Nd(r,i),u!=null&&a.push(Pd(r,u,l)))),r=r.return}a.length!==0&&e.push({event:n,listeners:a})}var aD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function mS(e){return(typeof e=="string"?e:""+e).replace(aD,`
`).replace(lD,"")}function ih(e,n,r){if(n=mS(n),mS(e)!==n&&r)throw Error(ve(425))}function Sp(){}var Fy=null,Uy=null;function By(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hy=typeof setTimeout=="function"?setTimeout:void 0,cD=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,uD=typeof queueMicrotask=="function"?queueMicrotask:typeof gS<"u"?function(e){return gS.resolve(null).then(e).catch(dD)}:Hy;function dD(e){setTimeout(function(){throw e})}function ax(e,n){var r=n,o=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(o===0){e.removeChild(s),_d(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=s}while(r);_d(n)}function ea(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function xS(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var nu=Math.random().toString(36).slice(2),ds="__reactFiber$"+nu,Md="__reactProps$"+nu,ei="__reactContainer$"+nu,Vy="__reactEvents$"+nu,fD="__reactListeners$"+nu,hD="__reactHandles$"+nu;function Da(e){var n=e[ds];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ei]||r[ds]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=xS(e);e!==null;){if(r=e[ds])return r;e=xS(e)}return n}e=r,r=e.parentNode}return null}function mf(e){return e=e[ds]||e[ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Pm(e){return e[Md]||null}var Wy=[],Zl=-1;function ba(e){return{current:e}}function an(e){0>Zl||(e.current=Wy[Zl],Wy[Zl]=null,Zl--)}function Xt(e,n){Zl++,Wy[Zl]=e.current,e.current=n}var ha={},ir=ba(ha),Dr=ba(!1),rl=ha;function Oc(e,n){var r=e.type.contextTypes;if(!r)return ha;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=n[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(e){return e=e.childContextTypes,e!=null}function kp(){an(Dr),an(ir)}function yS(e,n,r){if(ir.current!==ha)throw Error(ve(168));Xt(ir,n),Xt(Dr,r)}function r_(e,n,r){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var s in o)if(!(s in n))throw Error(ve(108,QI(e)||"Unknown",s));return gn({},r,o)}function Np(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,rl=ir.current,Xt(ir,e),Xt(Dr,Dr.current),!0}function vS(e,n,r){var o=e.stateNode;if(!o)throw Error(ve(169));r?(e=r_(e,n,rl),o.__reactInternalMemoizedMergedChildContext=e,an(Dr),an(ir),Xt(ir,e)):an(Dr),Xt(Dr,r)}var Us=null,Mm=!1,lx=!1;function o_(e){Us===null?Us=[e]:Us.push(e)}function pD(e){Mm=!0,o_(e)}function Sa(){if(!lx&&Us!==null){lx=!0;var e=0,n=zt;try{var r=Us;for(zt=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Us=null,Mm=!1}catch(s){throw Us!==null&&(Us=Us.slice(e+1)),Tj(Kv,Sa),s}finally{zt=n,lx=!1}}return null}var ec=[],tc=0,Cp=null,jp=0,xo=[],yo=0,ol=null,Ws=1,qs="";function Aa(e,n){ec[tc++]=jp,ec[tc++]=Cp,Cp=e,jp=n}function s_(e,n,r){xo[yo++]=Ws,xo[yo++]=qs,xo[yo++]=ol,ol=e;var o=Ws;e=qs;var s=32-Wo(o)-1;o&=~(1<<s),r+=1;var i=32-Wo(n)+s;if(30<i){var a=s-s%5;i=(o&(1<<a)-1).toString(32),o>>=a,s-=a,Ws=1<<32-Wo(n)+s|r<<s|o,qs=i+e}else Ws=1<<i|r<<s|o,qs=e}function rw(e){e.return!==null&&(Aa(e,1),s_(e,1,0))}function ow(e){for(;e===Cp;)Cp=ec[--tc],ec[tc]=null,jp=ec[--tc],ec[tc]=null;for(;e===ol;)ol=xo[--yo],xo[yo]=null,qs=xo[--yo],xo[yo]=null,Ws=xo[--yo],xo[yo]=null}var to=null,Jr=null,fn=!1,Bo=null;function i_(e,n){var r=ko(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function wS(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,to=e,Jr=ea(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,to=e,Jr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=ol!==null?{id:Ws,overflow:qs}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=ko(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,to=e,Jr=null,!0):!1;default:return!1}}function qy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gy(e){if(fn){var n=Jr;if(n){var r=n;if(!wS(e,n)){if(qy(e))throw Error(ve(418));n=ea(r.nextSibling);var o=to;n&&wS(e,n)?i_(o,r):(e.flags=e.flags&-4097|2,fn=!1,to=e)}}else{if(qy(e))throw Error(ve(418));e.flags=e.flags&-4097|2,fn=!1,to=e}}}function bS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;to=e}function ah(e){if(e!==to)return!1;if(!fn)return bS(e),fn=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!By(e.type,e.memoizedProps)),n&&(n=Jr)){if(qy(e))throw a_(),Error(ve(418));for(;n;)i_(e,n),n=ea(n.nextSibling)}if(bS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Jr=ea(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Jr=null}}else Jr=to?ea(e.stateNode.nextSibling):null;return!0}function a_(){for(var e=Jr;e;)e=ea(e.nextSibling)}function Dc(){Jr=to=null,fn=!1}function sw(e){Bo===null?Bo=[e]:Bo.push(e)}var mD=hi.ReactCurrentBatchConfig;function ku(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var o=r.stateNode}if(!o)throw Error(ve(147,e));var s=o,i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},n._stringRef=i,n)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function lh(e,n){throw e=Object.prototype.toString.call(n),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function SS(e){var n=e._init;return n(e._payload)}function l_(e){function n(x,w){if(e){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)n(x,w),w=w.sibling;return null}function o(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=oa(x,w),x.index=0,x.sibling=null,x}function i(x,w,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,S,k){return w===null||w.tag!==6?(w=mx(S,x.mode,k),w.return=x,w):(w=s(w,S),w.return=x,w)}function u(x,w,S,k){var C=S.type;return C===Kl?h(x,w,S.props.children,k,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pi&&SS(C)===w.type)?(k=s(w,S.props),k.ref=ku(x,w,S),k.return=x,k):(k=Qh(S.type,S.key,S.props,null,x.mode,k),k.ref=ku(x,w,S),k.return=x,k)}function d(x,w,S,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=gx(S,x.mode,k),w.return=x,w):(w=s(w,S.children||[]),w.return=x,w)}function h(x,w,S,k,C){return w===null||w.tag!==7?(w=Ja(S,x.mode,k,C),w.return=x,w):(w=s(w,S),w.return=x,w)}function f(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mx(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qf:return S=Qh(w.type,w.key,w.props,null,x.mode,S),S.ref=ku(x,null,w),S.return=x,S;case Gl:return w=gx(w,x.mode,S),w.return=x,w;case Pi:var k=w._init;return f(x,k(w._payload),S)}if(Wu(w)||yu(w))return w=Ja(w,x.mode,S,null),w.return=x,w;lh(x,w)}return null}function m(x,w,S,k){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:l(x,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qf:return S.key===C?u(x,w,S,k):null;case Gl:return S.key===C?d(x,w,S,k):null;case Pi:return C=S._init,m(x,w,C(S._payload),k)}if(Wu(S)||yu(S))return C!==null?null:h(x,w,S,k,null);lh(x,S)}return null}function p(x,w,S,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(S)||null,l(w,x,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qf:return x=x.get(k.key===null?S:k.key)||null,u(w,x,k,C);case Gl:return x=x.get(k.key===null?S:k.key)||null,d(w,x,k,C);case Pi:var N=k._init;return p(x,w,S,N(k._payload),C)}if(Wu(k)||yu(k))return x=x.get(S)||null,h(w,x,k,C,null);lh(w,k)}return null}function v(x,w,S,k){for(var C=null,N=null,j=w,P=w=0,E=null;j!==null&&P<S.length;P++){j.index>P?(E=j,j=null):E=j.sibling;var _=m(x,j,S[P],k);if(_===null){j===null&&(j=E);break}e&&j&&_.alternate===null&&n(x,j),w=i(_,w,P),N===null?C=_:N.sibling=_,N=_,j=E}if(P===S.length)return r(x,j),fn&&Aa(x,P),C;if(j===null){for(;P<S.length;P++)j=f(x,S[P],k),j!==null&&(w=i(j,w,P),N===null?C=j:N.sibling=j,N=j);return fn&&Aa(x,P),C}for(j=o(x,j);P<S.length;P++)E=p(j,x,P,S[P],k),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?P:E.key),w=i(E,w,P),N===null?C=E:N.sibling=E,N=E);return e&&j.forEach(function(I){return n(x,I)}),fn&&Aa(x,P),C}function y(x,w,S,k){var C=yu(S);if(typeof C!="function")throw Error(ve(150));if(S=C.call(S),S==null)throw Error(ve(151));for(var N=C=null,j=w,P=w=0,E=null,_=S.next();j!==null&&!_.done;P++,_=S.next()){j.index>P?(E=j,j=null):E=j.sibling;var I=m(x,j,_.value,k);if(I===null){j===null&&(j=E);break}e&&j&&I.alternate===null&&n(x,j),w=i(I,w,P),N===null?C=I:N.sibling=I,N=I,j=E}if(_.done)return r(x,j),fn&&Aa(x,P),C;if(j===null){for(;!_.done;P++,_=S.next())_=f(x,_.value,k),_!==null&&(w=i(_,w,P),N===null?C=_:N.sibling=_,N=_);return fn&&Aa(x,P),C}for(j=o(x,j);!_.done;P++,_=S.next())_=p(j,x,P,_.value,k),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?P:_.key),w=i(_,w,P),N===null?C=_:N.sibling=_,N=_);return e&&j.forEach(function(O){return n(x,O)}),fn&&Aa(x,P),C}function b(x,w,S,k){if(typeof S=="object"&&S!==null&&S.type===Kl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Qf:e:{for(var C=S.key,N=w;N!==null;){if(N.key===C){if(C=S.type,C===Kl){if(N.tag===7){r(x,N.sibling),w=s(N,S.props.children),w.return=x,x=w;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pi&&SS(C)===N.type){r(x,N.sibling),w=s(N,S.props),w.ref=ku(x,N,S),w.return=x,x=w;break e}r(x,N);break}else n(x,N);N=N.sibling}S.type===Kl?(w=Ja(S.props.children,x.mode,k,S.key),w.return=x,x=w):(k=Qh(S.type,S.key,S.props,null,x.mode,k),k.ref=ku(x,w,S),k.return=x,x=k)}return a(x);case Gl:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(x,w.sibling),w=s(w,S.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else n(x,w);w=w.sibling}w=gx(S,x.mode,k),w.return=x,x=w}return a(x);case Pi:return N=S._init,b(x,w,N(S._payload),k)}if(Wu(S))return v(x,w,S,k);if(yu(S))return y(x,w,S,k);lh(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(x,w.sibling),w=s(w,S),w.return=x,x=w):(r(x,w),w=mx(S,x.mode,k),w.return=x,x=w),a(x)):r(x,w)}return b}var Lc=l_(!0),c_=l_(!1),_p=ba(null),Ep=null,nc=null,iw=null;function aw(){iw=nc=Ep=null}function lw(e){var n=_p.current;an(_p),e._currentValue=n}function Ky(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function fc(e,n){Ep=e,iw=nc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ir=!0),e.firstContext=null)}function Eo(e){var n=e._currentValue;if(iw!==e)if(e={context:e,memoizedValue:n,next:null},nc===null){if(Ep===null)throw Error(ve(308));nc=e,Ep.dependencies={lanes:0,firstContext:e}}else nc=nc.next=e;return n}var La=null;function cw(e){La===null?La=[e]:La.push(e)}function u_(e,n,r,o){var s=n.interleaved;return s===null?(r.next=r,cw(n)):(r.next=s.next,s.next=r),n.interleaved=r,ti(e,o)}function ti(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mi=!1;function uw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ys(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function ta(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Rt&2){var s=o.pending;return s===null?n.next=n:(n.next=s.next,s.next=n),o.pending=n,ti(e,r)}return s=o.interleaved,s===null?(n.next=n,cw(o)):(n.next=s.next,s.next=n),o.interleaved=n,ti(e,r)}function Wh(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Yv(e,r)}}function kS(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=n:i=i.next=n}else s=i=n;r={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Tp(e,n,r,o){var s=e.updateQueue;Mi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,h=d=u=null,l=i;do{var m=l.lane,p=l.eventTime;if((o&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(m=n,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(p,f,m):v,m==null)break e;f=gn({},f,m);break e;case 2:Mi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,u=f):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,n=s.shared.interleaved,n!==null){s=n;do a|=s.lane,s=s.next;while(s!==n)}else i===null&&(s.shared.lanes=0);il|=a,e.lanes=a,e.memoizedState=f}}function NS(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],s=o.callback;if(s!==null){if(o.callback=null,o=r,typeof s!="function")throw Error(ve(191,s));s.call(o)}}}var gf={},xs=ba(gf),Rd=ba(gf),Id=ba(gf);function $a(e){if(e===gf)throw Error(ve(174));return e}function dw(e,n){switch(Xt(Id,n),Xt(Rd,e),Xt(xs,gf),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ey(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ey(n,e)}an(xs),Xt(xs,n)}function $c(){an(xs),an(Rd),an(Id)}function f_(e){$a(Id.current);var n=$a(xs.current),r=Ey(n,e.type);n!==r&&(Xt(Rd,e),Xt(xs,r))}function fw(e){Rd.current===e&&(an(xs),an(Rd))}var pn=ba(0);function Ap(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cx=[];function hw(){for(var e=0;e<cx.length;e++)cx[e]._workInProgressVersionPrimary=null;cx.length=0}var qh=hi.ReactCurrentDispatcher,ux=hi.ReactCurrentBatchConfig,sl=0,mn=null,Mn=null,$n=null,Pp=!1,cd=!1,Od=0,gD=0;function Zn(){throw Error(ve(321))}function pw(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Xo(e[r],n[r]))return!1;return!0}function mw(e,n,r,o,s,i){if(sl=i,mn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,qh.current=e===null||e.memoizedState===null?wD:bD,e=r(o,s),cd){i=0;do{if(cd=!1,Od=0,25<=i)throw Error(ve(301));i+=1,$n=Mn=null,n.updateQueue=null,qh.current=SD,e=r(o,s)}while(cd)}if(qh.current=Mp,n=Mn!==null&&Mn.next!==null,sl=0,$n=Mn=mn=null,Pp=!1,n)throw Error(ve(300));return e}function gw(){var e=Od!==0;return Od=0,e}function ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?mn.memoizedState=$n=e:$n=$n.next=e,$n}function To(){if(Mn===null){var e=mn.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var n=$n===null?mn.memoizedState:$n.next;if(n!==null)$n=n,Mn=e;else{if(e===null)throw Error(ve(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},$n===null?mn.memoizedState=$n=e:$n=$n.next=e}return $n}function Dd(e,n){return typeof n=="function"?n(e):n}function dx(e){var n=To(),r=n.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var o=Mn,s=o.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}o.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,o=o.baseState;var l=a=null,u=null,d=i;do{var h=d.lane;if((sl&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=f,a=o):u=u.next=f,mn.lanes|=h,il|=h}d=d.next}while(d!==null&&d!==i);u===null?a=o:u.next=l,Xo(o,n.memoizedState)||(Ir=!0),n.memoizedState=o,n.baseState=a,n.baseQueue=u,r.lastRenderedState=o}if(e=r.interleaved,e!==null){s=e;do i=s.lane,mn.lanes|=i,il|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function fx(e){var n=To(),r=n.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var o=r.dispatch,s=r.pending,i=n.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Xo(i,n.memoizedState)||(Ir=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),r.lastRenderedState=i}return[i,o]}function h_(){}function p_(e,n){var r=mn,o=To(),s=n(),i=!Xo(o.memoizedState,s);if(i&&(o.memoizedState=s,Ir=!0),o=o.queue,xw(x_.bind(null,r,o,e),[e]),o.getSnapshot!==n||i||$n!==null&&$n.memoizedState.tag&1){if(r.flags|=2048,Ld(9,g_.bind(null,r,o,s,n),void 0,null),Fn===null)throw Error(ve(349));sl&30||m_(r,n,s)}return s}function m_(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=mn.updateQueue,n===null?(n={lastEffect:null,stores:null},mn.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function g_(e,n,r,o){n.value=r,n.getSnapshot=o,y_(n)&&v_(e)}function x_(e,n,r){return r(function(){y_(n)&&v_(e)})}function y_(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Xo(e,r)}catch{return!0}}function v_(e){var n=ti(e,1);n!==null&&qo(n,e,1,-1)}function CS(e){var n=ss();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:e},n.queue=e,e=e.dispatch=vD.bind(null,mn,e),[n.memoizedState,e]}function Ld(e,n,r,o){return e={tag:e,create:n,destroy:r,deps:o,next:null},n=mn.updateQueue,n===null?(n={lastEffect:null,stores:null},mn.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e)),e}function w_(){return To().memoizedState}function Gh(e,n,r,o){var s=ss();mn.flags|=e,s.memoizedState=Ld(1|n,r,void 0,o===void 0?null:o)}function Rm(e,n,r,o){var s=To();o=o===void 0?null:o;var i=void 0;if(Mn!==null){var a=Mn.memoizedState;if(i=a.destroy,o!==null&&pw(o,a.deps)){s.memoizedState=Ld(n,r,i,o);return}}mn.flags|=e,s.memoizedState=Ld(1|n,r,i,o)}function jS(e,n){return Gh(8390656,8,e,n)}function xw(e,n){return Rm(2048,8,e,n)}function b_(e,n){return Rm(4,2,e,n)}function S_(e,n){return Rm(4,4,e,n)}function k_(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function N_(e,n,r){return r=r!=null?r.concat([e]):null,Rm(4,4,k_.bind(null,n,e),r)}function yw(){}function C_(e,n){var r=To();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&pw(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function j_(e,n){var r=To();n=n===void 0?null:n;var o=r.memoizedState;return o!==null&&n!==null&&pw(n,o[1])?o[0]:(e=e(),r.memoizedState=[e,n],e)}function __(e,n,r){return sl&21?(Xo(r,n)||(r=Mj(),mn.lanes|=r,il|=r,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ir=!0),e.memoizedState=r)}function xD(e,n){var r=zt;zt=r!==0&&4>r?r:4,e(!0);var o=ux.transition;ux.transition={};try{e(!1),n()}finally{zt=r,ux.transition=o}}function E_(){return To().memoizedState}function yD(e,n,r){var o=ra(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},T_(e))A_(n,r);else if(r=u_(e,n,r,o),r!==null){var s=vr();qo(r,e,o,s),P_(r,n,o)}}function vD(e,n,r){var o=ra(e),s={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(T_(e))A_(n,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var a=n.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Xo(l,a)){var u=n.interleaved;u===null?(s.next=s,cw(n)):(s.next=u.next,u.next=s),n.interleaved=s;return}}catch{}finally{}r=u_(e,n,s,o),r!==null&&(s=vr(),qo(r,e,o,s),P_(r,n,o))}}function T_(e){var n=e.alternate;return e===mn||n!==null&&n===mn}function A_(e,n){cd=Pp=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function P_(e,n,r){if(r&4194240){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Yv(e,r)}}var Mp={readContext:Eo,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},wD={readContext:Eo,useCallback:function(e,n){return ss().memoizedState=[e,n===void 0?null:n],e},useContext:Eo,useEffect:jS,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Gh(4194308,4,k_.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gh(4194308,4,e,n)},useInsertionEffect:function(e,n){return Gh(4,2,e,n)},useMemo:function(e,n){var r=ss();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var o=ss();return n=r!==void 0?r(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=yD.bind(null,mn,e),[o.memoizedState,e]},useRef:function(e){var n=ss();return e={current:e},n.memoizedState=e},useState:CS,useDebugValue:yw,useDeferredValue:function(e){return ss().memoizedState=e},useTransition:function(){var e=CS(!1),n=e[0];return e=xD.bind(null,e[1]),ss().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var o=mn,s=ss();if(fn){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=n(),Fn===null)throw Error(ve(349));sl&30||m_(o,n,r)}s.memoizedState=r;var i={value:r,getSnapshot:n};return s.queue=i,jS(x_.bind(null,o,i,e),[e]),o.flags|=2048,Ld(9,g_.bind(null,o,i,r,n),void 0,null),r},useId:function(){var e=ss(),n=Fn.identifierPrefix;if(fn){var r=qs,o=Ws;r=(o&~(1<<32-Wo(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=Od++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=gD++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bD={readContext:Eo,useCallback:C_,useContext:Eo,useEffect:xw,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:j_,useReducer:dx,useRef:w_,useState:function(){return dx(Dd)},useDebugValue:yw,useDeferredValue:function(e){var n=To();return __(n,Mn.memoizedState,e)},useTransition:function(){var e=dx(Dd)[0],n=To().memoizedState;return[e,n]},useMutableSource:h_,useSyncExternalStore:p_,useId:E_,unstable_isNewReconciler:!1},SD={readContext:Eo,useCallback:C_,useContext:Eo,useEffect:xw,useImperativeHandle:N_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:j_,useReducer:fx,useRef:w_,useState:function(){return fx(Dd)},useDebugValue:yw,useDeferredValue:function(e){var n=To();return Mn===null?n.memoizedState=e:__(n,Mn.memoizedState,e)},useTransition:function(){var e=fx(Dd)[0],n=To().memoizedState;return[e,n]},useMutableSource:h_,useSyncExternalStore:p_,useId:E_,unstable_isNewReconciler:!1};function $o(e,n){if(e&&e.defaultProps){n=gn({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Yy(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:gn({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Im={isMounted:function(e){return(e=e._reactInternals)?bl(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vr(),s=ra(e),i=Ys(o,s);i.payload=n,r!=null&&(i.callback=r),n=ta(e,i,s),n!==null&&(qo(n,e,s,o),Wh(n,e,s))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vr(),s=ra(e),i=Ys(o,s);i.tag=1,i.payload=n,r!=null&&(i.callback=r),n=ta(e,i,s),n!==null&&(qo(n,e,s,o),Wh(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vr(),o=ra(e),s=Ys(r,o);s.tag=2,n!=null&&(s.callback=n),n=ta(e,s,o),n!==null&&(qo(n,e,o,r),Wh(n,e,o))}};function _S(e,n,r,o,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,a):n.prototype&&n.prototype.isPureReactComponent?!Td(r,o)||!Td(s,i):!0}function M_(e,n,r){var o=!1,s=ha,i=n.contextType;return typeof i=="object"&&i!==null?i=Eo(i):(s=Lr(n)?rl:ir.current,o=n.contextTypes,i=(o=o!=null)?Oc(e,s):ha),n=new n(r,i),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Im,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),n}function ES(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Im.enqueueReplaceState(n,n.state,null)}function Xy(e,n,r,o){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},uw(e);var i=n.contextType;typeof i=="object"&&i!==null?s.context=Eo(i):(i=Lr(n)?rl:ir.current,s.context=Oc(e,i)),s.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Yy(e,n,i,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(n=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),n!==s.state&&Im.enqueueReplaceState(s,s.state,null),Tp(e,r,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zc(e,n){try{var r="",o=n;do r+=XI(o),o=o.return;while(o);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:n,stack:s,digest:null}}function hx(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Qy(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var kD=typeof WeakMap=="function"?WeakMap:Map;function R_(e,n,r){r=Ys(-1,r),r.tag=3,r.payload={element:null};var o=n.value;return r.callback=function(){Ip||(Ip=!0,a0=o),Qy(e,n)},r}function I_(e,n,r){r=Ys(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=n.value;r.payload=function(){return o(s)},r.callback=function(){Qy(e,n)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qy(e,n),typeof o!="function"&&(na===null?na=new Set([this]):na.add(this));var a=n.stack;this.componentDidCatch(n.value,{componentStack:a!==null?a:""})}),r}function TS(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new kD;var s=new Set;o.set(n,s)}else s=o.get(n),s===void 0&&(s=new Set,o.set(n,s));s.has(r)||(s.add(r),e=LD.bind(null,e,n,r),n.then(e,e))}function AS(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function PS(e,n,r,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=Ys(-1,1),n.tag=2,ta(r,n,1))),r.lanes|=1),e)}var ND=hi.ReactCurrentOwner,Ir=!1;function fr(e,n,r,o){n.child=e===null?c_(n,null,r,o):Lc(n,e.child,r,o)}function MS(e,n,r,o,s){r=r.render;var i=n.ref;return fc(n,s),o=mw(e,n,r,o,i,s),r=gw(),e!==null&&!Ir?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,ni(e,n,s)):(fn&&r&&rw(n),n.flags|=1,fr(e,n,o,s),n.child)}function RS(e,n,r,o,s){if(e===null){var i=r.type;return typeof i=="function"&&!jw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=i,O_(e,n,i,o,s)):(e=Qh(r.type,null,o,n,n.mode,s),e.ref=n.ref,e.return=n,n.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Td,r(a,o)&&e.ref===n.ref)return ni(e,n,s)}return n.flags|=1,e=oa(i,o),e.ref=n.ref,e.return=n,n.child=e}function O_(e,n,r,o,s){if(e!==null){var i=e.memoizedProps;if(Td(i,o)&&e.ref===n.ref)if(Ir=!1,n.pendingProps=o=i,(e.lanes&s)!==0)e.flags&131072&&(Ir=!0);else return n.lanes=e.lanes,ni(e,n,s)}return Jy(e,n,r,o,s)}function D_(e,n,r){var o=n.pendingProps,s=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(oc,Xr),Xr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Xt(oc,Xr),Xr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:r,Xt(oc,Xr),Xr|=o}else i!==null?(o=i.baseLanes|r,n.memoizedState=null):o=r,Xt(oc,Xr),Xr|=o;return fr(e,n,s,r),n.child}function L_(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Jy(e,n,r,o,s){var i=Lr(r)?rl:ir.current;return i=Oc(n,i),fc(n,s),r=mw(e,n,r,o,i,s),o=gw(),e!==null&&!Ir?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s,ni(e,n,s)):(fn&&o&&rw(n),n.flags|=1,fr(e,n,r,s),n.child)}function IS(e,n,r,o,s){if(Lr(r)){var i=!0;Np(n)}else i=!1;if(fc(n,s),n.stateNode===null)Kh(e,n),M_(n,r,o),Xy(n,r,o,s),o=!0;else if(e===null){var a=n.stateNode,l=n.memoizedProps;a.props=l;var u=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Eo(d):(d=Lr(r)?rl:ir.current,d=Oc(n,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==o||u!==d)&&ES(n,a,o,d),Mi=!1;var m=n.memoizedState;a.state=m,Tp(n,o,a,s),u=n.memoizedState,l!==o||m!==u||Dr.current||Mi?(typeof h=="function"&&(Yy(n,r,h,o),u=n.memoizedState),(l=Mi||_S(n,r,l,o,m,u,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(n.flags|=4194308)):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=u),a.props=o,a.state=u,a.context=d,o=l):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{a=n.stateNode,d_(e,n),l=n.memoizedProps,d=n.type===n.elementType?l:$o(n.type,l),a.props=d,f=n.pendingProps,m=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Eo(u):(u=Lr(r)?rl:ir.current,u=Oc(n,u));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==u)&&ES(n,a,o,u),Mi=!1,m=n.memoizedState,a.state=m,Tp(n,o,a,s);var v=n.memoizedState;l!==f||m!==v||Dr.current||Mi?(typeof p=="function"&&(Yy(n,r,p,o),v=n.memoizedState),(d=Mi||_S(n,r,d,o,m,v,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,v,u)),typeof a.componentDidUpdate=="function"&&(n.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=v),a.props=o,a.state=v,a.context=u,o=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),o=!1)}return Zy(e,n,r,o,i,s)}function Zy(e,n,r,o,s,i){L_(e,n);var a=(n.flags&128)!==0;if(!o&&!a)return s&&vS(n,r,!1),ni(e,n,i);o=n.stateNode,ND.current=n;var l=a&&typeof r.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&a?(n.child=Lc(n,e.child,null,i),n.child=Lc(n,null,l,i)):fr(e,n,l,i),n.memoizedState=o.state,s&&vS(n,r,!0),n.child}function $_(e){var n=e.stateNode;n.pendingContext?yS(e,n.pendingContext,n.pendingContext!==n.context):n.context&&yS(e,n.context,!1),dw(e,n.containerInfo)}function OS(e,n,r,o,s){return Dc(),sw(s),n.flags|=256,fr(e,n,r,o),n.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(e){return{baseLanes:e,cachePool:null,transitions:null}}function z_(e,n,r){var o=n.pendingProps,s=pn.current,i=!1,a=(n.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(pn,s&1),e===null)return Gy(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(a=o.children,e=o.fallback,i?(o=n.mode,i=n.child,a={mode:"hidden",children:a},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Lm(a,o,0,null),e=Ja(e,o,r,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=t0(r),n.memoizedState=e0,e):vw(n,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return CD(e,n,a,o,l,s,r);if(i){i=o.fallback,a=n.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:o.children};return!(a&1)&&n.child!==s?(o=n.child,o.childLanes=0,o.pendingProps=u,n.deletions=null):(o=oa(s,u),o.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=oa(l,i):(i=Ja(i,a,r,null),i.flags|=2),i.return=n,o.return=n,o.sibling=i,n.child=o,o=i,i=n.child,a=e.child.memoizedState,a=a===null?t0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,n.memoizedState=e0,o}return i=e.child,e=i.sibling,o=oa(i,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=r),o.return=n,o.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=o,n.memoizedState=null,o}function vw(e,n){return n=Lm({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ch(e,n,r,o){return o!==null&&sw(o),Lc(n,e.child,null,r),e=vw(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function CD(e,n,r,o,s,i,a){if(r)return n.flags&256?(n.flags&=-257,o=hx(Error(ve(422))),ch(e,n,a,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(i=o.fallback,s=n.mode,o=Lm({mode:"visible",children:o.children},s,0,null),i=Ja(i,s,a,null),i.flags|=2,o.return=n,i.return=n,o.sibling=i,n.child=o,n.mode&1&&Lc(n,e.child,null,a),n.child.memoizedState=t0(a),n.memoizedState=e0,i);if(!(n.mode&1))return ch(e,n,a,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var l=o.dgst;return o=l,i=Error(ve(419)),o=hx(i,o,void 0),ch(e,n,a,o)}if(l=(a&e.childLanes)!==0,Ir||l){if(o=Fn,o!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ti(e,s),qo(o,e,s,-1))}return Cw(),o=hx(Error(ve(421))),ch(e,n,a,o)}return s.data==="$?"?(n.flags|=128,n.child=e.child,n=$D.bind(null,e),s._reactRetry=n,null):(e=i.treeContext,Jr=ea(s.nextSibling),to=n,fn=!0,Bo=null,e!==null&&(xo[yo++]=Ws,xo[yo++]=qs,xo[yo++]=ol,Ws=e.id,qs=e.overflow,ol=n),n=vw(n,o.children),n.flags|=4096,n)}function DS(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ky(e.return,n,r)}function px(e,n,r,o,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:s}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=r,i.tailMode=s)}function F_(e,n,r){var o=n.pendingProps,s=o.revealOrder,i=o.tail;if(fr(e,n,o.children,r),o=pn.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&DS(e,r,n);else if(e.tag===19)DS(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Xt(pn,o),!(n.mode&1))n.memoizedState=null;else switch(s){case"forwards":for(r=n.child,s=null;r!==null;)e=r.alternate,e!==null&&Ap(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=n.child,n.child=null):(s=r.sibling,r.sibling=null),px(n,!1,s,r,i);break;case"backwards":for(r=null,s=n.child,n.child=null;s!==null;){if(e=s.alternate,e!==null&&Ap(e)===null){n.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}px(n,!0,r,null,i);break;case"together":px(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Kh(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ni(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),il|=n.lanes,!(r&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(ve(153));if(n.child!==null){for(e=n.child,r=oa(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=oa(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jD(e,n,r){switch(n.tag){case 3:$_(n),Dc();break;case 5:f_(n);break;case 1:Lr(n.type)&&Np(n);break;case 4:dw(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,s=n.memoizedProps.value;Xt(_p,o._currentValue),o._currentValue=s;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(Xt(pn,pn.current&1),n.flags|=128,null):r&n.child.childLanes?z_(e,n,r):(Xt(pn,pn.current&1),e=ni(e,n,r),e!==null?e.sibling:null);Xt(pn,pn.current&1);break;case 19:if(o=(r&n.childLanes)!==0,e.flags&128){if(o)return F_(e,n,r);n.flags|=128}if(s=n.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(pn,pn.current),o)break;return null;case 22:case 23:return n.lanes=0,D_(e,n,r)}return ni(e,n,r)}var U_,n0,B_,H_;U_=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};n0=function(){};B_=function(e,n,r,o){var s=e.memoizedProps;if(s!==o){e=n.stateNode,$a(xs.current);var i=null;switch(r){case"input":s=Ny(e,s),o=Ny(e,o),i=[];break;case"select":s=gn({},s,{value:void 0}),o=gn({},o,{value:void 0}),i=[];break;case"textarea":s=_y(e,s),o=_y(e,o),i=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Sp)}Ty(r,o);var a;r=null;for(d in s)if(!o.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Sd.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var u=o[d];if(l=s!=null?s[d]:void 0,o.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Sd.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&rn("scroll",e),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(n.updateQueue=d)&&(n.flags|=4)}};H_=function(e,n,r,o){r!==o&&(n.flags|=4)};function Nu(e,n){if(!fn)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function er(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function _D(e,n,r){var o=n.pendingProps;switch(ow(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(n),null;case 1:return Lr(n.type)&&kp(),er(n),null;case 3:return o=n.stateNode,$c(),an(Dr),an(ir),hw(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ah(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Bo!==null&&(u0(Bo),Bo=null))),n0(e,n),er(n),null;case 5:fw(n);var s=$a(Id.current);if(r=n.type,e!==null&&n.stateNode!=null)B_(e,n,r,o,s),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(ve(166));return er(n),null}if(e=$a(xs.current),ah(n)){o=n.stateNode,r=n.type;var i=n.memoizedProps;switch(o[ds]=n,o[Md]=i,e=(n.mode&1)!==0,r){case"dialog":rn("cancel",o),rn("close",o);break;case"iframe":case"object":case"embed":rn("load",o);break;case"video":case"audio":for(s=0;s<Gu.length;s++)rn(Gu[s],o);break;case"source":rn("error",o);break;case"img":case"image":case"link":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"input":W1(o,i),rn("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},rn("invalid",o);break;case"textarea":G1(o,i),rn("invalid",o)}Ty(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?o.textContent!==l&&(i.suppressHydrationWarning!==!0&&ih(o.textContent,l,e),s=["children",l]):typeof l=="number"&&o.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ih(o.textContent,l,e),s=["children",""+l]):Sd.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&rn("scroll",o)}switch(r){case"input":Jf(o),q1(o,i,!0);break;case"textarea":Jf(o),K1(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Sp)}o=s,n.updateQueue=o,o!==null&&(n.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=a.createElement(r,{is:o.is}):(e=a.createElement(r),r==="select"&&(a=e,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):e=a.createElementNS(e,r),e[ds]=n,e[Md]=o,U_(e,n,!1,!1),n.stateNode=e;e:{switch(a=Ay(r,o),r){case"dialog":rn("cancel",e),rn("close",e),s=o;break;case"iframe":case"object":case"embed":rn("load",e),s=o;break;case"video":case"audio":for(s=0;s<Gu.length;s++)rn(Gu[s],e);s=o;break;case"source":rn("error",e),s=o;break;case"img":case"image":case"link":rn("error",e),rn("load",e),s=o;break;case"details":rn("toggle",e),s=o;break;case"input":W1(e,o),s=Ny(e,o),rn("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=gn({},o,{value:void 0}),rn("invalid",e);break;case"textarea":G1(e,o),s=_y(e,o),rn("invalid",e);break;default:s=o}Ty(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?wj(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yj(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&kd(e,u):typeof u=="number"&&kd(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sd.hasOwnProperty(i)?u!=null&&i==="onScroll"&&rn("scroll",e):u!=null&&Hv(e,i,u,a))}switch(r){case"input":Jf(e),q1(e,o,!1);break;case"textarea":Jf(e),K1(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fa(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?lc(e,!!o.multiple,i,!1):o.defaultValue!=null&&lc(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Sp)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return er(n),null;case 6:if(e&&n.stateNode!=null)H_(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(ve(166));if(r=$a(Id.current),$a(xs.current),ah(n)){if(o=n.stateNode,r=n.memoizedProps,o[ds]=n,(i=o.nodeValue!==r)&&(e=to,e!==null))switch(e.tag){case 3:ih(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ih(o.nodeValue,r,(e.mode&1)!==0)}i&&(n.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[ds]=n,n.stateNode=o}return er(n),null;case 13:if(an(pn),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fn&&Jr!==null&&n.mode&1&&!(n.flags&128))a_(),Dc(),n.flags|=98560,i=!1;else if(i=ah(n),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[ds]=n}else Dc(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;er(n),i=!1}else Bo!==null&&(u0(Bo),Bo=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=r,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||pn.current&1?In===0&&(In=3):Cw())),n.updateQueue!==null&&(n.flags|=4),er(n),null);case 4:return $c(),n0(e,n),e===null&&Ad(n.stateNode.containerInfo),er(n),null;case 10:return lw(n.type._context),er(n),null;case 17:return Lr(n.type)&&kp(),er(n),null;case 19:if(an(pn),i=n.memoizedState,i===null)return er(n),null;if(o=(n.flags&128)!==0,a=i.rendering,a===null)if(o)Nu(i,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(a=Ap(e),a!==null){for(n.flags|=128,Nu(i,!1),o=a.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=r,r=n.child;r!==null;)i=r,e=o,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt(pn,pn.current&1|2),n.child}e=e.sibling}i.tail!==null&&kn()>Fc&&(n.flags|=128,o=!0,Nu(i,!1),n.lanes=4194304)}else{if(!o)if(e=Ap(a),e!==null){if(n.flags|=128,o=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Nu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fn)return er(n),null}else 2*kn()-i.renderingStartTime>Fc&&r!==1073741824&&(n.flags|=128,o=!0,Nu(i,!1),n.lanes=4194304);i.isBackwards?(a.sibling=n.child,n.child=a):(r=i.last,r!==null?r.sibling=a:n.child=a,i.last=a)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=kn(),n.sibling=null,r=pn.current,Xt(pn,o?r&1|2:r&1),n):(er(n),null);case 22:case 23:return Nw(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?Xr&1073741824&&(er(n),n.subtreeFlags&6&&(n.flags|=8192)):er(n),null;case 24:return null;case 25:return null}throw Error(ve(156,n.tag))}function ED(e,n){switch(ow(n),n.tag){case 1:return Lr(n.type)&&kp(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $c(),an(Dr),an(ir),hw(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return fw(n),null;case 13:if(an(pn),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(ve(340));Dc()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return an(pn),null;case 4:return $c(),null;case 10:return lw(n.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var uh=!1,or=!1,TD=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function rc(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){vn(e,n,o)}else r.current=null}function r0(e,n,r){try{r()}catch(o){vn(e,n,o)}}var LS=!1;function AD(e,n){if(Fy=vp,e=Kj(),nw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,d=0,h=0,f=e,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||o!==0&&f.nodeType!==3||(u=a+o),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===r&&++d===s&&(l=a),m===i&&++h===o&&(u=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uy={focusedElem:e,selectionRange:r},vp=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){n=Oe;try{var v=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=n.stateNode,w=x.getSnapshotBeforeUpdate(n.elementType===n.type?y:$o(n.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(k){vn(n,n.return,k)}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}return v=LS,LS=!1,v}function ud(e,n,r){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&r0(n,r,i)}s=s.next}while(s!==o)}}function Om(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==n)}}function o0(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function V_(e){var n=e.alternate;n!==null&&(e.alternate=null,V_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[ds],delete n[Md],delete n[Vy],delete n[fD],delete n[hD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W_(e){return e.tag===5||e.tag===3||e.tag===4}function $S(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s0(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Sp));else if(o!==4&&(e=e.child,e!==null))for(s0(e,n,r),e=e.sibling;e!==null;)s0(e,n,r),e=e.sibling}function i0(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(i0(e,n,r),e=e.sibling;e!==null;)i0(e,n,r),e=e.sibling}var Wn=null,Uo=!1;function wi(e,n,r){for(r=r.child;r!==null;)q_(e,n,r),r=r.sibling}function q_(e,n,r){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(_m,r)}catch{}switch(r.tag){case 5:or||rc(r,n);case 6:var o=Wn,s=Uo;Wn=null,wi(e,n,r),Wn=o,Uo=s,Wn!==null&&(Uo?(e=Wn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wn.removeChild(r.stateNode));break;case 18:Wn!==null&&(Uo?(e=Wn,r=r.stateNode,e.nodeType===8?ax(e.parentNode,r):e.nodeType===1&&ax(e,r),_d(e)):ax(Wn,r.stateNode));break;case 4:o=Wn,s=Uo,Wn=r.stateNode.containerInfo,Uo=!0,wi(e,n,r),Wn=o,Uo=s;break;case 0:case 11:case 14:case 15:if(!or&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&r0(r,n,a),s=s.next}while(s!==o)}wi(e,n,r);break;case 1:if(!or&&(rc(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(l){vn(r,n,l)}wi(e,n,r);break;case 21:wi(e,n,r);break;case 22:r.mode&1?(or=(o=or)||r.memoizedState!==null,wi(e,n,r),or=o):wi(e,n,r);break;default:wi(e,n,r)}}function zS(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new TD),n.forEach(function(o){var s=zD.bind(null,e,o);r.has(o)||(r.add(o),o.then(s,s))})}}function Io(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var s=r[o];try{var i=e,a=n,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wn=l.stateNode,Uo=!1;break e;case 3:Wn=l.stateNode.containerInfo,Uo=!0;break e;case 4:Wn=l.stateNode.containerInfo,Uo=!0;break e}l=l.return}if(Wn===null)throw Error(ve(160));q_(i,a,s),Wn=null,Uo=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){vn(s,n,d)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)G_(n,e),n=n.sibling}function G_(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Io(n,e),os(e),o&4){try{ud(3,e,e.return),Om(3,e)}catch(y){vn(e,e.return,y)}try{ud(5,e,e.return)}catch(y){vn(e,e.return,y)}}break;case 1:Io(n,e),os(e),o&512&&r!==null&&rc(r,r.return);break;case 5:if(Io(n,e),os(e),o&512&&r!==null&&rc(r,r.return),e.flags&32){var s=e.stateNode;try{kd(s,"")}catch(y){vn(e,e.return,y)}}if(o&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mj(s,i),Ay(l,a);var d=Ay(l,i);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];h==="style"?wj(s,f):h==="dangerouslySetInnerHTML"?yj(s,f):h==="children"?kd(s,f):Hv(s,h,f,d)}switch(l){case"input":Cy(s,i);break;case"textarea":gj(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?lc(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?lc(s,!!i.multiple,i.defaultValue,!0):lc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Md]=i}catch(y){vn(e,e.return,y)}}break;case 6:if(Io(n,e),os(e),o&4){if(e.stateNode===null)throw Error(ve(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){vn(e,e.return,y)}}break;case 3:if(Io(n,e),os(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{_d(n.containerInfo)}catch(y){vn(e,e.return,y)}break;case 4:Io(n,e),os(e);break;case 13:Io(n,e),os(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sw=kn())),o&4&&zS(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(or=(d=or)||h,Io(n,e),or=d):Io(n,e),os(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Oe=e,h=e.child;h!==null;){for(f=Oe=h;Oe!==null;){switch(m=Oe,p=m.child,m.tag){case 0:case 11:case 14:case 15:ud(4,m,m.return);break;case 1:rc(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){o=m,r=m.return;try{n=o,v.props=n.memoizedProps,v.state=n.memoizedState,v.componentWillUnmount()}catch(y){vn(o,r,y)}}break;case 5:rc(m,m.return);break;case 22:if(m.memoizedState!==null){US(f);continue}}p!==null?(p.return=m,Oe=p):US(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=vj("display",a))}catch(y){vn(e,e.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(y){vn(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Io(n,e),os(e),o&4&&zS(e);break;case 21:break;default:Io(n,e),os(e)}}function os(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(W_(r)){var o=r;break e}r=r.return}throw Error(ve(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(kd(s,""),o.flags&=-33);var i=$S(e);i0(e,i,s);break;case 3:case 4:var a=o.stateNode.containerInfo,l=$S(e);s0(e,l,a);break;default:throw Error(ve(161))}}catch(u){vn(e,e.return,u)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function PD(e,n,r){Oe=e,K_(e)}function K_(e,n,r){for(var o=(e.mode&1)!==0;Oe!==null;){var s=Oe,i=s.child;if(s.tag===22&&o){var a=s.memoizedState!==null||uh;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||or;l=uh;var d=or;if(uh=a,(or=u)&&!d)for(Oe=s;Oe!==null;)a=Oe,u=a.child,a.tag===22&&a.memoizedState!==null?BS(s):u!==null?(u.return=a,Oe=u):BS(s);for(;i!==null;)Oe=i,K_(i),i=i.sibling;Oe=s,uh=l,or=d}FS(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Oe=i):FS(e)}}function FS(e){for(;Oe!==null;){var n=Oe;if(n.flags&8772){var r=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:or||Om(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!or)if(r===null)o.componentDidMount();else{var s=n.elementType===n.type?r.memoizedProps:$o(n.type,r.memoizedProps);o.componentDidUpdate(s,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&NS(n,i,o);break;case 3:var a=n.updateQueue;if(a!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}NS(n,a,r)}break;case 5:var l=n.stateNode;if(r===null&&n.flags&4){r=l;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var d=n.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&_d(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}or||n.flags&512&&o0(n)}catch(m){vn(n,n.return,m)}}if(n===e){Oe=null;break}if(r=n.sibling,r!==null){r.return=n.return,Oe=r;break}Oe=n.return}}function US(e){for(;Oe!==null;){var n=Oe;if(n===e){Oe=null;break}var r=n.sibling;if(r!==null){r.return=n.return,Oe=r;break}Oe=n.return}}function BS(e){for(;Oe!==null;){var n=Oe;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Om(4,n)}catch(u){vn(n,r,u)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var s=n.return;try{o.componentDidMount()}catch(u){vn(n,s,u)}}var i=n.return;try{o0(n)}catch(u){vn(n,i,u)}break;case 5:var a=n.return;try{o0(n)}catch(u){vn(n,a,u)}}}catch(u){vn(n,n.return,u)}if(n===e){Oe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Oe=l;break}Oe=n.return}}var MD=Math.ceil,Rp=hi.ReactCurrentDispatcher,ww=hi.ReactCurrentOwner,Co=hi.ReactCurrentBatchConfig,Rt=0,Fn=null,Tn=null,Gn=0,Xr=0,oc=ba(0),In=0,$d=null,il=0,Dm=0,bw=0,dd=null,Rr=null,Sw=0,Fc=1/0,Fs=null,Ip=!1,a0=null,na=null,dh=!1,Yi=null,Op=0,fd=0,l0=null,Yh=-1,Xh=0;function vr(){return Rt&6?kn():Yh!==-1?Yh:Yh=kn()}function ra(e){return e.mode&1?Rt&2&&Gn!==0?Gn&-Gn:mD.transition!==null?(Xh===0&&(Xh=Mj()),Xh):(e=zt,e!==0||(e=window.event,e=e===void 0?16:zj(e.type)),e):1}function qo(e,n,r,o){if(50<fd)throw fd=0,l0=null,Error(ve(185));hf(e,r,o),(!(Rt&2)||e!==Fn)&&(e===Fn&&(!(Rt&2)&&(Dm|=r),In===4&&Di(e,Gn)),$r(e,o),r===1&&Rt===0&&!(n.mode&1)&&(Fc=kn()+500,Mm&&Sa()))}function $r(e,n){var r=e.callbackNode;mO(e,n);var o=yp(e,e===Fn?Gn:0);if(o===0)r!==null&&Q1(r),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(r!=null&&Q1(r),n===1)e.tag===0?pD(HS.bind(null,e)):o_(HS.bind(null,e)),uD(function(){!(Rt&6)&&Sa()}),r=null;else{switch(Rj(o)){case 1:r=Kv;break;case 4:r=Aj;break;case 16:r=xp;break;case 536870912:r=Pj;break;default:r=xp}r=nE(r,Y_.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function Y_(e,n){if(Yh=-1,Xh=0,Rt&6)throw Error(ve(327));var r=e.callbackNode;if(hc()&&e.callbackNode!==r)return null;var o=yp(e,e===Fn?Gn:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=Dp(e,o);else{n=o;var s=Rt;Rt|=2;var i=Q_();(Fn!==e||Gn!==n)&&(Fs=null,Fc=kn()+500,Qa(e,n));do try{OD();break}catch(l){X_(e,l)}while(!0);aw(),Rp.current=i,Rt=s,Tn!==null?n=0:(Fn=null,Gn=0,n=In)}if(n!==0){if(n===2&&(s=Oy(e),s!==0&&(o=s,n=c0(e,s))),n===1)throw r=$d,Qa(e,0),Di(e,o),$r(e,kn()),r;if(n===6)Di(e,o);else{if(s=e.current.alternate,!(o&30)&&!RD(s)&&(n=Dp(e,o),n===2&&(i=Oy(e),i!==0&&(o=i,n=c0(e,i))),n===1))throw r=$d,Qa(e,0),Di(e,o),$r(e,kn()),r;switch(e.finishedWork=s,e.finishedLanes=o,n){case 0:case 1:throw Error(ve(345));case 2:Pa(e,Rr,Fs);break;case 3:if(Di(e,o),(o&130023424)===o&&(n=Sw+500-kn(),10<n)){if(yp(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){vr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hy(Pa.bind(null,e,Rr,Fs),n);break}Pa(e,Rr,Fs);break;case 4:if(Di(e,o),(o&4194240)===o)break;for(n=e.eventTimes,s=-1;0<o;){var a=31-Wo(o);i=1<<a,a=n[a],a>s&&(s=a),o&=~i}if(o=s,o=kn()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*MD(o/1960))-o,10<o){e.timeoutHandle=Hy(Pa.bind(null,e,Rr,Fs),o);break}Pa(e,Rr,Fs);break;case 5:Pa(e,Rr,Fs);break;default:throw Error(ve(329))}}}return $r(e,kn()),e.callbackNode===r?Y_.bind(null,e):null}function c0(e,n){var r=dd;return e.current.memoizedState.isDehydrated&&(Qa(e,n).flags|=256),e=Dp(e,n),e!==2&&(n=Rr,Rr=r,n!==null&&u0(n)),e}function u0(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function RD(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var s=r[o],i=s.getSnapshot;s=s.value;try{if(!Xo(i(),s))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(e,n){for(n&=~bw,n&=~Dm,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Wo(n),o=1<<r;e[r]=-1,n&=~o}}function HS(e){if(Rt&6)throw Error(ve(327));hc();var n=yp(e,0);if(!(n&1))return $r(e,kn()),null;var r=Dp(e,n);if(e.tag!==0&&r===2){var o=Oy(e);o!==0&&(n=o,r=c0(e,o))}if(r===1)throw r=$d,Qa(e,0),Di(e,n),$r(e,kn()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Pa(e,Rr,Fs),$r(e,kn()),null}function kw(e,n){var r=Rt;Rt|=1;try{return e(n)}finally{Rt=r,Rt===0&&(Fc=kn()+500,Mm&&Sa())}}function al(e){Yi!==null&&Yi.tag===0&&!(Rt&6)&&hc();var n=Rt;Rt|=1;var r=Co.transition,o=zt;try{if(Co.transition=null,zt=1,e)return e()}finally{zt=o,Co.transition=r,Rt=n,!(Rt&6)&&Sa()}}function Nw(){Xr=oc.current,an(oc)}function Qa(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cD(r)),Tn!==null)for(r=Tn.return;r!==null;){var o=r;switch(ow(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&kp();break;case 3:$c(),an(Dr),an(ir),hw();break;case 5:fw(o);break;case 4:$c();break;case 13:an(pn);break;case 19:an(pn);break;case 10:lw(o.type._context);break;case 22:case 23:Nw()}r=r.return}if(Fn=e,Tn=e=oa(e.current,null),Gn=Xr=n,In=0,$d=null,bw=Dm=il=0,Rr=dd=null,La!==null){for(n=0;n<La.length;n++)if(r=La[n],o=r.interleaved,o!==null){r.interleaved=null;var s=o.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,o.next=a}r.pending=o}La=null}return e}function X_(e,n){do{var r=Tn;try{if(aw(),qh.current=Mp,Pp){for(var o=mn.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Pp=!1}if(sl=0,$n=Mn=mn=null,cd=!1,Od=0,ww.current=null,r===null||r.return===null){In=1,$d=n,Tn=null;break}e:{var i=e,a=r.return,l=r,u=n;if(n=Gn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=AS(a);if(p!==null){p.flags&=-257,PS(p,a,l,i,n),p.mode&1&&TS(i,d,n),n=p,u=d;var v=n.updateQueue;if(v===null){var y=new Set;y.add(u),n.updateQueue=y}else v.add(u);break e}else{if(!(n&1)){TS(i,d,n),Cw();break e}u=Error(ve(426))}}else if(fn&&l.mode&1){var b=AS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),PS(b,a,l,i,n),sw(zc(u,l));break e}}i=u=zc(u,l),In!==4&&(In=2),dd===null?dd=[i]:dd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var x=R_(i,u,n);kS(i,x);break e;case 1:l=u;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(na===null||!na.has(S)))){i.flags|=65536,n&=-n,i.lanes|=n;var k=I_(i,l,n);kS(i,k);break e}}i=i.return}while(i!==null)}Z_(r)}catch(C){n=C,Tn===r&&r!==null&&(Tn=r=r.return);continue}break}while(!0)}function Q_(){var e=Rp.current;return Rp.current=Mp,e===null?Mp:e}function Cw(){(In===0||In===3||In===2)&&(In=4),Fn===null||!(il&268435455)&&!(Dm&268435455)||Di(Fn,Gn)}function Dp(e,n){var r=Rt;Rt|=2;var o=Q_();(Fn!==e||Gn!==n)&&(Fs=null,Qa(e,n));do try{ID();break}catch(s){X_(e,s)}while(!0);if(aw(),Rt=r,Rp.current=o,Tn!==null)throw Error(ve(261));return Fn=null,Gn=0,In}function ID(){for(;Tn!==null;)J_(Tn)}function OD(){for(;Tn!==null&&!iO();)J_(Tn)}function J_(e){var n=tE(e.alternate,e,Xr);e.memoizedProps=e.pendingProps,n===null?Z_(e):Tn=n,ww.current=null}function Z_(e){var n=e;do{var r=n.alternate;if(e=n.return,n.flags&32768){if(r=ED(r,n),r!==null){r.flags&=32767,Tn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Tn=null;return}}else if(r=_D(r,n,Xr),r!==null){Tn=r;return}if(n=n.sibling,n!==null){Tn=n;return}Tn=n=e}while(n!==null);In===0&&(In=5)}function Pa(e,n,r){var o=zt,s=Co.transition;try{Co.transition=null,zt=1,DD(e,n,r,o)}finally{Co.transition=s,zt=o}return null}function DD(e,n,r,o){do hc();while(Yi!==null);if(Rt&6)throw Error(ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(gO(e,i),e===Fn&&(Tn=Fn=null,Gn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dh||(dh=!0,nE(xp,function(){return hc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Co.transition,Co.transition=null;var a=zt;zt=1;var l=Rt;Rt|=4,ww.current=null,AD(e,r),G_(r,e),nD(Uy),vp=!!Fy,Uy=Fy=null,e.current=r,PD(r),aO(),Rt=l,zt=a,Co.transition=i}else e.current=r;if(dh&&(dh=!1,Yi=e,Op=s),i=e.pendingLanes,i===0&&(na=null),uO(r.stateNode),$r(e,kn()),n!==null)for(o=e.onRecoverableError,r=0;r<n.length;r++)s=n[r],o(s.value,{componentStack:s.stack,digest:s.digest});if(Ip)throw Ip=!1,e=a0,a0=null,e;return Op&1&&e.tag!==0&&hc(),i=e.pendingLanes,i&1?e===l0?fd++:(fd=0,l0=e):fd=0,Sa(),null}function hc(){if(Yi!==null){var e=Rj(Op),n=Co.transition,r=zt;try{if(Co.transition=null,zt=16>e?16:e,Yi===null)var o=!1;else{if(e=Yi,Yi=null,Op=0,Rt&6)throw Error(ve(331));var s=Rt;for(Rt|=4,Oe=e.current;Oe!==null;){var i=Oe,a=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Oe=d;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:ud(8,h,i)}var f=h.child;if(f!==null)f.return=h,Oe=f;else for(;Oe!==null;){h=Oe;var m=h.sibling,p=h.return;if(V_(h),h===d){Oe=null;break}if(m!==null){m.return=p,Oe=m;break}Oe=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Oe=a;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ud(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Oe=x;break e}Oe=i.return}}var w=e.current;for(Oe=w;Oe!==null;){a=Oe;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Oe=S;else e:for(a=w;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Om(9,l)}}catch(C){vn(l,l.return,C)}if(l===a){Oe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Oe=k;break e}Oe=l.return}}if(Rt=s,Sa(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(_m,e)}catch{}o=!0}return o}finally{zt=r,Co.transition=n}}return!1}function VS(e,n,r){n=zc(r,n),n=R_(e,n,1),e=ta(e,n,1),n=vr(),e!==null&&(hf(e,1,n),$r(e,n))}function vn(e,n,r){if(e.tag===3)VS(e,e,r);else for(;n!==null;){if(n.tag===3){VS(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(na===null||!na.has(o))){e=zc(r,e),e=I_(n,e,1),n=ta(n,e,1),e=vr(),n!==null&&(hf(n,1,e),$r(n,e));break}}n=n.return}}function LD(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),n=vr(),e.pingedLanes|=e.suspendedLanes&r,Fn===e&&(Gn&r)===r&&(In===4||In===3&&(Gn&130023424)===Gn&&500>kn()-Sw?Qa(e,0):bw|=r),$r(e,n)}function eE(e,n){n===0&&(e.mode&1?(n=th,th<<=1,!(th&130023424)&&(th=4194304)):n=1);var r=vr();e=ti(e,n),e!==null&&(hf(e,n,r),$r(e,r))}function $D(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),eE(e,r)}function zD(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(ve(314))}o!==null&&o.delete(n),eE(e,r)}var tE;tE=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Dr.current)Ir=!0;else{if(!(e.lanes&r)&&!(n.flags&128))return Ir=!1,jD(e,n,r);Ir=!!(e.flags&131072)}else Ir=!1,fn&&n.flags&1048576&&s_(n,jp,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Kh(e,n),e=n.pendingProps;var s=Oc(n,ir.current);fc(n,r),s=mw(null,n,o,e,s,r);var i=gw();return n.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Lr(o)?(i=!0,Np(n)):i=!1,n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uw(n),s.updater=Im,n.stateNode=s,s._reactInternals=n,Xy(n,o,e,r),n=Zy(null,n,o,!0,i,r)):(n.tag=0,fn&&i&&rw(n),fr(null,n,s,r),n=n.child),n;case 16:o=n.elementType;e:{switch(Kh(e,n),e=n.pendingProps,s=o._init,o=s(o._payload),n.type=o,s=n.tag=UD(o),e=$o(o,e),s){case 0:n=Jy(null,n,o,e,r);break e;case 1:n=IS(null,n,o,e,r);break e;case 11:n=MS(null,n,o,e,r);break e;case 14:n=RS(null,n,o,$o(o.type,e),r);break e}throw Error(ve(306,o,""))}return n;case 0:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:$o(o,s),Jy(e,n,o,s,r);case 1:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:$o(o,s),IS(e,n,o,s,r);case 3:e:{if($_(n),e===null)throw Error(ve(387));o=n.pendingProps,i=n.memoizedState,s=i.element,d_(e,n),Tp(n,o,null,r);var a=n.memoizedState;if(o=a.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){s=zc(Error(ve(423)),n),n=OS(e,n,o,r,s);break e}else if(o!==s){s=zc(Error(ve(424)),n),n=OS(e,n,o,r,s);break e}else for(Jr=ea(n.stateNode.containerInfo.firstChild),to=n,fn=!0,Bo=null,r=c_(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dc(),o===s){n=ni(e,n,r);break e}fr(e,n,o,r)}n=n.child}return n;case 5:return f_(n),e===null&&Gy(n),o=n.type,s=n.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,By(o,s)?a=null:i!==null&&By(o,i)&&(n.flags|=32),L_(e,n),fr(e,n,a,r),n.child;case 6:return e===null&&Gy(n),null;case 13:return z_(e,n,r);case 4:return dw(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lc(n,null,o,r):fr(e,n,o,r),n.child;case 11:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:$o(o,s),MS(e,n,o,s,r);case 7:return fr(e,n,n.pendingProps,r),n.child;case 8:return fr(e,n,n.pendingProps.children,r),n.child;case 12:return fr(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(o=n.type._context,s=n.pendingProps,i=n.memoizedProps,a=s.value,Xt(_p,o._currentValue),o._currentValue=a,i!==null)if(Xo(i.value,a)){if(i.children===s.children&&!Dr.current){n=ni(e,n,r);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===o){if(i.tag===1){u=Ys(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ky(i.return,r,n),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===n.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ve(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ky(a,r,n),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===n){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}fr(e,n,s.children,r),n=n.child}return n;case 9:return s=n.type,o=n.pendingProps.children,fc(n,r),s=Eo(s),o=o(s),n.flags|=1,fr(e,n,o,r),n.child;case 14:return o=n.type,s=$o(o,n.pendingProps),s=$o(o.type,s),RS(e,n,o,s,r);case 15:return O_(e,n,n.type,n.pendingProps,r);case 17:return o=n.type,s=n.pendingProps,s=n.elementType===o?s:$o(o,s),Kh(e,n),n.tag=1,Lr(o)?(e=!0,Np(n)):e=!1,fc(n,r),M_(n,o,s),Xy(n,o,s,r),Zy(null,n,o,!0,e,r);case 19:return F_(e,n,r);case 22:return D_(e,n,r)}throw Error(ve(156,n.tag))};function nE(e,n){return Tj(e,n)}function FD(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(e,n,r,o){return new FD(e,n,r,o)}function jw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UD(e){if(typeof e=="function")return jw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wv)return 11;if(e===qv)return 14}return 2}function oa(e,n){var r=e.alternate;return r===null?(r=ko(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qh(e,n,r,o,s,i){var a=2;if(o=e,typeof e=="function")jw(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kl:return Ja(r.children,s,i,n);case Vv:a=8,s|=8;break;case wy:return e=ko(12,r,n,s|2),e.elementType=wy,e.lanes=i,e;case by:return e=ko(13,r,n,s),e.elementType=by,e.lanes=i,e;case Sy:return e=ko(19,r,n,s),e.elementType=Sy,e.lanes=i,e;case fj:return Lm(r,s,i,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uj:a=10;break e;case dj:a=9;break e;case Wv:a=11;break e;case qv:a=14;break e;case Pi:a=16,o=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return n=ko(a,r,n,s),n.elementType=e,n.type=o,n.lanes=i,n}function Ja(e,n,r,o){return e=ko(7,e,o,n),e.lanes=r,e}function Lm(e,n,r,o){return e=ko(22,e,o,n),e.elementType=fj,e.lanes=r,e.stateNode={isHidden:!1},e}function mx(e,n,r){return e=ko(6,e,null,n),e.lanes=r,e}function gx(e,n,r){return n=ko(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function BD(e,n,r,o,s){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xg(0),this.expirationTimes=Xg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xg(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _w(e,n,r,o,s,i,a,l,u){return e=new BD(e,n,r,l,u),n===1?(n=1,i===!0&&(n|=8)):n=0,i=ko(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uw(i),e}function HD(e,n,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:o==null?null:""+o,children:e,containerInfo:n,implementation:r}}function rE(e){if(!e)return ha;e=e._reactInternals;e:{if(bl(e)!==e||e.tag!==1)throw Error(ve(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Lr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Lr(r))return r_(e,r,n)}return n}function oE(e,n,r,o,s,i,a,l,u){return e=_w(r,o,!0,e,s,i,a,l,u),e.context=rE(null),r=e.current,o=vr(),s=ra(r),i=Ys(o,s),i.callback=n??null,ta(r,i,s),e.current.lanes=s,hf(e,s,o),$r(e,o),e}function $m(e,n,r,o){var s=n.current,i=vr(),a=ra(s);return r=rE(r),n.context===null?n.context=r:n.pendingContext=r,n=Ys(i,a),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=ta(s,n,a),e!==null&&(qo(e,s,a,i),Wh(e,s,a)),a}function Lp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WS(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ew(e,n){WS(e,n),(e=e.alternate)&&WS(e,n)}function VD(){return null}var sE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tw(e){this._internalRoot=e}zm.prototype.render=Tw.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(ve(409));$m(e,n,null,null)};zm.prototype.unmount=Tw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;al(function(){$m(null,e,null,null)}),n[ei]=null}};function zm(e){this._internalRoot=e}zm.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dj();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Oi.length&&n!==0&&n<Oi[r].priority;r++);Oi.splice(r,0,e),r===0&&$j(e)}};function Aw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qS(){}function WD(e,n,r,o,s){if(s){if(typeof o=="function"){var i=o;o=function(){var d=Lp(a);i.call(d)}}var a=oE(n,o,e,0,null,!1,!1,"",qS);return e._reactRootContainer=a,e[ei]=a.current,Ad(e.nodeType===8?e.parentNode:e),al(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var l=o;o=function(){var d=Lp(u);l.call(d)}}var u=_w(e,0,!1,null,null,!1,!1,"",qS);return e._reactRootContainer=u,e[ei]=u.current,Ad(e.nodeType===8?e.parentNode:e),al(function(){$m(n,u,r,o)}),u}function Um(e,n,r,o,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Lp(a);l.call(u)}}$m(n,a,e,s)}else a=WD(r,n,e,s,o);return Lp(a)}Ij=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=qu(n.pendingLanes);r!==0&&(Yv(n,r|1),$r(n,kn()),!(Rt&6)&&(Fc=kn()+500,Sa()))}break;case 13:al(function(){var o=ti(e,1);if(o!==null){var s=vr();qo(o,e,1,s)}}),Ew(e,1)}};Xv=function(e){if(e.tag===13){var n=ti(e,134217728);if(n!==null){var r=vr();qo(n,e,134217728,r)}Ew(e,134217728)}};Oj=function(e){if(e.tag===13){var n=ra(e),r=ti(e,n);if(r!==null){var o=vr();qo(r,e,n,o)}Ew(e,n)}};Dj=function(){return zt};Lj=function(e,n){var r=zt;try{return zt=e,n()}finally{zt=r}};My=function(e,n,r){switch(n){case"input":if(Cy(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var s=Pm(o);if(!s)throw Error(ve(90));pj(o),Cy(o,s)}}}break;case"textarea":gj(e,r);break;case"select":n=r.value,n!=null&&lc(e,!!r.multiple,n,!1)}};kj=kw;Nj=al;var qD={usingClientEntryPoint:!1,Events:[mf,Jl,Pm,bj,Sj,kw]},Cu={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GD={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_j(e),e===null?null:e.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||VD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{_m=fh.inject(GD),gs=fh}catch{}}io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;io.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aw(n))throw Error(ve(200));return HD(e,n,null,r)};io.createRoot=function(e,n){if(!Aw(e))throw Error(ve(299));var r=!1,o="",s=sE;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),n=_w(e,1,!1,null,null,r,!1,o,s),e[ei]=n.current,Ad(e.nodeType===8?e.parentNode:e),new Tw(n)};io.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=_j(n),e=e===null?null:e.stateNode,e};io.flushSync=function(e){return al(e)};io.hydrate=function(e,n,r){if(!Fm(n))throw Error(ve(200));return Um(null,e,n,!0,r)};io.hydrateRoot=function(e,n,r){if(!Aw(e))throw Error(ve(405));var o=r!=null&&r.hydratedSources||null,s=!1,i="",a=sE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),n=oE(n,null,e,1,r??null,s,!1,i,a),e[ei]=n.current,Ad(e),o)for(e=0;e<o.length;e++)r=o[e],s=r._getVersion,s=s(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,s]:n.mutableSourceEagerHydrationData.push(r,s);return new zm(n)};io.render=function(e,n,r){if(!Fm(n))throw Error(ve(200));return Um(null,e,n,!1,r)};io.unmountComponentAtNode=function(e){if(!Fm(e))throw Error(ve(40));return e._reactRootContainer?(al(function(){Um(null,null,e,!1,function(){e._reactRootContainer=null,e[ei]=null})}),!0):!1};io.unstable_batchedUpdates=kw;io.unstable_renderSubtreeIntoContainer=function(e,n,r,o){if(!Fm(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Um(e,n,r,!1,o)};io.version="18.3.1-next-f1338f8080-20240426";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(e){console.error(e)}}iE(),ij.exports=io;var Sl=ij.exports;const aE=Zc(Sl);var lE,GS=Sl;lE=GS.createRoot,GS.hydrateRoot;const KD=1,YD=1e6;let xx=0;function XD(){return xx=(xx+1)%Number.MAX_SAFE_INTEGER,xx.toString()}const yx=new Map,KS=e=>{if(yx.has(e))return;const n=setTimeout(()=>{yx.delete(e),hd({type:"REMOVE_TOAST",toastId:e})},YD);yx.set(e,n)},QD=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,KD)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?KS(r):e.toasts.forEach(o=>{KS(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==n.toastId)}}},Jh=[];let Zh={toasts:[]};function hd(e){Zh=QD(Zh,e),Jh.forEach(n=>{n(Zh)})}function d0({...e}){const n=XD(),r=s=>hd({type:"UPDATE_TOAST",toast:{...s,id:n}}),o=()=>hd({type:"DISMISS_TOAST",toastId:n});return hd({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:s=>{s||o()}}}),{id:n,dismiss:o,update:r}}function xf(){const[e,n]=g.useState(Zh);return g.useEffect(()=>(Jh.push(n),()=>{const r=Jh.indexOf(n);r>-1&&Jh.splice(r,1)}),[e]),{...e,toast:d0,dismiss:r=>hd({type:"DISMISS_TOAST",toastId:r})}}function Ne(e,n,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function YS(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Bm(...e){return n=>{let r=!1;const o=e.map(s=>{const i=YS(s,n);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<o.length;s++){const i=o[s];typeof i=="function"?i():YS(e[s],null)}}}}function ft(...e){return g.useCallback(Bm(...e),e)}function JD(e,n){const r=g.createContext(n),o=i=>{const{children:a,...l}=i,u=g.useMemo(()=>l,Object.values(l));return c.jsx(r.Provider,{value:u,children:a})};o.displayName=e+"Provider";function s(i){const a=g.useContext(r);if(a)return a;if(n!==void 0)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[o,s]}function Fr(e,n=[]){let r=[];function o(i,a){const l=g.createContext(a),u=r.length;r=[...r,a];const d=f=>{var x;const{scope:m,children:p,...v}=f,y=((x=m==null?void 0:m[e])==null?void 0:x[u])||l,b=g.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:b,children:p})};d.displayName=i+"Provider";function h(f,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[u])||l,v=g.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(l){const u=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[o,ZD(s,...n)]}function ZD(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=o.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${n.scopeName}`]:a}),[a])}};return r.scopeName=n.scopeName,r}function ll(e){const n=tL(e),r=g.forwardRef((o,s)=>{const{children:i,...a}=o,l=g.Children.toArray(i),u=l.find(rL);if(u){const d=u.props.children,h=l.map(f=>f===u?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return c.jsx(n,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return c.jsx(n,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var eL=ll("Slot");function tL(e){const n=g.forwardRef((r,o)=>{const{children:s,...i}=r;if(g.isValidElement(s)){const a=sL(s),l=oL(i,s.props);return s.type!==g.Fragment&&(l.ref=o?Bm(o,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var cE=Symbol("radix.slottable");function nL(e){const n=({children:r})=>c.jsx(c.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=cE,n}function rL(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cE}function oL(e,n){const r={...n};for(const o in n){const s=e[o],i=n[o];/^on[A-Z]/.test(o)?s&&i?r[o]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(r[o]=s):o==="style"?r[o]={...s,...i}:o==="className"&&(r[o]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sL(e){var o,s;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Hm(e){const n=e+"CollectionProvider",[r,o]=Fr(n),[s,i]=r(n,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:x}=y,w=B.useRef(null),S=B.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:S,collectionRef:w,children:x})};a.displayName=n;const l=e+"CollectionSlot",u=ll(l),d=B.forwardRef((y,b)=>{const{scope:x,children:w}=y,S=i(l,x),k=ft(b,S.collectionRef);return c.jsx(u,{ref:k,children:w})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=ll(h),p=B.forwardRef((y,b)=>{const{scope:x,children:w,...S}=y,k=B.useRef(null),C=ft(b,k),N=i(h,x);return B.useEffect(()=>(N.itemMap.set(k,{ref:k,...S}),()=>void N.itemMap.delete(k))),c.jsx(m,{[f]:"",ref:C,children:w})});p.displayName=h;function v(y){const b=i(e+"CollectionConsumer",y);return B.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,j)=>S.indexOf(N.ref.current)-S.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:d,ItemSlot:p},v,o]}var iL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=iL.reduce((e,n)=>{const r=ll(`Primitive.${n}`),o=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,u=a?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...l,ref:i})});return o.displayName=`Primitive.${n}`,{...e,[n]:o}},{});function Pw(e,n){e&&Sl.flushSync(()=>e.dispatchEvent(n))}function Nn(e){const n=g.useRef(e);return g.useEffect(()=>{n.current=e}),g.useMemo(()=>(...r)=>{var o;return(o=n.current)==null?void 0:o.call(n,...r)},[])}function aL(e,n=globalThis==null?void 0:globalThis.document){const r=Nn(e);g.useEffect(()=>{const o=s=>{s.key==="Escape"&&r(s)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[r,n])}var lL="DismissableLayer",f0="dismissableLayer.update",cL="dismissableLayer.pointerDownOutside",uL="dismissableLayer.focusOutside",XS,uE=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ru=g.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...u}=e,d=g.useContext(uE),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=ft(n,j=>f(j)),y=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),w=h?y.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,k=w>=x,C=fL(j=>{const P=j.target,E=[...d.branches].some(_=>_.contains(P));!k||E||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},m),N=hL(j=>{const P=j.target;[...d.branches].some(_=>_.contains(P))||(i==null||i(j),a==null||a(j),j.defaultPrevented||l==null||l())},m);return aL(j=>{w===d.layers.size-1&&(o==null||o(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(XS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),QS(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=XS)}},[h,m,r,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),QS())},[h,d]),g.useEffect(()=>{const j=()=>p({});return document.addEventListener(f0,j),()=>document.removeEventListener(f0,j)},[]),c.jsx(Ue.div,{...u,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,C.onPointerDownCapture)})});ru.displayName=lL;var dL="DismissableLayerBranch",dE=g.forwardRef((e,n)=>{const r=g.useContext(uE),o=g.useRef(null),s=ft(n,o);return g.useEffect(()=>{const i=o.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Ue.div,{...e,ref:s})});dE.displayName=dL;function fL(e,n=globalThis==null?void 0:globalThis.document){const r=Nn(e),o=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!o.current){let u=function(){fE(cL,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(n.removeEventListener("click",s.current),s.current=u,n.addEventListener("click",s.current,{once:!0})):u()}else n.removeEventListener("click",s.current);o.current=!1},a=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),n.removeEventListener("pointerdown",i),n.removeEventListener("click",s.current)}},[n,r]),{onPointerDownCapture:()=>o.current=!0}}function hL(e,n=globalThis==null?void 0:globalThis.document){const r=Nn(e),o=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!o.current&&fE(uL,r,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",s),()=>n.removeEventListener("focusin",s)},[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function QS(){const e=new CustomEvent(f0);document.dispatchEvent(e)}function fE(e,n,r,{discrete:o}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),o?Pw(s,i):s.dispatchEvent(i)}var pL=ru,mL=dE,Bn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},gL="Portal",yf=g.forwardRef((e,n)=>{var l;const{container:r,...o}=e,[s,i]=g.useState(!1);Bn(()=>i(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?aE.createPortal(c.jsx(Ue.div,{...o,ref:n}),a):null});yf.displayName=gL;function xL(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var ar=e=>{const{present:n,children:r}=e,o=yL(n),s=typeof r=="function"?r({present:o.isPresent}):g.Children.only(r),i=ft(o.ref,vL(s));return typeof r=="function"||o.isPresent?g.cloneElement(s,{ref:i}):null};ar.displayName="Presence";function yL(e){const[n,r]=g.useState(),o=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[l,u]=xL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=hh(o.current);i.current=l==="mounted"?d:"none"},[l]),Bn(()=>{const d=o.current,h=s.current;if(h!==e){const m=i.current,p=hh(d);e?u("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Bn(()=>{if(n){let d;const h=n.ownerDocument.defaultView??window,f=p=>{const y=hh(o.current).includes(p.animationName);if(p.target===n&&y&&(u("ANIMATION_END"),!s.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",d=h.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},m=p=>{p.target===n&&(i.current=hh(o.current))};return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",f),n.addEventListener("animationend",f),()=>{h.clearTimeout(d),n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",f),n.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{o.current=d?getComputedStyle(d):null,r(d)},[])}}function hh(e){return(e==null?void 0:e.animationName)||"none"}function vL(e){var o,s;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wL=Fv[" useInsertionEffect ".trim().toString()]||Bn;function Ss({prop:e,defaultProp:n,onChange:r=()=>{},caller:o}){const[s,i,a]=bL({defaultProp:n,onChange:r}),l=e!==void 0,u=l?e:s;{const h=g.useRef(e!==void 0);g.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${o} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,o])}const d=g.useCallback(h=>{var f;if(l){const m=SL(h)?h(e):h;m!==e&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,e,i,a]);return[u,d]}function bL({defaultProp:e,onChange:n}){const[r,o]=g.useState(e),s=g.useRef(r),i=g.useRef(n);return wL(()=>{i.current=n},[n]),g.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,o,i]}function SL(e){return typeof e=="function"}var hE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kL="VisuallyHidden",Vm=g.forwardRef((e,n)=>c.jsx(Ue.span,{...e,ref:n,style:{...hE,...e.style}}));Vm.displayName=kL;var NL=Vm,Mw="ToastProvider",[Rw,CL,jL]=Hm("Toast"),[pE,kce]=Fr("Toast",[jL]),[_L,Wm]=pE(Mw),mE=e=>{const{__scopeToast:n,label:r="Notification",duration:o=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,u]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mw}\`. Expected non-empty \`string\`.`),c.jsx(Rw.Provider,{scope:n,children:c.jsx(_L,{scope:n,label:r,duration:o,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:g.useCallback(()=>h(p=>p+1),[]),onToastRemove:g.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};mE.displayName=Mw;var gE="ToastViewport",EL=["F8"],h0="toast.viewportPause",p0="toast.viewportResume",xE=g.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:o=EL,label:s="Notifications ({hotkey})",...i}=e,a=Wm(gE,r),l=CL(r),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),m=ft(n,f,a.onViewportChange),p=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;g.useEffect(()=>{const b=x=>{var S;o.length!==0&&o.every(k=>x[k]||x.code===k)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[o]),g.useEffect(()=>{const b=u.current,x=f.current;if(v&&b&&x){const w=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(h0);x.dispatchEvent(N),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(p0);x.dispatchEvent(N),a.isClosePausedRef.current=!1}},k=N=>{!b.contains(N.relatedTarget)&&S()},C=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",k),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",k),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,a.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:b})=>{const w=l().map(S=>{const k=S.ref.current,C=[k,...UL(k)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return g.useEffect(()=>{const b=f.current;if(b){const x=w=>{var C,N,j;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const P=document.activeElement,E=w.shiftKey;if(w.target===b&&E){(C=d.current)==null||C.focus();return}const O=y({tabbingDirection:E?"backwards":"forwards"}),U=O.findIndex(T=>T===P);vx(O.slice(U+1))?w.preventDefault():E?(N=d.current)==null||N.focus():(j=h.current)==null||j.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,y]),c.jsxs(mL,{ref:u,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(m0,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});vx(b)}}),c.jsx(Rw.Slot,{scope:r,children:c.jsx(Ue.ol,{tabIndex:-1,...i,ref:m})}),v&&c.jsx(m0,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});vx(b)}})]})});xE.displayName=gE;var yE="ToastFocusProxy",m0=g.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...s}=e,i=Wm(yE,r);return c.jsx(Vm,{"aria-hidden":!0,tabIndex:0,...s,ref:n,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&o()}})});m0.displayName=yE;var vf="Toast",TL="toast.swipeStart",AL="toast.swipeMove",PL="toast.swipeCancel",ML="toast.swipeEnd",vE=g.forwardRef((e,n)=>{const{forceMount:r,open:o,defaultOpen:s,onOpenChange:i,...a}=e,[l,u]=Ss({prop:o,defaultProp:s??!0,onChange:i,caller:vf});return c.jsx(ar,{present:r||l,children:c.jsx(OL,{open:l,...a,ref:n,onClose:()=>u(!1),onPause:Nn(e.onPause),onResume:Nn(e.onResume),onSwipeStart:Ne(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});vE.displayName=vf;var[RL,IL]=pE(vf,{onClose(){}}),OL=g.forwardRef((e,n)=>{const{__scopeToast:r,type:o="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...v}=e,y=Wm(vf,r),[b,x]=g.useState(null),w=ft(n,T=>x(T)),S=g.useRef(null),k=g.useRef(null),C=s||y.duration,N=g.useRef(0),j=g.useRef(C),P=g.useRef(0),{onToastAdd:E,onToastRemove:_}=y,I=Nn(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=y.viewport)==null||z.focus()),a()}),O=g.useCallback(T=>{!T||T===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(I,T))},[I]);g.useEffect(()=>{const T=y.viewport;if(T){const z=()=>{O(j.current),d==null||d()},L=()=>{const H=new Date().getTime()-N.current;j.current=j.current-H,window.clearTimeout(P.current),u==null||u()};return T.addEventListener(h0,L),T.addEventListener(p0,z),()=>{T.removeEventListener(h0,L),T.removeEventListener(p0,z)}}},[y.viewport,C,u,d,O]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(C)},[i,C,y.isClosePausedRef,O]),g.useEffect(()=>(E(),()=>_()),[E,_]);const U=g.useMemo(()=>b?jE(b):null,[b]);return y.viewport?c.jsxs(c.Fragment,{children:[U&&c.jsx(DL,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),c.jsx(RL,{scope:r,onClose:I,children:Sl.createPortal(c.jsx(Rw.ItemSlot,{scope:r,children:c.jsx(pL,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ne(e.onPointerDown,T=>{T.button===0&&(S.current={x:T.clientX,y:T.clientY})}),onPointerMove:Ne(e.onPointerMove,T=>{if(!S.current)return;const z=T.clientX-S.current.x,L=T.clientY-S.current.y,H=!!k.current,F=["left","right"].includes(y.swipeDirection),R=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,A=F?R(0,z):0,D=F?0:R(0,L),$=T.pointerType==="touch"?10:2,M={x:A,y:D},Y={originalEvent:T,delta:M};H?(k.current=M,ph(AL,f,Y,{discrete:!1})):JS(M,y.swipeDirection,$)?(k.current=M,ph(TL,h,Y,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(z)>$||Math.abs(L)>$)&&(S.current=null)}),onPointerUp:Ne(e.onPointerUp,T=>{const z=k.current,L=T.target;if(L.hasPointerCapture(T.pointerId)&&L.releasePointerCapture(T.pointerId),k.current=null,S.current=null,z){const H=T.currentTarget,F={originalEvent:T,delta:z};JS(z,y.swipeDirection,y.swipeThreshold)?ph(ML,p,F,{discrete:!0}):ph(PL,m,F,{discrete:!0}),H.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),DL=e=>{const{__scopeToast:n,children:r,...o}=e,s=Wm(vf,n),[i,a]=g.useState(!1),[l,u]=g.useState(!1);return zL(()=>a(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:c.jsx(yf,{asChild:!0,children:c.jsx(Vm,{...o,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},LL="ToastTitle",wE=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return c.jsx(Ue.div,{...o,ref:n})});wE.displayName=LL;var $L="ToastDescription",bE=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e;return c.jsx(Ue.div,{...o,ref:n})});bE.displayName=$L;var SE="ToastAction",kE=g.forwardRef((e,n)=>{const{altText:r,...o}=e;return r.trim()?c.jsx(CE,{altText:r,asChild:!0,children:c.jsx(Iw,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${SE}\`. Expected non-empty \`string\`.`),null)});kE.displayName=SE;var NE="ToastClose",Iw=g.forwardRef((e,n)=>{const{__scopeToast:r,...o}=e,s=IL(NE,r);return c.jsx(CE,{asChild:!0,children:c.jsx(Ue.button,{type:"button",...o,ref:n,onClick:Ne(e.onClick,s.onClose)})})});Iw.displayName=NE;var CE=g.forwardRef((e,n)=>{const{__scopeToast:r,altText:o,...s}=e;return c.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...s,ref:n})});function jE(e){const n=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),FL(o)){const s=o.ariaHidden||o.hidden||o.style.display==="none",i=o.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=o.dataset.radixToastAnnounceAlt;a&&n.push(a)}else n.push(...jE(o))}}),n}function ph(e,n,r,{discrete:o}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&s.addEventListener(e,n,{once:!0}),o?Pw(s,i):s.dispatchEvent(i)}var JS=(e,n,r=0)=>{const o=Math.abs(e.x),s=Math.abs(e.y),i=o>s;return n==="left"||n==="right"?i&&o>r:!i&&s>r};function zL(e=()=>{}){const n=Nn(e);Bn(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[n])}function FL(e){return e.nodeType===e.ELEMENT_NODE}function UL(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function vx(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var BL=mE,_E=xE,EE=vE,TE=wE,AE=bE,PE=kE,ME=Iw;function RE(e){var n,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(n=0;n<s;n++)e[n]&&(r=RE(e[n]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function IE(){for(var e,n,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(n=RE(e))&&(o&&(o+=" "),o+=n);return o}const ZS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ek=IE,ou=(e,n)=>r=>{var o;if((n==null?void 0:n.variants)==null)return ek(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=n,a=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],f=i==null?void 0:i[d];if(h===null)return null;const m=ZS(h)||ZS(f);return s[d][m]}),l=r&&Object.entries(r).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),u=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((d,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...l}[y]):{...i,...l}[y]===b})?[...d,f,m]:d},[]);return ek(e,a,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OE=(...e)=>e.filter((n,r,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=g.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:s="",children:i,iconNode:a,...l},u)=>g.createElement("svg",{ref:u,...VL,width:n,height:n,stroke:e,strokeWidth:o?Number(r)*24/Number(n):r,className:OE("lucide",s),...l},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,n)=>{const r=g.forwardRef(({className:o,...s},i)=>g.createElement(WL,{ref:i,iconNode:n,className:OE(`lucide-${HL(e)}`,o),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=we("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=we("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=we("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=we("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=we("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=we("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=we("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=we("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=we("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=we("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=we("FolderCog",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"M10.3 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v3.3",key:"1k8050"}],["path",{d:"m21.7 19.4-.9-.3",key:"1qgwi9"}],["path",{d:"m15.2 16.9-.9-.3",key:"1t7mvx"}],["path",{d:"m16.6 21.7.3-.9",key:"1j67ps"}],["path",{d:"m19.1 15.2.3-.9",key:"18r7jp"}],["path",{d:"m19.6 21.7-.4-1",key:"z2vh2"}],["path",{d:"m16.8 15.3-.4-1",key:"1ei7r6"}],["path",{d:"m14.3 19.6 1-.4",key:"11sv9r"}],["path",{d:"m20.7 16.8 1-.4",key:"19m87a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=we("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=we("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=we("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=we("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=we("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=we("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=we("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=we("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=we("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=we("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=we("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=we("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=we("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=we("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=we("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=we("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=we("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=we("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=we("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=we("Unplug",[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=we("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=we("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=we("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Bw="-",O$=e=>{const n=L$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:a=>{const l=a.split(Bw);return l[0]===""&&l.length!==1&&l.shift(),eT(l,n)||D$(a)},getConflictingClassGroupIds:(a,l)=>{const u=r[a]||[];return l&&o[a]?[...u,...o[a]]:u}}},eT=(e,n)=>{var a;if(e.length===0)return n.classGroupId;const r=e[0],o=n.nextPart.get(r),s=o?eT(e.slice(1),o):void 0;if(s)return s;if(n.validators.length===0)return;const i=e.join(Bw);return(a=n.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},sk=/^\[(.+)\]$/,D$=e=>{if(sk.test(e)){const n=sk.exec(e)[1],r=n==null?void 0:n.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},L$=e=>{const{theme:n,prefix:r}=e,o={nextPart:new Map,validators:[]};return z$(Object.entries(e.classGroups),r).forEach(([i,a])=>{g0(a,o,i,n)}),o},g0=(e,n,r,o)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?n:ik(n,s);i.classGroupId=r;return}if(typeof s=="function"){if($$(s)){g0(s(o),n,r,o);return}n.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{g0(a,ik(n,i),r,o)})})},ik=(e,n)=>{let r=e;return n.split(Bw).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},$$=e=>e.isThemeGetter,z$=(e,n)=>n?e.map(([r,o])=>{const s=o.map(i=>typeof i=="string"?n+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[n+a,l])):i);return[r,s]}):e,F$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,o=new Map;const s=(i,a)=>{r.set(i,a),n++,n>e&&(n=0,o=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=o.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},tT="!",U$=e=>{const{separator:n,experimentalParseClassName:r}=e,o=n.length===1,s=n[0],i=n.length,a=l=>{const u=[];let d=0,h=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(d===0){if(x===s&&(o||l.slice(b,b+i)===n)){u.push(l.slice(h,b)),h=b+i;continue}if(x==="/"){f=b;continue}}x==="["?d++:x==="]"&&d--}const m=u.length===0?l:l.substring(h),p=m.startsWith(tT),v=p?m.substring(1):m,y=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:a}):a},B$=e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(o=>{o[0]==="["?(n.push(...r.sort(),o),r=[]):r.push(o)}),n.push(...r.sort()),n},H$=e=>({cache:F$(e.cacheSize),parseClassName:U$(e),...O$(e)}),V$=/\s+/,W$=(e,n)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:s}=n,i=[],a=e.trim().split(V$);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let v=!!p,y=o(v?m.substring(0,p):m);if(!y){if(!v){l=d+(l.length>0?" "+l:l);continue}if(y=o(m),!y){l=d+(l.length>0?" "+l:l);continue}v=!1}const b=B$(h).join(":"),x=f?b+tT:b,w=x+y;if(i.includes(w))continue;i.push(w);const S=s(y,v);for(let k=0;k<S.length;++k){const C=S[k];i.push(x+C)}l=d+(l.length>0?" "+l:l)}return l};function q$(){let e=0,n,r,o="";for(;e<arguments.length;)(n=arguments[e++])&&(r=nT(n))&&(o&&(o+=" "),o+=r);return o}const nT=e=>{if(typeof e=="string")return e;let n,r="";for(let o=0;o<e.length;o++)e[o]&&(n=nT(e[o]))&&(r&&(r+=" "),r+=n);return r};function G$(e,...n){let r,o,s,i=a;function a(u){const d=n.reduce((h,f)=>f(h),e());return r=H$(d),o=r.cache.get,s=r.cache.set,i=l,l(u)}function l(u){const d=o(u);if(d)return d;const h=W$(u,r);return s(u,h),h}return function(){return i(q$.apply(null,arguments))}}const nn=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},rT=/^\[(?:([a-z-]+):)?(.+)\]$/i,K$=/^\d+\/\d+$/,Y$=new Set(["px","full","screen"]),X$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=e=>pc(e)||Y$.has(e)||K$.test(e),bi=e=>su(e,"length",l6),pc=e=>!!e&&!Number.isNaN(Number(e)),kx=e=>su(e,"number",pc),ju=e=>!!e&&Number.isInteger(Number(e)),t6=e=>e.endsWith("%")&&pc(e.slice(0,-1)),ut=e=>rT.test(e),Si=e=>X$.test(e),n6=new Set(["length","size","percentage"]),r6=e=>su(e,n6,oT),o6=e=>su(e,"position",oT),s6=new Set(["image","url"]),i6=e=>su(e,s6,u6),a6=e=>su(e,"",c6),_u=()=>!0,su=(e,n,r)=>{const o=rT.exec(e);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):r(o[2]):!1},l6=e=>Q$.test(e)&&!J$.test(e),oT=()=>!1,c6=e=>Z$.test(e),u6=e=>e6.test(e),d6=()=>{const e=nn("colors"),n=nn("spacing"),r=nn("blur"),o=nn("brightness"),s=nn("borderColor"),i=nn("borderRadius"),a=nn("borderSpacing"),l=nn("borderWidth"),u=nn("contrast"),d=nn("grayscale"),h=nn("hueRotate"),f=nn("invert"),m=nn("gap"),p=nn("gradientColorStops"),v=nn("gradientColorStopPositions"),y=nn("inset"),b=nn("margin"),x=nn("opacity"),w=nn("padding"),S=nn("saturate"),k=nn("scale"),C=nn("sepia"),N=nn("skew"),j=nn("space"),P=nn("translate"),E=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ut,n],O=()=>[ut,n],U=()=>["",Rs,bi],T=()=>["auto",pc,ut],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ut],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[pc,ut];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[Rs,bi],blur:["none","",Si,ut],brightness:D(),borderColor:[e],borderRadius:["none","","full",Si,ut],borderSpacing:O(),borderWidth:U(),contrast:D(),grayscale:R(),hueRotate:D(),invert:R(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[t6,bi],inset:I(),margin:I(),opacity:D(),padding:O(),saturate:D(),scale:D(),sepia:R(),skew:D(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[Si]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),ut]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ju,ut]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ju,ut]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",ju,ut]},ut]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[ju,ut]},ut]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,n]}],"min-w":[{"min-w":[ut,n,"min","max","fit"]}],"max-w":[{"max-w":[ut,n,"none","full","min","max","fit","prose",{screen:[Si]},Si]}],h:[{h:[ut,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Si,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kx]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",pc,kx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,bi]}],"underline-offset":[{"underline-offset":["auto",Rs,ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),o6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Rs,ut]}],"outline-w":[{outline:[Rs,bi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Rs,bi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Si,a6]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Si,ut]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ju,ut]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rs,bi,kx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f6=G$(d6);function de(...e){return f6(IE(e))}const h6=BL,sT=g.forwardRef(({className:e,...n},r)=>c.jsx(_E,{ref:r,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));sT.displayName=_E.displayName;const p6=ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iT=g.forwardRef(({className:e,variant:n,...r},o)=>c.jsx(EE,{ref:o,className:de(p6({variant:n}),e),...r}));iT.displayName=EE.displayName;const m6=g.forwardRef(({className:e,...n},r)=>c.jsx(PE,{ref:r,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...n}));m6.displayName=PE.displayName;const aT=g.forwardRef(({className:e,...n},r)=>c.jsx(ME,{ref:r,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:c.jsx(ul,{className:"h-4 w-4"})}));aT.displayName=ME.displayName;const lT=g.forwardRef(({className:e,...n},r)=>c.jsx(TE,{ref:r,className:de("text-sm font-semibold",e),...n}));lT.displayName=TE.displayName;const cT=g.forwardRef(({className:e,...n},r)=>c.jsx(AE,{ref:r,className:de("text-sm opacity-90",e),...n}));cT.displayName=AE.displayName;function g6(){const{toasts:e}=xf();return c.jsxs(h6,{children:[e.map(function({id:n,title:r,description:o,action:s,...i}){return c.jsxs(iT,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(lT,{children:r}),o&&c.jsx(cT,{children:o})]}),s,c.jsx(aT,{})]},n)}),c.jsx(sT,{})]})}var ak=["light","dark"],x6="(prefers-color-scheme: dark)",y6=g.createContext(void 0),v6={setTheme:e=>{},themes:[]},w6=()=>{var e;return(e=g.useContext(y6))!=null?e:v6};g.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:o,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:u})=>{let d=i==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?ak.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,b=!0)=>{let x=a?a[v]:v,w=y?v+"|| ''":`'${x}'`,S="";return s&&b&&!y&&ak.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),r==="class"?y||x?S+=`c.add(${w})`:S+="null":x&&(S+=`d[s](n,${w})`),S},p=e?`!function(){${h}${m(e)}}()`:o?`!function(){try{${h}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${d})){var t='${x6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${n}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})});var b6=e=>{switch(e){case"success":return N6;case"info":return j6;case"warning":return C6;case"error":return _6;default:return null}},S6=Array(12).fill(0),k6=({visible:e,className:n})=>B.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},S6.map((r,o)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),N6=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C6=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j6=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_6=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),E6=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T6=()=>{let[e,n]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},x0=1,A6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...o}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:x0++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...o,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let o=e instanceof Promise?e:e(),s=r!==void 0,i,a=o.then(async u=>{if(i=["resolve",u],B.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(M6(u)&&!u.ok){s=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){s=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(i=["reject",u],n.error!==void 0){s=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||x0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mr=new A6,P6=(e,n)=>{let r=(n==null?void 0:n.id)||x0++;return Mr.addToast({title:e,...n,id:r}),r},M6=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",R6=P6,I6=()=>Mr.toasts,O6=()=>Mr.getActiveToasts(),kt=Object.assign(R6,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:I6,getToasts:O6});function D6(e,{insertAt:n}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}D6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mh(e){return e.label!==void 0}var L6=3,$6="32px",z6="16px",lk=4e3,F6=356,U6=14,B6=20,H6=200;function Oo(...e){return e.filter(Boolean).join(" ")}function V6(e){let[n,r]=e.split("-"),o=[];return n&&o.push(n),r&&o.push(r),o}var W6=e=>{var n,r,o,s,i,a,l,u,d,h,f;let{invert:m,toast:p,unstyled:v,interacting:y,setHeights:b,visibleToasts:x,heights:w,index:S,toasts:k,expanded:C,removeToast:N,defaultRichColors:j,closeButton:P,style:E,cancelButtonStyle:_,actionButtonStyle:I,className:O="",descriptionClassName:U="",duration:T,position:z,gap:L,loadingIcon:H,expandByDefault:F,classNames:R,icons:A,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:$}=e,[M,Y]=B.useState(null),[Z,re]=B.useState(null),[Q,ce]=B.useState(!1),[fe,me]=B.useState(!1),[ke,ie]=B.useState(!1),[Le,Ce]=B.useState(!1),[De,he]=B.useState(!1),[je,se]=B.useState(0),[Ve,et]=B.useState(0),nt=B.useRef(p.duration||T||lk),ht=B.useRef(null),Tt=B.useRef(null),Re=S===0,An=S+1<=x,te=p.type,ge=p.dismissible!==!1,Ae=p.className||"",ze=p.descriptionClassName||"",Qe=B.useMemo(()=>w.findIndex(Ke=>Ke.toastId===p.id)||0,[w,p.id]),gt=B.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:P},[p.closeButton,P]),_t=B.useMemo(()=>p.duration||T||lk,[p.duration,T]),tt=B.useRef(0),Gt=B.useRef(0),xt=B.useRef(0),st=B.useRef(null),[yt,$e]=z.split("-"),lo=B.useMemo(()=>w.reduce((Ke,pt,it)=>it>=Qe?Ke:Ke+pt.height,0),[w,Qe]),Qn=T6(),Nr=p.invert||m,Cr=te==="loading";Gt.current=B.useMemo(()=>Qe*L+lo,[Qe,lo]),B.useEffect(()=>{nt.current=_t},[_t]),B.useEffect(()=>{ce(!0)},[]),B.useEffect(()=>{let Ke=Tt.current;if(Ke){let pt=Ke.getBoundingClientRect().height;return et(pt),b(it=>[{toastId:p.id,height:pt,position:p.position},...it]),()=>b(it=>it.filter(Ht=>Ht.toastId!==p.id))}},[b,p.id]),B.useLayoutEffect(()=>{if(!Q)return;let Ke=Tt.current,pt=Ke.style.height;Ke.style.height="auto";let it=Ke.getBoundingClientRect().height;Ke.style.height=pt,et(it),b(Ht=>Ht.find(q=>q.toastId===p.id)?Ht.map(q=>q.toastId===p.id?{...q,height:it}:q):[{toastId:p.id,height:it,position:p.position},...Ht])},[Q,p.title,p.description,b,p.id]);let Bt=B.useCallback(()=>{me(!0),se(Gt.current),b(Ke=>Ke.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{N(p)},H6)},[p,N,b,Gt]);B.useEffect(()=>{if(p.promise&&te==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return C||y||$&&Qn?(()=>{if(xt.current<tt.current){let pt=new Date().getTime()-tt.current;nt.current=nt.current-pt}xt.current=new Date().getTime()})():nt.current!==1/0&&(tt.current=new Date().getTime(),Ke=setTimeout(()=>{var pt;(pt=p.onAutoClose)==null||pt.call(p,p),Bt()},nt.current)),()=>clearTimeout(Ke)},[C,y,p,te,$,Qn,Bt]),B.useEffect(()=>{p.delete&&Bt()},[Bt,p.delete]);function vt(){var Ke,pt,it;return A!=null&&A.loading?B.createElement("div",{className:Oo(R==null?void 0:R.loader,(Ke=p==null?void 0:p.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":te==="loading"},A.loading):H?B.createElement("div",{className:Oo(R==null?void 0:R.loader,(pt=p==null?void 0:p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":te==="loading"},H):B.createElement(k6,{className:Oo(R==null?void 0:R.loader,(it=p==null?void 0:p.classNames)==null?void 0:it.loader),visible:te==="loading"})}return B.createElement("li",{tabIndex:0,ref:Tt,className:Oo(O,Ae,R==null?void 0:R.toast,(n=p==null?void 0:p.classNames)==null?void 0:n.toast,R==null?void 0:R.default,R==null?void 0:R[te],(r=p==null?void 0:p.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(o=p.richColors)!=null?o:j,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":De,"data-removed":fe,"data-visible":An,"data-y-position":yt,"data-x-position":$e,"data-index":S,"data-front":Re,"data-swiping":ke,"data-dismissible":ge,"data-type":te,"data-invert":Nr,"data-swipe-out":Le,"data-swipe-direction":Z,"data-expanded":!!(C||F&&Q),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${fe?je:Gt.current}px`,"--initial-height":F?"auto":`${Ve}px`,...E,...p.style},onDragEnd:()=>{ie(!1),Y(null),st.current=null},onPointerDown:Ke=>{Cr||!ge||(ht.current=new Date,se(Gt.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(ie(!0),st.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,pt,it,Ht;if(Le||!ge)return;st.current=null;let q=Number(((Ke=Tt.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xe=Number(((pt=Tt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((it=ht.current)==null?void 0:it.getTime()),Te=M==="x"?q:xe,X=Math.abs(Te)/Ee;if(Math.abs(Te)>=B6||X>.11){se(Gt.current),(Ht=p.onDismiss)==null||Ht.call(p,p),re(M==="x"?q>0?"right":"left":xe>0?"down":"up"),Bt(),Ce(!0),he(!1);return}ie(!1),Y(null)},onPointerMove:Ke=>{var pt,it,Ht,q;if(!st.current||!ge||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let xe=Ke.clientY-st.current.y,Ee=Ke.clientX-st.current.x,Te=(it=e.swipeDirections)!=null?it:V6(z);!M&&(Math.abs(Ee)>1||Math.abs(xe)>1)&&Y(Math.abs(Ee)>Math.abs(xe)?"x":"y");let X={x:0,y:0};M==="y"?(Te.includes("top")||Te.includes("bottom"))&&(Te.includes("top")&&xe<0||Te.includes("bottom")&&xe>0)&&(X.y=xe):M==="x"&&(Te.includes("left")||Te.includes("right"))&&(Te.includes("left")&&Ee<0||Te.includes("right")&&Ee>0)&&(X.x=Ee),(Math.abs(X.x)>0||Math.abs(X.y)>0)&&he(!0),(Ht=Tt.current)==null||Ht.style.setProperty("--swipe-amount-x",`${X.x}px`),(q=Tt.current)==null||q.style.setProperty("--swipe-amount-y",`${X.y}px`)}},gt&&!p.jsx?B.createElement("button",{"aria-label":D,"data-disabled":Cr,"data-close-button":!0,onClick:Cr||!ge?()=>{}:()=>{var Ke;Bt(),(Ke=p.onDismiss)==null||Ke.call(p,p)},className:Oo(R==null?void 0:R.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=A==null?void 0:A.close)!=null?i:E6):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,te||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:Oo(R==null?void 0:R.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||vt():null,p.type!=="loading"?p.icon||(A==null?void 0:A[te])||b6(te):null):null,B.createElement("div",{"data-content":"",className:Oo(R==null?void 0:R.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:Oo(R==null?void 0:R.title,(u=p==null?void 0:p.classNames)==null?void 0:u.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:Oo(U,ze,R==null?void 0:R.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&mh(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||_,onClick:Ke=>{var pt,it;mh(p.cancel)&&ge&&((it=(pt=p.cancel).onClick)==null||it.call(pt,Ke),Bt())},className:Oo(R==null?void 0:R.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&mh(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Ke=>{var pt,it;mh(p.action)&&((it=(pt=p.action).onClick)==null||it.call(pt,Ke),!Ke.defaultPrevented&&Bt())},className:Oo(R==null?void 0:R.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ck(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function q6(e,n){let r={};return[e,n].forEach((o,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?z6:$6;function u(d){["top","right","bottom","left"].forEach(h=>{r[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof o=="number"||typeof o=="string"?u(o):typeof o=="object"?["top","right","bottom","left"].forEach(d=>{o[d]===void 0?r[`${a}-${d}`]=l:r[`${a}-${d}`]=typeof o[d]=="number"?`${o[d]}px`:o[d]}):u(l)}),r}var G6=g.forwardRef(function(e,n){let{invert:r,position:o="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:v=L6,toastOptions:y,dir:b=ck(),gap:x=U6,loadingIcon:w,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:C}=e,[N,j]=B.useState([]),P=B.useMemo(()=>Array.from(new Set([o].concat(N.filter($=>$.position).map($=>$.position)))),[N,o]),[E,_]=B.useState([]),[I,O]=B.useState(!1),[U,T]=B.useState(!1),[z,L]=B.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=B.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=B.useRef(null),A=B.useRef(!1),D=B.useCallback($=>{j(M=>{var Y;return(Y=M.find(Z=>Z.id===$.id))!=null&&Y.delete||Mr.dismiss($.id),M.filter(({id:Z})=>Z!==$.id)})},[]);return B.useEffect(()=>Mr.subscribe($=>{if($.dismiss){j(M=>M.map(Y=>Y.id===$.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{aE.flushSync(()=>{j(M=>{let Y=M.findIndex(Z=>Z.id===$.id);return Y!==-1?[...M.slice(0,Y),{...M[Y],...$},...M.slice(Y+1)]:[$,...M]})})})}),[]),B.useEffect(()=>{if(h!=="system"){L(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:M})=>{L(M?"dark":"light")})}catch{$.addListener(({matches:Y})=>{try{L(Y?"dark":"light")}catch(Z){console.error(Z)}})}},[h]),B.useEffect(()=>{N.length<=1&&O(!1)},[N]),B.useEffect(()=>{let $=M=>{var Y,Z;s.every(re=>M[re]||M.code===re)&&(O(!0),(Y=H.current)==null||Y.focus()),M.code==="Escape"&&(document.activeElement===H.current||(Z=H.current)!=null&&Z.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),B.useEffect(()=>{if(H.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,A.current=!1)}},[H.current]),B.createElement("section",{ref:n,"aria-label":`${k} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map(($,M)=>{var Y;let[Z,re]=$.split("-");return N.length?B.createElement("ol",{key:$,dir:b==="auto"?ck():b,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Z,"data-lifted":I&&N.length>1&&!i,"data-x-position":re,style:{"--front-toast-height":`${((Y=E[0])==null?void 0:Y.height)||0}px`,"--width":`${F6}px`,"--gap":`${x}px`,...p,...q6(u,d)},onBlur:Q=>{A.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(A.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||A.current||(A.current=!0,R.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},N.filter(Q=>!Q.position&&M===0||Q.position===$).map((Q,ce)=>{var fe,me;return B.createElement(W6,{key:Q.id,icons:S,index:ce,toast:Q,defaultRichColors:f,duration:(fe=y==null?void 0:y.duration)!=null?fe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:v,closeButton:(me=y==null?void 0:y.closeButton)!=null?me:a,interacting:U,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:D,toasts:N.filter(ke=>ke.position==Q.position),heights:E.filter(ke=>ke.position==Q.position),setHeights:_,expandByDefault:i,gap:x,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const K6=({...e})=>{const{theme:n="system"}=w6();return c.jsx(G6,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Y6=Fv[" useId ".trim().toString()]||(()=>{}),X6=0;function Go(e){const[n,r]=g.useState(Y6());return Bn(()=>{r(o=>o??String(X6++))},[e]),n?`radix-${n}`:""}const Q6=["top","right","bottom","left"],pa=Math.min,Qr=Math.max,Fp=Math.round,gh=Math.floor,ys=e=>({x:e,y:e}),J6={left:"right",right:"left",bottom:"top",top:"bottom"},Z6={start:"end",end:"start"};function y0(e,n,r){return Qr(e,pa(n,r))}function ri(e,n){return typeof e=="function"?e(n):e}function oi(e){return e.split("-")[0]}function iu(e){return e.split("-")[1]}function Hw(e){return e==="x"?"y":"x"}function Vw(e){return e==="y"?"height":"width"}const ez=new Set(["top","bottom"]);function hs(e){return ez.has(oi(e))?"y":"x"}function Ww(e){return Hw(hs(e))}function tz(e,n,r){r===void 0&&(r=!1);const o=iu(e),s=Ww(e),i=Vw(s);let a=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(a=Up(a)),[a,Up(a)]}function nz(e){const n=Up(e);return[v0(e),n,v0(n)]}function v0(e){return e.replace(/start|end/g,n=>Z6[n])}const uk=["left","right"],dk=["right","left"],rz=["top","bottom"],oz=["bottom","top"];function sz(e,n,r){switch(e){case"top":case"bottom":return r?n?dk:uk:n?uk:dk;case"left":case"right":return n?rz:oz;default:return[]}}function iz(e,n,r,o){const s=iu(e);let i=sz(oi(e),r==="start",o);return s&&(i=i.map(a=>a+"-"+s),n&&(i=i.concat(i.map(v0)))),i}function Up(e){return e.replace(/left|right|bottom|top/g,n=>J6[n])}function az(e){return{top:0,right:0,bottom:0,left:0,...e}}function uT(e){return typeof e!="number"?az(e):{top:e,right:e,bottom:e,left:e}}function Bp(e){const{x:n,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:n,right:n+o,bottom:r+s,x:n,y:r}}function fk(e,n,r){let{reference:o,floating:s}=e;const i=hs(n),a=Ww(n),l=Vw(a),u=oi(n),d=i==="y",h=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,m=o[l]/2-s[l]/2;let p;switch(u){case"top":p={x:h,y:o.y-s.height};break;case"bottom":p={x:h,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:f};break;case"left":p={x:o.x-s.width,y:f};break;default:p={x:o.x,y:o.y}}switch(iu(n)){case"start":p[a]-=m*(r&&d?-1:1);break;case"end":p[a]+=m*(r&&d?-1:1);break}return p}const lz=async(e,n,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,l=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(n));let d=await a.getElementRects({reference:e,floating:n,strategy:s}),{x:h,y:f}=fk(d,o,u),m=o,p={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:w,y:S,data:k,reset:C}=await x({x:h,y:f,initialPlacement:o,placement:m,strategy:s,middlewareData:p,rects:d,platform:a,elements:{reference:e,floating:n}});h=w??h,f=S??f,p={...p,[b]:{...p[b],...k}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await a.getElementRects({reference:e,floating:n,strategy:s}):C.rects),{x:h,y:f}=fk(d,m,u)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Ud(e,n){var r;n===void 0&&(n={});const{x:o,y:s,platform:i,rects:a,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ri(n,e),v=uT(p),b=l[m?f==="floating"?"reference":"floating":f],x=Bp(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),w=f==="floating"?{x:o,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Bp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:u}):w);return{top:(x.top-C.top+v.top)/k.y,bottom:(C.bottom-x.bottom+v.bottom)/k.y,left:(x.left-C.left+v.left)/k.x,right:(C.right-x.right+v.right)/k.x}}const cz=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:o,placement:s,rects:i,platform:a,elements:l,middlewareData:u}=n,{element:d,padding:h=0}=ri(e,n)||{};if(d==null)return{};const f=uT(h),m={x:r,y:o},p=Ww(s),v=Vw(p),y=await a.getDimensions(d),b=p==="y",x=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[p]-m[p]-i.floating[v],C=m[p]-i.reference[p],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let j=N?N[S]:0;(!j||!await(a.isElement==null?void 0:a.isElement(N)))&&(j=l.floating[S]||i.floating[v]);const P=k/2-C/2,E=j/2-y[v]/2-1,_=pa(f[x],E),I=pa(f[w],E),O=_,U=j-y[v]-I,T=j/2-y[v]/2+P,z=y0(O,T,U),L=!u.arrow&&iu(s)!=null&&T!==z&&i.reference[v]/2-(T<O?_:I)-y[v]/2<0,H=L?T<O?T-O:T-U:0;return{[p]:m[p]+H,data:{[p]:z,centerOffset:T-z-H,...L&&{alignmentOffset:H}},reset:L}}}),uz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,o;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:u,elements:d}=n,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=ri(e,n);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=oi(s),w=hs(l),S=oi(l)===l,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),C=m||(S||!y?[Up(l)]:nz(l)),N=v!=="none";!m&&N&&C.push(...iz(l,y,v,k));const j=[l,...C],P=await Ud(n,b),E=[];let _=((o=i.flip)==null?void 0:o.overflows)||[];if(h&&E.push(P[x]),f){const T=tz(s,a,k);E.push(P[T[0]],P[T[1]])}if(_=[..._,{placement:s,overflows:E}],!E.every(T=>T<=0)){var I,O;const T=(((I=i.flip)==null?void 0:I.index)||0)+1,z=j[T];if(z&&(!(f==="alignment"?w!==hs(z):!1)||_.every(F=>F.overflows[0]>0&&hs(F.placement)===w)))return{data:{index:T,overflows:_},reset:{placement:z}};let L=(O=_.filter(H=>H.overflows[0]<=0).sort((H,F)=>H.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(p){case"bestFit":{var U;const H=(U=_.filter(F=>{if(N){const R=hs(F.placement);return R===w||R==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(R=>R>0).reduce((R,A)=>R+A,0)]).sort((F,R)=>F[1]-R[1])[0])==null?void 0:U[0];H&&(L=H);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function hk(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function pk(e){return Q6.some(n=>e[n]>=0)}const dz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:o="referenceHidden",...s}=ri(e,n);switch(o){case"referenceHidden":{const i=await Ud(n,{...s,elementContext:"reference"}),a=hk(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:pk(a)}}}case"escaped":{const i=await Ud(n,{...s,altBoundary:!0}),a=hk(i,r.floating);return{data:{escapedOffsets:a,escaped:pk(a)}}}default:return{}}}}},dT=new Set(["left","top"]);async function fz(e,n){const{placement:r,platform:o,elements:s}=e,i=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=oi(r),l=iu(r),u=hs(r)==="y",d=dT.has(a)?-1:1,h=i&&u?-1:1,f=ri(n,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),u?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const hz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,o;const{x:s,y:i,placement:a,middlewareData:l}=n,u=await fz(n,e);return a===((r=l.offset)==null?void 0:r.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},pz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:o,placement:s}=n,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...u}=ri(e,n),d={x:r,y:o},h=await Ud(n,u),f=hs(oi(s)),m=Hw(f);let p=d[m],v=d[f];if(i){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=p+h[b],S=p-h[x];p=y0(w,p,S)}if(a){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=v+h[b],S=v-h[x];v=y0(w,v,S)}const y=l.fn({...n,[m]:p,[f]:v});return{...y,data:{x:y.x-r,y:y.y-o,enabled:{[m]:i,[f]:a}}}}}},mz=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:o,placement:s,rects:i,middlewareData:a}=n,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=ri(e,n),h={x:r,y:o},f=hs(s),m=Hw(f);let p=h[m],v=h[f];const y=ri(l,n),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const S=m==="y"?"height":"width",k=i.reference[m]-i.floating[S]+b.mainAxis,C=i.reference[m]+i.reference[S]-b.mainAxis;p<k?p=k:p>C&&(p=C)}if(d){var x,w;const S=m==="y"?"width":"height",k=dT.has(oi(s)),C=i.reference[f]-i.floating[S]+(k&&((x=a.offset)==null?void 0:x[f])||0)+(k?0:b.crossAxis),N=i.reference[f]+i.reference[S]+(k?0:((w=a.offset)==null?void 0:w[f])||0)-(k?b.crossAxis:0);v<C?v=C:v>N&&(v=N)}return{[m]:p,[f]:v}}}},gz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,o;const{placement:s,rects:i,platform:a,elements:l}=n,{apply:u=()=>{},...d}=ri(e,n),h=await Ud(n,d),f=oi(s),m=iu(s),p=hs(s)==="y",{width:v,height:y}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=m==="end"?"top":"bottom");const w=y-h.top-h.bottom,S=v-h.left-h.right,k=pa(y-h[b],w),C=pa(v-h[x],S),N=!n.middlewareData.shift;let j=k,P=C;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(P=S),(o=n.middlewareData.shift)!=null&&o.enabled.y&&(j=w),N&&!m){const _=Qr(h.left,0),I=Qr(h.right,0),O=Qr(h.top,0),U=Qr(h.bottom,0);p?P=v-2*(_!==0||I!==0?_+I:Qr(h.left,h.right)):j=y-2*(O!==0||U!==0?O+U:Qr(h.top,h.bottom))}await u({...n,availableWidth:P,availableHeight:j});const E=await a.getDimensions(l.floating);return v!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}};function Gm(){return typeof window<"u"}function au(e){return fT(e)?(e.nodeName||"").toLowerCase():"#document"}function no(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function js(e){var n;return(n=(fT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function fT(e){return Gm()?e instanceof Node||e instanceof no(e).Node:!1}function Qo(e){return Gm()?e instanceof Element||e instanceof no(e).Element:!1}function ks(e){return Gm()?e instanceof HTMLElement||e instanceof no(e).HTMLElement:!1}function mk(e){return!Gm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof no(e).ShadowRoot}const xz=new Set(["inline","contents"]);function kf(e){const{overflow:n,overflowX:r,overflowY:o,display:s}=Jo(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+r)&&!xz.has(s)}const yz=new Set(["table","td","th"]);function vz(e){return yz.has(au(e))}const wz=[":popover-open",":modal"];function Km(e){return wz.some(n=>{try{return e.matches(n)}catch{return!1}})}const bz=["transform","translate","scale","rotate","perspective"],Sz=["transform","translate","scale","rotate","perspective","filter"],kz=["paint","layout","strict","content"];function qw(e){const n=Gw(),r=Qo(e)?Jo(e):e;return bz.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||Sz.some(o=>(r.willChange||"").includes(o))||kz.some(o=>(r.contain||"").includes(o))}function Nz(e){let n=ma(e);for(;ks(n)&&!Bc(n);){if(qw(n))return n;if(Km(n))return null;n=ma(n)}return null}function Gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cz=new Set(["html","body","#document"]);function Bc(e){return Cz.has(au(e))}function Jo(e){return no(e).getComputedStyle(e)}function Ym(e){return Qo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ma(e){if(au(e)==="html")return e;const n=e.assignedSlot||e.parentNode||mk(e)&&e.host||js(e);return mk(n)?n.host:n}function hT(e){const n=ma(e);return Bc(n)?e.ownerDocument?e.ownerDocument.body:e.body:ks(n)&&kf(n)?n:hT(n)}function Bd(e,n,r){var o;n===void 0&&(n=[]),r===void 0&&(r=!0);const s=hT(e),i=s===((o=e.ownerDocument)==null?void 0:o.body),a=no(s);if(i){const l=w0(a);return n.concat(a,a.visualViewport||[],kf(s)?s:[],l&&r?Bd(l):[])}return n.concat(s,Bd(s,[],r))}function w0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pT(e){const n=Jo(e);let r=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const s=ks(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:o,l=Fp(r)!==i||Fp(o)!==a;return l&&(r=i,o=a),{width:r,height:o,$:l}}function Kw(e){return Qo(e)?e:e.contextElement}function mc(e){const n=Kw(e);if(!ks(n))return ys(1);const r=n.getBoundingClientRect(),{width:o,height:s,$:i}=pT(n);let a=(i?Fp(r.width):r.width)/o,l=(i?Fp(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const jz=ys(0);function mT(e){const n=no(e);return!Gw()||!n.visualViewport?jz:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function _z(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==no(e)?!1:n}function dl(e,n,r,o){n===void 0&&(n=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Kw(e);let a=ys(1);n&&(o?Qo(o)&&(a=mc(o)):a=mc(e));const l=_z(i,r,o)?mT(i):ys(0);let u=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=no(i),p=o&&Qo(o)?no(o):o;let v=m,y=w0(v);for(;y&&o&&p!==v;){const b=mc(y),x=y.getBoundingClientRect(),w=Jo(y),S=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,k=x.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;u*=b.x,d*=b.y,h*=b.x,f*=b.y,u+=S,d+=k,v=no(y),y=w0(v)}}return Bp({width:h,height:f,x:u,y:d})}function Yw(e,n){const r=Ym(e).scrollLeft;return n?n.left+r:dl(js(e)).left+r}function gT(e,n,r){r===void 0&&(r=!1);const o=e.getBoundingClientRect(),s=o.left+n.scrollLeft-(r?0:Yw(e,o)),i=o.top+n.scrollTop;return{x:s,y:i}}function Ez(e){let{elements:n,rect:r,offsetParent:o,strategy:s}=e;const i=s==="fixed",a=js(o),l=n?Km(n.floating):!1;if(o===a||l&&i)return r;let u={scrollLeft:0,scrollTop:0},d=ys(1);const h=ys(0),f=ks(o);if((f||!f&&!i)&&((au(o)!=="body"||kf(a))&&(u=Ym(o)),ks(o))){const p=dl(o);d=mc(o),h.x=p.x+o.clientLeft,h.y=p.y+o.clientTop}const m=a&&!f&&!i?gT(a,u,!0):ys(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+h.x+m.x,y:r.y*d.y-u.scrollTop*d.y+h.y+m.y}}function Tz(e){return Array.from(e.getClientRects())}function Az(e){const n=js(e),r=Ym(e),o=e.ownerDocument.body,s=Qr(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),i=Qr(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let a=-r.scrollLeft+Yw(e);const l=-r.scrollTop;return Jo(o).direction==="rtl"&&(a+=Qr(n.clientWidth,o.clientWidth)-s),{width:s,height:i,x:a,y:l}}function Pz(e,n){const r=no(e),o=js(e),s=r.visualViewport;let i=o.clientWidth,a=o.clientHeight,l=0,u=0;if(s){i=s.width,a=s.height;const d=Gw();(!d||d&&n==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:l,y:u}}const Mz=new Set(["absolute","fixed"]);function Rz(e,n){const r=dl(e,!0,n==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,i=ks(e)?mc(e):ys(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,u=s*i.x,d=o*i.y;return{width:a,height:l,x:u,y:d}}function gk(e,n,r){let o;if(n==="viewport")o=Pz(e,r);else if(n==="document")o=Az(js(e));else if(Qo(n))o=Rz(n,r);else{const s=mT(e);o={x:n.x-s.x,y:n.y-s.y,width:n.width,height:n.height}}return Bp(o)}function xT(e,n){const r=ma(e);return r===n||!Qo(r)||Bc(r)?!1:Jo(r).position==="fixed"||xT(r,n)}function Iz(e,n){const r=n.get(e);if(r)return r;let o=Bd(e,[],!1).filter(l=>Qo(l)&&au(l)!=="body"),s=null;const i=Jo(e).position==="fixed";let a=i?ma(e):e;for(;Qo(a)&&!Bc(a);){const l=Jo(a),u=qw(a);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&Mz.has(s.position)||kf(a)&&!u&&xT(e,a))?o=o.filter(h=>h!==a):s=l,a=ma(a)}return n.set(e,o),o}function Oz(e){let{element:n,boundary:r,rootBoundary:o,strategy:s}=e;const a=[...r==="clippingAncestors"?Km(n)?[]:Iz(n,this._c):[].concat(r),o],l=a[0],u=a.reduce((d,h)=>{const f=gk(n,h,s);return d.top=Qr(f.top,d.top),d.right=pa(f.right,d.right),d.bottom=pa(f.bottom,d.bottom),d.left=Qr(f.left,d.left),d},gk(n,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Dz(e){const{width:n,height:r}=pT(e);return{width:n,height:r}}function Lz(e,n,r){const o=ks(n),s=js(n),i=r==="fixed",a=dl(e,!0,i,n);let l={scrollLeft:0,scrollTop:0};const u=ys(0);function d(){u.x=Yw(s)}if(o||!o&&!i)if((au(n)!=="body"||kf(s))&&(l=Ym(n)),o){const p=dl(n,!0,i,n);u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}else s&&d();i&&!o&&s&&d();const h=s&&!o&&!i?gT(s,l):ys(0),f=a.left+l.scrollLeft-u.x-h.x,m=a.top+l.scrollTop-u.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Nx(e){return Jo(e).position==="static"}function xk(e,n){if(!ks(e)||Jo(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return js(e)===r&&(r=r.ownerDocument.body),r}function yT(e,n){const r=no(e);if(Km(e))return r;if(!ks(e)){let s=ma(e);for(;s&&!Bc(s);){if(Qo(s)&&!Nx(s))return s;s=ma(s)}return r}let o=xk(e,n);for(;o&&vz(o)&&Nx(o);)o=xk(o,n);return o&&Bc(o)&&Nx(o)&&!qw(o)?r:o||Nz(e)||r}const $z=async function(e){const n=this.getOffsetParent||yT,r=this.getDimensions,o=await r(e.floating);return{reference:Lz(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function zz(e){return Jo(e).direction==="rtl"}const Fz={convertOffsetParentRelativeRectToViewportRelativeRect:Ez,getDocumentElement:js,getClippingRect:Oz,getOffsetParent:yT,getElementRects:$z,getClientRects:Tz,getDimensions:Dz,getScale:mc,isElement:Qo,isRTL:zz};function vT(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Uz(e,n){let r=null,o;const s=js(e);function i(){var l;clearTimeout(o),(l=r)==null||l.disconnect(),r=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=d;if(l||n(),!m||!p)return;const v=gh(f),y=gh(s.clientWidth-(h+m)),b=gh(s.clientHeight-(f+p)),x=gh(h),S={rootMargin:-v+"px "+-y+"px "+-b+"px "+-x+"px",threshold:Qr(0,pa(1,u))||1};let k=!0;function C(N){const j=N[0].intersectionRatio;if(j!==u){if(!k)return a();j?a(!1,j):o=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!vT(d,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,S)}r.observe(e)}return a(!0),i}function Bz(e,n,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,d=Kw(e),h=s||i?[...d?Bd(d):[],...Bd(n)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=d&&l?Uz(d,r):null;let m=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===d&&p&&(p.unobserve(n),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(n)})),r()}),d&&!u&&p.observe(d),p.observe(n));let v,y=u?dl(e):null;u&&b();function b(){const x=dl(e);y&&!vT(y,x)&&r(),y=x,v=requestAnimationFrame(b)}return r(),()=>{var x;h.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,u&&cancelAnimationFrame(v)}}const Hz=hz,Vz=pz,Wz=uz,qz=gz,Gz=dz,yk=cz,Kz=mz,Yz=(e,n,r)=>{const o=new Map,s={platform:Fz,...r},i={...s.platform,_c:o};return lz(e,n,{...s,platform:i})};var Xz=typeof document<"u",Qz=function(){},ep=Xz?g.useLayoutEffect:Qz;function Hp(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,o,s;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(o=r;o--!==0;)if(!Hp(e[o],n[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){const i=s[o];if(!(i==="_owner"&&e.$$typeof)&&!Hp(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}function wT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vk(e,n){const r=wT(e);return Math.round(n*r)/r}function Cx(e){const n=g.useRef(e);return ep(()=>{n.current=e}),n}function Jz(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[h,f]=g.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(o);Hp(m,o)||p(o);const[v,y]=g.useState(null),[b,x]=g.useState(null),w=g.useCallback(F=>{F!==N.current&&(N.current=F,y(F))},[]),S=g.useCallback(F=>{F!==j.current&&(j.current=F,x(F))},[]),k=i||v,C=a||b,N=g.useRef(null),j=g.useRef(null),P=g.useRef(h),E=u!=null,_=Cx(u),I=Cx(s),O=Cx(d),U=g.useCallback(()=>{if(!N.current||!j.current)return;const F={placement:n,strategy:r,middleware:m};I.current&&(F.platform=I.current),Yz(N.current,j.current,F).then(R=>{const A={...R,isPositioned:O.current!==!1};T.current&&!Hp(P.current,A)&&(P.current=A,Sl.flushSync(()=>{f(A)}))})},[m,n,r,I,O]);ep(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const T=g.useRef(!1);ep(()=>(T.current=!0,()=>{T.current=!1}),[]),ep(()=>{if(k&&(N.current=k),C&&(j.current=C),k&&C){if(_.current)return _.current(k,C,U);U()}},[k,C,U,_,E]);const z=g.useMemo(()=>({reference:N,floating:j,setReference:w,setFloating:S}),[w,S]),L=g.useMemo(()=>({reference:k,floating:C}),[k,C]),H=g.useMemo(()=>{const F={position:r,left:0,top:0};if(!L.floating)return F;const R=vk(L.floating,h.x),A=vk(L.floating,h.y);return l?{...F,transform:"translate("+R+"px, "+A+"px)",...wT(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:A}},[r,l,L.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:U,refs:z,elements:L,floatingStyles:H}),[h,U,z,L,H])}const Zz=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&n(o)?o.current!=null?yk({element:o.current,padding:s}).fn(r):{}:o?yk({element:o,padding:s}).fn(r):{}}}},eF=(e,n)=>({...Hz(e),options:[e,n]}),tF=(e,n)=>({...Vz(e),options:[e,n]}),nF=(e,n)=>({...Kz(e),options:[e,n]}),rF=(e,n)=>({...Wz(e),options:[e,n]}),oF=(e,n)=>({...qz(e),options:[e,n]}),sF=(e,n)=>({...Gz(e),options:[e,n]}),iF=(e,n)=>({...Zz(e),options:[e,n]});var aF="Arrow",bT=g.forwardRef((e,n)=>{const{children:r,width:o=10,height:s=5,...i}=e;return c.jsx(Ue.svg,{...i,ref:n,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});bT.displayName=aF;var lF=bT;function Xw(e){const[n,r]=g.useState(void 0);return Bn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),n}var Qw="Popper",[ST,lu]=Fr(Qw),[cF,kT]=ST(Qw),NT=e=>{const{__scopePopper:n,children:r}=e,[o,s]=g.useState(null);return c.jsx(cF,{scope:n,anchor:o,onAnchorChange:s,children:r})};NT.displayName=Qw;var CT="PopperAnchor",jT=g.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:o,...s}=e,i=kT(CT,r),a=g.useRef(null),l=ft(n,a);return g.useEffect(()=>{i.onAnchorChange((o==null?void 0:o.current)||a.current)}),o?null:c.jsx(Ue.div,{...s,ref:l})});jT.displayName=CT;var Jw="PopperContent",[uF,dF]=ST(Jw),_T=g.forwardRef((e,n)=>{var Q,ce,fe,me,ke,ie;const{__scopePopper:r,side:o="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...y}=e,b=kT(Jw,r),[x,w]=g.useState(null),S=ft(n,Le=>w(Le)),[k,C]=g.useState(null),N=Xw(k),j=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,E=o+(i!=="center"?"-"+i:""),_=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],O=I.length>0,U={padding:_,boundary:I.filter(hF),altBoundary:O},{refs:T,floatingStyles:z,placement:L,isPositioned:H,middlewareData:F}=Jz({strategy:"fixed",placement:E,whileElementsMounted:(...Le)=>Bz(...Le,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[eF({mainAxis:s+P,alignmentAxis:a}),u&&tF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nF():void 0,...U}),u&&rF({...U}),oF({...U,apply:({elements:Le,rects:Ce,availableWidth:De,availableHeight:he})=>{const{width:je,height:se}=Ce.reference,Ve=Le.floating.style;Ve.setProperty("--radix-popper-available-width",`${De}px`),Ve.setProperty("--radix-popper-available-height",`${he}px`),Ve.setProperty("--radix-popper-anchor-width",`${je}px`),Ve.setProperty("--radix-popper-anchor-height",`${se}px`)}}),k&&iF({element:k,padding:l}),pF({arrowWidth:j,arrowHeight:P}),m&&sF({strategy:"referenceHidden",...U})]}),[R,A]=AT(L),D=Nn(v);Bn(()=>{H&&(D==null||D())},[H,D]);const $=(Q=F.arrow)==null?void 0:Q.x,M=(ce=F.arrow)==null?void 0:ce.y,Y=((fe=F.arrow)==null?void 0:fe.centerOffset)!==0,[Z,re]=g.useState();return Bn(()=>{x&&re(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(me=F.transformOrigin)==null?void 0:me.x,(ke=F.transformOrigin)==null?void 0:ke.y].join(" "),...((ie=F.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(uF,{scope:r,placedSide:R,onArrowChange:C,arrowX:$,arrowY:M,shouldHideArrow:Y,children:c.jsx(Ue.div,{"data-side":R,"data-align":A,...y,ref:S,style:{...y.style,animation:H?void 0:"none"}})})})});_T.displayName=Jw;var ET="PopperArrow",fF={top:"bottom",right:"left",bottom:"top",left:"right"},TT=g.forwardRef(function(n,r){const{__scopePopper:o,...s}=n,i=dF(ET,o),a=fF[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(lF,{...s,ref:r,style:{...s.style,display:"block"}})})});TT.displayName=ET;function hF(e){return e!==null}var pF=e=>({name:"transformOrigin",options:e,fn(n){var b,x,w;const{placement:r,rects:o,middlewareData:s}=n,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[d,h]=AT(r),f={start:"0%",center:"50%",end:"100%"}[h],m=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let v="",y="";return d==="bottom"?(v=a?f:`${m}px`,y=`${-u}px`):d==="top"?(v=a?f:`${m}px`,y=`${o.floating.height+u}px`):d==="right"?(v=`${-u}px`,y=a?f:`${p}px`):d==="left"&&(v=`${o.floating.width+u}px`,y=a?f:`${p}px`),{data:{x:v,y}}}});function AT(e){const[n,r="center"]=e.split("-");return[n,r]}var Zw=NT,eb=jT,tb=_T,nb=TT,[Xm,Nce]=Fr("Tooltip",[lu]),Qm=lu(),PT="TooltipProvider",mF=700,b0="tooltip.open",[gF,rb]=Xm(PT),MT=e=>{const{__scopeTooltip:n,delayDuration:r=mF,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:i}=e,a=g.useRef(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(gF,{scope:n,isOpenDelayedRef:a,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,o)},[o]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};MT.displayName=PT;var Hd="Tooltip",[xF,Jm]=Xm(Hd),RT=e=>{const{__scopeTooltip:n,children:r,open:o,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,u=rb(Hd,e.__scopeTooltip),d=Qm(n),[h,f]=g.useState(null),m=Go(),p=g.useRef(0),v=a??u.disableHoverableContent,y=l??u.delayDuration,b=g.useRef(!1),[x,w]=Ss({prop:o,defaultProp:s??!1,onChange:j=>{j?(u.onOpen(),document.dispatchEvent(new CustomEvent(b0))):u.onClose(),i==null||i(j)},caller:Hd}),S=g.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),k=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,w(!0)},[w]),C=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),N=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,w(!0),p.current=0},y)},[y,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(Zw,{...d,children:c.jsx(xF,{scope:n,contentId:m,open:x,stateAttribute:S,trigger:h,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{u.isOpenDelayedRef.current?N():k()},[u.isOpenDelayedRef,N,k]),onTriggerLeave:g.useCallback(()=>{v?C():(window.clearTimeout(p.current),p.current=0)},[C,v]),onOpen:k,onClose:C,disableHoverableContent:v,children:r})})};RT.displayName=Hd;var S0="TooltipTrigger",IT=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,s=Jm(S0,r),i=rb(S0,r),a=Qm(r),l=g.useRef(null),u=ft(n,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(eb,{asChild:!0,...a,children:c.jsx(Ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:u,onPointerMove:Ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ne(e.onBlur,s.onClose),onClick:Ne(e.onClick,s.onClose)})})});IT.displayName=S0;var yF="TooltipPortal",[Cce,vF]=Xm(yF,{forceMount:void 0}),Hc="TooltipContent",OT=g.forwardRef((e,n)=>{const r=vF(Hc,e.__scopeTooltip),{forceMount:o=r.forceMount,side:s="top",...i}=e,a=Jm(Hc,e.__scopeTooltip);return c.jsx(ar,{present:o||a.open,children:a.disableHoverableContent?c.jsx(DT,{side:s,...i,ref:n}):c.jsx(wF,{side:s,...i,ref:n})})}),wF=g.forwardRef((e,n)=>{const r=Jm(Hc,e.__scopeTooltip),o=rb(Hc,e.__scopeTooltip),s=g.useRef(null),i=ft(n,s),[a,l]=g.useState(null),{trigger:u,onClose:d}=r,h=s.current,{onPointerInTransitChange:f}=o,m=g.useCallback(()=>{l(null),f(!1)},[f]),p=g.useCallback((v,y)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},w=CF(x,b.getBoundingClientRect()),S=jF(x,w),k=_F(y.getBoundingClientRect()),C=TF([...S,...k]);l(C),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(u&&h){const v=b=>p(b,h),y=b=>p(b,u);return u.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{u.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[u,h,p,m]),g.useEffect(()=>{if(a){const v=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},w=(u==null?void 0:u.contains(b))||(h==null?void 0:h.contains(b)),S=!EF(x,a);w?m():S&&(m(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,h,a,d,m]),c.jsx(DT,{...e,ref:i})}),[bF,SF]=Xm(Hd,{isInside:!1}),kF=nL("TooltipContent"),DT=g.forwardRef((e,n)=>{const{__scopeTooltip:r,children:o,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,u=Jm(Hc,r),d=Qm(r),{onClose:h}=u;return g.useEffect(()=>(document.addEventListener(b0,h),()=>document.removeEventListener(b0,h)),[h]),g.useEffect(()=>{if(u.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),c.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(tb,{"data-state":u.stateAttribute,...d,...l,ref:n,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(kF,{children:o}),c.jsx(bF,{scope:r,isInside:!0,children:c.jsx(NL,{id:u.contentId,role:"tooltip",children:s||o})})]})})});OT.displayName=Hc;var LT="TooltipArrow",NF=g.forwardRef((e,n)=>{const{__scopeTooltip:r,...o}=e,s=Qm(r);return SF(LT,r).isInside?null:c.jsx(nb,{...s,...o,ref:n})});NF.displayName=LT;function CF(e,n){const r=Math.abs(n.top-e.y),o=Math.abs(n.bottom-e.y),s=Math.abs(n.right-e.x),i=Math.abs(n.left-e.x);switch(Math.min(r,o,s,i)){case i:return"left";case s:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function jF(e,n,r=5){const o=[];switch(n){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function _F(e){const{top:n,right:r,bottom:o,left:s}=e;return[{x:s,y:n},{x:r,y:n},{x:r,y:o},{x:s,y:o}]}function EF(e,n){const{x:r,y:o}=e;let s=!1;for(let i=0,a=n.length-1;i<n.length;a=i++){const l=n[i],u=n[a],d=l.x,h=l.y,f=u.x,m=u.y;h>o!=m>o&&r<(f-d)*(o-h)/(m-h)+d&&(s=!s)}return s}function TF(e){const n=e.slice();return n.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),AF(n)}function AF(e){if(e.length<=1)return e.slice();const n=[];for(let o=0;o<e.length;o++){const s=e[o];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}n.pop();const r=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var PF=MT,MF=RT,RF=IT,$T=OT;const IF=PF,OF=MF,DF=RF,zT=g.forwardRef(({className:e,sideOffset:n=4,...r},o)=>c.jsx($T,{ref:o,sideOffset:n,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));zT.displayName=$T.displayName;var cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fl=typeof window>"u"||"Deno"in globalThis;function mr(){}function LF(e,n){return typeof e=="function"?e(n):e}function k0(e){return typeof e=="number"&&e>=0&&e!==1/0}function FT(e,n){return Math.max(e+(n||0)-Date.now(),0)}function ia(e,n){return typeof e=="function"?e(n):e}function po(e,n){return typeof e=="function"?e(n):e}function wk(e,n){const{type:r="all",exact:o,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(o){if(n.queryHash!==ob(a,n.options))return!1}else if(!Vd(n.queryKey,a))return!1}if(r!=="all"){const u=n.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||s&&s!==n.state.fetchStatus||i&&!i(n))}function bk(e,n){const{exact:r,status:o,predicate:s,mutationKey:i}=e;if(i){if(!n.options.mutationKey)return!1;if(r){if(hl(n.options.mutationKey)!==hl(i))return!1}else if(!Vd(n.options.mutationKey,i))return!1}return!(o&&n.state.status!==o||s&&!s(n))}function ob(e,n){return((n==null?void 0:n.queryKeyHashFn)||hl)(e)}function hl(e){return JSON.stringify(e,(n,r)=>N0(r)?Object.keys(r).sort().reduce((o,s)=>(o[s]=r[s],o),{}):r)}function Vd(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(r=>Vd(e[r],n[r])):!1}function UT(e,n){if(e===n)return e;const r=Sk(e)&&Sk(n);if(r||N0(e)&&N0(n)){const o=r?e:Object.keys(e),s=o.length,i=r?n:Object.keys(n),a=i.length,l=r?[]:{},u=new Set(o);let d=0;for(let h=0;h<a;h++){const f=r?h:i[h];(!r&&u.has(f)||r)&&e[f]===void 0&&n[f]===void 0?(l[f]=void 0,d++):(l[f]=UT(e[f],n[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return s===a&&d===s?e:l}return n}function Vp(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}function Sk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function N0(e){if(!kk(e))return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!kk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kk(e){return Object.prototype.toString.call(e)==="[object Object]"}function $F(e){return new Promise(n=>{setTimeout(n,e)})}function C0(e,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,n):r.structuralSharing!==!1?UT(e,n):n}function zF(e,n,r=0){const o=[...e,n];return r&&o.length>r?o.slice(1):o}function FF(e,n,r=0){const o=[n,...e];return r&&o.length>r?o.slice(0,-1):o}var sb=Symbol();function BT(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===sb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function HT(e,n){return typeof e=="function"?e(...n):!!e}var Ba,$i,Sc,zC,UF=(zC=class extends cu{constructor(){super();Xe(this,Ba);Xe(this,$i);Xe(this,Sc);Me(this,Sc,n=>{if(!fl&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,$i)||this.setEventListener(V(this,Sc))}onUnsubscribe(){var n;this.hasListeners()||((n=V(this,$i))==null||n.call(this),Me(this,$i,void 0))}setEventListener(n){var r;Me(this,Sc,n),(r=V(this,$i))==null||r.call(this),Me(this,$i,n(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(n){V(this,Ba)!==n&&(Me(this,Ba,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof V(this,Ba)=="boolean"?V(this,Ba):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},Ba=new WeakMap,$i=new WeakMap,Sc=new WeakMap,zC),ib=new UF,kc,zi,Nc,FC,BF=(FC=class extends cu{constructor(){super();Xe(this,kc,!0);Xe(this,zi);Xe(this,Nc);Me(this,Nc,n=>{if(!fl&&window.addEventListener){const r=()=>n(!0),o=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",o)}}})}onSubscribe(){V(this,zi)||this.setEventListener(V(this,Nc))}onUnsubscribe(){var n;this.hasListeners()||((n=V(this,zi))==null||n.call(this),Me(this,zi,void 0))}setEventListener(n){var r;Me(this,Nc,n),(r=V(this,zi))==null||r.call(this),Me(this,zi,n(this.setOnline.bind(this)))}setOnline(n){V(this,kc)!==n&&(Me(this,kc,n),this.listeners.forEach(o=>{o(n)}))}isOnline(){return V(this,kc)}},kc=new WeakMap,zi=new WeakMap,Nc=new WeakMap,FC),Wp=new BF;function j0(){let e,n;const r=new Promise((s,i)=>{e=s,n=i});r.status="pending",r.catch(()=>{});function o(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},r.reject=s=>{o({status:"rejected",reason:s}),n(s)},r}function HF(e){return Math.min(1e3*2**e,3e4)}function VT(e){return(e??"online")==="online"?Wp.isOnline():!0}var WT=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jx(e){return e instanceof WT}function qT(e){let n=!1,r=0,o=!1,s;const i=j0(),a=y=>{var b;o||(m(new WT(y)),(b=e.abort)==null||b.call(e))},l=()=>{n=!0},u=()=>{n=!1},d=()=>ib.isFocused()&&(e.networkMode==="always"||Wp.isOnline())&&e.canRun(),h=()=>VT(e.networkMode)&&e.canRun(),f=y=>{var b;o||(o=!0,(b=e.onSuccess)==null||b.call(e,y),s==null||s(),i.resolve(y))},m=y=>{var b;o||(o=!0,(b=e.onError)==null||b.call(e,y),s==null||s(),i.reject(y))},p=()=>new Promise(y=>{var b;s=x=>{(o||d())&&y(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;s=void 0,o||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(o)return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var N;if(o)return;const w=e.retry??(fl?0:3),S=e.retryDelay??HF,k=typeof S=="function"?S(r,x):S,C=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(n||!C){m(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),$F(k).then(()=>d()?void 0:p()).then(()=>{n?m(x):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?v():p().then(v),i)}}var VF=e=>setTimeout(e,0);function WF(){let e=[],n=0,r=l=>{l()},o=l=>{l()},s=VF;const i=l=>{n?e.push(l):s(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{o(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;n++;try{u=l()}finally{n--,n||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{o=l},setScheduler:l=>{s=l}}}var Rn=WF(),Ha,UC,GT=(UC=class{constructor(){Xe(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k0(this.gcTime)&&Me(this,Ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fl?1/0:5*60*1e3))}clearGcTimeout(){V(this,Ha)&&(clearTimeout(V(this,Ha)),Me(this,Ha,void 0))}},Ha=new WeakMap,UC),Cc,Va,ho,Wa,nr,lf,qa,zo,zs,BC,qF=(BC=class extends GT{constructor(n){super();Xe(this,zo);Xe(this,Cc);Xe(this,Va);Xe(this,ho);Xe(this,Wa);Xe(this,nr);Xe(this,lf);Xe(this,qa);Me(this,qa,!1),Me(this,lf,n.defaultOptions),this.setOptions(n.options),this.observers=[],Me(this,Wa,n.client),Me(this,ho,V(this,Wa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Me(this,Cc,GF(this.options)),this.state=n.state??V(this,Cc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,nr))==null?void 0:n.promise}setOptions(n){this.options={...V(this,lf),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,ho).remove(this)}setData(n,r){const o=C0(this.state.data,n,this.options);return mt(this,zo,zs).call(this,{data:o,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),o}setState(n,r){mt(this,zo,zs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var o,s;const r=(o=V(this,nr))==null?void 0:o.promise;return(s=V(this,nr))==null||s.cancel(n),r?r.then(mr).catch(mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Cc))}isActive(){return this.observers.some(n=>po(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ia(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!FT(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,nr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,nr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,ho).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,nr)&&(V(this,qa)?V(this,nr).cancel({revert:!0}):V(this,nr).cancelRetry()),this.scheduleGc()),V(this,ho).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,zo,zs).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,nr))return V(this,nr).continueRetry(),V(this,nr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const o=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Me(this,qa,!0),o.signal)})},i=()=>{const m=BT(this.options,r),v=(()=>{const y={client:V(this,Wa),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return Me(this,qa,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:V(this,Wa),state:this.state,fetchFn:i};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Me(this,Va,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&mt(this,zo,zs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=m=>{var p,v,y,b;jx(m)&&m.silent||mt(this,zo,zs).call(this,{type:"error",error:m}),jx(m)||((v=(p=V(this,ho).config).onError)==null||v.call(p,m,this),(b=(y=V(this,ho).config).onSettled)==null||b.call(y,this.state.data,m,this)),this.scheduleGc()};return Me(this,nr,qT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:o.abort.bind(o),onSuccess:m=>{var p,v,y,b;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){u(x);return}(v=(p=V(this,ho).config).onSuccess)==null||v.call(p,m,this),(b=(y=V(this,ho).config).onSettled)==null||b.call(y,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,p)=>{mt(this,zo,zs).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{mt(this,zo,zs).call(this,{type:"pause"})},onContinue:()=>{mt(this,zo,zs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),V(this,nr).start()}},Cc=new WeakMap,Va=new WeakMap,ho=new WeakMap,Wa=new WeakMap,nr=new WeakMap,lf=new WeakMap,qa=new WeakMap,zo=new WeakSet,zs=function(n){const r=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...KT(o.data,this.options),fetchMeta:n.meta??null};case"success":return Me(this,Va,void 0),{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return jx(s)&&s.revert&&V(this,Va)?{...V(this,Va),fetchStatus:"idle"}:{...o,error:s,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=r(this.state),Rn.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),V(this,ho).notify({query:this,type:"updated",action:n})})},BC);function KT(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VT(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GF(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,r=n!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ls,HC,KF=(HC=class extends cu{constructor(n={}){super();Xe(this,ls);this.config=n,Me(this,ls,new Map)}build(n,r,o){const s=r.queryKey,i=r.queryHash??ob(s,r);let a=this.get(i);return a||(a=new qF({client:n,queryKey:s,queryHash:i,options:n.defaultQueryOptions(r),state:o,defaultOptions:n.getQueryDefaults(s)}),this.add(a)),a}add(n){V(this,ls).has(n.queryHash)||(V(this,ls).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=V(this,ls).get(n.queryHash);r&&(n.destroy(),r===n&&V(this,ls).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Rn.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return V(this,ls).get(n)}getAll(){return[...V(this,ls).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(o=>wk(r,o))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(o=>wk(n,o)):r}notify(n){Rn.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},ls=new WeakMap,HC),cs,ur,Ga,us,Ei,VC,YF=(VC=class extends GT{constructor(n){super();Xe(this,us);Xe(this,cs);Xe(this,ur);Xe(this,Ga);this.mutationId=n.mutationId,Me(this,ur,n.mutationCache),Me(this,cs,[]),this.state=n.state||YT(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){V(this,cs).includes(n)||(V(this,cs).push(n),this.clearGcTimeout(),V(this,ur).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Me(this,cs,V(this,cs).filter(r=>r!==n)),this.scheduleGc(),V(this,ur).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){V(this,cs).length||(this.state.status==="pending"?this.scheduleGc():V(this,ur).remove(this))}continue(){var n;return((n=V(this,Ga))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,u,d,h,f,m,p,v,y,b,x,w,S,k,C,N,j,P;const r=()=>{mt(this,us,Ei).call(this,{type:"continue"})};Me(this,Ga,qT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(E,_)=>{mt(this,us,Ei).call(this,{type:"failed",failureCount:E,error:_})},onPause:()=>{mt(this,us,Ei).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,ur).canRun(this)}));const o=this.state.status==="pending",s=!V(this,Ga).canStart();try{if(o)r();else{mt(this,us,Ei).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(i=V(this,ur).config).onMutate)==null?void 0:a.call(i,n,this));const _=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));_!==this.state.context&&mt(this,us,Ei).call(this,{type:"pending",context:_,variables:n,isPaused:s})}const E=await V(this,Ga).start();return await((h=(d=V(this,ur).config).onSuccess)==null?void 0:h.call(d,E,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,n,this.state.context)),await((v=(p=V(this,ur).config).onSettled)==null?void 0:v.call(p,E,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,E,null,n,this.state.context)),mt(this,us,Ei).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(x=V(this,ur).config).onError)==null?void 0:w.call(x,E,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,E,n,this.state.context)),await((N=(C=V(this,ur).config).onSettled)==null?void 0:N.call(C,void 0,E,this.state.variables,this.state.context,this)),await((P=(j=this.options).onSettled)==null?void 0:P.call(j,void 0,E,n,this.state.context)),E}finally{mt(this,us,Ei).call(this,{type:"error",error:E})}}finally{V(this,ur).runNext(this)}}},cs=new WeakMap,ur=new WeakMap,Ga=new WeakMap,us=new WeakSet,Ei=function(n){const r=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rn.batch(()=>{V(this,cs).forEach(o=>{o.onMutationUpdate(n)}),V(this,ur).notify({mutation:this,type:"updated",action:n})})},VC);function YT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hs,Fo,cf,WC,XF=(WC=class extends cu{constructor(n={}){super();Xe(this,Hs);Xe(this,Fo);Xe(this,cf);this.config=n,Me(this,Hs,new Set),Me(this,Fo,new Map),Me(this,cf,0)}build(n,r,o){const s=new YF({mutationCache:this,mutationId:++Yf(this,cf)._,options:n.defaultMutationOptions(r),state:o});return this.add(s),s}add(n){V(this,Hs).add(n);const r=xh(n);if(typeof r=="string"){const o=V(this,Fo).get(r);o?o.push(n):V(this,Fo).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(V(this,Hs).delete(n)){const r=xh(n);if(typeof r=="string"){const o=V(this,Fo).get(r);if(o)if(o.length>1){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}else o[0]===n&&V(this,Fo).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){const r=xh(n);if(typeof r=="string"){const o=V(this,Fo).get(r),s=o==null?void 0:o.find(i=>i.state.status==="pending");return!s||s===n}else return!0}runNext(n){var o;const r=xh(n);if(typeof r=="string"){const s=(o=V(this,Fo).get(r))==null?void 0:o.find(i=>i!==n&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rn.batch(()=>{V(this,Hs).forEach(n=>{this.notify({type:"removed",mutation:n})}),V(this,Hs).clear(),V(this,Fo).clear()})}getAll(){return Array.from(V(this,Hs))}find(n){const r={exact:!0,...n};return this.getAll().find(o=>bk(r,o))}findAll(n={}){return this.getAll().filter(r=>bk(n,r))}notify(n){Rn.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Rn.batch(()=>Promise.all(n.map(r=>r.continue().catch(mr))))}},Hs=new WeakMap,Fo=new WeakMap,cf=new WeakMap,WC);function xh(e){var n;return(n=e.options.scope)==null?void 0:n.id}function Nk(e){return{onFetch:(n,r)=>{var h,f,m,p,v;const o=n.options,s=(m=(f=(h=n.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=n.state.data)==null?void 0:p.pages)||[],a=((v=n.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let y=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(n.signal.aborted?y=!0:n.signal.addEventListener("abort",()=>{y=!0}),n.signal)})},x=BT(n.options,n.fetchOptions),w=async(S,k,C)=>{if(y)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const I={client:n.client,queryKey:n.queryKey,pageParam:k,direction:C?"backward":"forward",meta:n.options.meta};return b(I),I})(),P=await x(j),{maxPages:E}=n.options,_=C?FF:zF;return{pages:_(S.pages,P,E),pageParams:_(S.pageParams,k,E)}};if(s&&i.length){const S=s==="backward",k=S?QF:Ck,C={pages:i,pageParams:a},N=k(o,C);l=await w(C,N,S)}else{const S=e??i.length;do{const k=u===0?a[0]??o.initialPageParam:Ck(o,l);if(u>0&&k==null)break;l=await w(l,k),u++}while(u<S)}return l};n.options.persister?n.fetchFn=()=>{var y,b;return(b=(y=n.options).persister)==null?void 0:b.call(y,d,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r)}:n.fetchFn=d}}}function Ck(e,{pages:n,pageParams:r}){const o=n.length-1;return n.length>0?e.getNextPageParam(n[o],n,r[o],r):void 0}function QF(e,{pages:n,pageParams:r}){var o;return n.length>0?(o=e.getPreviousPageParam)==null?void 0:o.call(e,n[0],n,r[0],r):void 0}var yn,Fi,Ui,jc,_c,Bi,Ec,Tc,qC,JF=(qC=class{constructor(e={}){Xe(this,yn);Xe(this,Fi);Xe(this,Ui);Xe(this,jc);Xe(this,_c);Xe(this,Bi);Xe(this,Ec);Xe(this,Tc);Me(this,yn,e.queryCache||new KF),Me(this,Fi,e.mutationCache||new XF),Me(this,Ui,e.defaultOptions||{}),Me(this,jc,new Map),Me(this,_c,new Map),Me(this,Bi,0)}mount(){Yf(this,Bi)._++,V(this,Bi)===1&&(Me(this,Ec,ib.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,yn).onFocus())})),Me(this,Tc,Wp.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,yn).onOnline())})))}unmount(){var e,n;Yf(this,Bi)._--,V(this,Bi)===0&&((e=V(this,Ec))==null||e.call(this),Me(this,Ec,void 0),(n=V(this,Tc))==null||n.call(this),Me(this,Tc,void 0))}isFetching(e){return V(this,yn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Fi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=V(this,yn).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=V(this,yn).build(this,n),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ia(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(e){return V(this,yn).findAll(e).map(({queryKey:n,state:r})=>{const o=r.data;return[n,o]})}setQueryData(e,n,r){const o=this.defaultQueryOptions({queryKey:e}),s=V(this,yn).get(o.queryHash),i=s==null?void 0:s.state.data,a=LF(n,i);if(a!==void 0)return V(this,yn).build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return Rn.batch(()=>V(this,yn).findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,n,r)]))}getQueryState(e){var r;const n=this.defaultQueryOptions({queryKey:e});return(r=V(this,yn).get(n.queryHash))==null?void 0:r.state}removeQueries(e){const n=V(this,yn);Rn.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=V(this,yn);return Rn.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},o=Rn.batch(()=>V(this,yn).findAll(e).map(s=>s.cancel(r)));return Promise.all(o).then(mr).catch(mr)}invalidateQueries(e,n={}){return Rn.batch(()=>(V(this,yn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},o=Rn.batch(()=>V(this,yn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(mr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(o).then(mr)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=V(this,yn).build(this,n);return r.isStaleByTime(ia(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mr).catch(mr)}fetchInfiniteQuery(e){return e.behavior=Nk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mr).catch(mr)}ensureInfiniteQueryData(e){return e.behavior=Nk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wp.isOnline()?V(this,Fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,yn)}getMutationCache(){return V(this,Fi)}getDefaultOptions(){return V(this,Ui)}setDefaultOptions(e){Me(this,Ui,e)}setQueryDefaults(e,n){V(this,jc).set(hl(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...V(this,jc).values()],r={};return n.forEach(o=>{Vd(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,n){V(this,_c).set(hl(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...V(this,_c).values()],r={};return n.forEach(o=>{Vd(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...V(this,Ui).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=ob(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===sb&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Ui).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,yn).clear(),V(this,Fi).clear()}},yn=new WeakMap,Fi=new WeakMap,Ui=new WeakMap,jc=new WeakMap,_c=new WeakMap,Bi=new WeakMap,Ec=new WeakMap,Tc=new WeakMap,qC),Ar,Pt,uf,dr,Ka,Ac,Hi,Vi,df,Pc,Mc,Ya,Xa,Wi,Rc,Dt,Ku,_0,E0,T0,A0,P0,M0,R0,XT,GC,ZF=(GC=class extends cu{constructor(n,r){super();Xe(this,Dt);Xe(this,Ar);Xe(this,Pt);Xe(this,uf);Xe(this,dr);Xe(this,Ka);Xe(this,Ac);Xe(this,Hi);Xe(this,Vi);Xe(this,df);Xe(this,Pc);Xe(this,Mc);Xe(this,Ya);Xe(this,Xa);Xe(this,Wi);Xe(this,Rc,new Set);this.options=r,Me(this,Ar,n),Me(this,Vi,null),Me(this,Hi,j0()),this.options.experimental_prefetchInRender||V(this,Hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Pt).addObserver(this),jk(V(this,Pt),this.options)?mt(this,Dt,Ku).call(this):this.updateResult(),mt(this,Dt,A0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I0(V(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I0(V(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,Dt,P0).call(this),mt(this,Dt,M0).call(this),V(this,Pt).removeObserver(this)}setOptions(n){const r=this.options,o=V(this,Pt);if(this.options=V(this,Ar).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof po(this.options.enabled,V(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,Dt,R0).call(this),V(this,Pt).setOptions(this.options),r._defaulted&&!Vp(this.options,r)&&V(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Pt),observer:this});const s=this.hasListeners();s&&_k(V(this,Pt),o,this.options,r)&&mt(this,Dt,Ku).call(this),this.updateResult(),s&&(V(this,Pt)!==o||po(this.options.enabled,V(this,Pt))!==po(r.enabled,V(this,Pt))||ia(this.options.staleTime,V(this,Pt))!==ia(r.staleTime,V(this,Pt)))&&mt(this,Dt,_0).call(this);const i=mt(this,Dt,E0).call(this);s&&(V(this,Pt)!==o||po(this.options.enabled,V(this,Pt))!==po(r.enabled,V(this,Pt))||i!==V(this,Wi))&&mt(this,Dt,T0).call(this,i)}getOptimisticResult(n){const r=V(this,Ar).getQueryCache().build(V(this,Ar),n),o=this.createResult(r,n);return t8(this,o)&&(Me(this,dr,o),Me(this,Ac,this.options),Me(this,Ka,V(this,Pt).state)),o}getCurrentResult(){return V(this,dr)}trackResult(n,r){return new Proxy(n,{get:(o,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(o,s))})}trackProp(n){V(this,Rc).add(n)}getCurrentQuery(){return V(this,Pt)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=V(this,Ar).defaultQueryOptions(n),o=V(this,Ar).getQueryCache().build(V(this,Ar),r);return o.fetch().then(()=>this.createResult(o,r))}fetch(n){return mt(this,Dt,Ku).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,dr)))}createResult(n,r){var E;const o=V(this,Pt),s=this.options,i=V(this,dr),a=V(this,Ka),l=V(this,Ac),d=n!==o?n.state:V(this,uf),{state:h}=n;let f={...h},m=!1,p;if(r._optimisticResults){const _=this.hasListeners(),I=!_&&jk(n,r),O=_&&_k(n,o,r,s);(I||O)&&(f={...f,...KT(h.data,n.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:b}=f;p=f.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let _;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(_=i.data,x=!0):_=typeof r.placeholderData=="function"?r.placeholderData((E=V(this,Mc))==null?void 0:E.state.data,V(this,Mc)):r.placeholderData,_!==void 0&&(b="success",p=C0(i==null?void 0:i.data,_,r),m=!0)}if(r.select&&p!==void 0&&!x)if(i&&p===(a==null?void 0:a.data)&&r.select===V(this,df))p=V(this,Pc);else try{Me(this,df,r.select),p=r.select(p),p=C0(i==null?void 0:i.data,p,r),Me(this,Pc,p),Me(this,Vi,null)}catch(_){Me(this,Vi,_)}V(this,Vi)&&(v=V(this,Vi),p=V(this,Pc),y=Date.now(),b="error");const w=f.fetchStatus==="fetching",S=b==="pending",k=b==="error",C=S&&w,N=p!==void 0,P={status:b,fetchStatus:f.fetchStatus,isPending:S,isSuccess:b==="success",isError:k,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:k&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:k&&N,isStale:ab(n,r),refetch:this.refetch,promise:V(this,Hi),isEnabled:po(r.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const _=U=>{P.status==="error"?U.reject(P.error):P.data!==void 0&&U.resolve(P.data)},I=()=>{const U=Me(this,Hi,P.promise=j0());_(U)},O=V(this,Hi);switch(O.status){case"pending":n.queryHash===o.queryHash&&_(O);break;case"fulfilled":(P.status==="error"||P.data!==O.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==O.reason)&&I();break}}return P}updateResult(){const n=V(this,dr),r=this.createResult(V(this,Pt),this.options);if(Me(this,Ka,V(this,Pt).state),Me(this,Ac,this.options),V(this,Ka).data!==void 0&&Me(this,Mc,V(this,Pt)),Vp(r,n))return;Me(this,dr,r);const o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!V(this,Rc).size)return!0;const a=new Set(i??V(this,Rc));return this.options.throwOnError&&a.add("error"),Object.keys(V(this,dr)).some(l=>{const u=l;return V(this,dr)[u]!==n[u]&&a.has(u)})};mt(this,Dt,XT).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,Dt,A0).call(this)}},Ar=new WeakMap,Pt=new WeakMap,uf=new WeakMap,dr=new WeakMap,Ka=new WeakMap,Ac=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,df=new WeakMap,Pc=new WeakMap,Mc=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,Wi=new WeakMap,Rc=new WeakMap,Dt=new WeakSet,Ku=function(n){mt(this,Dt,R0).call(this);let r=V(this,Pt).fetch(this.options,n);return n!=null&&n.throwOnError||(r=r.catch(mr)),r},_0=function(){mt(this,Dt,P0).call(this);const n=ia(this.options.staleTime,V(this,Pt));if(fl||V(this,dr).isStale||!k0(n))return;const o=FT(V(this,dr).dataUpdatedAt,n)+1;Me(this,Ya,setTimeout(()=>{V(this,dr).isStale||this.updateResult()},o))},E0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Pt)):this.options.refetchInterval)??!1},T0=function(n){mt(this,Dt,M0).call(this),Me(this,Wi,n),!(fl||po(this.options.enabled,V(this,Pt))===!1||!k0(V(this,Wi))||V(this,Wi)===0)&&Me(this,Xa,setInterval(()=>{(this.options.refetchIntervalInBackground||ib.isFocused())&&mt(this,Dt,Ku).call(this)},V(this,Wi)))},A0=function(){mt(this,Dt,_0).call(this),mt(this,Dt,T0).call(this,mt(this,Dt,E0).call(this))},P0=function(){V(this,Ya)&&(clearTimeout(V(this,Ya)),Me(this,Ya,void 0))},M0=function(){V(this,Xa)&&(clearInterval(V(this,Xa)),Me(this,Xa,void 0))},R0=function(){const n=V(this,Ar).getQueryCache().build(V(this,Ar),this.options);if(n===V(this,Pt))return;const r=V(this,Pt);Me(this,Pt,n),Me(this,uf,n.state),this.hasListeners()&&(r==null||r.removeObserver(this),n.addObserver(this))},XT=function(n){Rn.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(V(this,dr))}),V(this,Ar).getQueryCache().notify({query:V(this,Pt),type:"observerResultsUpdated"})})},GC);function e8(e,n){return po(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function jk(e,n){return e8(e,n)||e.state.data!==void 0&&I0(e,n,n.refetchOnMount)}function I0(e,n,r){if(po(n.enabled,e)!==!1&&ia(n.staleTime,e)!=="static"){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&ab(e,n)}return!1}function _k(e,n,r,o){return(e!==n||po(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ab(e,r)}function ab(e,n){return po(n.enabled,e)!==!1&&e.isStaleByTime(ia(n.staleTime,e))}function t8(e,n){return!Vp(e.getCurrentResult(),n)}var qi,Gi,Pr,Vs,Js,tp,O0,KC,n8=(KC=class extends cu{constructor(r,o){super();Xe(this,Js);Xe(this,qi);Xe(this,Gi);Xe(this,Pr);Xe(this,Vs);Me(this,qi,r),this.setOptions(o),this.bindMethods(),mt(this,Js,tp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const o=this.options;this.options=V(this,qi).defaultMutationOptions(r),Vp(this.options,o)||V(this,qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Pr),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&hl(o.mutationKey)!==hl(this.options.mutationKey)?this.reset():((s=V(this,Pr))==null?void 0:s.state.status)==="pending"&&V(this,Pr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,Pr))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,Js,tp).call(this),mt(this,Js,O0).call(this,r)}getCurrentResult(){return V(this,Gi)}reset(){var r;(r=V(this,Pr))==null||r.removeObserver(this),Me(this,Pr,void 0),mt(this,Js,tp).call(this),mt(this,Js,O0).call(this)}mutate(r,o){var s;return Me(this,Vs,o),(s=V(this,Pr))==null||s.removeObserver(this),Me(this,Pr,V(this,qi).getMutationCache().build(V(this,qi),this.options)),V(this,Pr).addObserver(this),V(this,Pr).execute(r)}},qi=new WeakMap,Gi=new WeakMap,Pr=new WeakMap,Vs=new WeakMap,Js=new WeakSet,tp=function(){var o;const r=((o=V(this,Pr))==null?void 0:o.state)??YT();Me(this,Gi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},O0=function(r){Rn.batch(()=>{var o,s,i,a,l,u,d,h;if(V(this,Vs)&&this.hasListeners()){const f=V(this,Gi).variables,m=V(this,Gi).context;(r==null?void 0:r.type)==="success"?((s=(o=V(this,Vs)).onSuccess)==null||s.call(o,r.data,f,m),(a=(i=V(this,Vs)).onSettled)==null||a.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((u=(l=V(this,Vs)).onError)==null||u.call(l,r.error,f,m),(h=(d=V(this,Vs)).onSettled)==null||h.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(V(this,Gi))})})},KC),QT=g.createContext(void 0),Nf=e=>{const n=g.useContext(QT);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},r8=({client:e,children:n})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(QT.Provider,{value:e,children:n})),JT=g.createContext(!1),o8=()=>g.useContext(JT);JT.Provider;function s8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var i8=g.createContext(s8()),a8=()=>g.useContext(i8),l8=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},c8=e=>{g.useEffect(()=>{e.clearReset()},[e])},u8=({result:e,errorResetBoundary:n,throwOnError:r,query:o,suspense:s})=>e.isError&&!n.isReset()&&!e.isFetching&&o&&(s&&e.data===void 0||HT(r,[e.error,o])),d8=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},f8=(e,n)=>e.isLoading&&e.isFetching&&!n,h8=(e,n)=>(e==null?void 0:e.suspense)&&n.isPending,Ek=(e,n,r)=>n.fetchOptimistic(e).catch(()=>{r.clearReset()});function p8(e,n,r){var f,m,p,v,y;const o=o8(),s=a8(),i=Nf(),a=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,a),a._optimisticResults=o?"isRestoring":"optimistic",d8(a),l8(a,s),c8(s);const l=!i.getQueryCache().get(a.queryHash),[u]=g.useState(()=>new n(i,a)),d=u.getOptimisticResult(a),h=!o&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const x=h?u.subscribe(Rn.batchCalls(b)):mr;return u.updateResult(),x},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),g.useEffect(()=>{u.setOptions(a)},[a,u]),h8(a,d))throw Ek(a,u,s);if(u8({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;if((v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,a,d),a.experimental_prefetchInRender&&!fl&&f8(d,o)){const b=l?Ek(a,u,s):(y=i.getQueryCache().get(a.queryHash))==null?void 0:y.promise;b==null||b.catch(mr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function Ko(e,n){return p8(e,ZF)}function _x(e,n){const r=Nf(),[o]=g.useState(()=>new n8(r,e));g.useEffect(()=>{o.setOptions(e)},[o,e]);const s=g.useSyncExternalStore(g.useCallback(a=>o.subscribe(Rn.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=g.useCallback((a,l)=>{o.mutate(a,l).catch(mr)},[o]);if(s.error&&HT(o.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Wd.apply(this,arguments)}var Xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xi||(Xi={}));const Tk="popstate";function m8(e){e===void 0&&(e={});function n(o,s){let{pathname:i,search:a,hash:l}=o.location;return D0("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(o,s){return typeof s=="string"?s:qp(s)}return x8(n,r,null,e)}function bn(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ZT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function g8(){return Math.random().toString(36).substr(2,8)}function Ak(e,n){return{usr:e.state,key:e.key,idx:n}}function D0(e,n,r,o){return r===void 0&&(r=null),Wd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?uu(n):n,{state:r,key:n&&n.key||o||g8()})}function qp(e){let{pathname:n="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function uu(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(n.search=e.substr(o),e=e.substr(0,o)),e&&(n.pathname=e)}return n}function x8(e,n,r,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:i=!1}=o,a=s.history,l=Xi.Pop,u=null,d=h();d==null&&(d=0,a.replaceState(Wd({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=Xi.Pop;let b=h(),x=b==null?null:b-d;d=b,u&&u({action:l,location:y.location,delta:x})}function m(b,x){l=Xi.Push;let w=D0(y.location,b,x);d=h()+1;let S=Ak(w,d),k=y.createHref(w);try{a.pushState(S,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}i&&u&&u({action:l,location:y.location,delta:1})}function p(b,x){l=Xi.Replace;let w=D0(y.location,b,x);d=h();let S=Ak(w,d),k=y.createHref(w);a.replaceState(S,"",k),i&&u&&u({action:l,location:y.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:qp(b);return w=w.replace(/ $/,"%20"),bn(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return l},get location(){return e(s,a)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Tk,f),u=b,()=>{s.removeEventListener(Tk,f),u=null}},createHref(b){return n(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(b){return a.go(b)}};return y}var Pk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pk||(Pk={}));function y8(e,n,r){return r===void 0&&(r="/"),v8(e,n,r,!1)}function v8(e,n,r,o){let s=typeof n=="string"?uu(n):n,i=Vc(s.pathname||"/",r);if(i==null)return null;let a=eA(e);w8(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=P8(i);l=T8(a[u],d,o)}return l}function eA(e,n,r,o){n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o="");let s=(i,a,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(bn(u.relativePath.startsWith(o),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(o.length));let d=aa([o,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(bn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),eA(i.children,n,h,d)),!(i.path==null&&!i.index)&&n.push({path:d,score:_8(d,i.index),routesMeta:h})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let u of tA(i.path))s(i,a,u)}),n}function tA(e){let n=e.split("/");if(n.length===0)return[];let[r,...o]=n,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(o.length===0)return s?[i,""]:[i];let a=tA(o.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function w8(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:E8(n.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const b8=/^:[\w-]+$/,S8=3,k8=2,N8=1,C8=10,j8=-2,Mk=e=>e==="*";function _8(e,n){let r=e.split("/"),o=r.length;return r.some(Mk)&&(o+=j8),n&&(o+=k8),r.filter(s=>!Mk(s)).reduce((s,i)=>s+(b8.test(i)?S8:i===""?N8:C8),o)}function E8(e,n){return e.length===n.length&&e.slice(0,-1).every((o,s)=>o===n[s])?e[e.length-1]-n[n.length-1]:0}function T8(e,n,r){let{routesMeta:o}=e,s={},i="/",a=[];for(let l=0;l<o.length;++l){let u=o[l],d=l===o.length-1,h=i==="/"?n:n.slice(i.length)||"/",f=Gp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!f&&d&&r&&!o[o.length-1].route.index&&(f=Gp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:aa([i,f.pathname]),pathnameBase:O8(aa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=aa([i,f.pathnameBase]))}return a}function Gp(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=A8(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((d,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let y=l[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function A8(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),ZT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(o.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),o]}function P8(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ZT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Vc(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function M8(e,n){n===void 0&&(n="/");let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?uu(e):e;return{pathname:r?r.startsWith("/")?r:R8(r,n):n,search:D8(o),hash:L8(s)}}function R8(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ex(e,n,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I8(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function nA(e,n){let r=I8(e);return n?r.map((o,s)=>s===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function rA(e,n,r,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=uu(e):(s=Wd({},e),bn(!s.pathname||!s.pathname.includes("?"),Ex("?","pathname","search",s)),bn(!s.pathname||!s.pathname.includes("#"),Ex("#","pathname","hash",s)),bn(!s.search||!s.search.includes("#"),Ex("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=n.length-1;if(!o&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?n[f]:"/"}let u=M8(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const aa=e=>e.join("/").replace(/\/\/+/g,"/"),O8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,L8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oA=["post","put","patch","delete"];new Set(oA);const z8=["get",...oA];new Set(z8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},qd.apply(this,arguments)}const Zm=g.createContext(null),sA=g.createContext(null),ka=g.createContext(null),eg=g.createContext(null),pi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),iA=g.createContext(null);function F8(e,n){let{relative:r}=n===void 0?{}:n;Cf()||bn(!1);let{basename:o,navigator:s}=g.useContext(ka),{hash:i,pathname:a,search:l}=tg(e,{relative:r}),u=a;return o!=="/"&&(u=a==="/"?o:aa([o,a])),s.createHref({pathname:u,search:l,hash:i})}function Cf(){return g.useContext(eg)!=null}function _s(){return Cf()||bn(!1),g.useContext(eg).location}function aA(e){g.useContext(ka).static||g.useLayoutEffect(e)}function Es(){let{isDataRoute:e}=g.useContext(pi);return e?t9():U8()}function U8(){Cf()||bn(!1);let e=g.useContext(Zm),{basename:n,future:r,navigator:o}=g.useContext(ka),{matches:s}=g.useContext(pi),{pathname:i}=_s(),a=JSON.stringify(nA(s,r.v7_relativeSplatPath)),l=g.useRef(!1);return aA(()=>{l.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){o.go(d);return}let f=rA(d,JSON.parse(a),i,h.relative==="path");e==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:aa([n,f.pathname])),(h.replace?o.replace:o.push)(f,h.state,h)},[n,o,a,i,e])}const B8=g.createContext(null);function H8(e){let n=g.useContext(pi).outlet;return n&&g.createElement(B8.Provider,{value:e},n)}function lA(){let{matches:e}=g.useContext(pi),n=e[e.length-1];return n?n.params:{}}function tg(e,n){let{relative:r}=n===void 0?{}:n,{future:o}=g.useContext(ka),{matches:s}=g.useContext(pi),{pathname:i}=_s(),a=JSON.stringify(nA(s,o.v7_relativeSplatPath));return g.useMemo(()=>rA(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function V8(e,n){return W8(e,n)}function W8(e,n,r,o){Cf()||bn(!1);let{navigator:s}=g.useContext(ka),{matches:i}=g.useContext(pi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=_s(),h;if(n){var f;let b=typeof n=="string"?uu(n):n;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||bn(!1),h=b}else h=d;let m=h.pathname||"/",p=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=y8(e,{pathname:p}),y=X8(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:aa([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:aa([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,o);return n&&y?g.createElement(eg.Provider,{value:{location:qd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xi.Pop}},y):y}function q8(){let e=e9(),n=$8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},n),r?g.createElement("pre",{style:s},r):null,null)}const G8=g.createElement(q8,null);class K8 extends g.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?g.createElement(pi.Provider,{value:this.props.routeContext},g.createElement(iA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y8(e){let{routeContext:n,match:r,children:o}=e,s=g.useContext(Zm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(pi.Provider,{value:n},o)}function X8(e,n,r,o){var s;if(n===void 0&&(n=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=o)!=null&&i.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||bn(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(r&&o&&o.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:p}=r,v=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let p,v=!1,y=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||G8,u&&(d<0&&m===0?(v=!0,b=null):d===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=n.concat(a.slice(0,m+1)),w=()=>{let S;return p?S=y:v?S=b:f.route.Component?S=g.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,g.createElement(Y8,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(K8,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var cA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cA||{}),Kp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kp||{});function Q8(e){let n=g.useContext(Zm);return n||bn(!1),n}function J8(e){let n=g.useContext(sA);return n||bn(!1),n}function Z8(e){let n=g.useContext(pi);return n||bn(!1),n}function uA(e){let n=Z8(),r=n.matches[n.matches.length-1];return r.route.id||bn(!1),r.route.id}function e9(){var e;let n=g.useContext(iA),r=J8(Kp.UseRouteError),o=uA(Kp.UseRouteError);return n!==void 0?n:(e=r.errors)==null?void 0:e[o]}function t9(){let{router:e}=Q8(cA.UseNavigateStable),n=uA(Kp.UseNavigateStable),r=g.useRef(!1);return aA(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qd({fromRouteId:n},i)))},[e,n])}function n9(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function r9(e){return H8(e.context)}function xn(e){bn(!1)}function o9(e){let{basename:n="/",children:r=null,location:o,navigationType:s=Xi.Pop,navigator:i,static:a=!1,future:l}=e;Cf()&&bn(!1);let u=n.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:u,navigator:i,static:a,future:qd({v7_relativeSplatPath:!1},l)}),[u,l,i,a]);typeof o=="string"&&(o=uu(o));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:v="default"}=o,y=g.useMemo(()=>{let b=Vc(h,u);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:v},navigationType:s}},[u,h,f,m,p,v,s]);return y==null?null:g.createElement(ka.Provider,{value:d},g.createElement(eg.Provider,{children:r,value:y}))}function s9(e){let{children:n,location:r}=e;return V8(L0(n),r)}new Promise(()=>{});function L0(e,n){n===void 0&&(n=[]);let r=[];return g.Children.forEach(e,(o,s)=>{if(!g.isValidElement(o))return;let i=[...n,s];if(o.type===g.Fragment){r.push.apply(r,L0(o.props.children,i));return}o.type!==xn&&bn(!1),!o.props.index||!o.props.children||bn(!1);let a={id:o.props.id||i.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(a.children=L0(o.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Yp.apply(this,arguments)}function dA(e,n){if(e==null)return{};var r={},o=Object.keys(e),s,i;for(i=0;i<o.length;i++)s=o[i],!(n.indexOf(s)>=0)&&(r[s]=e[s]);return r}function i9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a9(e,n){return e.button===0&&(!n||n==="_self")&&!i9(e)}function $0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,r)=>{let o=e[r];return n.concat(Array.isArray(o)?o.map(s=>[r,s]):[[r,o]])},[]))}function l9(e,n){let r=$0(e);return n&&n.forEach((o,s)=>{r.has(s)||n.getAll(s).forEach(i=>{r.append(s,i)})}),r}const c9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d9="6";try{window.__reactRouterVersion=d9}catch{}const f9=g.createContext({isTransitioning:!1}),h9="startTransition",Rk=Fv[h9];function p9(e){let{basename:n,children:r,future:o,window:s}=e,i=g.useRef();i.current==null&&(i.current=m8({window:s,v5Compat:!0}));let a=i.current,[l,u]=g.useState({action:a.action,location:a.location}),{v7_startTransition:d}=o||{},h=g.useCallback(f=>{d&&Rk?Rk(()=>u(f)):u(f)},[u,d]);return g.useLayoutEffect(()=>a.listen(h),[a,h]),g.useEffect(()=>n9(o),[o]),g.createElement(o9,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:o})}const m9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x9=g.forwardRef(function(n,r){let{onClick:o,relative:s,reloadDocument:i,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f}=n,m=dA(n,c9),{basename:p}=g.useContext(ka),v,y=!1;if(typeof d=="string"&&g9.test(d)&&(v=d,m9))try{let S=new URL(window.location.href),k=d.startsWith("//")?new URL(S.protocol+d):new URL(d),C=Vc(k.pathname,p);k.origin===S.origin&&C!=null?d=C+k.search+k.hash:y=!0}catch{}let b=F8(d,{relative:s}),x=v9(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:f});function w(S){o&&o(S),S.defaultPrevented||x(S)}return g.createElement("a",Yp({},m,{href:v||b,onClick:y||i?o:w,ref:r,target:u}))}),Ik=g.forwardRef(function(n,r){let{"aria-current":o="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:h}=n,f=dA(n,u9),m=tg(u,{relative:f.relative}),p=_s(),v=g.useContext(sA),{navigator:y,basename:b}=g.useContext(ka),x=v!=null&&b9(m)&&d===!0,w=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=p.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(S=S.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&b&&(k=Vc(k,b)||k);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=S===w||!a&&S.startsWith(w)&&S.charAt(C)==="/",j=k!=null&&(k===w||!a&&k.startsWith(w)&&k.charAt(w.length)==="/"),P={isActive:N,isPending:j,isTransitioning:x},E=N?o:void 0,_;typeof i=="function"?_=i(P):_=[i,N?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(P):l;return g.createElement(x9,Yp({},f,{"aria-current":E,className:_,ref:r,style:I,to:u,viewTransition:d}),typeof h=="function"?h(P):h)});var z0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(z0||(z0={}));var Ok;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ok||(Ok={}));function y9(e){let n=g.useContext(Zm);return n||bn(!1),n}function v9(e,n){let{target:r,replace:o,state:s,preventScrollReset:i,relative:a,viewTransition:l}=n===void 0?{}:n,u=Es(),d=_s(),h=tg(e,{relative:a});return g.useCallback(f=>{if(a9(f,r)){f.preventDefault();let m=o!==void 0?o:qp(d)===qp(h);u(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,h,o,s,r,e,i,a,l])}function w9(e){let n=g.useRef($0(e)),r=g.useRef(!1),o=_s(),s=g.useMemo(()=>l9(o.search,r.current?null:n.current),[o.search]),i=Es(),a=g.useCallback((l,u)=>{const d=$0(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,u)},[i,s]);return[s,a]}function b9(e,n){n===void 0&&(n={});let r=g.useContext(f9);r==null&&bn(!1);let{basename:o}=y9(z0.useViewTransitionState),s=tg(e,{relative:n.relative});if(!r.isTransitioning)return!1;let i=Vc(r.currentLocation.pathname,o)||r.currentLocation.pathname,a=Vc(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Gp(s.pathname,a)!=null||Gp(s.pathname,i)!=null}const hr="",la="";async function Fe(e,n={}){const{headers:r,...o}=n,s={"Content-Type":"application/json",Accept:"application/json",...r},i=localStorage.getItem("forge_license_key");i&&(s["x-license-key"]=i);const a=await fetch(`${hr}${e}`,{headers:s,credentials:"include",...o});if(!a.ok){const l=await a.text(),u=new Error(l||a.statusText);throw u.status=a.status,u}if(a.status!==204)return a.json()}const Ye={listAgents(){return Fe("/agents")},fetchBranding(){return Fe("/branding")},saveBranding(e){return Fe("/branding",{method:"PUT",body:JSON.stringify(e)})},createAgent(e){return Fe("/agents",{method:"POST",body:JSON.stringify(e)})},updateAgent(e,n){return Fe(`/agents/${e}`,{method:"PATCH",body:JSON.stringify(n)})},deleteAgent(e){return Fe(`/agents/${e}`,{method:"DELETE"})},listTasks(e){const n=e?`?status=${encodeURIComponent(e)}`:"";return Fe(`/tasks${n}`)},enqueueTask(e,n){return Fe("/tasks/assign",{method:"POST",body:JSON.stringify({agentId:e,prompt:n})})},getAgentMemory(e,n=10){return Fe(`/agents/${e}/memory?limit=${n}`)},updateAgentStatus(e,n){return Fe(`/agents/${e}/status`,{method:"PATCH",body:JSON.stringify({status:n})})},runCommand(e,n){return Fe("/commands",{method:"POST",body:JSON.stringify({input:e,org_id:n??void 0})})},buildAgentFromPrompt(e,n){return Fe("/agent-builder",{method:"POST",body:JSON.stringify({promptText:e,options:n})})},generateAgentConfig(e,n){return Fe("/agent-config/schema",{method:"POST",body:JSON.stringify({description:e,...n})})},fetchAgentConfig(e){return Fe(`/agent-config/${e}`)},updateAgentConfig(e,n){return Fe(`/agent-config/${e}`,{method:"PUT",body:JSON.stringify(n)})},fetchOverviewInsights(){return Fe("/insights/overview")},fetchMemoryGraph(e){const n=e?`?userId=${encodeURIComponent(e)}`:"";return Fe(`/memory/graph${n}`)},runMultiAgentSession(e){return Fe("/multi-agent/sessions",{method:"POST",body:JSON.stringify({prompt:e})})},fetchMultiAgentMemory(){return Fe("/multi-agent/memory")},dispatchToolAgentPrompt(e,n){return Fe("/multi-agent/tool-agents/run",{method:"POST",body:JSON.stringify({prompt:e,agentId:n==null?void 0:n.agentId,limit:n==null?void 0:n.limit,mode:(n==null?void 0:n.mode)??"auto"})})},listAutomations(){return Fe("/automations")},createAutomation(e){return Fe("/automations",{method:"POST",body:JSON.stringify(e)})},updateAutomation(e,n){return Fe(`/automations/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(n)})},sendAutomationMessage(e){return Fe("/automation-builder/message",{method:"POST",body:JSON.stringify(e)})},provideAutomationKey(e){return Fe("/automation-builder/key",{method:"POST",body:JSON.stringify(e)})},endAutomationSession(e){return Fe(`/automation-builder/session/${encodeURIComponent(e)}`,{method:"DELETE"})},interpretAutomationPrompt(e,n){return Fe("/automation-builder/interpret",{method:"POST",body:JSON.stringify({prompt:e,context:n??{}})})},compileWorkflow(e){return Fe("/workflows/compile",{method:"POST",body:JSON.stringify({prompt:e})})},listWorkflows(){return Fe("/workflows")},getWorkflow(e){return Fe(`/workflows/${encodeURIComponent(e)}`)},saveWorkflow(e){return Fe("/workflows",{method:"POST",body:JSON.stringify(e)})},runWorkflow(e,n){return Fe(`/workflows/${encodeURIComponent(e)}/run`,{method:"POST",body:JSON.stringify({eventPayload:n??{}})})},fetchSlackIntegrationStatus(e){const n=e?`?org_id=${encodeURIComponent(e)}`:"";return Fe(`/connectors/slack/api/status${n}`)},fetchJiraIntegrationStatus(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("account_id",n);const o=r.toString();return Fe(`/connectors/jira/api/status${o?`?${o}`:""}`)},disconnectSlackIntegration(e){const n=e?`?org_id=${encodeURIComponent(e)}`:"";return Fe(`/connectors/slack/api/deactivate${n}`,{method:"POST"})},disconnectJiraIntegration(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("account_id",n);const o=r.toString();return Fe(`/connectors/jira/api/disconnect${o?`?${o}`:""}`,{method:"POST"})},fetchUsageSummary(e){return Fe(`/usage/summary?org_id=${encodeURIComponent(e)}`)},fetchUsageDaily(e){return Fe(`/usage/daily?org_id=${encodeURIComponent(e)}`)},fetchUsageMonthly(e){return Fe(`/usage/monthly?org_id=${encodeURIComponent(e)}`)},fetchUsageBreakdown(e){return Fe(`/usage/breakdown?org_id=${encodeURIComponent(e)}`)},fetchUsageModels(e){return Fe(`/usage/models?org_id=${encodeURIComponent(e)}`)},fetchUsageAgents(e){return Fe(`/usage/agents?org_id=${encodeURIComponent(e)}`)},fetchLicenseStatus(e,n){const r=new URLSearchParams;e&&r.set("org_id",e),n&&r.set("license_key",n);const o=r.toString();return Fe(`/api/license/status${o?`?${o}`:""}`)},validateLicense(e){return Fe("/api/license/validate",{method:"POST",body:JSON.stringify({license_key:e})})},refreshLicense(e){return Fe("/api/license/refresh",{method:"POST",body:JSON.stringify({license_key:e})})},applyLicense(e,n){return Fe("/api/license/apply",{method:"POST",body:JSON.stringify({org_id:e,license_key:n})})},searchIngestion(e,n){return Fe(`/ingestion/search?org_id=${encodeURIComponent(e)}&q=${encodeURIComponent(n)}`)},listImportJobs(e){return Fe(`/ingestion/jobs?org_id=${encodeURIComponent(e)}`)},createImportJob(e,n){return Fe("/ingestion/jobs",{method:"POST",body:JSON.stringify({org_id:e,source:n})})},deleteImportJob(e,n){return Fe(`/ingestion/jobs/${encodeURIComponent(n)}?org_id=${encodeURIComponent(e)}`,{method:"DELETE"})},fetchSamlConfig(e){return Fe(`/auth/saml/config/${encodeURIComponent(e)}`)},saveSamlConfig(e,n){return Fe(`/auth/saml/config/${encodeURIComponent(e)}`,{method:"PUT",body:JSON.stringify(n)})},discoverSaml(e){return Fe(`/auth/saml/discover?email=${encodeURIComponent(e)}`)},startSamlLogin(e){return Fe("/auth/saml/login",{method:"POST",body:JSON.stringify(e)})},fetchSamlSession(){return Fe("/auth/saml/session")},listMarketplaceConnectors(){return Fe("/marketplace")},listInstalledConnectors(){return Fe("/connectors/installed")},listDraftConnectors(){return Fe("/connectors/drafts")},installConnector(e){return Fe("/connectors/install",{method:"POST",body:JSON.stringify({connectorId:e})})}},ga=hr;function Cn(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function S9(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const Dk=6e4,Lk=525600,sc=43200,Xp=1440;let k9={};function fA(){return k9}function Qp(e){const n=Cn(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function pd(e,n){const r=Cn(e),o=Cn(n),s=r.getTime()-o.getTime();return s<0?-1:s>0?1:s}function hA(e){return S9(e,Date.now())}function N9(e,n){const r=Cn(e),o=Cn(n),s=r.getFullYear()-o.getFullYear(),i=r.getMonth()-o.getMonth();return s*12+i}function pA(e){return n=>{const o=(e?Math[e]:Math.trunc)(n);return o===0?0:o}}function C9(e,n){return+Cn(e)-+Cn(n)}function j9(e){const n=Cn(e);return n.setHours(23,59,59,999),n}function _9(e){const n=Cn(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function E9(e){const n=Cn(e);return+j9(n)==+_9(n)}function T9(e,n){const r=Cn(e),o=Cn(n),s=pd(r,o),i=Math.abs(N9(r,o));let a;if(i<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=pd(r,o)===-s;E9(Cn(e))&&i===1&&pd(e,o)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function A9(e,n,r){const o=C9(e,n)/1e3;return pA(r==null?void 0:r.roundingMethod)(o)}const P9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M9=(e,n,r)=>{let o;const s=P9[e];return typeof s=="string"?o=s:n===1?o=s.one:o=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Tx(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const R9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D9={date:Tx({formats:R9,defaultWidth:"full"}),time:Tx({formats:I9,defaultWidth:"full"}),dateTime:Tx({formats:O9,defaultWidth:"full"})},L9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$9=(e,n,r,o)=>L9[e];function Eu(e){return(n,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let s;if(o==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(n):n;return s[i]}}const z9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W9=(e,n)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},q9={ordinalNumber:W9,era:Eu({values:z9,defaultWidth:"wide"}),quarter:Eu({values:F9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eu({values:U9,defaultWidth:"wide"}),day:Eu({values:B9,defaultWidth:"wide"}),dayPeriod:Eu({values:H9,defaultWidth:"wide",formattingValues:V9,defaultFormattingWidth:"wide"})};function Tu(e){return(n,r={})=>{const o=r.width,s=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],i=n.match(s);if(!i)return null;const a=i[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?K9(l,f=>f.test(a)):G9(l,f=>f.test(a));let d;d=e.valueCallback?e.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const h=n.slice(a.length);return{value:d,rest:h}}}function G9(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function K9(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function Y9(e){return(n,r={})=>{const o=n.match(e.matchPattern);if(!o)return null;const s=o[0],i=n.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const l=n.slice(s.length);return{value:a,rest:l}}}const X9=/^(\d+)(th|st|nd|rd)?/i,Q9=/\d+/i,J9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z9={any:[/^b/i,/^(a|c)/i]},eU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tU={any:[/1/i,/2/i,/3/i,/4/i]},nU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lU={ordinalNumber:Y9({matchPattern:X9,parsePattern:Q9,valueCallback:e=>parseInt(e,10)}),era:Tu({matchPatterns:J9,defaultMatchWidth:"wide",parsePatterns:Z9,defaultParseWidth:"any"}),quarter:Tu({matchPatterns:eU,defaultMatchWidth:"wide",parsePatterns:tU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tu({matchPatterns:nU,defaultMatchWidth:"wide",parsePatterns:rU,defaultParseWidth:"any"}),day:Tu({matchPatterns:oU,defaultMatchWidth:"wide",parsePatterns:sU,defaultParseWidth:"any"}),dayPeriod:Tu({matchPatterns:iU,defaultMatchWidth:"any",parsePatterns:aU,defaultParseWidth:"any"})},mA={code:"en-US",formatDistance:M9,formatLong:D9,formatRelative:$9,localize:q9,match:lU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cU(e,n,r){const o=fA(),s=(r==null?void 0:r.locale)??o.locale??mA,i=2520,a=pd(e,n);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,d;a>0?(u=Cn(n),d=Cn(e)):(u=Cn(e),d=Cn(n));const h=A9(d,u),f=(Qp(d)-Qp(u))/1e3,m=Math.round((h-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<Xp){const v=Math.round(m/60);return s.formatDistance("aboutXHours",v,l)}else{if(m<i)return s.formatDistance("xDays",1,l);if(m<sc){const v=Math.round(m/Xp);return s.formatDistance("xDays",v,l)}else if(m<sc*2)return p=Math.round(m/sc),s.formatDistance("aboutXMonths",p,l)}if(p=T9(d,u),p<12){const v=Math.round(m/sc);return s.formatDistance("xMonths",v,l)}else{const v=p%12,y=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",y,l):v<9?s.formatDistance("overXYears",y,l):s.formatDistance("almostXYears",y+1,l)}}function uU(e,n,r){const o=fA(),s=(r==null?void 0:r.locale)??o.locale??mA,i=pd(e,n);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let l,u;i>0?(l=Cn(n),u=Cn(e)):(l=Cn(e),u=Cn(n));const d=pA((r==null?void 0:r.roundingMethod)??"round"),h=u.getTime()-l.getTime(),f=h/Dk,m=Qp(u)-Qp(l),p=(h-m)/Dk,v=r==null?void 0:r.unit;let y;if(v?y=v:f<1?y="second":f<60?y="minute":f<Xp?y="hour":p<sc?y="day":p<Lk?y="month":y="year",y==="second"){const b=d(h/1e3);return s.formatDistance("xSeconds",b,a)}else if(y==="minute"){const b=d(f);return s.formatDistance("xMinutes",b,a)}else if(y==="hour"){const b=d(f/60);return s.formatDistance("xHours",b,a)}else if(y==="day"){const b=d(p/Xp);return s.formatDistance("xDays",b,a)}else if(y==="month"){const b=d(p/sc);return b===12&&v!=="month"?s.formatDistance("xYears",1,a):s.formatDistance("xMonths",b,a)}else{const b=d(p/Lk);return s.formatDistance("xYears",b,a)}}function gA(e,n){return cU(e,hA(e),n)}function dU(e,n){return uU(e,hA(e),n)}const $k=e=>{let n;const r=new Set,o=(d,h)=>{const f=typeof d=="function"?d(n):d;if(!Object.is(f,n)){const m=n;n=h??(typeof f!="object"||f===null)?f:Object.assign({},n,f),r.forEach(p=>p(n,m))}},s=()=>n,l={setState:o,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d))},u=n=e(o,s,l);return l},fU=e=>e?$k(e):$k,hU=e=>e;function pU(e,n=hU){const r=B.useSyncExternalStore(e.subscribe,B.useCallback(()=>n(e.getState()),[e,n]),B.useCallback(()=>n(e.getInitialState()),[e,n]));return B.useDebugValue(r),r}const zk=e=>{const n=fU(e),r=o=>pU(n,o);return Object.assign(r,n),r},kl=e=>e?zk(e):zk,xA="atlas-token-usage",mU=()=>{try{const e=localStorage.getItem(xA);if(!e)return{total:0,byAgent:{},lastUpdated:null};const n=JSON.parse(e);return{total:Number(n.total)||0,byAgent:n.byAgent||{},lastUpdated:typeof n.lastUpdated=="string"?n.lastUpdated:null}}catch{return{total:0,byAgent:{},lastUpdated:null}}},Fk=e=>{try{localStorage.setItem(xA,JSON.stringify(e))}catch{}},ca=kl(e=>{const n=mU();return{totalTokens:Math.max(0,Math.floor(n.total)),tokensByAgent:{...n.byAgent},lastUpdated:n.lastUpdated,setUsage:r=>e(()=>{const o={totalTokens:Math.max(0,Math.floor(r.total)),tokensByAgent:{...r.byAgent},lastUpdated:new Date().toISOString()};return Fk({total:o.totalTokens,byAgent:o.tokensByAgent,lastUpdated:o.lastUpdated}),o}),reset:()=>e(()=>(Fk({total:0,byAgent:{},lastUpdated:null}),{totalTokens:0,tokensByAgent:{},lastUpdated:null}))}}),Pl="/icon.png",Uk="/favicon.ico",yh="Atlas",yA="atlas-branding-cache",Is=()=>{try{const e=localStorage.getItem(yA);if(!e)return{};const n=JSON.parse(e);return{companyName:n.companyName,shortName:n.shortName,logoUrl:n.logoUrl,sidebarLogoUrl:n.sidebarLogoUrl,faviconUrl:n.faviconUrl,loginLogoUrl:n.loginLogoUrl,showSidebarText:n.showSidebarText}}catch{return{}}},gU=e=>{try{localStorage.setItem(yA,JSON.stringify({companyName:e.companyName,shortName:e.shortName,logoUrl:e.logoUrl,sidebarLogoUrl:e.sidebarLogoUrl,faviconUrl:e.faviconUrl,loginLogoUrl:e.loginLogoUrl,showSidebarText:e.showSidebarText}))}catch{}},Un=kl(e=>({companyName:Is().companyName||yh,shortName:Is().shortName||yh,logoUrl:Is().logoUrl||Pl,sidebarLogoUrl:Is().sidebarLogoUrl||Is().logoUrl||Pl,faviconUrl:Is().faviconUrl||Uk,loginLogoUrl:Is().loginLogoUrl||Is().logoUrl||Pl,showSidebarText:Is().showSidebarText??!0,setBranding:n=>e(r=>{var f,m,p;const o=((f=n.companyName)==null?void 0:f.trim())||r.companyName||yh,s=((m=n.shortName)==null?void 0:m.trim())||((p=n.companyName)==null?void 0:p.trim())||r.shortName||yh,i=n.logoUrl??r.logoUrl??Pl,a=n.sidebarLogoUrl??r.sidebarLogoUrl??Pl,l=n.faviconUrl??r.faviconUrl??Uk,u=n.loginLogoUrl??r.loginLogoUrl??Pl,d=n.showSidebarText??r.showSidebarText??!0;return r.companyName===o&&r.shortName===s&&r.logoUrl===i&&r.sidebarLogoUrl===a&&r.faviconUrl===l&&r.loginLogoUrl===u&&r.showSidebarText===d?r:{...r,...n,companyName:o,shortName:s,logoUrl:i,sidebarLogoUrl:a,faviconUrl:l,loginLogoUrl:u,showSidebarText:d}})}));Un.subscribe(e=>{gU(e)});console.warn("[supabase] Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY. Auth features will be disabled.");const xU=()=>{throw new Error("Supabase environment variables are not configured.")},vs=xU(),vA=g.createContext(void 0);function yU({children:e}){const[n,r]=g.useState(null),[o,s]=g.useState(null),[i,a]=g.useState(!1),[l,u]=g.useState(!1),d=!i||!l;g.useEffect(()=>{let m=!0;vs.auth.getSession().then(({data:v,error:y})=>{m&&(y?(console.error("[auth] failed to restore session",y),r(null)):r(v.session??null))}).finally(()=>{m&&a(!0)});const{data:{subscription:p}}=vs.auth.onAuthStateChange((v,y)=>{r(y)});return()=>{m=!1,p.unsubscribe()}},[]),g.useEffect(()=>{let m=!1;return Ye.fetchSamlSession().then(p=>{m||s(p.user)}).catch(()=>{m||s(null)}).finally(()=>{m||u(!0)}),()=>{m=!0}},[]);const h=async()=>{await Promise.allSettled([vs.auth.signOut(),fetch(`${ga}/auth/saml/logout`,{method:"POST",credentials:"include"})]),r(null),s(null)},f=g.useMemo(()=>({user:o??(n==null?void 0:n.user)??null,session:n,loading:d,signOut:h}),[d,n,o]);return c.jsx(vA.Provider,{value:f,children:e})}function Ao(){const e=g.useContext(vA);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const za=kl(e=>({historyMode:!1,conversationToLoad:null,setHistoryMode:n=>e({historyMode:n}),requestConversationLoad:n=>e({conversationToLoad:n,historyMode:!1}),clearConversationRequest:()=>e({conversationToLoad:null})}));var vU=g.createContext(void 0);function jf(e){const n=g.useContext(vU);return e||n||"ltr"}var Ax=0;function lb(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bk()),document.body.insertAdjacentElement("beforeend",e[1]??Bk()),Ax++,()=>{Ax===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Ax--}},[])}function Bk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Px="focusScope.autoFocusOnMount",Mx="focusScope.autoFocusOnUnmount",Hk={bubbles:!1,cancelable:!0},wU="FocusScope",ng=g.forwardRef((e,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,u]=g.useState(null),d=Nn(s),h=Nn(i),f=g.useRef(null),m=ft(n,y=>u(y)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(o){let y=function(S){if(p.paused||!l)return;const k=S.target;l.contains(k)?f.current=k:Ti(f.current,{select:!0})},b=function(S){if(p.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||Ti(f.current,{select:!0}))},x=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Ti(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[o,l,p.paused]),g.useEffect(()=>{if(l){Wk.add(p);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(Px,Hk);l.addEventListener(Px,d),l.dispatchEvent(x),x.defaultPrevented||(bU(jU(wA(l)),{select:!0}),document.activeElement===y&&Ti(l))}return()=>{l.removeEventListener(Px,d),setTimeout(()=>{const x=new CustomEvent(Mx,Hk);l.addEventListener(Mx,h),l.dispatchEvent(x),x.defaultPrevented||Ti(y??document.body,{select:!0}),l.removeEventListener(Mx,h),Wk.remove(p)},0)}}},[l,d,h,p]);const v=g.useCallback(y=>{if(!r&&!o||p.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const w=y.currentTarget,[S,k]=SU(w);S&&k?!y.shiftKey&&x===k?(y.preventDefault(),r&&Ti(S,{select:!0})):y.shiftKey&&x===S&&(y.preventDefault(),r&&Ti(k,{select:!0})):x===w&&y.preventDefault()}},[r,o,p.paused]);return c.jsx(Ue.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});ng.displayName=wU;function bU(e,{select:n=!1}={}){const r=document.activeElement;for(const o of e)if(Ti(o,{select:n}),document.activeElement!==r)return}function SU(e){const n=wA(e),r=Vk(n,e),o=Vk(n.reverse(),e);return[r,o]}function wA(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Vk(e,n){for(const r of e)if(!kU(r,{upTo:n}))return r}function kU(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NU(e){return e instanceof HTMLInputElement&&"select"in e}function Ti(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NU(e)&&n&&e.select()}}var Wk=CU();function CU(){let e=[];return{add(n){const r=e[0];n!==r&&(r==null||r.pause()),e=qk(e,n),e.unshift(n)},remove(n){var r;e=qk(e,n),(r=e[0])==null||r.resume()}}}function qk(e,n){const r=[...e],o=r.indexOf(n);return o!==-1&&r.splice(o,1),r}function jU(e){return e.filter(n=>n.tagName!=="A")}var Rx="rovingFocusGroup.onEntryFocus",_U={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[F0,bA,EU]=Hm(_f),[TU,rg]=Fr(_f,[EU]),[AU,PU]=TU(_f),SA=g.forwardRef((e,n)=>c.jsx(F0.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(F0.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(MU,{...e,ref:n})})}));SA.displayName=_f;var MU=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=e,m=g.useRef(null),p=ft(n,m),v=jf(i),[y,b]=Ss({prop:a,defaultProp:l??null,onChange:u,caller:_f}),[x,w]=g.useState(!1),S=Nn(d),k=bA(r),C=g.useRef(!1),[N,j]=g.useState(0);return g.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(Rx,S),()=>P.removeEventListener(Rx,S)},[S]),c.jsx(AU,{scope:r,orientation:o,dir:v,loop:s,currentTabStopId:y,onItemFocus:g.useCallback(P=>b(P),[b]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>j(P=>P+1),[]),onFocusableItemRemove:g.useCallback(()=>j(P=>P-1),[]),children:c.jsx(Ue.div,{tabIndex:x||N===0?-1:0,"data-orientation":o,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{C.current=!0}),onFocus:Ne(e.onFocus,P=>{const E=!C.current;if(P.target===P.currentTarget&&E&&!x){const _=new CustomEvent(Rx,_U);if(P.currentTarget.dispatchEvent(_),!_.defaultPrevented){const I=k().filter(L=>L.focusable),O=I.find(L=>L.active),U=I.find(L=>L.id===y),z=[O,U,...I].filter(Boolean).map(L=>L.ref.current);CA(z,h)}}C.current=!1}),onBlur:Ne(e.onBlur,()=>w(!1))})})}),kA="RovingFocusGroupItem",NA=g.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:i,children:a,...l}=e,u=Go(),d=i||u,h=PU(kA,r),f=h.currentTabStopId===d,m=bA(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:y}=h;return g.useEffect(()=>{if(o)return p(),()=>v()},[o,p,v]),c.jsx(F0.ItemSlot,{scope:r,id:d,focusable:o,active:s,children:c.jsx(Ue.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:n,onMouseDown:Ne(e.onMouseDown,b=>{o?h.onItemFocus(d):b.preventDefault()}),onFocus:Ne(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ne(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=OU(b,h.orientation,h.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=m().filter(k=>k.focusable).map(k=>k.ref.current);if(x==="last")S.reverse();else if(x==="prev"||x==="next"){x==="prev"&&S.reverse();const k=S.indexOf(b.currentTarget);S=h.loop?DU(S,k+1):S.slice(k+1)}setTimeout(()=>CA(S))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});NA.displayName=kA;var RU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IU(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OU(e,n,r){const o=IU(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return RU[o]}function CA(e,n=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:n}),document.activeElement!==r))return}function DU(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var jA=SA,_A=NA,LU=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Ml=new WeakMap,vh=new WeakMap,wh={},Ix=0,EA=function(e){return e&&(e.host||EA(e.parentNode))},$U=function(e,n){return n.map(function(r){if(e.contains(r))return r;var o=EA(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zU=function(e,n,r,o){var s=$U(n,Array.isArray(e)?e:[e]);wh[r]||(wh[r]=new WeakMap);var i=wh[r],a=[],l=new Set,u=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(o),v=p!==null&&p!=="false",y=(Ml.get(m)||0)+1,b=(i.get(m)||0)+1;Ml.set(m,y),i.set(m,b),a.push(m),y===1&&v&&vh.set(m,!0),b===1&&m.setAttribute(r,"true"),v||m.setAttribute(o,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(n),l.clear(),Ix++,function(){a.forEach(function(f){var m=Ml.get(f)-1,p=i.get(f)-1;Ml.set(f,m),i.set(f,p),m||(vh.has(f)||f.removeAttribute(o),vh.delete(f)),p||f.removeAttribute(r)}),Ix--,Ix||(Ml=new WeakMap,Ml=new WeakMap,vh=new WeakMap,wh={})}},cb=function(e,n,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=LU(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live]"))),zU(o,s,r,"aria-hidden")):function(){return null}},fs=function(){return fs=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},fs.apply(this,arguments)};function TA(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)n.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r}function FU(e,n,r){if(r||arguments.length===2)for(var o=0,s=n.length,i;o<s;o++)(i||!(o in n))&&(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}var np="right-scroll-bar-position",rp="width-before-scroll-bar",UU="with-scroll-bars-hidden",BU="--removed-body-scroll-bar-size";function Ox(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function HU(e,n){var r=g.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(o){var s=r.value;s!==o&&(r.value=o,r.callback(o,s))}}}})[0];return r.callback=n,r.facade}var VU=typeof window<"u"?g.useLayoutEffect:g.useEffect,Gk=new WeakMap;function WU(e,n){var r=HU(null,function(o){return e.forEach(function(s){return Ox(s,o)})});return VU(function(){var o=Gk.get(r);if(o){var s=new Set(o),i=new Set(e),a=r.current;s.forEach(function(l){i.has(l)||Ox(l,null)}),i.forEach(function(l){s.has(l)||Ox(l,a)})}Gk.set(r,e)},[e]),r}function qU(e){return e}function GU(e,n){n===void 0&&(n=qU);var r=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=n(i,o);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(o=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){o=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(i),a=r}var u=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),r}}}};return s}function KU(e){e===void 0&&(e={});var n=GU(null);return n.options=fs({async:!0,ssr:!1},e),n}var AA=function(e){var n=e.sideCar,r=TA(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return g.createElement(o,fs({},r))};AA.isSideCarExport=!0;function YU(e,n){return e.useMedium(n),AA}var PA=KU(),Dx=function(){},og=g.forwardRef(function(e,n){var r=g.useRef(null),o=g.useState({onScrollCapture:Dx,onWheelCapture:Dx,onTouchMoveCapture:Dx}),s=o[0],i=o[1],a=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,S=e.gapMode,k=TA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,N=WU([r,n]),j=fs(fs({},k),s);return g.createElement(g.Fragment,null,h&&g.createElement(C,{sideCar:PA,removeScrollBar:d,shards:f,noRelative:p,noIsolation:v,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),a?g.cloneElement(g.Children.only(l),fs(fs({},j),{ref:N})):g.createElement(w,fs({},j,{className:u,ref:N}),l))});og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};og.classNames={fullWidth:rp,zeroRight:np};var XU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=XU();return n&&e.setAttribute("nonce",n),e}function JU(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function ZU(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var e7=function(){var e=0,n=null;return{add:function(r){e==0&&(n=QU())&&(JU(n,r),ZU(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},t7=function(){var e=e7();return function(n,r){g.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},MA=function(){var e=t7(),n=function(r){var o=r.styles,s=r.dynamic;return e(o,s),null};return n},n7={left:0,top:0,right:0,gap:0},Lx=function(e){return parseInt(e||"",10)||0},r7=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],o=n[e==="padding"?"paddingTop":"marginTop"],s=n[e==="padding"?"paddingRight":"marginRight"];return[Lx(r),Lx(o),Lx(s)]},o7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return n7;var n=r7(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-r+n[2]-n[0])}},s7=MA(),gc="data-scroll-locked",i7=function(e,n,r,o){var s=e.left,i=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(UU,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(gc,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(np,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(rp,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(np," .").concat(np,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(rp," .").concat(rp,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(gc,`] {
    `).concat(BU,": ").concat(l,`px;
  }
`)},Kk=function(){var e=parseInt(document.body.getAttribute(gc)||"0",10);return isFinite(e)?e:0},a7=function(){g.useEffect(function(){return document.body.setAttribute(gc,(Kk()+1).toString()),function(){var e=Kk()-1;e<=0?document.body.removeAttribute(gc):document.body.setAttribute(gc,e.toString())}},[])},l7=function(e){var n=e.noRelative,r=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;a7();var i=g.useMemo(function(){return o7(s)},[s]);return g.createElement(s7,{styles:i7(i,!n,s,r?"":"!important")})},U0=!1;if(typeof window<"u")try{var bh=Object.defineProperty({},"passive",{get:function(){return U0=!0,!0}});window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{U0=!1}var Rl=U0?{passive:!1}:!1,c7=function(e){return e.tagName==="TEXTAREA"},RA=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!c7(e)&&r[n]==="visible")},u7=function(e){return RA(e,"overflowY")},d7=function(e){return RA(e,"overflowX")},Yk=function(e,n){var r=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=IA(e,o);if(s){var i=OA(e,o),a=i[1],l=i[2];if(a>l)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},f7=function(e){var n=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[n,r,o]},h7=function(e){var n=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[n,r,o]},IA=function(e,n){return e==="v"?u7(n):d7(n)},OA=function(e,n){return e==="v"?f7(n):h7(n)},p7=function(e,n){return e==="h"&&n==="rtl"?-1:1},m7=function(e,n,r,o,s){var i=p7(e,window.getComputedStyle(n).direction),a=i*o,l=r.target,u=n.contains(l),d=!1,h=a>0,f=0,m=0;do{if(!l)break;var p=OA(e,l),v=p[0],y=p[1],b=p[2],x=y-b-i*v;(v||x)&&IA(e,l)&&(f+=x,m+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&l!==document.body||u&&(n.contains(l)||n===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Sh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xk=function(e){return[e.deltaX,e.deltaY]},Qk=function(e){return e&&"current"in e?e.current:e},g7=function(e,n){return e[0]===n[0]&&e[1]===n[1]},x7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},y7=0,Il=[];function v7(e){var n=g.useRef([]),r=g.useRef([0,0]),o=g.useRef(),s=g.useState(y7++)[0],i=g.useState(MA)[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=FU([e.lockRef.current],(e.shards||[]).map(Qk),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var x=Sh(y),w=r.current,S="deltaX"in y?y.deltaX:w[0]-x[0],k="deltaY"in y?y.deltaY:w[1]-x[1],C,N=y.target,j=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in y&&j==="h"&&N.type==="range")return!1;var P=Yk(j,N);if(!P)return!0;if(P?C=j:(C=j==="v"?"h":"v",P=Yk(j,N)),!P)return!1;if(!o.current&&"changedTouches"in y&&(S||k)&&(o.current=C),!C)return!0;var E=o.current||C;return m7(E,b,y,E==="h"?S:k,!0)},[]),u=g.useCallback(function(y){var b=y;if(!(!Il.length||Il[Il.length-1]!==i)){var x="deltaY"in b?Xk(b):Sh(b),w=n.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&g7(C.delta,x)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(a.current.shards||[]).map(Qk).filter(Boolean).filter(function(C){return C.contains(b.target)}),k=S.length>0?l(b,S[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),d=g.useCallback(function(y,b,x,w){var S={name:y,delta:b,target:x,should:w,shadowParent:w7(x)};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(k){return k!==S})},1)},[]),h=g.useCallback(function(y){r.current=Sh(y),o.current=void 0},[]),f=g.useCallback(function(y){d(y.type,Xk(y),y.target,l(y,e.lockRef.current))},[]),m=g.useCallback(function(y){d(y.type,Sh(y),y.target,l(y,e.lockRef.current))},[]);g.useEffect(function(){return Il.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Rl),document.addEventListener("touchmove",u,Rl),document.addEventListener("touchstart",h,Rl),function(){Il=Il.filter(function(y){return y!==i}),document.removeEventListener("wheel",u,Rl),document.removeEventListener("touchmove",u,Rl),document.removeEventListener("touchstart",h,Rl)}},[]);var p=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:x7(s)}):null,p?g.createElement(l7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function w7(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const b7=YU(PA,v7);var sg=g.forwardRef(function(e,n){return g.createElement(og,fs({},e,{ref:n,sideCar:b7}))});sg.classNames=og.classNames;var B0=["Enter"," "],S7=["ArrowDown","PageUp","Home"],DA=["ArrowUp","PageDown","End"],k7=[...S7,...DA],N7={ltr:[...B0,"ArrowRight"],rtl:[...B0,"ArrowLeft"]},C7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ef="Menu",[Gd,j7,_7]=Hm(Ef),[Nl,LA]=Fr(Ef,[_7,lu,rg]),ig=lu(),$A=rg(),[E7,Cl]=Nl(Ef),[T7,Tf]=Nl(Ef),zA=e=>{const{__scopeMenu:n,open:r=!1,children:o,dir:s,onOpenChange:i,modal:a=!0}=e,l=ig(n),[u,d]=g.useState(null),h=g.useRef(!1),f=Nn(i),m=jf(s);return g.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),c.jsx(Zw,{...l,children:c.jsx(E7,{scope:n,open:r,onOpenChange:f,content:u,onContentChange:d,children:c.jsx(T7,{scope:n,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:a,children:o})})})};zA.displayName=Ef;var A7="MenuAnchor",ub=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e,s=ig(r);return c.jsx(eb,{...s,...o,ref:n})});ub.displayName=A7;var db="MenuPortal",[P7,FA]=Nl(db,{forceMount:void 0}),UA=e=>{const{__scopeMenu:n,forceMount:r,children:o,container:s}=e,i=Cl(db,n);return c.jsx(P7,{scope:n,forceMount:r,children:c.jsx(ar,{present:r||i.open,children:c.jsx(yf,{asChild:!0,container:s,children:o})})})};UA.displayName=db;var jo="MenuContent",[M7,fb]=Nl(jo),BA=g.forwardRef((e,n)=>{const r=FA(jo,e.__scopeMenu),{forceMount:o=r.forceMount,...s}=e,i=Cl(jo,e.__scopeMenu),a=Tf(jo,e.__scopeMenu);return c.jsx(Gd.Provider,{scope:e.__scopeMenu,children:c.jsx(ar,{present:o||i.open,children:c.jsx(Gd.Slot,{scope:e.__scopeMenu,children:a.modal?c.jsx(R7,{...s,ref:n}):c.jsx(I7,{...s,ref:n})})})})}),R7=g.forwardRef((e,n)=>{const r=Cl(jo,e.__scopeMenu),o=g.useRef(null),s=ft(n,o);return g.useEffect(()=>{const i=o.current;if(i)return cb(i)},[]),c.jsx(hb,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),I7=g.forwardRef((e,n)=>{const r=Cl(jo,e.__scopeMenu);return c.jsx(hb,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),O7=ll("MenuContent.ScrollLock"),hb=g.forwardRef((e,n)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...y}=e,b=Cl(jo,r),x=Tf(jo,r),w=ig(r),S=$A(r),k=j7(r),[C,N]=g.useState(null),j=g.useRef(null),P=ft(n,j,b.onContentChange),E=g.useRef(0),_=g.useRef(""),I=g.useRef(0),O=g.useRef(null),U=g.useRef("right"),T=g.useRef(0),z=v?sg:g.Fragment,L=v?{as:O7,allowPinchZoom:!0}:void 0,H=R=>{var Q,ce;const A=_.current+R,D=k().filter(fe=>!fe.disabled),$=document.activeElement,M=(Q=D.find(fe=>fe.ref.current===$))==null?void 0:Q.textValue,Y=D.map(fe=>fe.textValue),Z=G7(Y,A,M),re=(ce=D.find(fe=>fe.textValue===Z))==null?void 0:ce.ref.current;(function fe(me){_.current=me,window.clearTimeout(E.current),me!==""&&(E.current=window.setTimeout(()=>fe(""),1e3))})(A),re&&setTimeout(()=>re.focus())};g.useEffect(()=>()=>window.clearTimeout(E.current),[]),lb();const F=g.useCallback(R=>{var D,$;return U.current===((D=O.current)==null?void 0:D.side)&&Y7(R,($=O.current)==null?void 0:$.area)},[]);return c.jsx(M7,{scope:r,searchRef:_,onItemEnter:g.useCallback(R=>{F(R)&&R.preventDefault()},[F]),onItemLeave:g.useCallback(R=>{var A;F(R)||((A=j.current)==null||A.focus(),N(null))},[F]),onTriggerLeave:g.useCallback(R=>{F(R)&&R.preventDefault()},[F]),pointerGraceTimerRef:I,onPointerGraceIntentChange:g.useCallback(R=>{O.current=R},[]),children:c.jsx(z,{...L,children:c.jsx(ng,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,R=>{var A;R.preventDefault(),(A=j.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(ru,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:c.jsx(jA,{asChild:!0,...S,dir:x.dir,orientation:"vertical",loop:o,currentTabStopId:C,onCurrentTabStopIdChange:N,onEntryFocus:Ne(u,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(tb,{role:"menu","aria-orientation":"vertical","data-state":oP(b.open),"data-radix-menu-content":"",dir:x.dir,...w,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,R=>{const D=R.target.closest("[data-radix-menu-content]")===R.currentTarget,$=R.ctrlKey||R.altKey||R.metaKey,M=R.key.length===1;D&&(R.key==="Tab"&&R.preventDefault(),!$&&M&&H(R.key));const Y=j.current;if(R.target!==Y||!k7.includes(R.key))return;R.preventDefault();const re=k().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);DA.includes(R.key)&&re.reverse(),W7(re)}),onBlur:Ne(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(E.current),_.current="")}),onPointerMove:Ne(e.onPointerMove,Kd(R=>{const A=R.target,D=T.current!==R.clientX;if(R.currentTarget.contains(A)&&D){const $=R.clientX>T.current?"right":"left";U.current=$,T.current=R.clientX}}))})})})})})})});BA.displayName=jo;var D7="MenuGroup",pb=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return c.jsx(Ue.div,{role:"group",...o,ref:n})});pb.displayName=D7;var L7="MenuLabel",HA=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return c.jsx(Ue.div,{...o,ref:n})});HA.displayName=L7;var Jp="MenuItem",Jk="menu.itemSelect",ag=g.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:o,...s}=e,i=g.useRef(null),a=Tf(Jp,e.__scopeMenu),l=fb(Jp,e.__scopeMenu),u=ft(n,i),d=g.useRef(!1),h=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(Jk,{bubbles:!0,cancelable:!0});f.addEventListener(Jk,p=>o==null?void 0:o(p),{once:!0}),Pw(f,m),m.defaultPrevented?d.current=!1:a.onClose()}};return c.jsx(VA,{...s,ref:u,disabled:r,onClick:Ne(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:Ne(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:Ne(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||B0.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ag.displayName=Jp;var VA=g.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:o=!1,textValue:s,...i}=e,a=fb(Jp,r),l=$A(r),u=g.useRef(null),d=ft(n,u),[h,f]=g.useState(!1),[m,p]=g.useState("");return g.useEffect(()=>{const v=u.current;v&&p((v.textContent??"").trim())},[i.children]),c.jsx(Gd.ItemSlot,{scope:r,disabled:o,textValue:s??m,children:c.jsx(_A,{asChild:!0,...l,focusable:!o,children:c.jsx(Ue.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...i,ref:d,onPointerMove:Ne(e.onPointerMove,Kd(v=>{o?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Kd(v=>a.onItemLeave(v))),onFocus:Ne(e.onFocus,()=>f(!0)),onBlur:Ne(e.onBlur,()=>f(!1))})})})}),$7="MenuCheckboxItem",WA=g.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:o,...s}=e;return c.jsx(XA,{scope:e.__scopeMenu,checked:r,children:c.jsx(ag,{role:"menuitemcheckbox","aria-checked":Zp(r)?"mixed":r,...s,ref:n,"data-state":gb(r),onSelect:Ne(s.onSelect,()=>o==null?void 0:o(Zp(r)?!0:!r),{checkForDefaultPrevented:!1})})})});WA.displayName=$7;var qA="MenuRadioGroup",[z7,F7]=Nl(qA,{value:void 0,onValueChange:()=>{}}),GA=g.forwardRef((e,n)=>{const{value:r,onValueChange:o,...s}=e,i=Nn(o);return c.jsx(z7,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c.jsx(pb,{...s,ref:n})})});GA.displayName=qA;var KA="MenuRadioItem",YA=g.forwardRef((e,n)=>{const{value:r,...o}=e,s=F7(KA,e.__scopeMenu),i=r===s.value;return c.jsx(XA,{scope:e.__scopeMenu,checked:i,children:c.jsx(ag,{role:"menuitemradio","aria-checked":i,...o,ref:n,"data-state":gb(i),onSelect:Ne(o.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});YA.displayName=KA;var mb="MenuItemIndicator",[XA,U7]=Nl(mb,{checked:!1}),QA=g.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:o,...s}=e,i=U7(mb,r);return c.jsx(ar,{present:o||Zp(i.checked)||i.checked===!0,children:c.jsx(Ue.span,{...s,ref:n,"data-state":gb(i.checked)})})});QA.displayName=mb;var B7="MenuSeparator",JA=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e;return c.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});JA.displayName=B7;var H7="MenuArrow",ZA=g.forwardRef((e,n)=>{const{__scopeMenu:r,...o}=e,s=ig(r);return c.jsx(nb,{...s,...o,ref:n})});ZA.displayName=H7;var V7="MenuSub",[_ce,eP]=Nl(V7),Yu="MenuSubTrigger",tP=g.forwardRef((e,n)=>{const r=Cl(Yu,e.__scopeMenu),o=Tf(Yu,e.__scopeMenu),s=eP(Yu,e.__scopeMenu),i=fb(Yu,e.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,d={__scopeMenu:e.__scopeMenu},h=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),c.jsx(ub,{asChild:!0,...d,children:c.jsx(VA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":oP(r.open),...e,ref:Bm(n,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Kd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Ne(e.onPointerLeave,Kd(f=>{var p,v;h();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(v=r.content)==null?void 0:v.dataset.side,b=y==="right",x=b?-5:5,w=m[b?"left":"right"],S=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||N7[o.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});tP.displayName=Yu;var nP="MenuSubContent",rP=g.forwardRef((e,n)=>{const r=FA(jo,e.__scopeMenu),{forceMount:o=r.forceMount,...s}=e,i=Cl(jo,e.__scopeMenu),a=Tf(jo,e.__scopeMenu),l=eP(nP,e.__scopeMenu),u=g.useRef(null),d=ft(n,u);return c.jsx(Gd.Provider,{scope:e.__scopeMenu,children:c.jsx(ar,{present:o||i.open,children:c.jsx(Gd.Slot,{scope:e.__scopeMenu,children:c.jsx(hb,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Ne(e.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=C7[a.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});rP.displayName=nP;function oP(e){return e?"open":"closed"}function Zp(e){return e==="indeterminate"}function gb(e){return Zp(e)?"indeterminate":e?"checked":"unchecked"}function W7(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function q7(e,n){return e.map((r,o)=>e[(n+o)%e.length])}function G7(e,n,r){const s=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let a=q7(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==r));const u=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function K7(e,n){const{x:r,y:o}=e;let s=!1;for(let i=0,a=n.length-1;i<n.length;a=i++){const l=n[i],u=n[a],d=l.x,h=l.y,f=u.x,m=u.y;h>o!=m>o&&r<(f-d)*(o-h)/(m-h)+d&&(s=!s)}return s}function Y7(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return K7(r,n)}function Kd(e){return n=>n.pointerType==="mouse"?e(n):void 0}var X7=zA,Q7=ub,J7=UA,Z7=BA,eB=pb,tB=HA,nB=ag,rB=WA,oB=GA,sB=YA,iB=QA,aB=JA,lB=ZA,cB=tP,uB=rP,lg="DropdownMenu",[dB,Ece]=Fr(lg,[LA]),Sr=LA(),[fB,sP]=dB(lg),iP=e=>{const{__scopeDropdownMenu:n,children:r,dir:o,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,u=Sr(n),d=g.useRef(null),[h,f]=Ss({prop:s,defaultProp:i??!1,onChange:a,caller:lg});return c.jsx(fB,{scope:n,triggerId:Go(),triggerRef:d,contentId:Go(),open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),modal:l,children:c.jsx(X7,{...u,open:h,onOpenChange:f,dir:o,modal:l,children:r})})};iP.displayName=lg;var aP="DropdownMenuTrigger",lP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:o=!1,...s}=e,i=sP(aP,r),a=Sr(r);return c.jsx(Q7,{asChild:!0,...a,children:c.jsx(Ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:Bm(n,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});lP.displayName=aP;var hB="DropdownMenuPortal",cP=e=>{const{__scopeDropdownMenu:n,...r}=e,o=Sr(n);return c.jsx(J7,{...o,...r})};cP.displayName=hB;var uP="DropdownMenuContent",dP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=sP(uP,r),i=Sr(r),a=g.useRef(!1);return c.jsx(Z7,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...o,ref:n,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var u;a.current||(u=s.triggerRef.current)==null||u.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!s.modal||h)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dP.displayName=uP;var pB="DropdownMenuGroup",mB=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(eB,{...s,...o,ref:n})});mB.displayName=pB;var gB="DropdownMenuLabel",fP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(tB,{...s,...o,ref:n})});fP.displayName=gB;var xB="DropdownMenuItem",hP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(nB,{...s,...o,ref:n})});hP.displayName=xB;var yB="DropdownMenuCheckboxItem",pP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(rB,{...s,...o,ref:n})});pP.displayName=yB;var vB="DropdownMenuRadioGroup",wB=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(oB,{...s,...o,ref:n})});wB.displayName=vB;var bB="DropdownMenuRadioItem",mP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(sB,{...s,...o,ref:n})});mP.displayName=bB;var SB="DropdownMenuItemIndicator",gP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(iB,{...s,...o,ref:n})});gP.displayName=SB;var kB="DropdownMenuSeparator",xP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(aB,{...s,...o,ref:n})});xP.displayName=kB;var NB="DropdownMenuArrow",CB=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(lB,{...s,...o,ref:n})});CB.displayName=NB;var jB="DropdownMenuSubTrigger",yP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(cB,{...s,...o,ref:n})});yP.displayName=jB;var _B="DropdownMenuSubContent",vP=g.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...o}=e,s=Sr(r);return c.jsx(uB,{...s,...o,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vP.displayName=_B;var EB=iP,TB=lP,AB=cP,wP=dP,bP=fP,SP=hP,kP=pP,NP=mP,CP=gP,jP=xP,_P=yP,EP=vP;const TP=EB,AP=TB,PB=g.forwardRef(({className:e,inset:n,children:r,...o},s)=>c.jsxs(_P,{ref:s,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",n&&"pl-8",e),...o,children:[r,c.jsx(FE,{className:"ml-auto h-4 w-4"})]}));PB.displayName=_P.displayName;const MB=g.forwardRef(({className:e,...n},r)=>c.jsx(EP,{ref:r,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));MB.displayName=EP.displayName;const xb=g.forwardRef(({className:e,sideOffset:n=4,...r},o)=>c.jsx(AB,{children:c.jsx(wP,{ref:o,sideOffset:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));xb.displayName=wP.displayName;const xc=g.forwardRef(({className:e,inset:n,...r},o)=>c.jsx(SP,{ref:o,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",e),...r}));xc.displayName=SP.displayName;const RB=g.forwardRef(({className:e,children:n,checked:r,...o},s)=>c.jsxs(kP,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...o,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(CP,{children:c.jsx(qm,{className:"h-4 w-4"})})}),n]}));RB.displayName=kP.displayName;const IB=g.forwardRef(({className:e,children:n,...r},o)=>c.jsxs(NP,{ref:o,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(CP,{children:c.jsx(BE,{className:"h-2 w-2 fill-current"})})}),n]}));IB.displayName=NP.displayName;const OB=g.forwardRef(({className:e,inset:n,...r},o)=>c.jsx(bP,{ref:o,className:de("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...r}));OB.displayName=bP.displayName;const DB=g.forwardRef(({className:e,...n},r)=>c.jsx(jP,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...n}));DB.displayName=jP.displayName;const LB=[{name:"Agent Network",href:"/network",icon:x$},{name:"Memory Graph",href:"/memory",icon:zE},{name:"Overview",href:"/overview",icon:u$},{name:"Exhausts",href:"/exhausts",icon:DE},{name:"Tool Agents",href:"/multi-agent/runtime",icon:Uc}],$B=[{name:"Marketplace",href:"/marketplace",icon:b$},{name:"My Connectors",href:"/my-connectors",icon:n$},{name:"Integrations",href:"/integrations",icon:$E},{name:"Data Sources",href:"/data-sources",icon:VE},{name:"Settings",href:"/settings",icon:zw},{name:"Billing",href:"/billing",icon:HE},{name:"Help",href:"/help",icon:XL}];function zB(){var N;const{data:e}=Ko({queryKey:["insights","overview"],queryFn:()=>Ye.fetchOverviewInsights(),staleTime:3e4,refetchInterval:3e4}),n=ca(j=>j.totalTokens),r=ca(j=>j.lastUpdated),o=ca(j=>j.setUsage),s=Un(j=>{var P;return((P=j.companyName)==null?void 0:P.trim())||"Atlas"}),i=Un(j=>j.sidebarLogoUrl||j.logoUrl||j.loginLogoUrl||"/icon.png"),a=`${s} Engine`,l=Un(j=>j.showSidebarText??!0),u=`${s} Pilot`,{user:d,signOut:h}=Ao(),f=((N=d==null?void 0:d.user_metadata)==null?void 0:N.org_id)??(d==null?void 0:d.id)??null,m=za(j=>j.historyMode);za(j=>j.setHistoryMode);const p=za(j=>j.requestConversationLoad),[v,y]=g.useState([]);g.useEffect(()=>{e!=null&&e.tokenUsage&&o(e.tokenUsage)},[e,o]);const{data:b}=Ko({queryKey:["usage","summary",f],queryFn:()=>Ye.fetchUsageSummary(f),enabled:!!f,staleTime:3e4,refetchInterval:6e4,refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!1});g.useEffect(()=>{(b==null?void 0:b.total_tokens)!==void 0&&o({total:Number(b.total_tokens)||0,byAgent:{}})},[b,o]),g.useEffect(()=>{r||!f||Ye.fetchUsageSummary(f).then(j=>{(j==null?void 0:j.total_tokens)!==void 0&&o({total:Number(j.total_tokens)||0,byAgent:{}})}).catch(()=>{})},[f,o,r]),g.useEffect(()=>{if(!m)return;const j=[];for(let P=0;P<localStorage.length;P+=1){const E=localStorage.key(P);if(!(!E||!E.startsWith("atlas-chat-")))try{const _=localStorage.getItem(E);if(!_)continue;const I=JSON.parse(_);if(Array.isArray(I)){const O=I[I.length-1],U=E.replace("atlas-chat-",""),T=typeof(O==null?void 0:O.content)=="string"?O.content.slice(0,80):"Conversation";j.push({id:U,lastMessage:T,count:I.length})}}catch{}}y(j)},[m]);const x=g.useMemo(()=>{if(!e)return{agents:"",tasks:"",tokens:n.toLocaleString(),uptime:""};const j=e.uptimeSeconds?dU(Date.now()-e.uptimeSeconds*1e3,{addSuffix:!1}):"";return{agents:`${e.agentCount}`,tasks:`${e.taskCounts.total}`,tokens:n.toLocaleString(),uptime:j}},[e,n]),w=g.useMemo(()=>{var E,_;if(!d)return null;const j=((_=(E=d.user_metadata)==null?void 0:E.full_name)==null?void 0:_.trim())||d.email||`${s} Operator`,P=d.email??"";return{name:j,email:P}},[s,d]),S=Es(),k=g.useMemo(()=>[{name:u,href:"/",icon:YE},...LB],[u]),C=!l;return c.jsxs("div",{className:"flex h-screen w-64 flex-shrink-0 flex-col bg-sidebar relative",children:[c.jsx("div",{className:"flex h-16 items-center px-3 gap-2",children:c.jsxs("div",{className:de("flex items-center gap-2",C&&"justify-center gap-0 w-full"),children:[c.jsx("img",{src:i,alt:`${a} logo`,className:de("rounded-md shadow-sm",C?"h-10 max-h-10 w-auto max-w-[180px] object-contain":"h-8 w-8 object-cover")}),l?c.jsx("span",{className:"text-xl font-semibold text-foreground",children:a}):c.jsx("span",{className:"sr-only",children:a})]})}),m?c.jsxs("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground px-2",children:"Conversation History"}),v.length===0?c.jsx("div",{className:"text-xs text-muted-foreground px-2",children:"No conversations yet."}):v.map(j=>c.jsxs("button",{onClick:()=>p(j.id),className:"w-full text-left rounded-lg border border-sidebar-border bg-sidebar-accent/20 p-3 hover:bg-sidebar-accent transition-colors",children:[c.jsxs("div",{className:"text-sm font-medium text-foreground truncate",children:["Chat ",j.id]}),c.jsx("div",{className:"text-[11px] text-muted-foreground truncate",children:j.lastMessage||"No messages"}),c.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:[j.count," messages"]})]},j.id))]}):c.jsxs(c.Fragment,{children:[c.jsx("nav",{className:"flex-1 space-y-0.5 px-3 py-4",children:k.map(j=>c.jsxs(Ik,{to:j.href,className:({isActive:P})=>de("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",P?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[c.jsx(j.icon,{className:"h-4 w-4"}),j.name]},j.name))}),c.jsx("div",{className:"p-3 space-y-0.5",children:$B.map(j=>c.jsxs(Ik,{to:j.href,className:({isActive:P})=>de("flex items-center gap-3 rounded px-3 py-2 text-sm font-normal transition-colors",P?"bg-sidebar-accent text-foreground":"text-muted-foreground hover:text-foreground"),children:[c.jsx(j.icon,{className:"h-4 w-4"}),j.name]},j.name))})]}),c.jsxs("div",{className:"border-t border-sidebar-border p-4 space-y-3",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Usage"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Agents"}),c.jsx("span",{className:"text-foreground",children:x.agents})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Tasks"}),c.jsx("span",{className:"text-foreground",children:x.tasks})]}),c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{className:"text-muted-foreground",children:"Tokens"}),c.jsx("span",{className:"text-foreground",children:r?x.tokens:"Tracking"})]})]}),x.uptime&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Uptime ",x.uptime]}),w&&c.jsxs(TP,{children:[c.jsx(AP,{asChild:!0,children:c.jsxs("button",{type:"button",className:"mt-4 w-full text-left rounded-xl border border-sidebar-border bg-sidebar-accent/30 p-3 hover:bg-sidebar-accent transition-colors",children:[c.jsx("div",{className:"mt-2 text-sm font-medium text-foreground",children:w.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:w.email})]})}),c.jsxs(xb,{align:"end",className:"w-48",children:[c.jsx(xc,{onClick:()=>{S("/settings")},children:"View profile"}),c.jsx(xc,{className:"text-red-500 focus:text-red-500",onClick:async()=>{await h(),S("/login")},children:"Logout"})]})]})]})]})}const It=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{ref:r,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));It.displayName="Card";const wo=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{ref:r,className:de("flex flex-col space-y-1.5 p-6",e),...n}));wo.displayName="CardHeader";const bo=g.forwardRef(({className:e,...n},r)=>c.jsx("h3",{ref:r,className:de("text-2xl font-semibold leading-none tracking-tight",e),...n}));bo.displayName="CardTitle";const FB=g.forwardRef(({className:e,...n},r)=>c.jsx("p",{ref:r,className:de("text-sm text-muted-foreground",e),...n}));FB.displayName="CardDescription";const rr=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{ref:r,className:de("p-6 pt-0",e),...n}));rr.displayName="CardContent";const UB=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{ref:r,className:de("flex items-center p-6 pt-0",e),...n}));UB.displayName="CardFooter";function mo({className:e,...n}){return c.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...n})}function Zk(e,n){return n?`${Math.round(e/n*100)}%`:"0%"}function BB(e){const n=e.reduce((r,o)=>{const s=o.role||"Generalist";return r[s]=(r[s]??0)+1,r},{});return Object.entries(n).sort((r,o)=>o[1]-r[1]).slice(0,6).map(([r,o])=>({role:r,count:o}))}function HB(){const{data:e,isLoading:n}=Ko({queryKey:["insights","overview"],queryFn:()=>Ye.fetchOverviewInsights(),refetchInterval:3e4}),{data:r}=Ko({queryKey:["agents"],queryFn:()=>Ye.listAgents(),select:f=>f.items,refetchInterval:2e4});Ko({queryKey:["workflows"],queryFn:()=>Ye.listWorkflows(),select:f=>f.items,refetchInterval:3e4}),Un(f=>{var m;return`${((m=f.companyName)==null?void 0:m.trim())||"Atlas"} Engine`});const o=ca(f=>f.totalTokens),s=ca(f=>f.tokensByAgent),i=ca(f=>f.setUsage);g.useEffect(()=>{e!=null&&e.tokenUsage&&i(e.tokenUsage)},[e,i]);const a=g.useMemo(()=>{const f=Object.entries(s??{});if(f.length===0)return null;const[m,p]=f.sort((v,y)=>y[1]-v[1])[0];return{agent:m,tokens:p}},[s]),l=o.toLocaleString(),u=a?`${a.tokens.toLocaleString()} by ${a.agent}`:"Tracking",d=e?[{label:"Active Agents",value:e.agentCount,change:`${e.taskCounts.working} running`,detail:`${e.taskCounts.pending} pending tasks`},{label:"Tasks Completed",value:e.taskCounts.completed,change:`${Zk(e.taskCounts.completed,e.taskCounts.total)} of total`,detail:`${e.taskCounts.total} tracked`},{label:"Tasks In Flight",value:e.taskCounts.pending+e.taskCounts.working,change:`${e.taskCounts.pending} pending`,detail:`${e.taskCounts.working} working`},{label:"Memories Stored",value:e.memoryCount,change:`${e.recentTasks.length} recent tasks`,detail:`Uptime ${(e.uptimeSeconds/3600).toFixed(1)}h`}]:[],h=r?BB(r):[];return c.jsxs("div",{className:"p-8 space-y-8 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Overview"}),c.jsx("p",{className:"text-muted-foreground",children:"Monitor your AI workforce performance"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(It,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Tokens Used"}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("div",{className:"text-3xl font-bold text-foreground",children:l}),c.jsxs("div",{className:"flex items-center text-xs text-atlas-glow gap-1",children:[c.jsx(tk,{className:"h-3 w-3"}),u]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Since runtime start"})]})}),n&&!e?Array.from({length:3}).map((f,m)=>c.jsx(It,{className:"bg-card border-border p-6",children:c.jsx(mo,{className:"h-20 w-full"})},`skeleton-${m}`)):d.slice(0,3).map(f=>c.jsx(It,{className:"bg-card border-border p-6 hover:border-atlas-glow/50 transition-all duration-300",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:f.label}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("div",{className:"text-3xl font-bold text-foreground",children:f.value}),c.jsxs("div",{className:"flex items-center text-xs text-atlas-success gap-1",children:[c.jsx(tk,{className:"h-3 w-3"}),f.change]})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:f.detail})]})},f.label))]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx(It,{className:"bg-card border-border p-6 lg:col-span-2",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Activity"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks processed over the last 7 days"})]}),c.jsxs("div",{className:"h-64 flex items-end justify-between gap-2",children:[((e==null?void 0:e.tasksPerDay)??[]).map(f=>c.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-full bg-atlas-glow rounded-t transition-all hover:bg-atlas-glow/80",style:{height:`${Math.min(100,f.count*4)}%`}}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(f.day).toLocaleDateString(void 0,{weekday:"short"})})]},f.day)),!e&&c.jsx(mo,{className:"h-full w-full"})]})]})}),c.jsx(It,{className:"bg-card border-border p-6 lg:col-span-1",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Agent Roles"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Distribution across your network"})]}),c.jsxs("div",{className:"space-y-3",children:[h.length===0&&c.jsx(mo,{className:"h-40 w-full"}),h.map(f=>c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-foreground",children:f.role}),c.jsx("span",{className:"text-muted-foreground",children:f.count})]}),c.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-atlas-glow rounded-full transition-all",style:{width:`${Zk(f.count,(r==null?void 0:r.length)??1)}`}})})]},f.role))]})]})})]}),c.jsx(It,{className:"bg-card border-border p-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Tasks"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest agent activities"})]})}),c.jsxs("div",{className:"space-y-3",children:[!e&&n&&c.jsx(mo,{className:"h-24 w-full"}),((e==null?void 0:e.recentTasks)??[]).map(f=>c.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-success animate-pulse-glow"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-medium text-foreground",children:f.prompt}),c.jsx("div",{className:"text-xs text-muted-foreground",children:f.agentName})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(BE,{className:"h-2 w-2 fill-current"}),c.jsx("span",{className:"capitalize",children:f.status}),c.jsx(cl,{className:"h-3 w-3 text-atlas-glow"}),c.jsx("span",{children:gA(new Date(f.createdAt),{addSuffix:!0})})]})]},f.id))]})]})})]})}function Yn(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,o;r<e.length;r++)(o=Yn(e[r]))!==""&&(n+=(n&&" ")+o);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var PP={exports:{}},MP={},RP={exports:{}},IP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=g;function VB(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var WB=typeof Object.is=="function"?Object.is:VB,qB=Wc.useState,GB=Wc.useEffect,KB=Wc.useLayoutEffect,YB=Wc.useDebugValue;function XB(e,n){var r=n(),o=qB({inst:{value:r,getSnapshot:n}}),s=o[0].inst,i=o[1];return KB(function(){s.value=r,s.getSnapshot=n,$x(s)&&i({inst:s})},[e,r,n]),GB(function(){return $x(s)&&i({inst:s}),e(function(){$x(s)&&i({inst:s})})},[e]),YB(r),r}function $x(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!WB(e,r)}catch{return!0}}function QB(e,n){return n()}var JB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QB:XB;IP.useSyncExternalStore=Wc.useSyncExternalStore!==void 0?Wc.useSyncExternalStore:JB;RP.exports=IP;var ZB=RP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=g,eH=ZB;function tH(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nH=typeof Object.is=="function"?Object.is:tH,rH=eH.useSyncExternalStore,oH=cg.useRef,sH=cg.useEffect,iH=cg.useMemo,aH=cg.useDebugValue;MP.useSyncExternalStoreWithSelector=function(e,n,r,o,s){var i=oH(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=iH(function(){function u(p){if(!d){if(d=!0,h=p,p=o(p),s!==void 0&&a.hasValue){var v=a.value;if(s(v,p))return f=v}return f=p}if(v=f,nH(h,p))return v;var y=o(p);return s!==void 0&&s(v,y)?(h=p,v):(h=p,f=y)}var d=!1,h,f,m=r===void 0?null:r;return[function(){return u(n())},m===null?void 0:function(){return u(m())}]},[n,r,o,s]);var l=rH(e,i[0],i[1]);return sH(function(){a.hasValue=!0,a.value=l},[l]),aH(l),l};PP.exports=MP;var lH=PP.exports;const cH=Zc(lH),uH={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},e2=e=>{let n;const r=new Set,o=(h,f)=>{const m=typeof h=="function"?h(n):h;if(!Object.is(m,n)){const p=n;n=f??(typeof m!="object"||m===null)?m:Object.assign({},n,m),r.forEach(v=>v(n,p))}},s=()=>n,u={setState:o,getState:s,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(uH?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=n=e(o,s,u);return u},dH=e=>e?e2(e):e2,{useDebugValue:fH}=B,{useSyncExternalStoreWithSelector:hH}=cH,pH=e=>e;function OP(e,n=pH,r){const o=hH(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return fH(o),o}const t2=(e,n)=>{const r=dH(e),o=(s,i=n)=>OP(r,s,i);return Object.assign(o,r),o},mH=(e,n)=>e?t2(e,n):t2;function zr(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var gH={value:()=>{}};function Af(){for(var e=0,n=arguments.length,r={},o;e<n;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new op(r)}function op(e){this._=e}function xH(e,n){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");if(s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}op.prototype=Af.prototype={constructor:op,on:function(e,n){var r=this._,o=xH(e+"",r),s,i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((s=(e=o[i]).type)&&(s=yH(r[s],e.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<a;)if(s=(e=o[i]).type)r[s]=n2(r[s],e.name,n);else if(n==null)for(s in r)r[s]=n2(r[s],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new op(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var r=new Array(s),o=0,s,i;o<s;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(n,r)}};function yH(e,n){for(var r=0,o=e.length,s;r<o;++r)if((s=e[r]).name===n)return s.value}function n2(e,n,r){for(var o=0,s=e.length;o<s;++o)if(e[o].name===n){e[o]=gH,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:n,value:r}),e}var H0="http://www.w3.org/1999/xhtml";const r2={svg:"http://www.w3.org/2000/svg",xhtml:H0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ug(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),r2.hasOwnProperty(n)?{space:r2[n],local:e}:e}function vH(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===H0&&n.documentElement.namespaceURI===H0?n.createElement(e):n.createElementNS(r,e)}}function wH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function DP(e){var n=ug(e);return(n.local?wH:vH)(n)}function bH(){}function yb(e){return e==null?bH:function(){return this.querySelector(e)}}function SH(e){typeof e!="function"&&(e=yb(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=new Array(a),u,d,h=0;h<a;++h)(u=i[h])&&(d=e.call(u,u.__data__,h,i))&&("__data__"in u&&(d.__data__=u.__data__),l[h]=d);return new so(o,this._parents)}function kH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function NH(){return[]}function LP(e){return e==null?NH:function(){return this.querySelectorAll(e)}}function CH(e){return function(){return kH(e.apply(this,arguments))}}function jH(e){typeof e=="function"?e=CH(e):e=LP(e);for(var n=this._groups,r=n.length,o=[],s=[],i=0;i<r;++i)for(var a=n[i],l=a.length,u,d=0;d<l;++d)(u=a[d])&&(o.push(e.call(u,u.__data__,d,a)),s.push(u));return new so(o,s)}function $P(e){return function(){return this.matches(e)}}function zP(e){return function(n){return n.matches(e)}}var _H=Array.prototype.find;function EH(e){return function(){return _H.call(this.children,e)}}function TH(){return this.firstElementChild}function AH(e){return this.select(e==null?TH:EH(typeof e=="function"?e:zP(e)))}var PH=Array.prototype.filter;function MH(){return Array.from(this.children)}function RH(e){return function(){return PH.call(this.children,e)}}function IH(e){return this.selectAll(e==null?MH:RH(typeof e=="function"?e:zP(e)))}function OH(e){typeof e!="function"&&(e=$P(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=[],u,d=0;d<a;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new so(o,this._parents)}function FP(e){return new Array(e.length)}function DH(){return new so(this._enter||this._groups.map(FP),this._parents)}function em(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}em.prototype={constructor:em,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function LH(e){return function(){return e}}function $H(e,n,r,o,s,i){for(var a=0,l,u=n.length,d=i.length;a<d;++a)(l=n[a])?(l.__data__=i[a],o[a]=l):r[a]=new em(e,i[a]);for(;a<u;++a)(l=n[a])&&(s[a]=l)}function zH(e,n,r,o,s,i,a){var l,u,d=new Map,h=n.length,f=i.length,m=new Array(h),p;for(l=0;l<h;++l)(u=n[l])&&(m[l]=p=a.call(u,u.__data__,l,n)+"",d.has(p)?s[l]=u:d.set(p,u));for(l=0;l<f;++l)p=a.call(e,i[l],l,i)+"",(u=d.get(p))?(o[l]=u,u.__data__=i[l],d.delete(p)):r[l]=new em(e,i[l]);for(l=0;l<h;++l)(u=n[l])&&d.get(m[l])===u&&(s[l]=u)}function FH(e){return e.__data__}function UH(e,n){if(!arguments.length)return Array.from(this,FH);var r=n?zH:$H,o=this._parents,s=this._groups;typeof e!="function"&&(e=LH(e));for(var i=s.length,a=new Array(i),l=new Array(i),u=new Array(i),d=0;d<i;++d){var h=o[d],f=s[d],m=f.length,p=BH(e.call(h,h&&h.__data__,d,o)),v=p.length,y=l[d]=new Array(v),b=a[d]=new Array(v),x=u[d]=new Array(m);r(h,f,y,b,x,p,n);for(var w=0,S=0,k,C;w<v;++w)if(k=y[w]){for(w>=S&&(S=w+1);!(C=b[S])&&++S<v;);k._next=C||null}}return a=new so(a,o),a._enter=l,a._exit=u,a}function BH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HH(){return new so(this._exit||this._groups.map(FP),this._parents)}function VH(e,n,r){var o=this.enter(),s=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),n!=null&&(s=n(s),s&&(s=s.selection())),r==null?i.remove():r(i),o&&s?o.merge(s).order():s}function WH(e){for(var n=e.selection?e.selection():e,r=this._groups,o=n._groups,s=r.length,i=o.length,a=Math.min(s,i),l=new Array(s),u=0;u<a;++u)for(var d=r[u],h=o[u],f=d.length,m=l[u]=new Array(f),p,v=0;v<f;++v)(p=d[v]||h[v])&&(m[v]=p);for(;u<s;++u)l[u]=r[u];return new so(l,this._parents)}function qH(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var o=e[n],s=o.length-1,i=o[s],a;--s>=0;)(a=o[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function GH(e){e||(e=KH);function n(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i){for(var a=r[i],l=a.length,u=s[i]=new Array(l),d,h=0;h<l;++h)(d=a[h])&&(u[h]=d);u.sort(n)}return new so(s,this._parents).order()}function KH(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function YH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function XH(){return Array.from(this)}function QH(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,i=o.length;s<i;++s){var a=o[s];if(a)return a}return null}function JH(){let e=0;for(const n of this)++e;return e}function ZH(){return!this.node()}function eV(e){for(var n=this._groups,r=0,o=n.length;r<o;++r)for(var s=n[r],i=0,a=s.length,l;i<a;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function tV(e){return function(){this.removeAttribute(e)}}function nV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rV(e,n){return function(){this.setAttribute(e,n)}}function oV(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function sV(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function iV(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function aV(e,n){var r=ug(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((n==null?r.local?nV:tV:typeof n=="function"?r.local?iV:sV:r.local?oV:rV)(r,n))}function UP(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lV(e){return function(){this.style.removeProperty(e)}}function cV(e,n,r){return function(){this.style.setProperty(e,n,r)}}function uV(e,n,r){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function dV(e,n,r){return arguments.length>1?this.each((n==null?lV:typeof n=="function"?uV:cV)(e,n,r??"")):qc(this.node(),e)}function qc(e,n){return e.style.getPropertyValue(n)||UP(e).getComputedStyle(e,null).getPropertyValue(n)}function fV(e){return function(){delete this[e]}}function hV(e,n){return function(){this[e]=n}}function pV(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function mV(e,n){return arguments.length>1?this.each((n==null?fV:typeof n=="function"?pV:hV)(e,n)):this.node()[e]}function BP(e){return e.trim().split(/^|\s+/)}function vb(e){return e.classList||new HP(e)}function HP(e){this._node=e,this._names=BP(e.getAttribute("class")||"")}HP.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function VP(e,n){for(var r=vb(e),o=-1,s=n.length;++o<s;)r.add(n[o])}function WP(e,n){for(var r=vb(e),o=-1,s=n.length;++o<s;)r.remove(n[o])}function gV(e){return function(){VP(this,e)}}function xV(e){return function(){WP(this,e)}}function yV(e,n){return function(){(n.apply(this,arguments)?VP:WP)(this,e)}}function vV(e,n){var r=BP(e+"");if(arguments.length<2){for(var o=vb(this.node()),s=-1,i=r.length;++s<i;)if(!o.contains(r[s]))return!1;return!0}return this.each((typeof n=="function"?yV:n?gV:xV)(r,n))}function wV(){this.textContent=""}function bV(e){return function(){this.textContent=e}}function SV(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function kV(e){return arguments.length?this.each(e==null?wV:(typeof e=="function"?SV:bV)(e)):this.node().textContent}function NV(){this.innerHTML=""}function CV(e){return function(){this.innerHTML=e}}function jV(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function _V(e){return arguments.length?this.each(e==null?NV:(typeof e=="function"?jV:CV)(e)):this.node().innerHTML}function EV(){this.nextSibling&&this.parentNode.appendChild(this)}function TV(){return this.each(EV)}function AV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PV(){return this.each(AV)}function MV(e){var n=typeof e=="function"?e:DP(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function RV(){return null}function IV(e,n){var r=typeof e=="function"?e:DP(e),o=n==null?RV:typeof n=="function"?n:yb(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function OV(){var e=this.parentNode;e&&e.removeChild(this)}function DV(){return this.each(OV)}function LV(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function $V(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function zV(e){return this.select(e?$V:LV)}function FV(e){return arguments.length?this.property("__data__",e):this.node().__data__}function UV(e){return function(n){e.call(this,n,this.__data__)}}function BV(e){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");return o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),{type:n,name:r}})}function HV(e){return function(){var n=this.__on;if(n){for(var r=0,o=-1,s=n.length,i;r<s;++r)i=n[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):n[++o]=i;++o?n.length=o:delete this.__on}}}function VV(e,n,r){return function(){var o=this.__on,s,i=UV(n);if(o){for(var a=0,l=o.length;a<l;++a)if((s=o[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=n;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:n,listener:i,options:r},o?o.push(s):this.__on=[s]}}function WV(e,n,r){var o=BV(e+""),s,i=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,h;u<d;++u)for(s=0,h=l[u];s<i;++s)if((a=o[s]).type===h.type&&a.name===h.name)return h.value}return}for(l=n?VV:HV,s=0;s<i;++s)this.each(l(o[s],n,r));return this}function qP(e,n,r){var o=UP(e),s=o.CustomEvent;typeof s=="function"?s=new s(n,r):(s=o.document.createEvent("Event"),r?(s.initEvent(n,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function qV(e,n){return function(){return qP(this,e,n)}}function GV(e,n){return function(){return qP(this,e,n.apply(this,arguments))}}function KV(e,n){return this.each((typeof n=="function"?GV:qV)(e,n))}function*YV(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,i=o.length,a;s<i;++s)(a=o[s])&&(yield a)}var GP=[null];function so(e,n){this._groups=e,this._parents=n}function Pf(){return new so([[document.documentElement]],GP)}function XV(){return this}so.prototype=Pf.prototype={constructor:so,select:SH,selectAll:jH,selectChild:AH,selectChildren:IH,filter:OH,data:UH,enter:DH,exit:HH,join:VH,merge:WH,selection:XV,order:qH,sort:GH,call:YH,nodes:XH,node:QH,size:JH,empty:ZH,each:eV,attr:aV,style:dV,property:mV,classed:vV,text:kV,html:_V,raise:TV,lower:PV,append:MV,insert:IV,remove:DV,clone:zV,datum:FV,on:WV,dispatch:KV,[Symbol.iterator]:YV};function gr(e){return typeof e=="string"?new so([[document.querySelector(e)]],[document.documentElement]):new so([[e]],GP)}function QV(e){let n;for(;n=e.sourceEvent;)e=n;return e}function go(e,n){if(e=QV(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}}return[e.pageX,e.pageY]}const JV={passive:!1},Yd={capture:!0,passive:!1};function zx(e){e.stopImmediatePropagation()}function yc(e){e.preventDefault(),e.stopImmediatePropagation()}function KP(e){var n=e.document.documentElement,r=gr(e).on("dragstart.drag",yc,Yd);"onselectstart"in n?r.on("selectstart.drag",yc,Yd):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function YP(e,n){var r=e.document.documentElement,o=gr(e).on("dragstart.drag",null);n&&(o.on("click.drag",yc,Yd),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const kh=e=>()=>e;function V0(e,{sourceEvent:n,subject:r,target:o,identifier:s,active:i,x:a,y:l,dx:u,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}V0.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ZV(e){return!e.ctrlKey&&!e.button}function eW(){return this.parentNode}function tW(e,n){return n??{x:e.x,y:e.y}}function nW(){return navigator.maxTouchPoints||"ontouchstart"in this}function XP(){var e=ZV,n=eW,r=tW,o=nW,s={},i=Af("start","drag","end"),a=0,l,u,d,h,f=0;function m(k){k.on("mousedown.drag",p).filter(o).on("touchstart.drag",b).on("touchmove.drag",x,JV).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,C){if(!(h||!e.call(this,k,C))){var N=S(this,n.call(this,k,C),k,C,"mouse");N&&(gr(k.view).on("mousemove.drag",v,Yd).on("mouseup.drag",y,Yd),KP(k.view),zx(k),d=!1,l=k.clientX,u=k.clientY,N("start",k))}}function v(k){if(yc(k),!d){var C=k.clientX-l,N=k.clientY-u;d=C*C+N*N>f}s.mouse("drag",k)}function y(k){gr(k.view).on("mousemove.drag mouseup.drag",null),YP(k.view,d),yc(k),s.mouse("end",k)}function b(k,C){if(e.call(this,k,C)){var N=k.changedTouches,j=n.call(this,k,C),P=N.length,E,_;for(E=0;E<P;++E)(_=S(this,j,k,C,N[E].identifier,N[E]))&&(zx(k),_("start",k,N[E]))}}function x(k){var C=k.changedTouches,N=C.length,j,P;for(j=0;j<N;++j)(P=s[C[j].identifier])&&(yc(k),P("drag",k,C[j]))}function w(k){var C=k.changedTouches,N=C.length,j,P;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),j=0;j<N;++j)(P=s[C[j].identifier])&&(zx(k),P("end",k,C[j]))}function S(k,C,N,j,P,E){var _=i.copy(),I=go(E||N,C),O,U,T;if((T=r.call(k,new V0("beforestart",{sourceEvent:N,target:m,identifier:P,active:a,x:I[0],y:I[1],dx:0,dy:0,dispatch:_}),j))!=null)return O=T.x-I[0]||0,U=T.y-I[1]||0,function z(L,H,F){var R=I,A;switch(L){case"start":s[P]=z,A=a++;break;case"end":delete s[P],--a;case"drag":I=go(F||H,C),A=a;break}_.call(L,k,new V0(L,{sourceEvent:H,subject:T,target:m,identifier:P,active:A,x:I[0]+O,y:I[1]+U,dx:I[0]-R[0],dy:I[1]-R[1],dispatch:_}),j)}}return m.filter=function(k){return arguments.length?(e=typeof k=="function"?k:kh(!!k),m):e},m.container=function(k){return arguments.length?(n=typeof k=="function"?k:kh(k),m):n},m.subject=function(k){return arguments.length?(r=typeof k=="function"?k:kh(k),m):r},m.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:kh(!!k),m):o},m.on=function(){var k=i.on.apply(i,arguments);return k===i?m:k},m.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,m):Math.sqrt(f)},m}function wb(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function QP(e,n){var r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r}function Mf(){}var Xd=.7,tm=1/Xd,vc="\\s*([+-]?\\d+)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rW=/^#([0-9a-f]{3,8})$/,oW=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),sW=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),iW=new RegExp(`^rgba\\(${vc},${vc},${vc},${Qd}\\)$`),aW=new RegExp(`^rgba\\(${ws},${ws},${ws},${Qd}\\)$`),lW=new RegExp(`^hsl\\(${Qd},${ws},${ws}\\)$`),cW=new RegExp(`^hsla\\(${Qd},${ws},${ws},${Qd}\\)$`),o2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wb(Mf,Jd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s2,formatHex:s2,formatHex8:uW,formatHsl:dW,formatRgb:i2,toString:i2});function s2(){return this.rgb().formatHex()}function uW(){return this.rgb().formatHex8()}function dW(){return JP(this).formatHsl()}function i2(){return this.rgb().formatRgb()}function Jd(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=rW.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?a2(n):r===3?new Or(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?Nh(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?Nh(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=oW.exec(e))?new Or(n[1],n[2],n[3],1):(n=sW.exec(e))?new Or(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=iW.exec(e))?Nh(n[1],n[2],n[3],n[4]):(n=aW.exec(e))?Nh(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=lW.exec(e))?u2(n[1],n[2]/100,n[3]/100,1):(n=cW.exec(e))?u2(n[1],n[2]/100,n[3]/100,n[4]):o2.hasOwnProperty(e)?a2(o2[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function a2(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Nh(e,n,r,o){return o<=0&&(e=n=r=NaN),new Or(e,n,r,o)}function fW(e){return e instanceof Mf||(e=Jd(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function W0(e,n,r,o){return arguments.length===1?fW(e):new Or(e,n,r,o??1)}function Or(e,n,r,o){this.r=+e,this.g=+n,this.b=+r,this.opacity=+o}wb(Or,W0,QP(Mf,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xd:Math.pow(Xd,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(el(this.r),el(this.g),el(this.b),nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l2,formatHex:l2,formatHex8:hW,formatRgb:c2,toString:c2}));function l2(){return`#${Fa(this.r)}${Fa(this.g)}${Fa(this.b)}`}function hW(){return`#${Fa(this.r)}${Fa(this.g)}${Fa(this.b)}${Fa((isNaN(this.opacity)?1:this.opacity)*255)}`}function c2(){const e=nm(this.opacity);return`${e===1?"rgb(":"rgba("}${el(this.r)}, ${el(this.g)}, ${el(this.b)}${e===1?")":`, ${e})`}`}function nm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function el(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fa(e){return e=el(e),(e<16?"0":"")+e.toString(16)}function u2(e,n,r,o){return o<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Ho(e,n,r,o)}function JP(e){if(e instanceof Ho)return new Ho(e.h,e.s,e.l,e.opacity);if(e instanceof Mf||(e=Jd(e)),!e)return new Ho;if(e instanceof Ho)return e;e=e.rgb();var n=e.r/255,r=e.g/255,o=e.b/255,s=Math.min(n,r,o),i=Math.max(n,r,o),a=NaN,l=i-s,u=(i+s)/2;return l?(n===i?a=(r-o)/l+(r<o)*6:r===i?a=(o-n)/l+2:a=(n-r)/l+4,l/=u<.5?i+s:2-i-s,a*=60):l=u>0&&u<1?0:a,new Ho(a,l,u,e.opacity)}function pW(e,n,r,o){return arguments.length===1?JP(e):new Ho(e,n,r,o??1)}function Ho(e,n,r,o){this.h=+e,this.s=+n,this.l=+r,this.opacity=+o}wb(Ho,pW,QP(Mf,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Ho(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xd:Math.pow(Xd,e),new Ho(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,s=2*r-o;return new Or(Fx(e>=240?e-240:e+120,s,o),Fx(e,s,o),Fx(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new Ho(d2(this.h),Ch(this.s),Ch(this.l),nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nm(this.opacity);return`${e===1?"hsl(":"hsla("}${d2(this.h)}, ${Ch(this.s)*100}%, ${Ch(this.l)*100}%${e===1?")":`, ${e})`}`}}));function d2(e){return e=(e||0)%360,e<0?e+360:e}function Ch(e){return Math.max(0,Math.min(1,e||0))}function Fx(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const ZP=e=>()=>e;function mW(e,n){return function(r){return e+r*n}}function gW(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(o){return Math.pow(e+o*n,r)}}function xW(e){return(e=+e)==1?e3:function(n,r){return r-n?gW(n,r,e):ZP(isNaN(n)?r:n)}}function e3(e,n){var r=n-e;return r?mW(e,r):ZP(isNaN(e)?n:e)}const f2=function e(n){var r=xW(n);function o(s,i){var a=r((s=W0(s)).r,(i=W0(i)).r),l=r(s.g,i.g),u=r(s.b,i.b),d=e3(s.opacity,i.opacity);return function(h){return s.r=a(h),s.g=l(h),s.b=u(h),s.opacity=d(h),s+""}}return o.gamma=e,o}(1);function Ri(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var q0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ux=new RegExp(q0.source,"g");function yW(e){return function(){return e}}function vW(e){return function(n){return e(n)+""}}function wW(e,n){var r=q0.lastIndex=Ux.lastIndex=0,o,s,i,a=-1,l=[],u=[];for(e=e+"",n=n+"";(o=q0.exec(e))&&(s=Ux.exec(n));)(i=s.index)>r&&(i=n.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(o=o[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,u.push({i:a,x:Ri(o,s)})),r=Ux.lastIndex;return r<n.length&&(i=n.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?vW(u[0].x):yW(n):(n=u.length,function(d){for(var h=0,f;h<n;++h)l[(f=u[h]).i]=f.x(d);return l.join("")})}var h2=180/Math.PI,G0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function t3(e,n,r,o,s,i){var a,l,u;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(u=e*r+n*o)&&(r-=e*u,o-=n*u),(l=Math.sqrt(r*r+o*o))&&(r/=l,o/=l,u/=l),e*o<n*r&&(e=-e,n=-n,u=-u,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(n,e)*h2,skewX:Math.atan(u)*h2,scaleX:a,scaleY:l}}var jh;function bW(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?G0:t3(n.a,n.b,n.c,n.d,n.e,n.f)}function SW(e){return e==null||(jh||(jh=document.createElementNS("http://www.w3.org/2000/svg","g")),jh.setAttribute("transform",e),!(e=jh.transform.baseVal.consolidate()))?G0:(e=e.matrix,t3(e.a,e.b,e.c,e.d,e.e,e.f))}function n3(e,n,r,o){function s(d){return d.length?d.pop()+" ":""}function i(d,h,f,m,p,v){if(d!==f||h!==m){var y=p.push("translate(",null,n,null,r);v.push({i:y-4,x:Ri(d,f)},{i:y-2,x:Ri(h,m)})}else(f||m)&&p.push("translate("+f+n+m+r)}function a(d,h,f,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:f.push(s(f)+"rotate(",null,o)-2,x:Ri(d,h)})):h&&f.push(s(f)+"rotate("+h+o)}function l(d,h,f,m){d!==h?m.push({i:f.push(s(f)+"skewX(",null,o)-2,x:Ri(d,h)}):h&&f.push(s(f)+"skewX("+h+o)}function u(d,h,f,m,p,v){if(d!==f||h!==m){var y=p.push(s(p)+"scale(",null,",",null,")");v.push({i:y-4,x:Ri(d,f)},{i:y-2,x:Ri(h,m)})}else(f!==1||m!==1)&&p.push(s(p)+"scale("+f+","+m+")")}return function(d,h){var f=[],m=[];return d=e(d),h=e(h),i(d.translateX,d.translateY,h.translateX,h.translateY,f,m),a(d.rotate,h.rotate,f,m),l(d.skewX,h.skewX,f,m),u(d.scaleX,d.scaleY,h.scaleX,h.scaleY,f,m),d=h=null,function(p){for(var v=-1,y=m.length,b;++v<y;)f[(b=m[v]).i]=b.x(p);return f.join("")}}}var kW=n3(bW,"px, ","px)","deg)"),NW=n3(SW,", ",")",")"),CW=1e-12;function p2(e){return((e=Math.exp(e))+1/e)/2}function jW(e){return((e=Math.exp(e))-1/e)/2}function _W(e){return((e=Math.exp(2*e))-1)/(e+1)}const EW=function e(n,r,o){function s(i,a){var l=i[0],u=i[1],d=i[2],h=a[0],f=a[1],m=a[2],p=h-l,v=f-u,y=p*p+v*v,b,x;if(y<CW)x=Math.log(m/d)/n,b=function(j){return[l+j*p,u+j*v,d*Math.exp(n*j*x)]};else{var w=Math.sqrt(y),S=(m*m-d*d+o*y)/(2*d*r*w),k=(m*m-d*d-o*y)/(2*m*r*w),C=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(k*k+1)-k);x=(N-C)/n,b=function(j){var P=j*x,E=p2(C),_=d/(r*w)*(E*_W(n*P+C)-jW(C));return[l+_*p,u+_*v,d*E/p2(n*P+C)]}}return b.duration=x*1e3*n/Math.SQRT2,b}return s.rho=function(i){var a=Math.max(.001,+i),l=a*a,u=l*l;return e(a,l,u)},s}(Math.SQRT2,2,4);var Gc=0,Xu=0,Au=0,r3=1e3,rm,Qu,om=0,pl=0,dg=0,Zd=typeof performance=="object"&&performance.now?performance:Date,o3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bb(){return pl||(o3(TW),pl=Zd.now()+dg)}function TW(){pl=0}function sm(){this._call=this._time=this._next=null}sm.prototype=Sb.prototype={constructor:sm,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?bb():+r)+(n==null?0:+n),!this._next&&Qu!==this&&(Qu?Qu._next=this:rm=this,Qu=this),this._call=e,this._time=r,K0()},stop:function(){this._call&&(this._call=null,this._time=1/0,K0())}};function Sb(e,n,r){var o=new sm;return o.restart(e,n,r),o}function AW(){bb(),++Gc;for(var e=rm,n;e;)(n=pl-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Gc}function m2(){pl=(om=Zd.now())+dg,Gc=Xu=0;try{AW()}finally{Gc=0,MW(),pl=0}}function PW(){var e=Zd.now(),n=e-om;n>r3&&(dg-=n,om=e)}function MW(){for(var e,n=rm,r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:rm=r);Qu=e,K0(o)}function K0(e){if(!Gc){Xu&&(Xu=clearTimeout(Xu));var n=e-pl;n>24?(e<1/0&&(Xu=setTimeout(m2,e-Zd.now()-dg)),Au&&(Au=clearInterval(Au))):(Au||(om=Zd.now(),Au=setInterval(PW,r3)),Gc=1,o3(m2))}}function g2(e,n,r){var o=new sm;return n=n==null?0:+n,o.restart(s=>{o.stop(),e(s+n)},n,r),o}var RW=Af("start","end","cancel","interrupt"),IW=[],s3=0,x2=1,Y0=2,sp=3,y2=4,X0=5,ip=6;function fg(e,n,r,o,s,i){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;OW(e,r,{name:n,index:o,group:s,on:RW,tween:IW,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:s3})}function kb(e,n){var r=Zo(e,n);if(r.state>s3)throw new Error("too late; already scheduled");return r}function Ts(e,n){var r=Zo(e,n);if(r.state>sp)throw new Error("too late; already running");return r}function Zo(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function OW(e,n,r){var o=e.__transition,s;o[n]=r,r.timer=Sb(i,0,r.time);function i(d){r.state=x2,r.timer.restart(a,r.delay,r.time),r.delay<=d&&a(d-r.delay)}function a(d){var h,f,m,p;if(r.state!==x2)return u();for(h in o)if(p=o[h],p.name===r.name){if(p.state===sp)return g2(a);p.state===y2?(p.state=ip,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[h]):+h<n&&(p.state=ip,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[h])}if(g2(function(){r.state===sp&&(r.state=y2,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=Y0,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Y0){for(r.state=sp,s=new Array(m=r.tween.length),h=0,f=-1;h<m;++h)(p=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(s[++f]=p);s.length=f+1}}function l(d){for(var h=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=X0,1),f=-1,m=s.length;++f<m;)s[f].call(e,h);r.state===X0&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=ip,r.timer.stop(),delete o[n];for(var d in o)return;delete e.__transition}}function ap(e,n){var r=e.__transition,o,s,i=!0,a;if(r){n=n==null?null:n+"";for(a in r){if((o=r[a]).name!==n){i=!1;continue}s=o.state>Y0&&o.state<X0,o.state=ip,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[a]}i&&delete e.__transition}}function DW(e){return this.each(function(){ap(this,e)})}function LW(e,n){var r,o;return function(){var s=Ts(this,e),i=s.tween;if(i!==r){o=r=i;for(var a=0,l=o.length;a<l;++a)if(o[a].name===n){o=o.slice(),o.splice(a,1);break}}s.tween=o}}function $W(e,n,r){var o,s;if(typeof r!="function")throw new Error;return function(){var i=Ts(this,e),a=i.tween;if(a!==o){s=(o=a).slice();for(var l={name:n,value:r},u=0,d=s.length;u<d;++u)if(s[u].name===n){s[u]=l;break}u===d&&s.push(l)}i.tween=s}}function zW(e,n){var r=this._id;if(e+="",arguments.length<2){for(var o=Zo(this.node(),r).tween,s=0,i=o.length,a;s<i;++s)if((a=o[s]).name===e)return a.value;return null}return this.each((n==null?LW:$W)(r,e,n))}function Nb(e,n,r){var o=e._id;return e.each(function(){var s=Ts(this,o);(s.value||(s.value={}))[n]=r.apply(this,arguments)}),function(s){return Zo(s,o).value[n]}}function i3(e,n){var r;return(typeof n=="number"?Ri:n instanceof Jd?f2:(r=Jd(n))?(n=r,f2):wW)(e,n)}function FW(e){return function(){this.removeAttribute(e)}}function UW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BW(e,n,r){var o,s=r+"",i;return function(){var a=this.getAttribute(e);return a===s?null:a===o?i:i=n(o=a,r)}}function HW(e,n,r){var o,s=r+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===o?i:i=n(o=a,r)}}function VW(e,n,r){var o,s,i;return function(){var a,l=r(this),u;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=l+"",a===u?null:a===o&&u===s?i:(s=u,i=n(o=a,l)))}}function WW(e,n,r){var o,s,i;return function(){var a,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=l+"",a===u?null:a===o&&u===s?i:(s=u,i=n(o=a,l)))}}function qW(e,n){var r=ug(e),o=r==="transform"?NW:i3;return this.attrTween(e,typeof n=="function"?(r.local?WW:VW)(r,o,Nb(this,"attr."+e,n)):n==null?(r.local?UW:FW)(r):(r.local?HW:BW)(r,o,n))}function GW(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function KW(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function YW(e,n){var r,o;function s(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&KW(e,i)),r}return s._value=n,s}function XW(e,n){var r,o;function s(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&GW(e,i)),r}return s._value=n,s}function QW(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var o=ug(e);return this.tween(r,(o.local?YW:XW)(o,n))}function JW(e,n){return function(){kb(this,e).delay=+n.apply(this,arguments)}}function ZW(e,n){return n=+n,function(){kb(this,e).delay=n}}function eq(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?JW:ZW)(n,e)):Zo(this.node(),n).delay}function tq(e,n){return function(){Ts(this,e).duration=+n.apply(this,arguments)}}function nq(e,n){return n=+n,function(){Ts(this,e).duration=n}}function rq(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?tq:nq)(n,e)):Zo(this.node(),n).duration}function oq(e,n){if(typeof n!="function")throw new Error;return function(){Ts(this,e).ease=n}}function sq(e){var n=this._id;return arguments.length?this.each(oq(n,e)):Zo(this.node(),n).ease}function iq(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Ts(this,e).ease=r}}function aq(e){if(typeof e!="function")throw new Error;return this.each(iq(this._id,e))}function lq(e){typeof e!="function"&&(e=$P(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var i=n[s],a=i.length,l=o[s]=[],u,d=0;d<a;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new si(o,this._parents,this._name,this._id)}function cq(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),l=0;l<i;++l)for(var u=n[l],d=r[l],h=u.length,f=a[l]=new Array(h),m,p=0;p<h;++p)(m=u[p]||d[p])&&(f[p]=m);for(;l<o;++l)a[l]=n[l];return new si(a,this._parents,this._name,this._id)}function uq(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function dq(e,n,r){var o,s,i=uq(n)?kb:Ts;return function(){var a=i(this,e),l=a.on;l!==o&&(s=(o=l).copy()).on(n,r),a.on=s}}function fq(e,n){var r=this._id;return arguments.length<2?Zo(this.node(),r).on.on(e):this.each(dq(r,e,n))}function hq(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function pq(){return this.on("end.remove",hq(this._id))}function mq(e){var n=this._name,r=this._id;typeof e!="function"&&(e=yb(e));for(var o=this._groups,s=o.length,i=new Array(s),a=0;a<s;++a)for(var l=o[a],u=l.length,d=i[a]=new Array(u),h,f,m=0;m<u;++m)(h=l[m])&&(f=e.call(h,h.__data__,m,l))&&("__data__"in h&&(f.__data__=h.__data__),d[m]=f,fg(d[m],n,r,m,d,Zo(h,r)));return new si(i,this._parents,n,r)}function gq(e){var n=this._name,r=this._id;typeof e!="function"&&(e=LP(e));for(var o=this._groups,s=o.length,i=[],a=[],l=0;l<s;++l)for(var u=o[l],d=u.length,h,f=0;f<d;++f)if(h=u[f]){for(var m=e.call(h,h.__data__,f,u),p,v=Zo(h,r),y=0,b=m.length;y<b;++y)(p=m[y])&&fg(p,n,r,y,m,v);i.push(m),a.push(h)}return new si(i,a,n,r)}var xq=Pf.prototype.constructor;function yq(){return new xq(this._groups,this._parents)}function vq(e,n){var r,o,s;return function(){var i=qc(this,e),a=(this.style.removeProperty(e),qc(this,e));return i===a?null:i===r&&a===o?s:s=n(r=i,o=a)}}function a3(e){return function(){this.style.removeProperty(e)}}function wq(e,n,r){var o,s=r+"",i;return function(){var a=qc(this,e);return a===s?null:a===o?i:i=n(o=a,r)}}function bq(e,n,r){var o,s,i;return function(){var a=qc(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),qc(this,e))),a===u?null:a===o&&u===s?i:(s=u,i=n(o=a,l))}}function Sq(e,n){var r,o,s,i="style."+n,a="end."+i,l;return function(){var u=Ts(this,e),d=u.on,h=u.value[i]==null?l||(l=a3(n)):void 0;(d!==r||s!==h)&&(o=(r=d).copy()).on(a,s=h),u.on=o}}function kq(e,n,r){var o=(e+="")=="transform"?kW:i3;return n==null?this.styleTween(e,vq(e,o)).on("end.style."+e,a3(e)):typeof n=="function"?this.styleTween(e,bq(e,o,Nb(this,"style."+e,n))).each(Sq(this._id,e)):this.styleTween(e,wq(e,o,n),r).on("end.style."+e,null)}function Nq(e,n,r){return function(o){this.style.setProperty(e,n.call(this,o),r)}}function Cq(e,n,r){var o,s;function i(){var a=n.apply(this,arguments);return a!==s&&(o=(s=a)&&Nq(e,a,r)),o}return i._value=n,i}function jq(e,n,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,Cq(e,n,r??""))}function _q(e){return function(){this.textContent=e}}function Eq(e){return function(){var n=e(this);this.textContent=n??""}}function Tq(e){return this.tween("text",typeof e=="function"?Eq(Nb(this,"text",e)):_q(e==null?"":e+""))}function Aq(e){return function(n){this.textContent=e.call(this,n)}}function Pq(e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Aq(s)),n}return o._value=e,o}function Mq(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Pq(e))}function Rq(){for(var e=this._name,n=this._id,r=l3(),o=this._groups,s=o.length,i=0;i<s;++i)for(var a=o[i],l=a.length,u,d=0;d<l;++d)if(u=a[d]){var h=Zo(u,n);fg(u,e,r,d,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new si(o,this._parents,e,r)}function Iq(){var e,n,r=this,o=r._id,s=r.size();return new Promise(function(i,a){var l={value:a},u={value:function(){--s===0&&i()}};r.each(function(){var d=Ts(this,o),h=d.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(u)),d.on=n}),s===0&&i()})}var Oq=0;function si(e,n,r,o){this._groups=e,this._parents=n,this._name=r,this._id=o}function l3(){return++Oq}var Os=Pf.prototype;si.prototype={constructor:si,select:mq,selectAll:gq,selectChild:Os.selectChild,selectChildren:Os.selectChildren,filter:lq,merge:cq,selection:yq,transition:Rq,call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:fq,attr:qW,attrTween:QW,style:kq,styleTween:jq,text:Tq,textTween:Mq,remove:pq,tween:zW,delay:eq,duration:rq,ease:sq,easeVarying:aq,end:Iq,[Symbol.iterator]:Os[Symbol.iterator]};function Dq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lq={time:null,delay:0,duration:250,ease:Dq};function $q(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function zq(e){var n,r;e instanceof si?(n=e._id,e=e._name):(n=l3(),(r=Lq).time=bb(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,i=0;i<s;++i)for(var a=o[i],l=a.length,u,d=0;d<l;++d)(u=a[d])&&fg(u,e,n,d,a,r||$q(u,n));return new si(o,this._parents,e,n)}Pf.prototype.interrupt=DW;Pf.prototype.transition=zq;const _h=e=>()=>e;function Fq(e,{sourceEvent:n,target:r,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Gs(e,n,r){this.k=e,this.x=n,this.y=r}Gs.prototype={constructor:Gs,scale:function(e){return e===1?this:new Gs(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Gs(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bs=new Gs(1,0,0);is.prototype=Gs.prototype;function is(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bs;return e.__zoom}function Bx(e){e.stopImmediatePropagation()}function Pu(e){e.preventDefault(),e.stopImmediatePropagation()}function Uq(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Bq(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function v2(){return this.__zoom||bs}function Hq(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vq(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wq(e,n,r){var o=e.invertX(n[0][0])-r[0][0],s=e.invertX(n[1][0])-r[1][0],i=e.invertY(n[0][1])-r[0][1],a=e.invertY(n[1][1])-r[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Cb(){var e=Uq,n=Bq,r=Wq,o=Hq,s=Vq,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=EW,d=Af("start","zoom","end"),h,f,m,p=500,v=150,y=0,b=10;function x(T){T.property("__zoom",v2).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",_).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(T,z,L,H){var F=T.selection?T.selection():T;F.property("__zoom",v2),T!==F?C(T,z,L,H):F.interrupt().each(function(){N(this,arguments).event(H).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},x.scaleBy=function(T,z,L,H){x.scaleTo(T,function(){var F=this.__zoom.k,R=typeof z=="function"?z.apply(this,arguments):z;return F*R},L,H)},x.scaleTo=function(T,z,L,H){x.transform(T,function(){var F=n.apply(this,arguments),R=this.__zoom,A=L==null?k(F):typeof L=="function"?L.apply(this,arguments):L,D=R.invert(A),$=typeof z=="function"?z.apply(this,arguments):z;return r(S(w(R,$),A,D),F,a)},L,H)},x.translateBy=function(T,z,L,H){x.transform(T,function(){return r(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof L=="function"?L.apply(this,arguments):L),n.apply(this,arguments),a)},null,H)},x.translateTo=function(T,z,L,H,F){x.transform(T,function(){var R=n.apply(this,arguments),A=this.__zoom,D=H==null?k(R):typeof H=="function"?H.apply(this,arguments):H;return r(bs.translate(D[0],D[1]).scale(A.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof L=="function"?-L.apply(this,arguments):-L),R,a)},H,F)};function w(T,z){return z=Math.max(i[0],Math.min(i[1],z)),z===T.k?T:new Gs(z,T.x,T.y)}function S(T,z,L){var H=z[0]-L[0]*T.k,F=z[1]-L[1]*T.k;return H===T.x&&F===T.y?T:new Gs(T.k,H,F)}function k(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function C(T,z,L,H){T.on("start.zoom",function(){N(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(H).end()}).tween("zoom",function(){var F=this,R=arguments,A=N(F,R).event(H),D=n.apply(F,R),$=L==null?k(D):typeof L=="function"?L.apply(F,R):L,M=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),Y=F.__zoom,Z=typeof z=="function"?z.apply(F,R):z,re=u(Y.invert($).concat(M/Y.k),Z.invert($).concat(M/Z.k));return function(Q){if(Q===1)Q=Z;else{var ce=re(Q),fe=M/ce[2];Q=new Gs(fe,$[0]-ce[0]*fe,$[1]-ce[1]*fe)}A.zoom(null,Q)}})}function N(T,z,L){return!L&&T.__zooming||new j(T,z)}function j(T,z){this.that=T,this.args=z,this.active=0,this.sourceEvent=null,this.extent=n.apply(T,z),this.taps=0}j.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,z){return this.mouse&&T!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var z=gr(this.that).datum();d.call(T,this.that,new Fq(T,{sourceEvent:this.sourceEvent,target:x,type:T,transform:this.that.__zoom,dispatch:d}),z)}};function P(T,...z){if(!e.apply(this,arguments))return;var L=N(this,z).event(T),H=this.__zoom,F=Math.max(i[0],Math.min(i[1],H.k*Math.pow(2,o.apply(this,arguments)))),R=go(T);if(L.wheel)(L.mouse[0][0]!==R[0]||L.mouse[0][1]!==R[1])&&(L.mouse[1]=H.invert(L.mouse[0]=R)),clearTimeout(L.wheel);else{if(H.k===F)return;L.mouse=[R,H.invert(R)],ap(this),L.start()}Pu(T),L.wheel=setTimeout(A,v),L.zoom("mouse",r(S(w(H,F),L.mouse[0],L.mouse[1]),L.extent,a));function A(){L.wheel=null,L.end()}}function E(T,...z){if(m||!e.apply(this,arguments))return;var L=T.currentTarget,H=N(this,z,!0).event(T),F=gr(T.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",M,!0),R=go(T,L),A=T.clientX,D=T.clientY;KP(T.view),Bx(T),H.mouse=[R,this.__zoom.invert(R)],ap(this),H.start();function $(Y){if(Pu(Y),!H.moved){var Z=Y.clientX-A,re=Y.clientY-D;H.moved=Z*Z+re*re>y}H.event(Y).zoom("mouse",r(S(H.that.__zoom,H.mouse[0]=go(Y,L),H.mouse[1]),H.extent,a))}function M(Y){F.on("mousemove.zoom mouseup.zoom",null),YP(Y.view,H.moved),Pu(Y),H.event(Y).end()}}function _(T,...z){if(e.apply(this,arguments)){var L=this.__zoom,H=go(T.changedTouches?T.changedTouches[0]:T,this),F=L.invert(H),R=L.k*(T.shiftKey?.5:2),A=r(S(w(L,R),H,F),n.apply(this,z),a);Pu(T),l>0?gr(this).transition().duration(l).call(C,A,H,T):gr(this).call(x.transform,A,H,T)}}function I(T,...z){if(e.apply(this,arguments)){var L=T.touches,H=L.length,F=N(this,z,T.changedTouches.length===H).event(T),R,A,D,$;for(Bx(T),A=0;A<H;++A)D=L[A],$=go(D,this),$=[$,this.__zoom.invert($),D.identifier],F.touch0?!F.touch1&&F.touch0[2]!==$[2]&&(F.touch1=$,F.taps=0):(F.touch0=$,R=!0,F.taps=1+!!h);h&&(h=clearTimeout(h)),R&&(F.taps<2&&(f=$[0],h=setTimeout(function(){h=null},p)),ap(this),F.start())}}function O(T,...z){if(this.__zooming){var L=N(this,z).event(T),H=T.changedTouches,F=H.length,R,A,D,$;for(Pu(T),R=0;R<F;++R)A=H[R],D=go(A,this),L.touch0&&L.touch0[2]===A.identifier?L.touch0[0]=D:L.touch1&&L.touch1[2]===A.identifier&&(L.touch1[0]=D);if(A=L.that.__zoom,L.touch1){var M=L.touch0[0],Y=L.touch0[1],Z=L.touch1[0],re=L.touch1[1],Q=(Q=Z[0]-M[0])*Q+(Q=Z[1]-M[1])*Q,ce=(ce=re[0]-Y[0])*ce+(ce=re[1]-Y[1])*ce;A=w(A,Math.sqrt(Q/ce)),D=[(M[0]+Z[0])/2,(M[1]+Z[1])/2],$=[(Y[0]+re[0])/2,(Y[1]+re[1])/2]}else if(L.touch0)D=L.touch0[0],$=L.touch0[1];else return;L.zoom("touch",r(S(A,D,$),L.extent,a))}}function U(T,...z){if(this.__zooming){var L=N(this,z).event(T),H=T.changedTouches,F=H.length,R,A;for(Bx(T),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),R=0;R<F;++R)A=H[R],L.touch0&&L.touch0[2]===A.identifier?delete L.touch0:L.touch1&&L.touch1[2]===A.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(A=go(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<b)){var D=gr(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return x.wheelDelta=function(T){return arguments.length?(o=typeof T=="function"?T:_h(+T),x):o},x.filter=function(T){return arguments.length?(e=typeof T=="function"?T:_h(!!T),x):e},x.touchable=function(T){return arguments.length?(s=typeof T=="function"?T:_h(!!T),x):s},x.extent=function(T){return arguments.length?(n=typeof T=="function"?T:_h([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),x):n},x.scaleExtent=function(T){return arguments.length?(i[0]=+T[0],i[1]=+T[1],x):[i[0],i[1]]},x.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(T){return arguments.length?(r=T,x):r},x.duration=function(T){return arguments.length?(l=+T,x):l},x.interpolate=function(T){return arguments.length?(u=T,x):u},x.on=function(){var T=d.on.apply(d,arguments);return T===d?x:T},x.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,x):Math.sqrt(y)},x.tapDistance=function(T){return arguments.length?(b=+T,x):b},x}const hg=g.createContext(null),qq=hg.Provider,ii={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,n)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},c3=ii.error001();function Qt(e,n){const r=g.useContext(hg);if(r===null)throw new Error(c3);return OP(r,e,n)}const Dn=()=>{const e=g.useContext(hg);if(e===null)throw new Error(c3);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Gq=e=>e.userSelectionActive?"none":"all";function jb({position:e,children:n,className:r,style:o,...s}){const i=Qt(Gq),a=`${e}`.split("-");return B.createElement("div",{className:Yn(["react-flow__panel",r,...a]),style:{...o,pointerEvents:i},...s},n)}function Kq({proOptions:e,position:n="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(jb,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Yq=({x:e,y:n,label:r,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...h})=>{const f=g.useRef(null),[m,p]=g.useState({x:0,y:0,width:0,height:0}),v=Yn(["react-flow__edge-textwrapper",d]);return g.useEffect(()=>{if(f.current){const y=f.current.getBBox();p({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),typeof r>"u"||!r?null:B.createElement("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...h},s&&B.createElement("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),B.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:f,style:o},r),u)};var Xq=g.memo(Yq);const _b=e=>({width:e.offsetWidth,height:e.offsetHeight}),Kc=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),Eb=(e={x:0,y:0},n)=>({x:Kc(e.x,n[0][0],n[1][0]),y:Kc(e.y,n[0][1],n[1][1])}),w2=(e,n,r)=>e<n?Kc(Math.abs(e-n),1,50)/50:e>r?-Kc(Math.abs(e-r),1,50)/50:0,u3=(e,n)=>{const r=w2(e.x,35,n.width-35)*20,o=w2(e.y,35,n.height-35)*20;return[r,o]},d3=e=>{var n;return((n=e.getRootNode)==null?void 0:n.call(e))||(window==null?void 0:window.document)},f3=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),ef=({x:e,y:n,width:r,height:o})=>({x:e,y:n,x2:e+r,y2:n+o}),h3=({x:e,y:n,x2:r,y2:o})=>({x:e,y:n,width:r-e,height:o-n}),b2=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Qq=(e,n)=>h3(f3(ef(e),ef(n))),Q0=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),o=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*o)},Jq=e=>No(e.width)&&No(e.height)&&No(e.x)&&No(e.y),No=e=>!isNaN(e)&&isFinite(e),wn=Symbol.for("internals"),p3=["Enter"," ","Escape"],Zq=(e,n)=>{},eG=e=>"nativeEvent"in e;function J0(e){var s,i;const n=eG(e)?e.nativeEvent:e,r=((i=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const m3=e=>"clientX"in e,ua=(e,n)=>{var i,a;const r=m3(e),o=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=r?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:o-((n==null?void 0:n.left)??0),y:s-((n==null?void 0:n.top)??0)}},im=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Rf=({id:e,path:n,labelX:r,labelY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:m,interactionWidth:p=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:m}),p&&B.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&No(r)&&No(o)?B.createElement(Xq,{x:r,y:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null);Rf.displayName="BaseEdge";function Mu(e,n,r){return r===void 0?r:o=>{const s=n().edges.find(i=>i.id===e);s&&r(o,{...s})}}function g3({sourceX:e,sourceY:n,targetX:r,targetY:o}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,a=Math.abs(o-n)/2,l=o<n?o+a:o-a;return[i,l,s,a]}function x3({sourceX:e,sourceY:n,targetX:r,targetY:o,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:l}){const u=e*.125+s*.375+a*.375+r*.125,d=n*.125+i*.375+l*.375+o*.125,h=Math.abs(u-e),f=Math.abs(d-n);return[u,d,h,f]}var ml;(function(e){e.Strict="strict",e.Loose="loose"})(ml||(ml={}));var Ua;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ua||(Ua={}));var tf;(function(e){e.Partial="partial",e.Full="full"})(tf||(tf={}));var Li;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Li||(Li={}));var am;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(am||(am={}));var He;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(He||(He={}));function S2({pos:e,x1:n,y1:r,x2:o,y2:s}){return e===He.Left||e===He.Right?[.5*(n+o),r]:[n,.5*(r+s)]}function y3({sourceX:e,sourceY:n,sourcePosition:r=He.Bottom,targetX:o,targetY:s,targetPosition:i=He.Top}){const[a,l]=S2({pos:r,x1:e,y1:n,x2:o,y2:s}),[u,d]=S2({pos:i,x1:o,y1:s,x2:e,y2:n}),[h,f,m,p]=x3({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${n} C${a},${l} ${u},${d} ${o},${s}`,h,f,m,p]}const Tb=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=He.Bottom,targetPosition:i=He.Top,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[b,x,w]=y3({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i});return B.createElement(Rf,{path:b,labelX:x,labelY:w,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:y})});Tb.displayName="SimpleBezierEdge";const k2={[He.Left]:{x:-1,y:0},[He.Right]:{x:1,y:0},[He.Top]:{x:0,y:-1},[He.Bottom]:{x:0,y:1}},tG=({source:e,sourcePosition:n=He.Bottom,target:r})=>n===He.Left||n===He.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},N2=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function nG({source:e,sourcePosition:n=He.Bottom,target:r,targetPosition:o=He.Top,center:s,offset:i}){const a=k2[n],l=k2[o],u={x:e.x+a.x*i,y:e.y+a.y*i},d={x:r.x+l.x*i,y:r.y+l.y*i},h=tG({source:u,sourcePosition:n,target:d}),f=h.x!==0?"x":"y",m=h[f];let p=[],v,y;const b={x:0,y:0},x={x:0,y:0},[w,S,k,C]=g3({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[f]*l[f]===-1){v=s.x??w,y=s.y??S;const j=[{x:v,y:u.y},{x:v,y:d.y}],P=[{x:u.x,y},{x:d.x,y}];a[f]===m?p=f==="x"?j:P:p=f==="x"?P:j}else{const j=[{x:u.x,y:d.y}],P=[{x:d.x,y:u.y}];if(f==="x"?p=a.x===m?P:j:p=a.y===m?j:P,n===o){const U=Math.abs(e[f]-r[f]);if(U<=i){const T=Math.min(i-1,i-U);a[f]===m?b[f]=(u[f]>e[f]?-1:1)*T:x[f]=(d[f]>r[f]?-1:1)*T}}if(n!==o){const U=f==="x"?"y":"x",T=a[f]===l[U],z=u[U]>d[U],L=u[U]<d[U];(a[f]===1&&(!T&&z||T&&L)||a[f]!==1&&(!T&&L||T&&z))&&(p=f==="x"?j:P)}const E={x:u.x+b.x,y:u.y+b.y},_={x:d.x+x.x,y:d.y+x.y},I=Math.max(Math.abs(E.x-p[0].x),Math.abs(_.x-p[0].x)),O=Math.max(Math.abs(E.y-p[0].y),Math.abs(_.y-p[0].y));I>=O?(v=(E.x+_.x)/2,y=p[0].y):(v=p[0].x,y=(E.y+_.y)/2)}return[[e,{x:u.x+b.x,y:u.y+b.y},...p,{x:d.x+x.x,y:d.y+x.y},r],v,y,k,C]}function rG(e,n,r,o){const s=Math.min(N2(e,n)/2,N2(n,r)/2,o),{x:i,y:a}=n;if(e.x===i&&i===r.x||e.y===a&&a===r.y)return`L${i} ${a}`;if(e.y===a){const d=e.x<r.x?-1:1,h=e.y<r.y?1:-1;return`L ${i+s*d},${a}Q ${i},${a} ${i},${a+s*h}`}const l=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${i},${a+s*u}Q ${i},${a} ${i+s*l},${a}`}function Z0({sourceX:e,sourceY:n,sourcePosition:r=He.Bottom,targetX:o,targetY:s,targetPosition:i=He.Top,borderRadius:a=5,centerX:l,centerY:u,offset:d=20}){const[h,f,m,p,v]=nG({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:s},targetPosition:i,center:{x:l,y:u},offset:d});return[h.reduce((b,x,w)=>{let S="";return w>0&&w<h.length-1?S=rG(h[w-1],x,h[w+1],a):S=`${w===0?"M":"L"}${x.x} ${x.y}`,b+=S,b},""),f,m,p,v]}const pg=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:h,sourcePosition:f=He.Bottom,targetPosition:m=He.Top,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,S]=Z0({sourceX:e,sourceY:n,sourcePosition:f,targetX:r,targetY:o,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return B.createElement(Rf,{path:x,labelX:w,labelY:S,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:v,interactionWidth:b})});pg.displayName="SmoothStepEdge";const Ab=g.memo(e=>{var n;return B.createElement(pg,{...e,pathOptions:g.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(n=e.pathOptions)==null?void 0:n.offset])})});Ab.displayName="StepEdge";function oG({sourceX:e,sourceY:n,targetX:r,targetY:o}){const[s,i,a,l]=g3({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,s,i,a,l]}const Pb=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:m,interactionWidth:p})=>{const[v,y,b]=oG({sourceX:e,sourceY:n,targetX:r,targetY:o});return B.createElement(Rf,{path:v,labelX:y,labelY:b,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:m,interactionWidth:p})});Pb.displayName="StraightEdge";function Eh(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function C2({pos:e,x1:n,y1:r,x2:o,y2:s,c:i}){switch(e){case He.Left:return[n-Eh(n-o,i),r];case He.Right:return[n+Eh(o-n,i),r];case He.Top:return[n,r-Eh(r-s,i)];case He.Bottom:return[n,r+Eh(s-r,i)]}}function v3({sourceX:e,sourceY:n,sourcePosition:r=He.Bottom,targetX:o,targetY:s,targetPosition:i=He.Top,curvature:a=.25}){const[l,u]=C2({pos:r,x1:e,y1:n,x2:o,y2:s,c:a}),[d,h]=C2({pos:i,x1:o,y1:s,x2:e,y2:n,c:a}),[f,m,p,v]=x3({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:h});return[`M${e},${n} C${l},${u} ${d},${h} ${o},${s}`,f,m,p,v]}const lm=g.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=He.Bottom,targetPosition:i=He.Top,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,S]=v3({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i,curvature:y==null?void 0:y.curvature});return B.createElement(Rf,{path:x,labelX:w,labelY:S,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:f,style:m,markerEnd:p,markerStart:v,interactionWidth:b})});lm.displayName="BezierEdge";const Mb=g.createContext(null),sG=Mb.Provider;Mb.Consumer;const iG=()=>g.useContext(Mb),aG=e=>"id"in e&&"source"in e&&"target"in e,lG=({source:e,sourceHandle:n,target:r,targetHandle:o})=>`reactflow__edge-${e}${n||""}-${r}${o||""}`,ev=(e,n)=>typeof e>"u"?"":typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,cG=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),uG=(e,n)=>{if(!e.source||!e.target)return n;let r;return aG(e)?r={...e}:r={...e,id:lG(e)},cG(r,n)?n:n.concat(r)},tv=({x:e,y:n},[r,o,s],i,[a,l])=>{const u={x:(e-r)/s,y:(n-o)/s};return i?{x:a*Math.round(u.x/a),y:l*Math.round(u.y/l)}:u},w3=({x:e,y:n},[r,o,s])=>({x:e*s+r,y:n*s+o}),tl=(e,n=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*n[0],o=(e.height??0)*n[1],s={x:e.position.x-r,y:e.position.y-o};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-o}:s}},mg=(e,n=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((o,s)=>{const{x:i,y:a}=tl(s,n).positionAbsolute;return f3(o,ef({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return h3(r)},b3=(e,n,[r,o,s]=[0,0,1],i=!1,a=!1,l=[0,0])=>{const u={x:(n.x-r)/s,y:(n.y-o)/s,width:n.width/s,height:n.height/s},d=[];return e.forEach(h=>{const{width:f,height:m,selectable:p=!0,hidden:v=!1}=h;if(a&&!p||v)return!1;const{positionAbsolute:y}=tl(h,l),b={x:y.x,y:y.y,width:f||0,height:m||0},x=Q0(u,b),w=typeof f>"u"||typeof m>"u"||f===null||m===null,S=i&&x>0,k=(f||0)*(m||0);(w||S||x>=k||h.dragging)&&d.push(h)}),d},S3=(e,n)=>{const r=e.map(o=>o.id);return n.filter(o=>r.includes(o.source)||r.includes(o.target))},k3=(e,n,r,o,s,i=.1)=>{const a=n/(e.width*(1+i)),l=r/(e.height*(1+i)),u=Math.min(a,l),d=Kc(u,o,s),h=e.x+e.width/2,f=e.y+e.height/2,m=n/2-h*d,p=r/2-f*d;return{x:m,y:p,zoom:d}},Ma=(e,n=0)=>e.transition().duration(n);function j2(e,n,r,o){return(n[r]||[]).reduce((s,i)=>{var a,l;return`${e.id}-${i.id}-${r}`!==o&&s.push({id:i.id||null,type:r,nodeId:e.id,x:(((a=e.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function dG(e,n,r,o,s,i){const{x:a,y:l}=ua(e),d=n.elementsFromPoint(a,l).find(v=>v.classList.contains("react-flow__handle"));if(d){const v=d.getAttribute("data-nodeid");if(v){const y=Rb(void 0,d),b=d.getAttribute("data-handleid"),x=i({nodeId:v,id:b,type:y});if(x){const w=s.find(S=>S.nodeId===v&&S.type===y&&S.id===b);return{handle:{id:b,type:y,nodeId:v,x:(w==null?void 0:w.x)||r.x,y:(w==null?void 0:w.y)||r.y},validHandleResult:x}}}}let h=[],f=1/0;if(s.forEach(v=>{const y=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);if(y<=o){const b=i(v);y<=f&&(y<f?h=[{handle:v,validHandleResult:b}]:y===f&&h.push({handle:v,validHandleResult:b}),f=y)}}),!h.length)return{handle:null,validHandleResult:N3()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:v})=>v.isValid),p=h.some(({handle:v})=>v.type==="target");return h.find(({handle:v,validHandleResult:y})=>p?v.type==="target":m?y.isValid:!0)||h[0]}const fG={source:null,target:null,sourceHandle:null,targetHandle:null},N3=()=>({handleDomNode:null,isValid:!1,connection:fG,endHandle:null});function C3(e,n,r,o,s,i,a){const l=s==="target",u=a.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),d={...N3(),handleDomNode:u};if(u){const h=Rb(void 0,u),f=u.getAttribute("data-nodeid"),m=u.getAttribute("data-handleid"),p=u.classList.contains("connectable"),v=u.classList.contains("connectableend"),y={source:l?f:r,sourceHandle:l?m:o,target:l?r:f,targetHandle:l?o:m};d.connection=y,p&&v&&(n===ml.Strict?l&&h==="source"||!l&&h==="target":f!==r||m!==o)&&(d.endHandle={nodeId:f,handleId:m,type:h},d.isValid=i(y))}return d}function hG({nodes:e,nodeId:n,handleId:r,handleType:o}){return e.reduce((s,i)=>{if(i[wn]){const{handleBounds:a}=i[wn];let l=[],u=[];a&&(l=j2(i,a,"source",`${n}-${r}-${o}`),u=j2(i,a,"target",`${n}-${r}-${o}`)),s.push(...l,...u)}return s},[])}function Rb(e,n){return e||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function Hx(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function pG(e,n){let r=null;return n?r="valid":e&&!n&&(r="invalid"),r}function j3({event:e,handleId:n,nodeId:r,onConnect:o,isTarget:s,getState:i,setState:a,isValidConnection:l,edgeUpdaterType:u,onReconnectEnd:d}){const h=d3(e.target),{connectionMode:f,domNode:m,autoPanOnConnect:p,connectionRadius:v,onConnectStart:y,panBy:b,getNodes:x,cancelConnection:w}=i();let S=0,k;const{x:C,y:N}=ua(e),j=h==null?void 0:h.elementFromPoint(C,N),P=Rb(u,j),E=m==null?void 0:m.getBoundingClientRect();if(!E||!P)return;let _,I=ua(e,E),O=!1,U=null,T=!1,z=null;const L=hG({nodes:x(),nodeId:r,handleId:n,handleType:P}),H=()=>{if(!p)return;const[A,D]=u3(I,E);b({x:A,y:D}),S=requestAnimationFrame(H)};a({connectionPosition:I,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:P,connectionStartHandle:{nodeId:r,handleId:n,type:P},connectionEndHandle:null}),y==null||y(e,{nodeId:r,handleId:n,handleType:P});function F(A){const{transform:D}=i();I=ua(A,E);const{handle:$,validHandleResult:M}=dG(A,h,tv(I,D,!1,[1,1]),v,L,Y=>C3(Y,f,r,n,s?"target":"source",l,h));if(k=$,O||(H(),O=!0),z=M.handleDomNode,U=M.connection,T=M.isValid,a({connectionPosition:k&&T?w3({x:k.x,y:k.y},D):I,connectionStatus:pG(!!k,T),connectionEndHandle:M.endHandle}),!k&&!T&&!z)return Hx(_);U.source!==U.target&&z&&(Hx(_),_=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",T),z.classList.toggle("react-flow__handle-valid",T))}function R(A){var D,$;(k||z)&&U&&T&&(o==null||o(U)),($=(D=i()).onConnectEnd)==null||$.call(D,A),u&&(d==null||d(A)),Hx(_),w(),cancelAnimationFrame(S),O=!1,T=!1,U=null,z=null,h.removeEventListener("mousemove",F),h.removeEventListener("mouseup",R),h.removeEventListener("touchmove",F),h.removeEventListener("touchend",R)}h.addEventListener("mousemove",F),h.addEventListener("mouseup",R),h.addEventListener("touchmove",F),h.addEventListener("touchend",R)}const _2=()=>!0,mG=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),gG=(e,n,r)=>o=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=o;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===n&&(s==null?void 0:s.type)===r||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===n&&(i==null?void 0:i.type)===r,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===n&&(a==null?void 0:a.type)===r}},_3=g.forwardRef(({type:e="source",position:n=He.Top,isValidConnection:r,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:l,children:u,className:d,onMouseDown:h,onTouchStart:f,...m},p)=>{var E,_;const v=a||null,y=e==="target",b=Dn(),x=iG(),{connectOnClick:w,noPanClassName:S}=Qt(mG,zr),{connecting:k,clickConnecting:C}=Qt(gG(x,v,e),zr);x||(_=(E=b.getState()).onError)==null||_.call(E,"010",ii.error010());const N=I=>{const{defaultEdgeOptions:O,onConnect:U,hasDefaultEdges:T}=b.getState(),z={...O,...I};if(T){const{edges:L,setEdges:H}=b.getState();H(uG(z,L))}U==null||U(z),l==null||l(z)},j=I=>{if(!x)return;const O=m3(I);s&&(O&&I.button===0||!O)&&j3({event:I,handleId:v,nodeId:x,onConnect:N,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:r||b.getState().isValidConnection||_2}),O?h==null||h(I):f==null||f(I)},P=I=>{const{onClickConnectStart:O,onClickConnectEnd:U,connectionClickStartHandle:T,connectionMode:z,isValidConnection:L}=b.getState();if(!x||!T&&!s)return;if(!T){O==null||O(I,{nodeId:x,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:v}});return}const H=d3(I.target),F=r||L||_2,{connection:R,isValid:A}=C3({nodeId:x,id:v,type:e},z,T.nodeId,T.handleId||null,T.type,F,H);A&&N(R),U==null||U(I),b.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":v,"data-nodeid":x,"data-handlepos":n,"data-id":`${x}-${v}-${e}`,className:Yn(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",S,d,{source:!y,target:y,connectable:o,connectablestart:s,connectableend:i,connecting:C,connectionindicator:o&&(s&&!k||i&&k)}]),onMouseDown:j,onTouchStart:j,onClick:w?P:void 0,ref:p,...m},u)});_3.displayName="Handle";var xa=g.memo(_3);const E3=({data:e,isConnectable:n,targetPosition:r=He.Top,sourcePosition:o=He.Bottom})=>B.createElement(B.Fragment,null,B.createElement(xa,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label,B.createElement(xa,{type:"source",position:o,isConnectable:n}));E3.displayName="DefaultNode";var nv=g.memo(E3);const T3=({data:e,isConnectable:n,sourcePosition:r=He.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement(xa,{type:"source",position:r,isConnectable:n}));T3.displayName="InputNode";var A3=g.memo(T3);const P3=({data:e,isConnectable:n,targetPosition:r=He.Top})=>B.createElement(B.Fragment,null,B.createElement(xa,{type:"target",position:r,isConnectable:n}),e==null?void 0:e.label);P3.displayName="OutputNode";var M3=g.memo(P3);const Ib=()=>null;Ib.displayName="GroupNode";const xG=e=>({selectedNodes:e.getNodes().filter(n=>n.selected),selectedEdges:e.edges.filter(n=>n.selected).map(n=>({...n}))}),Th=e=>e.id;function yG(e,n){return zr(e.selectedNodes.map(Th),n.selectedNodes.map(Th))&&zr(e.selectedEdges.map(Th),n.selectedEdges.map(Th))}const R3=g.memo(({onSelectionChange:e})=>{const n=Dn(),{selectedNodes:r,selectedEdges:o}=Qt(xG,yG);return g.useEffect(()=>{const s={nodes:r,edges:o};e==null||e(s),n.getState().onSelectionChange.forEach(i=>i(s))},[r,o,e]),null});R3.displayName="SelectionListener";const vG=e=>!!e.onSelectionChange;function wG({onSelectionChange:e}){const n=Qt(vG);return e||n?B.createElement(R3,{onSelectionChange:e}):null}const bG=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Ol(e,n){g.useEffect(()=>{typeof e<"u"&&n(e)},[e])}function bt(e,n,r){g.useEffect(()=>{typeof n<"u"&&r({[e]:n})},[n])}const SG=({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:h,nodesFocusable:f,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:x,onNodesChange:w,onEdgesChange:S,elementsSelectable:k,connectionMode:C,snapGrid:N,snapToGrid:j,translateExtent:P,connectOnClick:E,defaultEdgeOptions:_,fitView:I,fitViewOptions:O,onNodesDelete:U,onEdgesDelete:T,onNodeDrag:z,onNodeDragStart:L,onNodeDragStop:H,onSelectionDrag:F,onSelectionDragStart:R,onSelectionDragStop:A,noPanClassName:D,nodeOrigin:$,rfId:M,autoPanOnConnect:Y,autoPanOnNodeDrag:Z,onError:re,connectionRadius:Q,isValidConnection:ce,nodeDragThreshold:fe})=>{const{setNodes:me,setEdges:ke,setDefaultNodesAndEdges:ie,setMinZoom:Le,setMaxZoom:Ce,setTranslateExtent:De,setNodeExtent:he,reset:je}=Qt(bG,zr),se=Dn();return g.useEffect(()=>{const Ve=o==null?void 0:o.map(et=>({...et,..._}));return ie(r,Ve),()=>{je()}},[]),bt("defaultEdgeOptions",_,se.setState),bt("connectionMode",C,se.setState),bt("onConnect",s,se.setState),bt("onConnectStart",i,se.setState),bt("onConnectEnd",a,se.setState),bt("onClickConnectStart",l,se.setState),bt("onClickConnectEnd",u,se.setState),bt("nodesDraggable",d,se.setState),bt("nodesConnectable",h,se.setState),bt("nodesFocusable",f,se.setState),bt("edgesFocusable",m,se.setState),bt("edgesUpdatable",p,se.setState),bt("elementsSelectable",k,se.setState),bt("elevateNodesOnSelect",v,se.setState),bt("snapToGrid",j,se.setState),bt("snapGrid",N,se.setState),bt("onNodesChange",w,se.setState),bt("onEdgesChange",S,se.setState),bt("connectOnClick",E,se.setState),bt("fitViewOnInit",I,se.setState),bt("fitViewOnInitOptions",O,se.setState),bt("onNodesDelete",U,se.setState),bt("onEdgesDelete",T,se.setState),bt("onNodeDrag",z,se.setState),bt("onNodeDragStart",L,se.setState),bt("onNodeDragStop",H,se.setState),bt("onSelectionDrag",F,se.setState),bt("onSelectionDragStart",R,se.setState),bt("onSelectionDragStop",A,se.setState),bt("noPanClassName",D,se.setState),bt("nodeOrigin",$,se.setState),bt("rfId",M,se.setState),bt("autoPanOnConnect",Y,se.setState),bt("autoPanOnNodeDrag",Z,se.setState),bt("onError",re,se.setState),bt("connectionRadius",Q,se.setState),bt("isValidConnection",ce,se.setState),bt("nodeDragThreshold",fe,se.setState),Ol(e,me),Ol(n,ke),Ol(y,Le),Ol(b,Ce),Ol(P,De),Ol(x,he),null},E2={display:"none"},kG={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},I3="react-flow__node-desc",O3="react-flow__edge-desc",NG="react-flow__aria-live",CG=e=>e.ariaLiveMessage;function jG({rfId:e}){const n=Qt(CG);return B.createElement("div",{id:`${NG}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kG},n)}function _G({rfId:e,disableKeyboardA11y:n}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${I3}-${e}`,style:E2},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${O3}-${e}`,style:E2},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&B.createElement(jG,{rfId:e}))}var nf=(e=null,n={actInsideInputWithModifier:!0})=>{const[r,o]=g.useState(!1),s=g.useRef(!1),i=g.useRef(new Set([])),[a,l]=g.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),h=d.reduce((f,m)=>f.concat(...m),[]);return[d,h]}return[[],[]]},[e]);return g.useEffect(()=>{const u=typeof document<"u"?document:null,d=(n==null?void 0:n.target)||u;if(e!==null){const h=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!n.actInsideInputWithModifier)&&J0(p))return!1;const y=A2(p.code,l);i.current.add(p[y]),T2(a,i.current,!1)&&(p.preventDefault(),o(!0))},f=p=>{if((!s.current||s.current&&!n.actInsideInputWithModifier)&&J0(p))return!1;const y=A2(p.code,l);T2(a,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(p[y]),p.key==="Meta"&&i.current.clear(),s.current=!1},m=()=>{i.current.clear(),o(!1)};return d==null||d.addEventListener("keydown",h),d==null||d.addEventListener("keyup",f),window.addEventListener("blur",m),()=>{d==null||d.removeEventListener("keydown",h),d==null||d.removeEventListener("keyup",f),window.removeEventListener("blur",m)}}},[e,o]),r};function T2(e,n,r){return e.filter(o=>r||o.length===n.size).some(o=>o.every(s=>n.has(s)))}function A2(e,n){return n.includes(e)?"code":"key"}function D3(e,n,r,o){var l,u;const s=e.parentNode||e.parentId;if(!s)return r;const i=n.get(s),a=tl(i,o);return D3(i,n,{x:(r.x??0)+a.x,y:(r.y??0)+a.y,z:(((l=i[wn])==null?void 0:l.z)??0)>(r.z??0)?((u=i[wn])==null?void 0:u.z)??0:r.z??0},o)}function L3(e,n,r){e.forEach(o=>{var i;const s=o.parentNode||o.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r!=null&&r[o.id]){const{x:a,y:l,z:u}=D3(o,e,{...o.position,z:((i=o[wn])==null?void 0:i.z)??0},n);o.positionAbsolute={x:a,y:l},o[wn].z=u,r!=null&&r[o.id]&&(o[wn].isParent=!0)}})}function Vx(e,n,r,o){const s=new Map,i={},a=o?1e3:0;return e.forEach(l=>{var p;const u=(No(l.zIndex)?l.zIndex:0)+(l.selected?a:0),d=n.get(l.id),h={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const m=(d==null?void 0:d.type)&&(d==null?void 0:d.type)!==l.type;Object.defineProperty(h,wn,{enumerable:!1,value:{handleBounds:m||(p=d==null?void 0:d[wn])==null?void 0:p.handleBounds,z:u}}),s.set(l.id,h)}),L3(s,r,i),s}function $3(e,n={}){const{getNodes:r,width:o,height:s,minZoom:i,maxZoom:a,d3Zoom:l,d3Selection:u,fitViewOnInitDone:d,fitViewOnInit:h,nodeOrigin:f}=e(),m=n.initial&&!d&&h;if(l&&u&&(m||!n.initial)){const v=r().filter(b=>{var w;const x=n.includeHiddenNodes?b.width&&b.height:!b.hidden;return(w=n.nodes)!=null&&w.length?x&&n.nodes.some(S=>S.id===b.id):x}),y=v.every(b=>b.width&&b.height);if(v.length>0&&y){const b=mg(v,f),{x,y:w,zoom:S}=k3(b,o,s,n.minZoom??i,n.maxZoom??a,n.padding??.1),k=bs.translate(x,w).scale(S);return typeof n.duration=="number"&&n.duration>0?l.transform(Ma(u,n.duration),k):l.transform(u,k),!0}}return!1}function EG(e,n){return e.forEach(r=>{const o=n.get(r.id);o&&n.set(o.id,{...o,[wn]:o[wn],selected:r.selected})}),new Map(n)}function TG(e,n){return n.map(r=>{const o=e.find(s=>s.id===r.id);return o&&(r.selected=o.selected),r})}function Ah({changedNodes:e,changedEdges:n,get:r,set:o}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:u,hasDefaultEdges:d}=r();e!=null&&e.length&&(u&&o({nodeInternals:EG(e,s)}),a==null||a(e)),n!=null&&n.length&&(d&&o({edges:TG(n,i)}),l==null||l(n))}const Dl=()=>{},AG={zoomIn:Dl,zoomOut:Dl,zoomTo:Dl,getZoom:()=>1,setViewport:Dl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Dl,fitBounds:Dl,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},PG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),MG=()=>{const e=Dn(),{d3Zoom:n,d3Selection:r}=Qt(PG,zr);return g.useMemo(()=>r&&n?{zoomIn:s=>n.scaleBy(Ma(r,s==null?void 0:s.duration),1.2),zoomOut:s=>n.scaleBy(Ma(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>n.scaleTo(Ma(r,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[a,l,u]=e.getState().transform,d=bs.translate(s.x??a,s.y??l).scale(s.zoom??u);n.transform(Ma(r,i==null?void 0:i.duration),d)},getViewport:()=>{const[s,i,a]=e.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>$3(e.getState,s),setCenter:(s,i,a)=>{const{width:l,height:u,maxZoom:d}=e.getState(),h=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:d,f=l/2-s*h,m=u/2-i*h,p=bs.translate(f,m).scale(h);n.transform(Ma(r,a==null?void 0:a.duration),p)},fitBounds:(s,i)=>{const{width:a,height:l,minZoom:u,maxZoom:d}=e.getState(),{x:h,y:f,zoom:m}=k3(s,a,l,u,d,(i==null?void 0:i.padding)??.1),p=bs.translate(h,f).scale(m);n.transform(Ma(r,i==null?void 0:i.duration),p)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),tv(s,i,a,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:l,domNode:u}=e.getState();if(!u)return s;const{x:d,y:h}=u.getBoundingClientRect(),f={x:s.x-d,y:s.y-h};return tv(f,i,a,l)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=e.getState();if(!a)return s;const{x:l,y:u}=a.getBoundingClientRect(),d=w3(s,i);return{x:d.x+l,y:d.y+u}},viewportInitialized:!0}:AG,[n,r])};function Ob(){const e=MG(),n=Dn(),r=g.useCallback(()=>n.getState().getNodes().map(y=>({...y})),[]),o=g.useCallback(y=>n.getState().nodeInternals.get(y),[]),s=g.useCallback(()=>{const{edges:y=[]}=n.getState();return y.map(b=>({...b}))},[]),i=g.useCallback(y=>{const{edges:b=[]}=n.getState();return b.find(x=>x.id===y)},[]),a=g.useCallback(y=>{const{getNodes:b,setNodes:x,hasDefaultNodes:w,onNodesChange:S}=n.getState(),k=b(),C=typeof y=="function"?y(k):y;if(w)x(C);else if(S){const N=C.length===0?k.map(j=>({type:"remove",id:j.id})):C.map(j=>({item:j,type:"reset"}));S(N)}},[]),l=g.useCallback(y=>{const{edges:b=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:S}=n.getState(),k=typeof y=="function"?y(b):y;if(w)x(k);else if(S){const C=k.length===0?b.map(N=>({type:"remove",id:N.id})):k.map(N=>({item:N,type:"reset"}));S(C)}},[]),u=g.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:x,setNodes:w,hasDefaultNodes:S,onNodesChange:k}=n.getState();if(S){const N=[...x(),...b];w(N)}else if(k){const C=b.map(N=>({item:N,type:"add"}));k(C)}},[]),d=g.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:x=[],setEdges:w,hasDefaultEdges:S,onEdgesChange:k}=n.getState();if(S)w([...x,...b]);else if(k){const C=b.map(N=>({item:N,type:"add"}));k(C)}},[]),h=g.useCallback(()=>{const{getNodes:y,edges:b=[],transform:x}=n.getState(),[w,S,k]=x;return{nodes:y().map(C=>({...C})),edges:b.map(C=>({...C})),viewport:{x:w,y:S,zoom:k}}},[]),f=g.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:x,getNodes:w,edges:S,hasDefaultNodes:k,hasDefaultEdges:C,onNodesDelete:N,onEdgesDelete:j,onNodesChange:P,onEdgesChange:E}=n.getState(),_=(y||[]).map(z=>z.id),I=(b||[]).map(z=>z.id),O=w().reduce((z,L)=>{const H=L.parentNode||L.parentId,F=!_.includes(L.id)&&H&&z.find(A=>A.id===H);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(_.includes(L.id)||F)&&z.push(L),z},[]),U=S.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),T=U.filter(z=>I.includes(z.id));if(O||T){const z=S3(O,U),L=[...T,...z],H=L.reduce((F,R)=>(F.includes(R.id)||F.push(R.id),F),[]);if((C||k)&&(C&&n.setState({edges:S.filter(F=>!H.includes(F.id))}),k&&(O.forEach(F=>{x.delete(F.id)}),n.setState({nodeInternals:new Map(x)}))),H.length>0&&(j==null||j(L),E&&E(H.map(F=>({id:F,type:"remove"})))),O.length>0&&(N==null||N(O),P)){const F=O.map(R=>({id:R.id,type:"remove"}));P(F)}}},[]),m=g.useCallback(y=>{const b=Jq(y),x=b?null:n.getState().nodeInternals.get(y.id);return!b&&!x?[null,null,b]:[b?y:b2(x),x,b]},[]),p=g.useCallback((y,b=!0,x)=>{const[w,S,k]=m(y);return w?(x||n.getState().getNodes()).filter(C=>{if(!k&&(C.id===S.id||!C.positionAbsolute))return!1;const N=b2(C),j=Q0(N,w);return b&&j>0||j>=w.width*w.height}):[]},[]),v=g.useCallback((y,b,x=!0)=>{const[w]=m(y);if(!w)return!1;const S=Q0(w,b);return x&&S>0||S>=w.width*w.height},[]);return g.useMemo(()=>({...e,getNodes:r,getNode:o,getEdges:s,getEdge:i,setNodes:a,setEdges:l,addNodes:u,addEdges:d,toObject:h,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:v}),[e,r,o,s,i,a,l,u,d,h,f,p,v])}const RG={actInsideInputWithModifier:!1};var IG=({deleteKeyCode:e,multiSelectionKeyCode:n})=>{const r=Dn(),{deleteElements:o}=Ob(),s=nf(e,RG),i=nf(n);g.useEffect(()=>{if(s){const{edges:a,getNodes:l}=r.getState(),u=l().filter(h=>h.selected),d=a.filter(h=>h.selected);o({nodes:u,edges:d}),r.setState({nodesSelectionActive:!1})}},[s]),g.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])};function OG(e){const n=Dn();g.useEffect(()=>{let r;const o=()=>{var i,a;if(!e.current)return;const s=_b(e.current);(s.height===0||s.width===0)&&((a=(i=n.getState()).onError)==null||a.call(i,"004",ii.error004())),n.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),e.current&&(r=new ResizeObserver(()=>o()),r.observe(e.current)),()=>{window.removeEventListener("resize",o),r&&e.current&&r.unobserve(e.current)}},[])}const Db={position:"absolute",width:"100%",height:"100%",top:0,left:0},DG=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Ph=e=>({x:e.x,y:e.y,zoom:e.k}),Ll=(e,n)=>e.target.closest(`.${n}`),P2=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),M2=e=>{const n=e.ctrlKey&&im()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n},LG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$G=({onMove:e,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=Ua.Free,zoomOnDoubleClick:d=!0,elementsSelectable:h,panOnDrag:f=!0,defaultViewport:m,translateExtent:p,minZoom:v,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:x=!0,children:w,noWheelClassName:S,noPanClassName:k})=>{const C=g.useRef(),N=Dn(),j=g.useRef(!1),P=g.useRef(!1),E=g.useRef(null),_=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:O,d3ZoomHandler:U,userSelectionActive:T}=Qt(LG,zr),z=nf(b),L=g.useRef(0),H=g.useRef(!1),F=g.useRef();return OG(E),g.useEffect(()=>{if(E.current){const R=E.current.getBoundingClientRect(),A=Cb().scaleExtent([v,y]).translateExtent(p),D=gr(E.current).call(A),$=bs.translate(m.x,m.y).scale(Kc(m.zoom,v,y)),M=[[0,0],[R.width,R.height]],Y=A.constrain()($,M,p);A.transform(D,Y),A.wheelDelta(M2),N.setState({d3Zoom:A,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:E.current.closest(".react-flow")})}},[]),g.useEffect(()=>{O&&I&&(a&&!z&&!T?O.on("wheel.zoom",R=>{if(Ll(R,S))return!1;R.preventDefault(),R.stopImmediatePropagation();const A=O.property("__zoom").k||1;if(R.ctrlKey&&i){const ce=go(R),fe=M2(R),me=A*Math.pow(2,fe);I.scaleTo(O,me,ce,R);return}const D=R.deltaMode===1?20:1;let $=u===Ua.Vertical?0:R.deltaX*D,M=u===Ua.Horizontal?0:R.deltaY*D;!im()&&R.shiftKey&&u!==Ua.Vertical&&($=R.deltaY*D,M=0),I.translateBy(O,-($/A)*l,-(M/A)*l,{internal:!0});const Y=Ph(O.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:re,onViewportChangeEnd:Q}=N.getState();clearTimeout(F.current),H.current||(H.current=!0,n==null||n(R,Y),Z==null||Z(Y)),H.current&&(e==null||e(R,Y),re==null||re(Y),F.current=setTimeout(()=>{r==null||r(R,Y),Q==null||Q(Y),H.current=!1},150))},{passive:!1}):typeof U<"u"&&O.on("wheel.zoom",function(R,A){if(!x&&R.type==="wheel"&&!R.ctrlKey||Ll(R,S))return null;R.preventDefault(),U.call(this,R,A)},{passive:!1}))},[T,a,u,O,I,U,z,i,x,S,n,e,r]),g.useEffect(()=>{I&&I.on("start",R=>{var $,M;if(!R.sourceEvent||R.sourceEvent.internal)return null;L.current=($=R.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:A}=N.getState(),D=Ph(R.transform);j.current=!0,_.current=D,((M=R.sourceEvent)==null?void 0:M.type)==="mousedown"&&N.setState({paneDragging:!0}),A==null||A(D),n==null||n(R.sourceEvent,D)})},[I,n]),g.useEffect(()=>{I&&(T&&!j.current?I.on("zoom",null):T||I.on("zoom",R=>{var D;const{onViewportChange:A}=N.getState();if(N.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),P.current=!!(o&&P2(f,L.current??0)),(e||A)&&!((D=R.sourceEvent)!=null&&D.internal)){const $=Ph(R.transform);A==null||A($),e==null||e(R.sourceEvent,$)}}))},[T,I,e,f,o]),g.useEffect(()=>{I&&I.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=N.getState();if(j.current=!1,N.setState({paneDragging:!1}),o&&P2(f,L.current??0)&&!P.current&&o(R.sourceEvent),P.current=!1,(r||A)&&DG(_.current,R.transform)){const D=Ph(R.transform);_.current=D,clearTimeout(C.current),C.current=setTimeout(()=>{A==null||A(D),r==null||r(R.sourceEvent,D)},a?150:0)}})},[I,a,f,r,o]),g.useEffect(()=>{I&&I.filter(R=>{const A=z||s,D=i&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(Ll(R,"react-flow__node")||Ll(R,"react-flow__edge")))return!0;if(!f&&!A&&!a&&!d&&!i||T||!d&&R.type==="dblclick"||Ll(R,S)&&R.type==="wheel"||Ll(R,k)&&(R.type!=="wheel"||a&&R.type==="wheel"&&!z)||!i&&R.ctrlKey&&R.type==="wheel"||!A&&!a&&!D&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const $=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&$})},[T,I,s,i,a,d,f,h,z]),B.createElement("div",{className:"react-flow__renderer",ref:E,style:Db},w)},zG=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function FG(){const{userSelectionActive:e,userSelectionRect:n}=Qt(zG,zr);return e&&n?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function R2(e,n){const r=n.parentNode||n.parentId,o=e.find(s=>s.id===r);if(o){const s=n.position.x+n.width-o.width,i=n.position.y+n.height-o.height;if(s>0||i>0||n.position.x<0||n.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),i>0&&(o.style.height+=i),n.position.x<0){const a=Math.abs(n.position.x);o.position.x=o.position.x-a,o.style.width+=a,n.position.x=0}if(n.position.y<0){const a=Math.abs(n.position.y);o.position.y=o.position.y-a,o.style.height+=a,n.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function UG(e,n){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const r=e.filter(o=>o.type==="add").map(o=>o.item);return n.reduce((o,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return o.push(s),o;const a={...s};for(const l of i)if(l)switch(l.type){case"select":{a.selected=l.selected;break}case"position":{typeof l.position<"u"&&(a.position=l.position),typeof l.positionAbsolute<"u"&&(a.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(a.dragging=l.dragging),a.expandParent&&R2(o,a);break}case"dimensions":{typeof l.dimensions<"u"&&(a.width=l.dimensions.width,a.height=l.dimensions.height),typeof l.updateStyle<"u"&&(a.style={...a.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(a.resizing=l.resizing),a.expandParent&&R2(o,a);break}case"remove":return o}return o.push(a),o},r)}function BG(e,n){return UG(e,n)}const Ii=(e,n)=>({id:e,type:"select",selected:n});function ic(e,n){return e.reduce((r,o)=>{const s=n.includes(o.id);return!o.selected&&s?(o.selected=!0,r.push(Ii(o.id,!0))):o.selected&&!s&&(o.selected=!1,r.push(Ii(o.id,!1))),r},[])}const Wx=(e,n)=>r=>{r.target===n.current&&(e==null||e(r))},HG=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),z3=g.memo(({isSelecting:e,selectionMode:n=tf.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:l,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:h,children:f})=>{const m=g.useRef(null),p=Dn(),v=g.useRef(0),y=g.useRef(0),b=g.useRef(),{userSelectionActive:x,elementsSelectable:w,dragging:S}=Qt(HG,zr),k=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},C=U=>{i==null||i(U),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},N=U=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){U.preventDefault();return}a==null||a(U)},j=l?U=>l(U):void 0,P=U=>{const{resetSelectedElements:T,domNode:z}=p.getState();if(b.current=z==null?void 0:z.getBoundingClientRect(),!w||!e||U.button!==0||U.target!==m.current||!b.current)return;const{x:L,y:H}=ua(U,b.current);T(),p.setState({userSelectionRect:{width:0,height:0,startX:L,startY:H,x:L,y:H}}),o==null||o(U)},E=U=>{const{userSelectionRect:T,nodeInternals:z,edges:L,transform:H,onNodesChange:F,onEdgesChange:R,nodeOrigin:A,getNodes:D}=p.getState();if(!e||!b.current||!T)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=ua(U,b.current),M=T.startX??0,Y=T.startY??0,Z={...T,x:$.x<M?$.x:M,y:$.y<Y?$.y:Y,width:Math.abs($.x-M),height:Math.abs($.y-Y)},re=D(),Q=b3(z,Z,H,n===tf.Partial,!0,A),ce=S3(Q,L).map(me=>me.id),fe=Q.map(me=>me.id);if(v.current!==fe.length){v.current=fe.length;const me=ic(re,fe);me.length&&(F==null||F(me))}if(y.current!==ce.length){y.current=ce.length;const me=ic(L,ce);me.length&&(R==null||R(me))}p.setState({userSelectionRect:Z})},_=U=>{if(U.button!==0)return;const{userSelectionRect:T}=p.getState();!x&&T&&U.target===m.current&&(C==null||C(U)),p.setState({nodesSelectionActive:v.current>0}),k(),s==null||s(U)},I=U=>{x&&(p.setState({nodesSelectionActive:v.current>0}),s==null||s(U)),k()},O=w&&(e||x);return B.createElement("div",{className:Yn(["react-flow__pane",{dragging:S,selection:e}]),onClick:O?void 0:Wx(C,m),onContextMenu:Wx(N,m),onWheel:Wx(j,m),onMouseEnter:O?void 0:u,onMouseDown:O?P:void 0,onMouseMove:O?E:d,onMouseUp:O?_:void 0,onMouseLeave:O?I:h,ref:m,style:Db},f,B.createElement(FG,null))});z3.displayName="Pane";function F3(e,n){const r=e.parentNode||e.parentId;if(!r)return!1;const o=n.get(r);return o?o.selected?!0:F3(o,n):!1}function I2(e,n,r){let o=e;do{if(o!=null&&o.matches(n))return!0;if(o===r.current)return!1;o=o.parentElement}while(o);return!1}function VG(e,n,r,o){return Array.from(e.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!F3(s,e))&&(s.draggable||n&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:r.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function WG(e,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(e.width||0),n[1][1]-(e.height||0)]]}function U3(e,n,r,o,s=[0,0],i){const a=WG(e,e.extent||o);let l=a;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const f=r.get(u),{x:m,y:p}=tl(f,s).positionAbsolute;l=f&&No(m)&&No(p)&&No(f.width)&&No(f.height)?[[m+e.width*s[0],p+e.height*s[1]],[m+f.width-e.width+e.width*s[0],p+f.height-e.height+e.height*s[1]]]:l}else i==null||i("005",ii.error005()),l=a;else if(e.extent&&u&&e.extent!=="parent"){const f=r.get(u),{x:m,y:p}=tl(f,s).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+p],[e.extent[1][0]+m,e.extent[1][1]+p]]}let d={x:0,y:0};if(u){const f=r.get(u);d=tl(f,s).positionAbsolute}const h=l&&l!=="parent"?Eb(n,l):n;return{position:{x:h.x-d.x,y:h.y-d.y},positionAbsolute:h}}function qx({nodeId:e,dragItems:n,nodeInternals:r}){const o=n.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?o.find(s=>s.id===e):o[0],o]}const O2=(e,n,r,o)=>{const s=n.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),a=n.getBoundingClientRect(),l={x:a.width*o[0],y:a.height*o[1]};return i.map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(d.left-a.left-l.x)/r,y:(d.top-a.top-l.y)/r,..._b(u)}})};function Ru(e,n,r){return r===void 0?r:o=>{const s=n().nodeInternals.get(e);s&&r(o,{...s})}}function rv({id:e,store:n,unselect:r=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:l,onError:u}=n.getState(),d=l.get(e);if(!d){u==null||u("012",ii.error012(e));return}n.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&a)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var h;return(h=o==null?void 0:o.current)==null?void 0:h.blur()})):s([e])}function qG(){const e=Dn();return g.useCallback(({sourceEvent:r})=>{const{transform:o,snapGrid:s,snapToGrid:i}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,u={x:(a-o[0])/o[2],y:(l-o[1])/o[2]};return{xSnapped:i?s[0]*Math.round(u.x/s[0]):u.x,ySnapped:i?s[1]*Math.round(u.y/s[1]):u.y,...u}},[])}function Gx(e){return(n,r,o)=>e==null?void 0:e(n,o)}function B3({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const l=Dn(),[u,d]=g.useState(!1),h=g.useRef([]),f=g.useRef({x:null,y:null}),m=g.useRef(0),p=g.useRef(null),v=g.useRef({x:0,y:0}),y=g.useRef(null),b=g.useRef(!1),x=g.useRef(!1),w=g.useRef(!1),S=qG();return g.useEffect(()=>{if(e!=null&&e.current){const k=gr(e.current),C=({x:P,y:E})=>{const{nodeInternals:_,onNodeDrag:I,onSelectionDrag:O,updateNodePositions:U,nodeExtent:T,snapGrid:z,snapToGrid:L,nodeOrigin:H,onError:F}=l.getState();f.current={x:P,y:E};let R=!1,A={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&T){const $=mg(h.current,H);A=ef($)}if(h.current=h.current.map($=>{const M={x:P-$.distance.x,y:E-$.distance.y};L&&(M.x=z[0]*Math.round(M.x/z[0]),M.y=z[1]*Math.round(M.y/z[1]));const Y=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];h.current.length>1&&T&&!$.extent&&(Y[0][0]=$.positionAbsolute.x-A.x+T[0][0],Y[1][0]=$.positionAbsolute.x+($.width??0)-A.x2+T[1][0],Y[0][1]=$.positionAbsolute.y-A.y+T[0][1],Y[1][1]=$.positionAbsolute.y+($.height??0)-A.y2+T[1][1]);const Z=U3($,M,_,Y,H,F);return R=R||$.position.x!==Z.position.x||$.position.y!==Z.position.y,$.position=Z.position,$.positionAbsolute=Z.positionAbsolute,$}),!R)return;U(h.current,!0,!0),d(!0);const D=s?I:Gx(O);if(D&&y.current){const[$,M]=qx({nodeId:s,dragItems:h.current,nodeInternals:_});D(y.current,$,M)}},N=()=>{if(!p.current)return;const[P,E]=u3(v.current,p.current);if(P!==0||E!==0){const{transform:_,panBy:I}=l.getState();f.current.x=(f.current.x??0)-P/_[2],f.current.y=(f.current.y??0)-E/_[2],I({x:P,y:E})&&C(f.current)}m.current=requestAnimationFrame(N)},j=P=>{var H;const{nodeInternals:E,multiSelectionActive:_,nodesDraggable:I,unselectNodesAndEdges:O,onNodeDragStart:U,onSelectionDragStart:T}=l.getState();x.current=!0;const z=s?U:Gx(T);(!a||!i)&&!_&&s&&((H=E.get(s))!=null&&H.selected||O()),s&&i&&a&&rv({id:s,store:l,nodeRef:e});const L=S(P);if(f.current=L,h.current=VG(E,I,L,s),z&&h.current){const[F,R]=qx({nodeId:s,dragItems:h.current,nodeInternals:E});z(P.sourceEvent,F,R)}};if(n)k.on(".drag",null);else{const P=XP().on("start",E=>{const{domNode:_,nodeDragThreshold:I}=l.getState();I===0&&j(E),w.current=!1;const O=S(E);f.current=O,p.current=(_==null?void 0:_.getBoundingClientRect())||null,v.current=ua(E.sourceEvent,p.current)}).on("drag",E=>{var U,T;const _=S(E),{autoPanOnNodeDrag:I,nodeDragThreshold:O}=l.getState();if(E.sourceEvent.type==="touchmove"&&E.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!b.current&&x.current&&I&&(b.current=!0,N()),!x.current){const z=_.xSnapped-(((U=f==null?void 0:f.current)==null?void 0:U.x)??0),L=_.ySnapped-(((T=f==null?void 0:f.current)==null?void 0:T.y)??0);Math.sqrt(z*z+L*L)>O&&j(E)}(f.current.x!==_.xSnapped||f.current.y!==_.ySnapped)&&h.current&&x.current&&(y.current=E.sourceEvent,v.current=ua(E.sourceEvent,p.current),C(_))}}).on("end",E=>{if(!(!x.current||w.current)&&(d(!1),b.current=!1,x.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:_,nodeInternals:I,onNodeDragStop:O,onSelectionDragStop:U}=l.getState(),T=s?O:Gx(U);if(_(h.current,!1,!1),T){const[z,L]=qx({nodeId:s,dragItems:h.current,nodeInternals:I});T(E.sourceEvent,z,L)}}}).filter(E=>{const _=E.target;return!E.button&&(!r||!I2(_,`.${r}`,e))&&(!o||I2(_,o,e))});return k.call(P),()=>{k.on(".drag",null)}}}},[e,n,r,o,i,l,s,a,S]),u}function H3(){const e=Dn();return g.useCallback(r=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:l,snapGrid:u,onError:d,nodesDraggable:h}=e.getState(),f=a().filter(w=>w.selected&&(w.draggable||h&&typeof w.draggable>"u")),m=l?u[0]:5,p=l?u[1]:5,v=r.isShiftPressed?4:1,y=r.x*m*v,b=r.y*p*v,x=f.map(w=>{if(w.positionAbsolute){const S={x:w.positionAbsolute.x+y,y:w.positionAbsolute.y+b};l&&(S.x=u[0]*Math.round(S.x/u[0]),S.y=u[1]*Math.round(S.y/u[1]));const{positionAbsolute:k,position:C}=U3(w,S,o,s,void 0,d);w.position=C,w.positionAbsolute=k}return w});i(x,!0,!1)},[])}const wc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Iu=e=>{const n=({id:r,type:o,data:s,xPos:i,yPos:a,xPosOrigin:l,yPosOrigin:u,selected:d,onClick:h,onMouseEnter:f,onMouseMove:m,onMouseLeave:p,onContextMenu:v,onDoubleClick:y,style:b,className:x,isDraggable:w,isSelectable:S,isConnectable:k,isFocusable:C,selectNodesOnDrag:N,sourcePosition:j,targetPosition:P,hidden:E,resizeObserver:_,dragHandle:I,zIndex:O,isParent:U,noDragClassName:T,noPanClassName:z,initialized:L,disableKeyboardA11y:H,ariaLabel:F,rfId:R,hasHandleBounds:A})=>{const D=Dn(),$=g.useRef(null),M=g.useRef(null),Y=g.useRef(j),Z=g.useRef(P),re=g.useRef(o),Q=S||w||h||f||m||p,ce=H3(),fe=Ru(r,D.getState,f),me=Ru(r,D.getState,m),ke=Ru(r,D.getState,p),ie=Ru(r,D.getState,v),Le=Ru(r,D.getState,y),Ce=je=>{const{nodeDragThreshold:se}=D.getState();if(S&&(!N||!w||se>0)&&rv({id:r,store:D,nodeRef:$}),h){const Ve=D.getState().nodeInternals.get(r);Ve&&h(je,{...Ve})}},De=je=>{if(!J0(je)&&!H)if(p3.includes(je.key)&&S){const se=je.key==="Escape";rv({id:r,store:D,unselect:se,nodeRef:$})}else w&&d&&Object.prototype.hasOwnProperty.call(wc,je.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ce({x:wc[je.key].x,y:wc[je.key].y,isShiftPressed:je.shiftKey}))};g.useEffect(()=>()=>{M.current&&(_==null||_.unobserve(M.current),M.current=null)},[]),g.useEffect(()=>{if($.current&&!E){const je=$.current;(!L||!A||M.current!==je)&&(M.current&&(_==null||_.unobserve(M.current)),_==null||_.observe(je),M.current=je)}},[E,L,A]),g.useEffect(()=>{const je=re.current!==o,se=Y.current!==j,Ve=Z.current!==P;$.current&&(je||se||Ve)&&(je&&(re.current=o),se&&(Y.current=j),Ve&&(Z.current=P),D.getState().updateNodeDimensions([{id:r,nodeElement:$.current,forceUpdate:!0}]))},[r,o,j,P]);const he=B3({nodeRef:$,disabled:E||!w,noDragClassName:T,handleSelector:I,nodeId:r,isSelectable:S,selectNodesOnDrag:N});return E?null:B.createElement("div",{className:Yn(["react-flow__node",`react-flow__node-${o}`,{[z]:w},x,{selected:d,selectable:S,parent:U,dragging:he}]),ref:$,style:{zIndex:O,transform:`translate(${l}px,${u}px)`,pointerEvents:Q?"all":"none",visibility:L?"visible":"hidden",...b},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:fe,onMouseMove:me,onMouseLeave:ke,onContextMenu:ie,onClick:Ce,onDoubleClick:Le,onKeyDown:C?De:void 0,tabIndex:C?0:void 0,role:C?"button":void 0,"aria-describedby":H?void 0:`${I3}-${R}`,"aria-label":F},B.createElement(sG,{value:r},B.createElement(e,{id:r,data:s,type:o,xPos:i,yPos:a,selected:d,isConnectable:k,sourcePosition:j,targetPosition:P,dragging:he,dragHandle:I,zIndex:O})))};return n.displayName="NodeWrapper",g.memo(n)};const GG=e=>{const n=e.getNodes().filter(r=>r.selected);return{...mg(n,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function KG({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const o=Dn(),{width:s,height:i,x:a,y:l,transformString:u,userSelectionActive:d}=Qt(GG,zr),h=H3(),f=g.useRef(null);if(g.useEffect(()=>{var v;r||(v=f.current)==null||v.focus({preventScroll:!0})},[r]),B3({nodeRef:f}),d||!s||!i)return null;const m=e?v=>{const y=o.getState().getNodes().filter(b=>b.selected);e(v,y)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(wc,v.key)&&h({x:wc[v.key].x,y:wc[v.key].y,isShiftPressed:v.shiftKey})};return B.createElement("div",{className:Yn(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},B.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:s,height:i,top:l,left:a}}))}var YG=g.memo(KG);const XG=e=>e.nodesSelectionActive,V3=({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:l,onMove:u,onMoveStart:d,onMoveEnd:h,selectionKeyCode:f,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:C,panOnScroll:N,panOnScrollSpeed:j,panOnScrollMode:P,zoomOnDoubleClick:E,panOnDrag:_,defaultViewport:I,translateExtent:O,minZoom:U,maxZoom:T,preventScrolling:z,onSelectionContextMenu:L,noWheelClassName:H,noPanClassName:F,disableKeyboardA11y:R})=>{const A=Qt(XG),D=nf(f),$=nf(x),M=$||_,Y=$||N,Z=D||m&&M!==!0;return IG({deleteKeyCode:l,multiSelectionKeyCode:b}),B.createElement($G,{onMove:u,onMoveStart:d,onMoveEnd:h,onPaneContextMenu:i,elementsSelectable:S,zoomOnScroll:k,zoomOnPinch:C,panOnScroll:Y,panOnScrollSpeed:j,panOnScrollMode:P,zoomOnDoubleClick:E,panOnDrag:!D&&M,defaultViewport:I,translateExtent:O,minZoom:U,maxZoom:T,zoomActivationKeyCode:w,preventScrolling:z,noWheelClassName:H,noPanClassName:F},B.createElement(z3,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:M,isSelecting:!!Z,selectionMode:p},e,A&&B.createElement(YG,{onSelectionContextMenu:L,noPanClassName:F,disableKeyboardA11y:R})))};V3.displayName="FlowRenderer";var QG=g.memo(V3);function JG(e){return Qt(g.useCallback(r=>e?b3(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function ZG(e){const n={input:Iu(e.input||A3),default:Iu(e.default||nv),output:Iu(e.output||M3),group:Iu(e.group||Ib)},r={},o=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Iu(e[i]||nv),s),r);return{...n,...o}}const eK=({x:e,y:n,width:r,height:o,origin:s})=>!r||!o?{x:e,y:n}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:n}:{x:e-r*s[0],y:n-o*s[1]},tK=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),W3=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:i,onError:a}=Qt(tK,zr),l=JG(e.onlyRenderVisibleElements),u=g.useRef(),d=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(f=>{const m=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(m)});return u.current=h,h},[]);return g.useEffect(()=>()=>{var h;(h=u==null?void 0:u.current)==null||h.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:Db},l.map(h=>{var C,N,j;let f=h.type||"default";e.nodeTypes[f]||(a==null||a("003",ii.error003(f)),f="default");const m=e.nodeTypes[f]||e.nodeTypes.default,p=!!(h.draggable||n&&typeof h.draggable>"u"),v=!!(h.selectable||s&&typeof h.selectable>"u"),y=!!(h.connectable||r&&typeof h.connectable>"u"),b=!!(h.focusable||o&&typeof h.focusable>"u"),x=e.nodeExtent?Eb(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,w=(x==null?void 0:x.x)??0,S=(x==null?void 0:x.y)??0,k=eK({x:w,y:S,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return B.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:f,data:h.data,sourcePosition:h.sourcePosition||He.Bottom,targetPosition:h.targetPosition||He.Top,hidden:h.hidden,xPos:w,yPos:S,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:p,isSelectable:v,isConnectable:y,isFocusable:b,resizeObserver:d,dragHandle:h.dragHandle,zIndex:((C=h[wn])==null?void 0:C.z)??0,isParent:!!((N=h[wn])!=null&&N.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!((j=h[wn])!=null&&j.handleBounds)})}))};W3.displayName="NodeRenderer";var nK=g.memo(W3);const rK=(e,n,r)=>r===He.Left?e-n:r===He.Right?e+n:e,oK=(e,n,r)=>r===He.Top?e-n:r===He.Bottom?e+n:e,D2="react-flow__edgeupdater",L2=({position:e,centerX:n,centerY:r,radius:o=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:l})=>B.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:Yn([D2,`${D2}-${l}`]),cx:rK(n,o,e),cy:oK(r,o,e),r:o,stroke:"transparent",fill:"transparent"}),sK=()=>!0;var $l=e=>{const n=({id:r,className:o,type:s,data:i,onClick:a,onEdgeDoubleClick:l,selected:u,animated:d,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,style:b,source:x,target:w,sourceX:S,sourceY:k,targetX:C,targetY:N,sourcePosition:j,targetPosition:P,elementsSelectable:E,hidden:_,sourceHandleId:I,targetHandleId:O,onContextMenu:U,onMouseEnter:T,onMouseMove:z,onMouseLeave:L,reconnectRadius:H,onReconnect:F,onReconnectStart:R,onReconnectEnd:A,markerEnd:D,markerStart:$,rfId:M,ariaLabel:Y,isFocusable:Z,isReconnectable:re,pathOptions:Q,interactionWidth:ce,disableKeyboardA11y:fe})=>{const me=g.useRef(null),[ke,ie]=g.useState(!1),[Le,Ce]=g.useState(!1),De=Dn(),he=g.useMemo(()=>`url('#${ev($,M)}')`,[$,M]),je=g.useMemo(()=>`url('#${ev(D,M)}')`,[D,M]);if(_)return null;const se=gt=>{var yt;const{edges:_t,addSelectedEdges:tt,unselectNodesAndEdges:Gt,multiSelectionActive:xt}=De.getState(),st=_t.find($e=>$e.id===r);st&&(E&&(De.setState({nodesSelectionActive:!1}),st.selected&&xt?(Gt({nodes:[],edges:[st]}),(yt=me.current)==null||yt.blur()):tt([r])),a&&a(gt,st))},Ve=Mu(r,De.getState,l),et=Mu(r,De.getState,U),nt=Mu(r,De.getState,T),ht=Mu(r,De.getState,z),Tt=Mu(r,De.getState,L),Re=(gt,_t)=>{if(gt.button!==0)return;const{edges:tt,isValidConnection:Gt}=De.getState(),xt=_t?w:x,st=(_t?O:I)||null,yt=_t?"target":"source",$e=Gt||sK,lo=_t,Qn=tt.find(Bt=>Bt.id===r);Ce(!0),R==null||R(gt,Qn,yt);const Nr=Bt=>{Ce(!1),A==null||A(Bt,Qn,yt)};j3({event:gt,handleId:st,nodeId:xt,onConnect:Bt=>F==null?void 0:F(Qn,Bt),isTarget:lo,getState:De.getState,setState:De.setState,isValidConnection:$e,edgeUpdaterType:yt,onReconnectEnd:Nr})},An=gt=>Re(gt,!0),te=gt=>Re(gt,!1),ge=()=>ie(!0),Ae=()=>ie(!1),ze=!E&&!a,Qe=gt=>{var _t;if(!fe&&p3.includes(gt.key)&&E){const{unselectNodesAndEdges:tt,addSelectedEdges:Gt,edges:xt}=De.getState();gt.key==="Escape"?((_t=me.current)==null||_t.blur(),tt({edges:[xt.find(yt=>yt.id===r)]})):Gt([r])}};return B.createElement("g",{className:Yn(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:u,animated:d,inactive:ze,updating:ke}]),onClick:se,onDoubleClick:Ve,onContextMenu:et,onMouseEnter:nt,onMouseMove:ht,onMouseLeave:Tt,onKeyDown:Z?Qe:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Y===null?void 0:Y||`Edge from ${x} to ${w}`,"aria-describedby":Z?`${O3}-${M}`:void 0,ref:me},!Le&&B.createElement(e,{id:r,source:x,target:w,selected:u,animated:d,label:h,labelStyle:f,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,data:i,style:b,sourceX:S,sourceY:k,targetX:C,targetY:N,sourcePosition:j,targetPosition:P,sourceHandleId:I,targetHandleId:O,markerStart:he,markerEnd:je,pathOptions:Q,interactionWidth:ce}),re&&B.createElement(B.Fragment,null,(re==="source"||re===!0)&&B.createElement(L2,{position:j,centerX:S,centerY:k,radius:H,onMouseDown:An,onMouseEnter:ge,onMouseOut:Ae,type:"source"}),(re==="target"||re===!0)&&B.createElement(L2,{position:P,centerX:C,centerY:N,radius:H,onMouseDown:te,onMouseEnter:ge,onMouseOut:Ae,type:"target"})))};return n.displayName="EdgeWrapper",g.memo(n)};function iK(e){const n={default:$l(e.default||lm),straight:$l(e.bezier||Pb),step:$l(e.step||Ab),smoothstep:$l(e.step||pg),simplebezier:$l(e.simplebezier||Tb)},r={},o=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=$l(e[i]||lm),s),r);return{...n,...o}}function $2(e,n,r=null){const o=((r==null?void 0:r.x)||0)+n.x,s=((r==null?void 0:r.y)||0)+n.y,i=(r==null?void 0:r.width)||n.width,a=(r==null?void 0:r.height)||n.height;switch(e){case He.Top:return{x:o+i/2,y:s};case He.Right:return{x:o+i,y:s+a/2};case He.Bottom:return{x:o+i/2,y:s+a};case He.Left:return{x:o,y:s+a/2}}}function z2(e,n){return e?e.length===1||!n?e[0]:n&&e.find(r=>r.id===n)||null:null}const aK=(e,n,r,o,s,i)=>{const a=$2(r,e,n),l=$2(i,o,s);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function lK({sourcePos:e,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:s,targetHeight:i,width:a,height:l,transform:u}){const d={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+r,n.x+s),y2:Math.max(e.y+o,n.y+i)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const h=ef({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:a/u[2],height:l/u[2]}),f=Math.max(0,Math.min(h.x2,d.x2)-Math.max(h.x,d.x)),m=Math.max(0,Math.min(h.y2,d.y2)-Math.max(h.y,d.y));return Math.ceil(f*m)>0}function F2(e){var o,s,i,a,l;const n=((o=e==null?void 0:e[wn])==null?void 0:o.handleBounds)||null,r=n&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},n,!!r]}const cK=[{level:0,isMaxLevel:!0,edges:[]}];function uK(e,n,r=!1){let o=-1;const s=e.reduce((a,l)=>{var h,f;const u=No(l.zIndex);let d=u?l.zIndex:0;if(r){const m=n.get(l.target),p=n.get(l.source),v=l.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),y=Math.max(((h=p==null?void 0:p[wn])==null?void 0:h.z)||0,((f=m==null?void 0:m[wn])==null?void 0:f.z)||0,1e3);d=(u?l.zIndex:0)+(v?y:0)}return a[d]?a[d].push(l):a[d]=[l],o=d>o?d:o,a},{}),i=Object.entries(s).map(([a,l])=>{const u=+a;return{edges:l,level:u,isMaxLevel:u===o}});return i.length===0?cK:i}function dK(e,n,r){const o=Qt(g.useCallback(s=>e?s.edges.filter(i=>{const a=n.get(i.source),l=n.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&lK({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,n]));return uK(o,n,r)}const fK=({color:e="none",strokeWidth:n=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hK=({color:e="none",strokeWidth:n=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),U2={[am.Arrow]:fK,[am.ArrowClosed]:hK};function pK(e){const n=Dn();return g.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(U2,e)?U2[e]:((i=(s=n.getState()).onError)==null||i.call(s,"009",ii.error009(e)),null)},[e])}const mK=({id:e,type:n,color:r,width:o=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const u=pK(n);return u?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},B.createElement(u,{color:r,strokeWidth:a})):null},gK=({defaultColor:e,rfId:n})=>r=>{const o=[];return r.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const l=ev(a,n);o.includes(l)||(s.push({id:l,color:a.color||e,...a}),o.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},q3=({defaultColor:e,rfId:n})=>{const r=Qt(g.useCallback(gK({defaultColor:e,rfId:n}),[e,n]),(o,s)=>!(o.length!==s.length||o.some((i,a)=>i.id!==s[a].id)));return B.createElement("defs",null,r.map(o=>B.createElement(mK,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};q3.displayName="MarkerDefinitions";var xK=g.memo(q3);const yK=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),G3=({defaultMarkerColor:e,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:o,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,children:b,disableKeyboardA11y:x})=>{const{edgesFocusable:w,edgesUpdatable:S,elementsSelectable:k,width:C,height:N,connectionMode:j,nodeInternals:P,onError:E}=Qt(yK,zr),_=dK(n,P,r);return C?B.createElement(B.Fragment,null,_.map(({level:I,edges:O,isMaxLevel:U})=>B.createElement("svg",{key:I,style:{zIndex:I},width:C,height:N,className:"react-flow__edges react-flow__container"},U&&B.createElement(xK,{defaultColor:e,rfId:o}),B.createElement("g",null,O.map(T=>{const[z,L,H]=F2(P.get(T.source)),[F,R,A]=F2(P.get(T.target));if(!H||!A)return null;let D=T.type||"default";s[D]||(E==null||E("011",ii.error011(D)),D="default");const $=s[D]||s.default,M=j===ml.Strict?R.target:(R.target??[]).concat(R.source??[]),Y=z2(L.source,T.sourceHandle),Z=z2(M,T.targetHandle),re=(Y==null?void 0:Y.position)||He.Bottom,Q=(Z==null?void 0:Z.position)||He.Top,ce=!!(T.focusable||w&&typeof T.focusable>"u"),fe=T.reconnectable||T.updatable,me=typeof m<"u"&&(fe||S&&typeof fe>"u");if(!Y||!Z)return E==null||E("008",ii.error008(Y,T)),null;const{sourceX:ke,sourceY:ie,targetX:Le,targetY:Ce}=aK(z,Y,re,F,Z,Q);return B.createElement($,{key:T.id,id:T.id,className:Yn([T.className,i]),type:D,data:T.data,selected:!!T.selected,animated:!!T.animated,hidden:!!T.hidden,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,style:T.style,source:T.source,target:T.target,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerEnd:T.markerEnd,markerStart:T.markerStart,sourceX:ke,sourceY:ie,targetX:Le,targetY:Ce,sourcePosition:re,targetPosition:Q,elementsSelectable:k,onContextMenu:a,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:h,onEdgeDoubleClick:f,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,rfId:o,ariaLabel:T.ariaLabel,isFocusable:ce,isReconnectable:me,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth,disableKeyboardA11y:x})})))),b):null};G3.displayName="EdgeRenderer";var vK=g.memo(G3);const wK=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function bK({children:e}){const n=Qt(wK);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function SK(e){const n=Ob(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const kK={[He.Left]:He.Right,[He.Right]:He.Left,[He.Top]:He.Bottom,[He.Bottom]:He.Top},K3=({nodeId:e,handleType:n,style:r,type:o=Li.Bezier,CustomComponent:s,connectionStatus:i})=>{var N,j,P;const{fromNode:a,handleId:l,toX:u,toY:d,connectionMode:h}=Qt(g.useCallback(E=>({fromNode:E.nodeInternals.get(e),handleId:E.connectionHandleId,toX:(E.connectionPosition.x-E.transform[0])/E.transform[2],toY:(E.connectionPosition.y-E.transform[1])/E.transform[2],connectionMode:E.connectionMode}),[e]),zr),f=(N=a==null?void 0:a[wn])==null?void 0:N.handleBounds;let m=f==null?void 0:f[n];if(h===ml.Loose&&(m=m||(f==null?void 0:f[n==="source"?"target":"source"])),!a||!m)return null;const p=l?m.find(E=>E.id===l):m[0],v=p?p.x+p.width/2:(a.width??0)/2,y=p?p.y+p.height/2:a.height??0,b=(((j=a.positionAbsolute)==null?void 0:j.x)??0)+v,x=(((P=a.positionAbsolute)==null?void 0:P.y)??0)+y,w=p==null?void 0:p.position,S=w?kK[w]:null;if(!w||!S)return null;if(s)return B.createElement(s,{connectionLineType:o,connectionLineStyle:r,fromNode:a,fromHandle:p,fromX:b,fromY:x,toX:u,toY:d,fromPosition:w,toPosition:S,connectionStatus:i});let k="";const C={sourceX:b,sourceY:x,sourcePosition:w,targetX:u,targetY:d,targetPosition:S};return o===Li.Bezier?[k]=v3(C):o===Li.Step?[k]=Z0({...C,borderRadius:0}):o===Li.SmoothStep?[k]=Z0(C):o===Li.SimpleBezier?[k]=y3(C):k=`M${b},${x} ${u},${d}`,B.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:r})};K3.displayName="ConnectionLine";const NK=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function CK({containerStyle:e,style:n,type:r,component:o}){const{nodeId:s,handleType:i,nodesConnectable:a,width:l,height:u,connectionStatus:d}=Qt(NK,zr);return!(s&&i&&l&&a)?null:B.createElement("svg",{style:e,width:l,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:Yn(["react-flow__connection",d])},B.createElement(K3,{nodeId:s,handleType:i,style:n,type:r,CustomComponent:o,connectionStatus:d})))}function B2(e,n){return g.useRef(null),Dn(),g.useMemo(()=>n(e),[e])}const Y3=({nodeTypes:e,edgeTypes:n,onMove:r,onMoveStart:o,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:k,selectionKeyCode:C,selectionOnDrag:N,selectionMode:j,multiSelectionKeyCode:P,panActivationKeyCode:E,zoomActivationKeyCode:_,deleteKeyCode:I,onlyRenderVisibleElements:O,elementsSelectable:U,selectNodesOnDrag:T,defaultViewport:z,translateExtent:L,minZoom:H,maxZoom:F,preventScrolling:R,defaultMarkerColor:A,zoomOnScroll:D,zoomOnPinch:$,panOnScroll:M,panOnScrollSpeed:Y,panOnScrollMode:Z,zoomOnDoubleClick:re,panOnDrag:Q,onPaneClick:ce,onPaneMouseEnter:fe,onPaneMouseMove:me,onPaneMouseLeave:ke,onPaneScroll:ie,onPaneContextMenu:Le,onEdgeContextMenu:Ce,onEdgeMouseEnter:De,onEdgeMouseMove:he,onEdgeMouseLeave:je,onReconnect:se,onReconnectStart:Ve,onReconnectEnd:et,reconnectRadius:nt,noDragClassName:ht,noWheelClassName:Tt,noPanClassName:Re,elevateEdgesOnSelect:An,disableKeyboardA11y:te,nodeOrigin:ge,nodeExtent:Ae,rfId:ze})=>{const Qe=B2(e,ZG),gt=B2(n,iK);return SK(i),B.createElement(QG,{onPaneClick:ce,onPaneMouseEnter:fe,onPaneMouseMove:me,onPaneMouseLeave:ke,onPaneContextMenu:Le,onPaneScroll:ie,deleteKeyCode:I,selectionKeyCode:C,selectionOnDrag:N,selectionMode:j,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:P,panActivationKeyCode:E,zoomActivationKeyCode:_,elementsSelectable:U,onMove:r,onMoveStart:o,onMoveEnd:s,zoomOnScroll:D,zoomOnPinch:$,zoomOnDoubleClick:re,panOnScroll:M,panOnScrollSpeed:Y,panOnScrollMode:Z,panOnDrag:Q,defaultViewport:z,translateExtent:L,minZoom:H,maxZoom:F,onSelectionContextMenu:v,preventScrolling:R,noDragClassName:ht,noWheelClassName:Tt,noPanClassName:Re,disableKeyboardA11y:te},B.createElement(bK,null,B.createElement(vK,{edgeTypes:gt,onEdgeClick:l,onEdgeDoubleClick:d,onlyRenderVisibleElements:O,onEdgeContextMenu:Ce,onEdgeMouseEnter:De,onEdgeMouseMove:he,onEdgeMouseLeave:je,onReconnect:se,onReconnectStart:Ve,onReconnectEnd:et,reconnectRadius:nt,defaultMarkerColor:A,noPanClassName:Re,elevateEdgesOnSelect:!!An,disableKeyboardA11y:te,rfId:ze},B.createElement(CK,{style:w,type:x,component:S,containerStyle:k})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(nK,{nodeTypes:Qe,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:f,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:T,onlyRenderVisibleElements:O,noPanClassName:Re,noDragClassName:ht,disableKeyboardA11y:te,nodeOrigin:ge,nodeExtent:Ae,rfId:ze})))};Y3.displayName="GraphView";var jK=g.memo(Y3);const ov=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ki={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ov,nodeExtent:ov,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ml.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Zq,isValidConnection:void 0},_K=()=>mH((e,n)=>({...ki,setNodes:r=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:i}=n();e({nodeInternals:Vx(r,o,s,i)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:o={}}=n();e({edges:r.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(r,o)=>{const s=typeof r<"u",i=typeof o<"u",a=s?Vx(r,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:r=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:u,nodeOrigin:d}=n(),h=u==null?void 0:u.querySelector(".react-flow__viewport");if(!h)return;const f=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((y,b)=>{const x=s.get(b.id);if(x!=null&&x.hidden)s.set(x.id,{...x,[wn]:{...x[wn],handleBounds:void 0}});else if(x){const w=_b(b.nodeElement);!!(w.width&&w.height&&(x.width!==w.width||x.height!==w.height||b.forceUpdate))&&(s.set(x.id,{...x,[wn]:{...x[wn],handleBounds:{source:O2(".source",b.nodeElement,m,d),target:O2(".target",b.nodeElement,m,d)}},...w}),y.push({id:x.id,type:"dimensions",dimensions:w}))}return y},[]);L3(s,d);const v=a||i&&!a&&$3(n,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:v}),(p==null?void 0:p.length)>0&&(o==null||o(p))},updateNodePositions:(r,o=!0,s=!1)=>{const{triggerNodeChanges:i}=n(),a=r.map(l=>{const u={id:l.id,type:"position",dragging:s};return o&&(u.positionAbsolute=l.positionAbsolute,u.position=l.position),u});i(a)},triggerNodeChanges:r=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:l,elevateNodesOnSelect:u}=n();if(r!=null&&r.length){if(i){const d=BG(r,l()),h=Vx(d,s,a,u);e({nodeInternals:h})}o==null||o(r)}},addSelectedNodes:r=>{const{multiSelectionActive:o,edges:s,getNodes:i}=n();let a,l=null;o?a=r.map(u=>Ii(u,!0)):(a=ic(i(),r),l=ic(s,[])),Ah({changedNodes:a,changedEdges:l,get:n,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:o,edges:s,getNodes:i}=n();let a,l=null;o?a=r.map(u=>Ii(u,!0)):(a=ic(s,r),l=ic(i(),[])),Ah({changedNodes:l,changedEdges:a,get:n,set:e})},unselectNodesAndEdges:({nodes:r,edges:o}={})=>{const{edges:s,getNodes:i}=n(),a=r||i(),l=o||s,u=a.map(h=>(h.selected=!1,Ii(h.id,!1))),d=l.map(h=>Ii(h.id,!1));Ah({changedNodes:u,changedEdges:d,get:n,set:e})},setMinZoom:r=>{const{d3Zoom:o,maxZoom:s}=n();o==null||o.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:o,minZoom:s}=n();o==null||o.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var o;(o=n().d3Zoom)==null||o.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:o}=n(),i=o().filter(l=>l.selected).map(l=>Ii(l.id,!1)),a=r.filter(l=>l.selected).map(l=>Ii(l.id,!1));Ah({changedNodes:i,changedEdges:a,get:n,set:e})},setNodeExtent:r=>{const{nodeInternals:o}=n();o.forEach(s=>{s.positionAbsolute=Eb(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(o)})},panBy:r=>{const{transform:o,width:s,height:i,d3Zoom:a,d3Selection:l,translateExtent:u}=n();if(!a||!l||!r.x&&!r.y)return!1;const d=bs.translate(o[0]+r.x,o[1]+r.y).scale(o[2]),h=[[0,0],[s,i]],f=a==null?void 0:a.constrain()(d,h,u);return a.transform(l,f),o[0]!==f.x||o[1]!==f.y||o[2]!==f.k},cancelConnection:()=>e({connectionNodeId:ki.connectionNodeId,connectionHandleId:ki.connectionHandleId,connectionHandleType:ki.connectionHandleType,connectionStatus:ki.connectionStatus,connectionStartHandle:ki.connectionStartHandle,connectionEndHandle:ki.connectionEndHandle}),reset:()=>e({...ki})}),Object.is),X3=({children:e})=>{const n=g.useRef(null);return n.current||(n.current=_K()),B.createElement(qq,{value:n.current},e)};X3.displayName="ReactFlowProvider";const Q3=({children:e})=>g.useContext(hg)?B.createElement(B.Fragment,null,e):B.createElement(X3,null,e);Q3.displayName="ReactFlowWrapper";const EK={input:A3,default:nv,output:M3,group:Ib},TK={default:lm,straight:Pb,step:Ab,smoothstep:pg,simplebezier:Tb},AK=[0,0],PK=[15,15],MK={x:0,y:0,zoom:1},RK={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},J3=g.forwardRef(({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,className:s,nodeTypes:i=EK,edgeTypes:a=TK,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:h,onMoveStart:f,onMoveEnd:m,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:N,onNodeDragStart:j,onNodeDrag:P,onNodeDragStop:E,onNodesDelete:_,onEdgesDelete:I,onSelectionChange:O,onSelectionDragStart:U,onSelectionDrag:T,onSelectionDragStop:z,onSelectionContextMenu:L,onSelectionStart:H,onSelectionEnd:F,connectionMode:R=ml.Strict,connectionLineType:A=Li.Bezier,connectionLineStyle:D,connectionLineComponent:$,connectionLineContainerStyle:M,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:re=!1,selectionMode:Q=tf.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:fe=im()?"Meta":"Control",zoomActivationKeyCode:me=im()?"Meta":"Control",snapToGrid:ke=!1,snapGrid:ie=PK,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:Ce=!0,nodesDraggable:De,nodesConnectable:he,nodesFocusable:je,nodeOrigin:se=AK,edgesFocusable:Ve,edgesUpdatable:et,elementsSelectable:nt,defaultViewport:ht=MK,minZoom:Tt=.5,maxZoom:Re=2,translateExtent:An=ov,preventScrolling:te=!0,nodeExtent:ge,defaultMarkerColor:Ae="#b1b1b7",zoomOnScroll:ze=!0,zoomOnPinch:Qe=!0,panOnScroll:gt=!1,panOnScrollSpeed:_t=.5,panOnScrollMode:tt=Ua.Free,zoomOnDoubleClick:Gt=!0,panOnDrag:xt=!0,onPaneClick:st,onPaneMouseEnter:yt,onPaneMouseMove:$e,onPaneMouseLeave:lo,onPaneScroll:Qn,onPaneContextMenu:Nr,children:Cr,onEdgeContextMenu:Bt,onEdgeDoubleClick:vt,onEdgeMouseEnter:Ke,onEdgeMouseMove:pt,onEdgeMouseLeave:it,onEdgeUpdate:Ht,onEdgeUpdateStart:q,onEdgeUpdateEnd:xe,onReconnect:Ee,onReconnectStart:Te,onReconnectEnd:X,reconnectRadius:ye=10,edgeUpdaterRadius:Pe=10,onNodesChange:at,onEdgesChange:ct,noDragClassName:Je="nodrag",noWheelClassName:Et="nowheel",noPanClassName:Ft="nopan",fitView:Jn=!1,fitViewOptions:Kt,connectOnClick:Jt=!0,attributionPosition:Zt,proOptions:We,defaultEdgeOptions:en,elevateNodesOnSelect:Hn=!0,elevateEdgesOnSelect:cr=!1,disableKeyboardA11y:co=!1,autoPanOnConnect:ts=!0,autoPanOnNodeDrag:ns=!0,connectionRadius:gi=20,isValidConnection:rs,onError:rt,style:jn,id:Ut,nodeDragThreshold:tn,...ln},jr)=>{const Ln=Ut||"1";return B.createElement("div",{...ln,style:{...jn,...RK},ref:jr,className:Yn(["react-flow",s]),"data-testid":"rf__wrapper",id:Ut},B.createElement(Q3,null,B.createElement(jK,{onInit:d,onMove:h,onMoveStart:f,onMoveEnd:m,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:w,onNodeMouseMove:S,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:a,connectionLineType:A,connectionLineStyle:D,connectionLineComponent:$,connectionLineContainerStyle:M,selectionKeyCode:Z,selectionOnDrag:re,selectionMode:Q,deleteKeyCode:Y,multiSelectionKeyCode:fe,panActivationKeyCode:ce,zoomActivationKeyCode:me,onlyRenderVisibleElements:Le,selectNodesOnDrag:Ce,defaultViewport:ht,translateExtent:An,minZoom:Tt,maxZoom:Re,preventScrolling:te,zoomOnScroll:ze,zoomOnPinch:Qe,zoomOnDoubleClick:Gt,panOnScroll:gt,panOnScrollSpeed:_t,panOnScrollMode:tt,panOnDrag:xt,onPaneClick:st,onPaneMouseEnter:yt,onPaneMouseMove:$e,onPaneMouseLeave:lo,onPaneScroll:Qn,onPaneContextMenu:Nr,onSelectionContextMenu:L,onSelectionStart:H,onSelectionEnd:F,onEdgeContextMenu:Bt,onEdgeDoubleClick:vt,onEdgeMouseEnter:Ke,onEdgeMouseMove:pt,onEdgeMouseLeave:it,onReconnect:Ee??Ht,onReconnectStart:Te??q,onReconnectEnd:X??xe,reconnectRadius:ye??Pe,defaultMarkerColor:Ae,noDragClassName:Je,noWheelClassName:Et,noPanClassName:Ft,elevateEdgesOnSelect:cr,rfId:Ln,disableKeyboardA11y:co,nodeOrigin:se,nodeExtent:ge}),B.createElement(SG,{nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,nodesDraggable:De,nodesConnectable:he,nodesFocusable:je,edgesFocusable:Ve,edgesUpdatable:et,elementsSelectable:nt,elevateNodesOnSelect:Hn,minZoom:Tt,maxZoom:Re,nodeExtent:ge,onNodesChange:at,onEdgesChange:ct,snapToGrid:ke,snapGrid:ie,connectionMode:R,translateExtent:An,connectOnClick:Jt,defaultEdgeOptions:en,fitView:Jn,fitViewOptions:Kt,onNodesDelete:_,onEdgesDelete:I,onNodeDragStart:j,onNodeDrag:P,onNodeDragStop:E,onSelectionDrag:T,onSelectionDragStart:U,onSelectionDragStop:z,noPanClassName:Ft,nodeOrigin:se,rfId:Ln,autoPanOnConnect:ts,autoPanOnNodeDrag:ns,onError:rt,connectionRadius:gi,isValidConnection:rs,nodeDragThreshold:tn}),B.createElement(wG,{onSelectionChange:O}),Cr,B.createElement(Kq,{proOptions:We,position:Zt}),B.createElement(_G,{rfId:Ln,disableKeyboardA11y:co})))});J3.displayName="ReactFlow";function Z3(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}const e4=({id:e,x:n,y:r,width:o,height:s,style:i,color:a,strokeColor:l,strokeWidth:u,className:d,borderRadius:h,shapeRendering:f,onClick:m,selected:p})=>{const{background:v,backgroundColor:y}=i||{},b=a||v||y;return B.createElement("rect",{className:Yn(["react-flow__minimap-node",{selected:p},d]),x:n,y:r,rx:h,ry:h,width:o,height:s,fill:b,stroke:l,strokeWidth:u,shapeRendering:f,onClick:m?x=>m(x,e):void 0})};e4.displayName="MiniMapNode";var IK=g.memo(e4);const OK=e=>e.nodeOrigin,DK=e=>e.getNodes().filter(n=>!n.hidden&&n.width&&n.height),Kx=e=>e instanceof Function?e:()=>e;function LK({nodeStrokeColor:e="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:i=IK,onClick:a}){const l=Qt(DK,Z3),u=Qt(OK),d=Kx(n),h=Kx(e),f=Kx(r),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return B.createElement(B.Fragment,null,l.map(p=>{const{x:v,y}=tl(p,u).positionAbsolute;return B.createElement(i,{key:p.id,x:v,y,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:d(p),borderRadius:o,strokeColor:h(p),strokeWidth:s,shapeRendering:m,onClick:a,id:p.id})}))}var $K=g.memo(LK);const zK=200,FK=150,UK=e=>{const n=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:n.length>0?Qq(mg(n,e.nodeOrigin),r):r,rfId:e.rfId}},BK="react-flow__minimap-desc";function t4({style:e,className:n,nodeStrokeColor:r="transparent",nodeColor:o="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:l,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:h=1,position:f="bottom-right",onClick:m,onNodeClick:p,pannable:v=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:x=!1,zoomStep:w=10,offsetScale:S=5}){const k=Dn(),C=g.useRef(null),{boundingRect:N,viewBB:j,rfId:P}=Qt(UK,Z3),E=(e==null?void 0:e.width)??zK,_=(e==null?void 0:e.height)??FK,I=N.width/E,O=N.height/_,U=Math.max(I,O),T=U*E,z=U*_,L=S*U,H=N.x-(T-N.width)/2-L,F=N.y-(z-N.height)/2-L,R=T+L*2,A=z+L*2,D=`${BK}-${P}`,$=g.useRef(0);$.current=U,g.useEffect(()=>{if(C.current){const Z=gr(C.current),re=fe=>{const{transform:me,d3Selection:ke,d3Zoom:ie}=k.getState();if(fe.sourceEvent.type!=="wheel"||!ke||!ie)return;const Le=-fe.sourceEvent.deltaY*(fe.sourceEvent.deltaMode===1?.05:fe.sourceEvent.deltaMode?1:.002)*w,Ce=me[2]*Math.pow(2,Le);ie.scaleTo(ke,Ce)},Q=fe=>{const{transform:me,d3Selection:ke,d3Zoom:ie,translateExtent:Le,width:Ce,height:De}=k.getState();if(fe.sourceEvent.type!=="mousemove"||!ke||!ie)return;const he=$.current*Math.max(1,me[2])*(x?-1:1),je={x:me[0]-fe.sourceEvent.movementX*he,y:me[1]-fe.sourceEvent.movementY*he},se=[[0,0],[Ce,De]],Ve=bs.translate(je.x,je.y).scale(me[2]),et=ie.constrain()(Ve,se,Le);ie.transform(ke,et)},ce=Cb().on("zoom",v?Q:null).on("zoom.wheel",y?re:null);return Z.call(ce),()=>{Z.on("zoom",null)}}},[v,y,x,w]);const M=m?Z=>{const re=go(Z);m(Z,{x:re[0],y:re[1]})}:void 0,Y=p?(Z,re)=>{const Q=k.getState().nodeInternals.get(re);p(Z,Q)}:void 0;return B.createElement(jb,{position:f,style:e,className:Yn(["react-flow__minimap",n]),"data-testid":"rf__minimap"},B.createElement("svg",{width:E,height:_,viewBox:`${H} ${F} ${R} ${A}`,role:"img","aria-labelledby":D,ref:C,onClick:M},b&&B.createElement("title",{id:D},b),B.createElement($K,{onClick:Y,nodeColor:o,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:l}),B.createElement("path",{className:"react-flow__minimap-mask",d:`M${H-L},${F-L}h${R+L*2}v${A+L*2}h${-R-L*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fill:u,fillRule:"evenodd",stroke:d,strokeWidth:h,pointerEvents:"none"})))}t4.displayName="MiniMap";var HK=g.memo(t4);function VK(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}function WK(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},B.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function qK(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},B.createElement("path",{d:"M0 0h32v4.2H0z"}))}function GK(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function KK(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function YK(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ju=({children:e,className:n,...r})=>B.createElement("button",{type:"button",className:Yn(["react-flow__controls-button",n]),...r},e);Ju.displayName="ControlButton";const XK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),n4=({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:l,onInteractiveChange:u,className:d,children:h,position:f="bottom-left"})=>{const m=Dn(),[p,v]=g.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:x}=Qt(XK,VK),{zoomIn:w,zoomOut:S,fitView:k}=Ob();if(g.useEffect(()=>{v(!0)},[]),!p)return null;const C=()=>{w(),i==null||i()},N=()=>{S(),a==null||a()},j=()=>{k(s),l==null||l()},P=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u==null||u(!y)};return B.createElement(jb,{className:Yn(["react-flow__controls",d]),position:f,style:e,"data-testid":"rf__controls"},n&&B.createElement(B.Fragment,null,B.createElement(Ju,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},B.createElement(WK,null)),B.createElement(Ju,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},B.createElement(qK,null))),r&&B.createElement(Ju,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},B.createElement(GK,null)),o&&B.createElement(Ju,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},y?B.createElement(YK,null):B.createElement(KK,null)),h)};n4.displayName="Controls";var QK=g.memo(n4);function JK(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var _o;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(_o||(_o={}));function ZK({color:e,dimensions:n,lineWidth:r}){return B.createElement("path",{stroke:e,strokeWidth:r,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function eY({color:e,radius:n}){return B.createElement("circle",{cx:n,cy:n,r:n,fill:e})}const tY={[_o.Dots]:"#91919a",[_o.Lines]:"#eee",[_o.Cross]:"#e2e2e2"},nY={[_o.Dots]:1,[_o.Lines]:1,[_o.Cross]:6},rY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function r4({id:e,variant:n=_o.Dots,gap:r=20,size:o,lineWidth:s=1,offset:i=2,color:a,style:l,className:u}){const d=g.useRef(null),{transform:h,patternId:f}=Qt(rY,JK),m=a||tY[n],p=o||nY[n],v=n===_o.Dots,y=n===_o.Cross,b=Array.isArray(r)?r:[r,r],x=[b[0]*h[2]||1,b[1]*h[2]||1],w=p*h[2],S=y?[w,w]:x,k=v?[w/i,w/i]:[S[0]/i,S[1]/i];return B.createElement("svg",{className:Yn(["react-flow__background",u]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},B.createElement("pattern",{id:f+e,x:h[0]%x[0],y:h[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},v?B.createElement(eY,{color:m,radius:w/i}):B.createElement(ZK,{dimensions:S,color:m,lineWidth:s})),B.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}r4.displayName="Background";var oY=g.memo(r4);const sY=ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=g.forwardRef(({className:e,variant:n,size:r,asChild:o=!1,...s},i)=>{const a=o?eL:"button";return c.jsx(a,{className:de(sY({variant:n,size:r,className:e})),ref:i,...s})});le.displayName="Button";let iY=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,r)=>(r&=63,r<36?n+=r.toString(36):r<62?n+=(r-26).toString(36).toUpperCase():r>62?n+="-":n+="_",n),"");const cm=kl(e=>({selectedAgentId:null,selectAgent:n=>e({selectedAgentId:n})})),aY={idle:"bg-muted",working:"bg-atlas-success",error:"bg-destructive"};function lY({id:e,data:n,selected:r}){const o=cm(u=>u.selectAgent),s=aY[n.status]??"bg-muted",i=!!n.isTalking,a=n.sourceId??e,l=!!n.isVirtual;return c.jsxs("div",{onClick:()=>o(a),className:`px-6 py-3 rounded-full border flex items-center gap-3 cursor-pointer transition-all hover:shadow-lg hover:shadow-primary/20 min-w-[200px] ${r?"bg-card border-primary shadow-lg shadow-primary/30":"bg-card border-border hover:border-primary/50"} ${i?"ring-2 ring-amber-400 ring-offset-2 ring-offset-background":""} ${l?"opacity-90 backdrop-blur-sm":""}`,children:[c.jsx(xa,{type:"target",position:He.Left,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20"}),c.jsx("div",{className:`w-2 h-2 rounded-full ${s}`}),c.jsx(LE,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{className:"flex flex-col flex-1",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:n.name}),c.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[140px]",children:n.role})]}),i&&c.jsx("span",{className:"text-xs mr-1",children:""}),c.jsx(xa,{type:"source",position:He.Right,className:"!w-3 !h-3 !bg-primary !border-2 !border-primary/20 ml-2"})]})}const Nt=g.forwardRef(({className:e,type:n,...r},o)=>c.jsx("input",{type:n,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...r}));Nt.displayName="Input";var cY="Label",o4=g.forwardRef((e,n)=>c.jsx(Ue.label,{...e,ref:n,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o4.displayName=cY;var s4=o4;const uY=ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),St=g.forwardRef(({className:e,...n},r)=>c.jsx(s4,{ref:r,className:de(uY(),e),...n}));St.displayName=s4.displayName;const zn=g.forwardRef(({className:e,...n},r)=>c.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));zn.displayName="Textarea";function sv(e,[n,r]){return Math.min(r,Math.max(n,e))}function Lb(e){const n=g.useRef({value:e,previous:e});return g.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var dY=[" ","Enter","ArrowUp","ArrowDown"],fY=[" ","Enter"],gl="Select",[gg,xg,hY]=Hm(gl),[du,Tce]=Fr(gl,[hY,lu]),yg=lu(),[pY,Na]=du(gl),[mY,gY]=du(gl),i4=e=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:m,required:p,form:v}=e,y=yg(n),[b,x]=g.useState(null),[w,S]=g.useState(null),[k,C]=g.useState(!1),N=jf(d),[j,P]=Ss({prop:o,defaultProp:s??!1,onChange:i,caller:gl}),[E,_]=Ss({prop:a,defaultProp:l,onChange:u,caller:gl}),I=g.useRef(null),O=b?v||!!b.closest("form"):!0,[U,T]=g.useState(new Set),z=Array.from(U).map(L=>L.props.value).join(";");return c.jsx(Zw,{...y,children:c.jsxs(pY,{required:p,scope:n,trigger:b,onTriggerChange:x,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:Go(),value:E,onValueChange:_,open:j,onOpenChange:P,dir:N,triggerPointerDownPosRef:I,disabled:m,children:[c.jsx(gg.Provider,{scope:n,children:c.jsx(mY,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{T(H=>new Set(H).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{T(H=>{const F=new Set(H);return F.delete(L),F})},[]),children:r})}),O?c.jsxs(A4,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:L=>_(L.target.value),disabled:m,form:v,children:[E===void 0?c.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};i4.displayName=gl;var a4="SelectTrigger",l4=g.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:o=!1,...s}=e,i=yg(r),a=Na(a4,r),l=a.disabled||o,u=ft(n,a.onTriggerChange),d=xg(r),h=g.useRef("touch"),[f,m,p]=M4(y=>{const b=d().filter(S=>!S.disabled),x=b.find(S=>S.value===a.value),w=R4(b,y,x);w!==void 0&&a.onValueChange(w.value)}),v=y=>{l||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(eb,{asChild:!0,...i,children:c.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":P4(a.value)?"":void 0,...s,ref:u,onClick:Ne(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&v(y)}),onPointerDown:Ne(s.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Ne(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&dY.includes(y.key)&&(v(),y.preventDefault())})})})});l4.displayName=a4;var c4="SelectValue",u4=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:s,children:i,placeholder:a="",...l}=e,u=Na(c4,r),{onValueNodeHasChildrenChange:d}=u,h=i!==void 0,f=ft(n,u.onValueNodeChange);return Bn(()=>{d(h)},[d,h]),c.jsx(Ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:P4(u.value)?c.jsx(c.Fragment,{children:a}):i})});u4.displayName=c4;var xY="SelectIcon",d4=g.forwardRef((e,n)=>{const{__scopeSelect:r,children:o,...s}=e;return c.jsx(Ue.span,{"aria-hidden":!0,...s,ref:n,children:o||""})});d4.displayName=xY;var yY="SelectPortal",f4=e=>c.jsx(yf,{asChild:!0,...e});f4.displayName=yY;var xl="SelectContent",h4=g.forwardRef((e,n)=>{const r=Na(xl,e.__scopeSelect),[o,s]=g.useState();if(Bn(()=>{s(new DocumentFragment)},[]),!r.open){const i=o;return i?Sl.createPortal(c.jsx(p4,{scope:e.__scopeSelect,children:c.jsx(gg.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),i):null}return c.jsx(m4,{...e,ref:n})});h4.displayName=xl;var Lo=10,[p4,Ca]=du(xl),vY="SelectContentImpl",wY=ll("SelectContent.RemoveScroll"),m4=g.forwardRef((e,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:y,avoidCollisions:b,...x}=e,w=Na(xl,r),[S,k]=g.useState(null),[C,N]=g.useState(null),j=ft(n,Q=>k(Q)),[P,E]=g.useState(null),[_,I]=g.useState(null),O=xg(r),[U,T]=g.useState(!1),z=g.useRef(!1);g.useEffect(()=>{if(S)return cb(S)},[S]),lb();const L=g.useCallback(Q=>{const[ce,...fe]=O().map(ie=>ie.ref.current),[me]=fe.slice(-1),ke=document.activeElement;for(const ie of Q)if(ie===ke||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===ce&&C&&(C.scrollTop=0),ie===me&&C&&(C.scrollTop=C.scrollHeight),ie==null||ie.focus(),document.activeElement!==ke))return},[O,C]),H=g.useCallback(()=>L([P,S]),[L,P,S]);g.useEffect(()=>{U&&H()},[U,H]);const{onOpenChange:F,triggerPointerDownPosRef:R}=w;g.useEffect(()=>{if(S){let Q={x:0,y:0};const ce=me=>{var ke,ie;Q={x:Math.abs(Math.round(me.pageX)-(((ke=R.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(me.pageY)-(((ie=R.current)==null?void 0:ie.y)??0))}},fe=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():S.contains(me.target)||F(!1),document.removeEventListener("pointermove",ce),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",fe,{capture:!0})}}},[S,F,R]),g.useEffect(()=>{const Q=()=>F(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[F]);const[A,D]=M4(Q=>{const ce=O().filter(ke=>!ke.disabled),fe=ce.find(ke=>ke.ref.current===document.activeElement),me=R4(ce,Q,fe);me&&setTimeout(()=>me.ref.current.focus())}),$=g.useCallback((Q,ce,fe)=>{const me=!z.current&&!fe;(w.value!==void 0&&w.value===ce||me)&&(E(Q),me&&(z.current=!0))},[w.value]),M=g.useCallback(()=>S==null?void 0:S.focus(),[S]),Y=g.useCallback((Q,ce,fe)=>{const me=!z.current&&!fe;(w.value!==void 0&&w.value===ce||me)&&I(Q)},[w.value]),Z=o==="popper"?iv:g4,re=Z===iv?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(p4,{scope:r,content:S,viewport:C,onViewportChange:N,itemRefCallback:$,selectedItem:P,onItemLeave:M,itemTextRefCallback:Y,focusSelectedItem:H,selectedItemText:_,position:o,isPositioned:U,searchRef:A,children:c.jsx(sg,{as:wY,allowPinchZoom:!0,children:c.jsx(ng,{asChild:!0,trapped:w.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ne(s,Q=>{var ce;(ce=w.trigger)==null||ce.focus({preventScroll:!0}),Q.preventDefault()}),children:c.jsx(ru,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(Z,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Q=>Q.preventDefault(),...x,...re,onPlaced:()=>T(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ne(x.onKeyDown,Q=>{const ce=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ce&&Q.key.length===1&&D(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=O().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ke=Q.target,ie=me.indexOf(ke);me=me.slice(ie+1)}setTimeout(()=>L(me)),Q.preventDefault()}})})})})})})});m4.displayName=vY;var bY="SelectItemAlignedPosition",g4=g.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:o,...s}=e,i=Na(xl,r),a=Ca(xl,r),[l,u]=g.useState(null),[d,h]=g.useState(null),f=ft(n,j=>h(j)),m=xg(r),p=g.useRef(!1),v=g.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:w}=a,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&b&&x){const j=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),_=x.getBoundingClientRect();if(i.dir!=="rtl"){const ke=_.left-P.left,ie=E.left-ke,Le=j.left-ie,Ce=j.width+Le,De=Math.max(Ce,P.width),he=window.innerWidth-Lo,je=sv(ie,[Lo,Math.max(Lo,he-De)]);l.style.minWidth=Ce+"px",l.style.left=je+"px"}else{const ke=P.right-_.right,ie=window.innerWidth-E.right-ke,Le=window.innerWidth-j.right-ie,Ce=j.width+Le,De=Math.max(Ce,P.width),he=window.innerWidth-Lo,je=sv(ie,[Lo,Math.max(Lo,he-De)]);l.style.minWidth=Ce+"px",l.style.right=je+"px"}const I=m(),O=window.innerHeight-Lo*2,U=y.scrollHeight,T=window.getComputedStyle(d),z=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),H=parseInt(T.borderBottomWidth,10),F=parseInt(T.paddingBottom,10),R=z+L+U+F+H,A=Math.min(b.offsetHeight*5,R),D=window.getComputedStyle(y),$=parseInt(D.paddingTop,10),M=parseInt(D.paddingBottom,10),Y=j.top+j.height/2-Lo,Z=O-Y,re=b.offsetHeight/2,Q=b.offsetTop+re,ce=z+L+Q,fe=R-ce;if(ce<=Y){const ke=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const ie=d.clientHeight-y.offsetTop-y.offsetHeight,Le=Math.max(Z,re+(ke?M:0)+ie+H),Ce=ce+Le;l.style.height=Ce+"px"}else{const ke=I.length>0&&b===I[0].ref.current;l.style.top="0px";const Le=Math.max(Y,z+y.offsetTop+(ke?$:0)+re)+fe;l.style.height=Le+"px",y.scrollTop=ce-Y+y.offsetTop}l.style.margin=`${Lo}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=O+"px",o==null||o(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,y,b,x,i.dir,o]);Bn(()=>S(),[S]);const[k,C]=g.useState();Bn(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const N=g.useCallback(j=>{j&&v.current===!0&&(S(),w==null||w(),v.current=!1)},[S,w]);return c.jsx(kY,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:c.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:c.jsx(Ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});g4.displayName=bY;var SY="SelectPopperPosition",iv=g.forwardRef((e,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:s=Lo,...i}=e,a=yg(r);return c.jsx(tb,{...a,...i,ref:n,align:o,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iv.displayName=SY;var[kY,$b]=du(xl,{}),av="SelectViewport",x4=g.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:o,...s}=e,i=Ca(av,r),a=$b(av,r),l=ft(n,i.onViewportChange),u=g.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(gg.Slot,{scope:r,children:c.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const p=Math.abs(u.current-h.scrollTop);if(p>0){const v=window.innerHeight-Lo*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(y,b);if(x<v){const w=x+p,S=Math.min(v,w),k=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});x4.displayName=av;var y4="SelectGroup",[NY,CY]=du(y4),jY=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=Go();return c.jsx(NY,{scope:r,id:s,children:c.jsx(Ue.div,{role:"group","aria-labelledby":s,...o,ref:n})})});jY.displayName=y4;var v4="SelectLabel",w4=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=CY(v4,r);return c.jsx(Ue.div,{id:s.id,...o,ref:n})});w4.displayName=v4;var um="SelectItem",[_Y,b4]=du(um),S4=g.forwardRef((e,n)=>{const{__scopeSelect:r,value:o,disabled:s=!1,textValue:i,...a}=e,l=Na(um,r),u=Ca(um,r),d=l.value===o,[h,f]=g.useState(i??""),[m,p]=g.useState(!1),v=ft(n,w=>{var S;return(S=u.itemRefCallback)==null?void 0:S.call(u,w,o,s)}),y=Go(),b=g.useRef("touch"),x=()=>{s||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(_Y,{scope:r,value:o,disabled:s,textId:y,isSelected:d,onItemTextChange:g.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(gg.ItemSlot,{scope:r,value:o,disabled:s,textValue:h,children:c.jsx(Ue.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:Ne(a.onFocus,()=>p(!0)),onBlur:Ne(a.onBlur,()=>p(!1)),onClick:Ne(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Ne(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Ne(a.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:Ne(a.onPointerMove,w=>{var S;b.current=w.pointerType,s?(S=u.onItemLeave)==null||S.call(u):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(a.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=u.onItemLeave)==null||S.call(u))}),onKeyDown:Ne(a.onKeyDown,w=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(fY.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});S4.displayName=um;var Zu="SelectItemText",k4=g.forwardRef((e,n)=>{const{__scopeSelect:r,className:o,style:s,...i}=e,a=Na(Zu,r),l=Ca(Zu,r),u=b4(Zu,r),d=gY(Zu,r),[h,f]=g.useState(null),m=ft(n,x=>f(x),u.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,u.value,u.disabled)}),p=h==null?void 0:h.textContent,v=g.useMemo(()=>c.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=d;return Bn(()=>(y(v),()=>b(v)),[y,b,v]),c.jsxs(c.Fragment,{children:[c.jsx(Ue.span,{id:u.textId,...i,ref:m}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Sl.createPortal(i.children,a.valueNode):null]})});k4.displayName=Zu;var N4="SelectItemIndicator",C4=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return b4(N4,r).isSelected?c.jsx(Ue.span,{"aria-hidden":!0,...o,ref:n}):null});C4.displayName=N4;var lv="SelectScrollUpButton",j4=g.forwardRef((e,n)=>{const r=Ca(lv,e.__scopeSelect),o=$b(lv,e.__scopeSelect),[s,i]=g.useState(!1),a=ft(n,o.onScrollButtonChange);return Bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?c.jsx(E4,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});j4.displayName=lv;var cv="SelectScrollDownButton",_4=g.forwardRef((e,n)=>{const r=Ca(cv,e.__scopeSelect),o=$b(cv,e.__scopeSelect),[s,i]=g.useState(!1),a=ft(n,o.onScrollButtonChange);return Bn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;i(h)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?c.jsx(E4,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});_4.displayName=cv;var E4=g.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:o,...s}=e,i=Ca("SelectScrollButton",r),a=g.useRef(null),l=xg(r),u=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>u(),[u]),Bn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),c.jsx(Ue.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(o,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(o,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{u()})})}),EY="SelectSeparator",T4=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e;return c.jsx(Ue.div,{"aria-hidden":!0,...o,ref:n})});T4.displayName=EY;var uv="SelectArrow",TY=g.forwardRef((e,n)=>{const{__scopeSelect:r,...o}=e,s=yg(r),i=Na(uv,r),a=Ca(uv,r);return i.open&&a.position==="popper"?c.jsx(nb,{...s,...o,ref:n}):null});TY.displayName=uv;var AY="SelectBubbleInput",A4=g.forwardRef(({__scopeSelect:e,value:n,...r},o)=>{const s=g.useRef(null),i=ft(o,s),a=Lb(n);return g.useEffect(()=>{const l=s.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[a,n]),c.jsx(Ue.select,{...r,style:{...hE,...r.style},ref:i,defaultValue:n})});A4.displayName=AY;function P4(e){return e===""||e===void 0}function M4(e){const n=Nn(e),r=g.useRef(""),o=g.useRef(0),s=g.useCallback(a=>{const l=r.current+a;n(l),function u(d){r.current=d,window.clearTimeout(o.current),d!==""&&(o.current=window.setTimeout(()=>u(""),1e3))}(l)},[n]),i=g.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,s,i]}function R4(e,n,r){const s=n.length>1&&Array.from(n).every(d=>d===n[0])?n[0]:n,i=r?e.indexOf(r):-1;let a=PY(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==r));const u=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==r?u:void 0}function PY(e,n){return e.map((r,o)=>e[(n+o)%e.length])}var MY=i4,I4=l4,RY=u4,IY=d4,OY=f4,O4=h4,DY=x4,D4=w4,L4=S4,LY=k4,$Y=C4,$4=j4,z4=_4,F4=T4;const ya=MY,va=RY,ai=g.forwardRef(({className:e,children:n,...r},o)=>c.jsxs(I4,{ref:o,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,c.jsx(IY,{asChild:!0,children:c.jsx(Xs,{className:"h-4 w-4 opacity-50"})})]}));ai.displayName=I4.displayName;const U4=g.forwardRef(({className:e,...n},r)=>c.jsx($4,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(UE,{className:"h-4 w-4"})}));U4.displayName=$4.displayName;const B4=g.forwardRef(({className:e,...n},r)=>c.jsx(z4,{ref:r,className:de("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(Xs,{className:"h-4 w-4"})}));B4.displayName=z4.displayName;const li=g.forwardRef(({className:e,children:n,position:r="popper",...o},s)=>c.jsx(OY,{children:c.jsxs(O4,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[c.jsx(U4,{}),c.jsx(DY,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),c.jsx(B4,{})]})}));li.displayName=O4.displayName;const zY=g.forwardRef(({className:e,...n},r)=>c.jsx(D4,{ref:r,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));zY.displayName=D4.displayName;const sn=g.forwardRef(({className:e,children:n,...r},o)=>c.jsxs(L4,{ref:o,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx($Y,{children:c.jsx(qm,{className:"h-4 w-4"})})}),c.jsx(LY,{children:n})]}));sn.displayName=L4.displayName;const FY=g.forwardRef(({className:e,...n},r)=>c.jsx(F4,{ref:r,className:de("-mx-1 my-1 h-px bg-muted",e),...n}));FY.displayName=F4.displayName;var UY="Separator",H2="horizontal",BY=["horizontal","vertical"],H4=g.forwardRef((e,n)=>{const{decorative:r,orientation:o=H2,...s}=e,i=HY(o)?o:H2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Ue.div,{"data-orientation":i,...l,...s,ref:n})});H4.displayName=UY;function HY(e){return BY.includes(e)}var V4=H4;const If=g.forwardRef(({className:e,orientation:n="horizontal",decorative:r=!0,...o},s)=>c.jsx(V4,{ref:s,decorative:r,orientation:n,className:de("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));If.displayName=V4.displayName;var vg="Switch",[VY,Ace]=Fr(vg),[WY,qY]=VY(vg),W4=g.forwardRef((e,n)=>{const{__scopeSwitch:r,name:o,checked:s,defaultChecked:i,required:a,disabled:l,value:u="on",onCheckedChange:d,form:h,...f}=e,[m,p]=g.useState(null),v=ft(n,S=>p(S)),y=g.useRef(!1),b=m?h||!!m.closest("form"):!0,[x,w]=Ss({prop:s,defaultProp:i??!1,onChange:d,caller:vg});return c.jsxs(WY,{scope:r,checked:x,disabled:l,children:[c.jsx(Ue.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":Y4(x),"data-disabled":l?"":void 0,disabled:l,value:u,...f,ref:v,onClick:Ne(e.onClick,S=>{w(k=>!k),b&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),b&&c.jsx(K4,{control:m,bubbles:!y.current,name:o,value:u,checked:x,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});W4.displayName=vg;var q4="SwitchThumb",G4=g.forwardRef((e,n)=>{const{__scopeSwitch:r,...o}=e,s=qY(q4,r);return c.jsx(Ue.span,{"data-state":Y4(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:n})});G4.displayName=q4;var GY="SwitchBubbleInput",K4=g.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:o=!0,...s},i)=>{const a=g.useRef(null),l=ft(a,i),u=Lb(r),d=Xw(n);return g.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==r&&p){const v=new Event("click",{bubbles:o});p.call(h,r),h.dispatchEvent(v)}},[u,r,o]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});K4.displayName=GY;function Y4(e){return e?"checked":"unchecked"}var X4=W4,KY=G4;const ci=g.forwardRef(({className:e,...n},r)=>c.jsx(X4,{className:de("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...n,ref:r,children:c.jsx(KY,{className:de("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ci.displayName=X4.displayName;const YY="flex flex-col gap-2";function XY({description:e,tooltip:n,secure:r}){return!e&&!n&&!r?null:c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-500/10 px-2 py-0.5 text-amber-200",children:[c.jsx(p$,{className:"h-3 w-3"}),"Secret"]}),e&&c.jsx("span",{children:e}),n&&c.jsxs(OF,{children:[c.jsx(DF,{asChild:!0,children:c.jsx(GE,{className:"h-3.5 w-3.5 cursor-help"})}),c.jsx(zT,{side:"top",children:n})]})]})}function Q4({schema:e,values:n,defaults:r,disabled:o,onChange:s}){const i=g.useMemo(()=>({...r,...n}),[r,n]),a=(l,u)=>{const d={...i,[l]:u};s(d)};return e.length?c.jsx("div",{className:"flex flex-col gap-4",children:e.map(l=>{const u=i[l.key],d=l.placeholder??(l.required?"Required":"Optional");return c.jsxs("div",{className:YY,children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(St,{className:"text-sm font-medium text-foreground",htmlFor:`config-${l.key}`,children:[l.label,l.required&&c.jsx("span",{className:"ml-1 text-red-400",children:"*"})]})}),(()=>{switch(l.type){case"textarea":return c.jsx(zn,{id:`config-${l.key}`,value:typeof u=="string"?u:"",onChange:h=>a(l.key,h.target.value),placeholder:d,disabled:o,className:"resize-none"});case"boolean":return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ci,{id:`config-${l.key}`,checked:!!u,onCheckedChange:h=>a(l.key,h),disabled:o}),c.jsx(St,{htmlFor:`config-${l.key}`,className:"text-sm text-muted-foreground",children:d})]});case"select":return c.jsxs(ya,{value:typeof u=="string"?u:void 0,onValueChange:h=>a(l.key,h),disabled:o,children:[c.jsx(ai,{id:`config-${l.key}`,children:c.jsx(va,{placeholder:d})}),c.jsx(li,{children:(l.options??[]).map(h=>c.jsx(sn,{value:h,children:h},h))})]});case"number":return c.jsx(Nt,{id:`config-${l.key}`,type:"number",value:typeof u=="number"?u:u??"",onChange:h=>a(l.key,Number(h.target.value)),placeholder:d,disabled:o});case"password":return c.jsx(Nt,{id:`config-${l.key}`,type:"password",value:typeof u=="string"?u:"",onChange:h=>a(l.key,h.target.value),placeholder:d,disabled:o});case"string":default:return c.jsx(Nt,{id:`config-${l.key}`,type:"text",value:typeof u=="string"?u:u??"",onChange:h=>a(l.key,h.target.value),placeholder:d,disabled:o})}})(),XY({description:l.description,tooltip:l.tooltip,secure:l.secure})]},l.key)})}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional configuration is required."})}const QY=["idle","working","error"];function JY({agent:e,onUpdate:n,onDelete:r,isSaving:o,isDeleting:s}){const i=cm(he=>he.selectAgent),a=(e==null?void 0:e.id)??"agent",[l,u]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(""),[p,v]=g.useState(""),[y,b]=g.useState("idle"),[x,w]=g.useState(!1),[S,k]=g.useState(null),[C,N]=g.useState(!1),[j,P]=g.useState(!1),[E,_]=g.useState([]),[I,O]=g.useState({}),[U,T]=g.useState(""),[z,L]=g.useState(""),[H,F]=g.useState(!1),[R,A]=g.useState(null),[D,$]=g.useState(null),[M,Y]=g.useState(!1),{toast:Z}=xf();g.useEffect(()=>{var je,se,Ve,et;if(!e){u(""),h(""),m(""),v(""),b("idle"),k(null);return}u(e.name),h(e.role);const he=Array.isArray(e.objectives)?e.objectives:typeof e.objectives=="string"?[e.objectives]:[];m(he.join(`
`)),v(e.memory_context??""),b(e.status??"idle"),w(!!e.internet_access_enabled),k(null),_(((je=e.config)==null?void 0:je.schema)??[]),O(((se=e.config)==null?void 0:se.values)??{}),T(((Ve=e.config)==null?void 0:Ve.agentType)??e.agent_type??e.role),L(((et=e.config)==null?void 0:et.summary)??e.config_summary??""),A(null),$(null)},[e]);const{data:re,isFetching:Q}=Ko({queryKey:["agents",e==null?void 0:e.id,"memory"],queryFn:()=>Ye.getAgentMemory(e.id,10),enabled:!!(e!=null&&e.id),refetchInterval:3e4}),{data:ce,isFetching:fe,refetch:me}=Ko({queryKey:["agent-config",e==null?void 0:e.id],queryFn:()=>Ye.fetchAgentConfig(e.id),enabled:!!(e!=null&&e.id),staleTime:6e4});g.useEffect(()=>{ce&&(_(ce.configSchema??[]),O(ce.values??{}),T(ce.agentType??(e==null?void 0:e.agent_type)??(e==null?void 0:e.role)??""),L(ce.description??(e==null?void 0:e.config_summary)??""),A(null),$(null))},[ce,e==null?void 0:e.agent_type,e==null?void 0:e.config_summary,e==null?void 0:e.role]);const ke=g.useMemo(()=>e!=null&&e.tools?Object.entries(e.tools).filter(([he,je])=>!!he&&!!je).map(([he])=>he):[],[e]),ie=async()=>{if(e){N(!0),k(null);try{const he=f.split(/\n/).map(je=>je.trim()).filter(Boolean);await n(e.id,{name:l.trim(),role:d.trim(),objectives:he,memory_context:p.trim(),status:y,internet_access_enabled:x})}catch(he){k(he instanceof Error?he.message:"Failed to update agent")}finally{N(!1)}}},Le=async()=>{if(e){P(!0),k(null);try{await r(e.id),i(null)}catch(he){k(he instanceof Error?he.message:"Failed to delete agent")}finally{P(!1)}}},Ce=async()=>{if(!(!e||E.length===0)){F(!0),A(null),$(null);try{await Ye.updateAgentConfig(e.id,{agentType:U||e.agent_type||e.role,summary:z||e.config_summary||e.role,schema:E,values:I}),A("Configuration saved"),Z({title:"Configuration updated",description:`${e.name} can now use its tools.`}),await me()}catch(he){const je=he instanceof Error?he.message:"Failed to update configuration";$(je),Z({title:"Configuration error",description:je,variant:"destructive"})}finally{F(!1)}}},De=async()=>{if(e){Y(!0),$(null),A(null);try{const he=await Ye.generateAgentConfig(e.role||e.name,{existingAgents:[],preferredTools:Object.keys(e.tools??{})});_(he.configSchema??[]),O(he.defaults??{}),T(he.agentType??e.agent_type??e.role),L(he.description??e.config_summary??"")}catch(he){const je=he instanceof Error?he.message:"Failed to infer configuration";$(je),Z({title:"Could not infer config",description:je,variant:"destructive"})}finally{Y(!1)}}};return e?c.jsxs("div",{className:"w-[380px] h-full bg-card border-l border-border flex flex-col",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:e.name}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Manage sandbox access, goals, and routing."})]}),c.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Le,disabled:j||s,children:j||s?c.jsx(On,{className:"h-4 w-4 animate-spin"}):c.jsx(Sf,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:`field-${a}-name`,children:"Name"}),c.jsx(Nt,{id:`field-${a}-name`,value:l,onChange:he=>u(he.target.value),className:"bg-background border-border"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:`field-${a}-role`,children:"Instructions"}),c.jsx(zn,{id:`field-${a}-role`,value:d,onChange:he=>h(he.target.value),className:"bg-background border-border min-h-[120px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(St,{htmlFor:`field-${a}-status`,children:"Status"})}),c.jsxs(ya,{value:y,onValueChange:he=>b(he),children:[c.jsx(ai,{id:`field-${a}-status`,className:"bg-background border-border",children:c.jsx(va,{})}),c.jsx(li,{className:"bg-popover border-border",children:QY.map(he=>c.jsx(sn,{value:he,className:"capitalize",children:he},he))})]})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/60 bg-muted/10 p-3",children:[c.jsxs("div",{children:[c.jsx(St,{className:"text-sm",htmlFor:`field-${a}-internet`,children:"Autonomous internet access"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Toggle to allow this agent to call the sandboxed internet module. Disabled by default."})]}),c.jsx(ci,{id:`field-${a}-internet`,checked:x,onCheckedChange:w})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:`field-${a}-objectives`,children:"Objectives"}),c.jsx(zn,{id:`field-${a}-objectives`,placeholder:"One per line",value:f,onChange:he=>m(he.target.value),className:"bg-background border-border min-h-[120px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:`field-${a}-memory`,children:"Memory context"}),c.jsx(zn,{id:`field-${a}-memory`,placeholder:"Persistent context shared with the sandbox",value:p,onChange:he=>v(he.target.value),className:"bg-background border-border min-h-[100px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"Tools"}),ke.length===0?c.jsx("p",{className:"text-xs text-muted-foreground",children:"No tools configured"}):c.jsx("div",{className:"flex flex-wrap gap-2",children:ke.map(he=>c.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground",children:he},he))})]}),c.jsxs("div",{className:"space-y-3 rounded-lg border border-border/60 bg-muted/10 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(St,{className:"text-sm",htmlFor:`field-${a}-tool-config`,children:"Tool configuration"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Store sandbox credentials securely per agent."})]}),(fe||M)&&c.jsx(On,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),D&&c.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[c.jsx(zd,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:D})]}),E.length===0?c.jsx(le,{variant:"outline",onClick:De,disabled:M,className:"w-full",children:M?"Detecting configuration...":"Detect configuration fields"}):c.jsxs("div",{className:"space-y-3",children:[c.jsx(Q4,{schema:E,values:I,onChange:he=>{O(he),A(null)},defaults:void 0,disabled:H}),c.jsxs("div",{className:"flex items-center justify-between",children:[R&&c.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[c.jsx(Dw,{className:"h-3.5 w-3.5"}),R]}),c.jsx(le,{onClick:Ce,disabled:H,children:H?"Saving...":"Save configuration"})]})]})]}),c.jsx(If,{}),c.jsxs("div",{className:"space-y-2",id:`field-${a}-recent-memory`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(St,{children:"Recent memory"}),Q&&c.jsx(On,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),c.jsxs("div",{className:"space-y-3",children:[((re==null?void 0:re.items)??[]).slice(0,5).map(he=>{var ht;const je=((ht=he.metadata)==null?void 0:ht.retention)??{},se=typeof je.reason=="string"?je.reason:null,Ve=he.memory_type==="short_term"?typeof je.expiresAt=="string"?je.expiresAt:he.expires_at:null,et=Ve?new Date(Ve):null,nt=he.memory_type==="short_term"?"bg-sky-500/15 text-sky-300 border border-sky-500/40":"bg-emerald-500/15 text-emerald-300 border border-emerald-500/30";return c.jsxs("div",{className:"rounded-lg border border-border/60 bg-muted/20 p-3 space-y-2",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsx("p",{className:"text-xs text-foreground line-clamp-3",children:he.content}),c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full whitespace-nowrap ${nt}`,children:he.memory_type==="short_term"?"STM":"LTM"})]}),c.jsxs("div",{className:"flex flex-col gap-1 text-[10px] text-muted-foreground",children:[c.jsx("span",{children:he.memory_type==="short_term"?et?`Expires ${et.toLocaleString()}`:"Short-term context":`Captured ${new Date(he.created_at).toLocaleString()}`}),se&&c.jsxs("span",{className:"italic",children:["Reason: ",se]})]})]},he.id)}),(!re||re.items.length===0)&&!Q&&c.jsx("p",{className:"text-xs text-muted-foreground",children:"No memory captured yet."})]})]}),c.jsxs("div",{className:"space-y-2",id:`field-${a}-task-summary`,children:[c.jsx(St,{children:"Task summary"}),c.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries((re==null?void 0:re.taskCounts)??{}).map(([he,je])=>c.jsxs("div",{className:"rounded border border-border/60 bg-muted/10 p-2 text-center",children:[c.jsx("p",{className:"font-semibold text-foreground",children:je}),c.jsx("p",{className:"text-muted-foreground capitalize",children:he})]},he))})]}),S&&c.jsx("p",{className:"text-xs text-destructive",children:S})]}),c.jsx("div",{className:"border-t border-border/60 p-4",children:c.jsx(le,{onClick:ie,disabled:C||o,className:"w-full",children:C||o?"Saving...":"Save changes"})})]}):null}var wg="Dialog",[J4,Pce]=Fr(wg),[ZY,es]=J4(wg),Z4=e=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=g.useRef(null),u=g.useRef(null),[d,h]=Ss({prop:o,defaultProp:s??!1,onChange:i,caller:wg});return c.jsx(ZY,{scope:n,triggerRef:l,contentRef:u,contentId:Go(),titleId:Go(),descriptionId:Go(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:a,children:r})};Z4.displayName=wg;var eM="DialogTrigger",tM=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=es(eM,r),i=ft(n,s.triggerRef);return c.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ub(s.open),...o,ref:i,onClick:Ne(e.onClick,s.onOpenToggle)})});tM.displayName=eM;var zb="DialogPortal",[eX,nM]=J4(zb,{forceMount:void 0}),rM=e=>{const{__scopeDialog:n,forceMount:r,children:o,container:s}=e,i=es(zb,n);return c.jsx(eX,{scope:n,forceMount:r,children:g.Children.map(o,a=>c.jsx(ar,{present:r||i.open,children:c.jsx(yf,{asChild:!0,container:s,children:a})}))})};rM.displayName=zb;var dm="DialogOverlay",oM=g.forwardRef((e,n)=>{const r=nM(dm,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,i=es(dm,e.__scopeDialog);return i.modal?c.jsx(ar,{present:o||i.open,children:c.jsx(nX,{...s,ref:n})}):null});oM.displayName=dm;var tX=ll("DialogOverlay.RemoveScroll"),nX=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=es(dm,r);return c.jsx(sg,{as:tX,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Ue.div,{"data-state":Ub(s.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),yl="DialogContent",sM=g.forwardRef((e,n)=>{const r=nM(yl,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,i=es(yl,e.__scopeDialog);return c.jsx(ar,{present:o||i.open,children:i.modal?c.jsx(rX,{...s,ref:n}):c.jsx(oX,{...s,ref:n})})});sM.displayName=yl;var rX=g.forwardRef((e,n)=>{const r=es(yl,e.__scopeDialog),o=g.useRef(null),s=ft(n,r.contentRef,o);return g.useEffect(()=>{const i=o.current;if(i)return cb(i)},[]),c.jsx(iM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),oX=g.forwardRef((e,n)=>{const r=es(yl,e.__scopeDialog),o=g.useRef(!1),s=g.useRef(!1);return c.jsx(iM,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(o.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),iM=g.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=es(yl,r),u=g.useRef(null),d=ft(n,u);return lb(),c.jsxs(c.Fragment,{children:[c.jsx(ng,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ru,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ub(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(sX,{titleId:l.titleId}),c.jsx(aX,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Fb="DialogTitle",aM=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=es(Fb,r);return c.jsx(Ue.h2,{id:s.titleId,...o,ref:n})});aM.displayName=Fb;var lM="DialogDescription",cM=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=es(lM,r);return c.jsx(Ue.p,{id:s.descriptionId,...o,ref:n})});cM.displayName=lM;var uM="DialogClose",dM=g.forwardRef((e,n)=>{const{__scopeDialog:r,...o}=e,s=es(uM,r);return c.jsx(Ue.button,{type:"button",...o,ref:n,onClick:Ne(e.onClick,()=>s.onOpenChange(!1))})});dM.displayName=uM;function Ub(e){return e?"open":"closed"}var fM="DialogTitleWarning",[Mce,hM]=JD(fM,{contentName:yl,titleName:Fb,docsSlug:"dialog"}),sX=({titleId:e})=>{const n=hM(fM),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iX="DialogDescriptionWarning",aX=({contentRef:e,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hM(iX).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");n&&s&&(document.getElementById(n)||console.warn(o))},[o,e,n]),null},pM=Z4,lX=tM,mM=rM,bg=oM,Sg=sM,kg=aM,Ng=cM,Bb=dM;const cX=pM,uX=mM,gM=g.forwardRef(({className:e,...n},r)=>c.jsx(bg,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));gM.displayName=bg.displayName;const dX=ou("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xM=g.forwardRef(({side:e="right",className:n,children:r,overlayClassName:o,overlayProps:s,...i},a)=>c.jsxs(uX,{children:[c.jsx(gM,{...s??{},className:de(o,s==null?void 0:s.className)}),c.jsxs(Sg,{ref:a,className:de(dX({side:e}),n),...i,children:[r,c.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ul,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xM.displayName=Sg.displayName;const yM=({className:e,...n})=>c.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...n});yM.displayName="SheetHeader";const vM=g.forwardRef(({className:e,...n},r)=>c.jsx(kg,{ref:r,className:de("text-lg font-semibold text-foreground",e),...n}));vM.displayName=kg.displayName;const wM=g.forwardRef(({className:e,...n},r)=>c.jsx(Ng,{ref:r,className:de("text-sm text-muted-foreground",e),...n}));wM.displayName=Ng.displayName;var Cg="Tabs",[fX,Rce]=Fr(Cg,[rg]),bM=rg(),[hX,Hb]=fX(Cg),SM=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:u="automatic",...d}=e,h=jf(l),[f,m]=Ss({prop:o,onChange:s,defaultProp:i??"",caller:Cg});return c.jsx(hX,{scope:r,baseId:Go(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:u,children:c.jsx(Ue.div,{dir:h,"data-orientation":a,...d,ref:n})})});SM.displayName=Cg;var kM="TabsList",NM=g.forwardRef((e,n)=>{const{__scopeTabs:r,loop:o=!0,...s}=e,i=Hb(kM,r),a=bM(r);return c.jsx(jA,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:o,children:c.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:n})})});NM.displayName=kM;var CM="TabsTrigger",jM=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,disabled:s=!1,...i}=e,a=Hb(CM,r),l=bM(r),u=TM(a.baseId,o),d=AM(a.baseId,o),h=o===a.value;return c.jsx(_A,{asChild:!0,...l,focusable:!s,active:h,children:c.jsx(Ue.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:n,onMouseDown:Ne(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(o):f.preventDefault()}),onKeyDown:Ne(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(o)}),onFocus:Ne(e.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(o)})})})});jM.displayName=CM;var _M="TabsContent",EM=g.forwardRef((e,n)=>{const{__scopeTabs:r,value:o,forceMount:s,children:i,...a}=e,l=Hb(_M,r),u=TM(l.baseId,o),d=AM(l.baseId,o),h=o===l.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),c.jsx(ar,{present:s||h,children:({present:m})=>c.jsx(Ue.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:d,tabIndex:0,...a,ref:n,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});EM.displayName=_M;function TM(e,n){return`${e}-trigger-${n}`}function AM(e,n){return`${e}-content-${n}`}var pX=SM,PM=NM,MM=jM,RM=EM;const jg=pX,Of=g.forwardRef(({className:e,...n},r)=>c.jsx(PM,{ref:r,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));Of.displayName=PM.displayName;const Zr=g.forwardRef(({className:e,...n},r)=>c.jsx(MM,{ref:r,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...n}));Zr.displayName=MM.displayName;const eo=g.forwardRef(({className:e,...n},r)=>c.jsx(RM,{ref:r,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));eo.displayName=RM.displayName;const mX=ou("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wt({className:e,variant:n,...r}){return c.jsx("div",{className:de(mX({variant:n}),e),...r})}function gX({open:e,onOpenChange:n,onCreateManual:r,onGenerateFromPrompt:o}){var je;const[s,i]=g.useState("natural"),[a,l]=g.useState(""),[u,d]=g.useState("Generalist Agent"),[h,f]=g.useState(""),[m,p]=g.useState(""),[v,y]=g.useState(""),[b,x]=g.useState(!1),[w,S]=g.useState(!1),[k,C]=g.useState(null),[N,j]=g.useState(""),[P,E]=g.useState(!1),[_,I]=g.useState(!1),[O,U]=g.useState(null),[T,z]=g.useState(null),[L,H]=g.useState(null),[F,R]=g.useState({}),[A,D]=g.useState(!1),[$,M]=g.useState(!1),[Y,Z]=g.useState(null),[re,Q]=g.useState(!1),{toast:ce}=xf(),fe=Nf(),me=()=>{l(""),d("Generalist Agent"),f(""),p(""),y(""),x(!1),S(!1),C(null),j(""),E(!1),I(!1),U(null),z(null),H(null),R({}),D(!1),M(!1),Z(null),Q(!1),i("natural")},ke=se=>{se||me(),n(se)},ie=async()=>{if(!a.trim()){C("Name is required");return}C(null),S(!0);try{const se=m.split(/[,\n]/).map(et=>et.trim()).filter(Boolean).reduce((et,nt)=>(et[nt]=!0,et),{}),Ve=h.split(/\n/).map(et=>et.trim()).filter(Boolean);await r({name:a.trim(),role:u.trim()||"Generalist Agent",tools:se,objectives:Ve,memory_context:v.trim()||void 0,internet_access_enabled:b}),me(),n(!1)}catch(se){C(se instanceof Error?se.message:"Failed to create agent")}finally{S(!1)}},Le=async()=>{var se,Ve;if(!N.trim()){U("Describe the agent you want to build");return}U(null),H(null),R({}),Z(null),Q(!1),I(!0),D(!0);try{const et=N.trim(),nt=await o(et,{persist:!0,spawn:P||void 0,creator:"atlas-ui"});z(nt);try{const ht=await Ye.generateAgentConfig(et);H(ht);const Tt=ht.defaults??{},Re=((Ve=(se=nt.savedAgent)==null?void 0:se.config)==null?void 0:Ve.values)??{};R({...Tt,...Re})}catch(ht){const Tt=ht instanceof Error?ht.message:"Failed to infer configuration";H(null),Z(Tt)}}catch(et){z(null);const nt=et instanceof Error?et.message:"Failed to generate agent";U(nt),Z(nt)}finally{I(!1),D(!1)}},Ce=async()=>{var se;if(!L||L.configSchema.length===0){ce({title:"No configuration to save",description:"Generate a configuration schema first."});return}Z(null),M(!0),Q(!1);try{const Ve={agentType:L.agentType,summary:L.description,schema:L.configSchema,values:F};let et=((se=T==null?void 0:T.savedAgent)==null?void 0:se.id)??null;if(et)await Ye.updateAgent(et,{config:Ve});else{const nt=T==null?void 0:T.spec,ht=await Ye.createAgent({name:(nt==null?void 0:nt.name)??"Generated Agent",role:(nt==null?void 0:nt.description)??"Autonomous Agent",tools:{},objectives:(nt==null?void 0:nt.goals)??[],memory_context:(nt==null?void 0:nt.description)??"",internet_access_enabled:!1,config:Ve});et=ht.id,z(Tt=>Tt&&{...Tt,savedAgent:ht})}Q(!0),ce({title:"Configuration saved",description:"Credentials stored for this agent."}),fe.invalidateQueries({queryKey:["agents"]})}catch(Ve){const et=Ve instanceof Error?Ve.message:"Failed to save configuration";Z(et),ce({title:"Configuration error",description:et,variant:"destructive"})}finally{M(!1)}},De=T==null?void 0:T.spec.securityProfile,he=g.useMemo(()=>De?[{label:"Sandbox",value:De.sandbox?"Enabled":"Disabled",highlight:De.sandbox},{label:"Internet",value:De.network.allowInternet?`Allowed (${De.network.domainsAllowed.join(", ")||"all domains"})`:"Disabled",highlight:De.network.allowInternet},{label:"Filesystem",value:`Read ${De.filesystem.read.join(", ")||"none"}  Write ${De.filesystem.write.join(", ")||"none"}`},{label:"Permissions",value:De.permissions.join(", ")||"None"},{label:"Timeout",value:`${De.executionTimeout}s`}]:null,[De]);return c.jsx(cX,{open:e,onOpenChange:ke,children:c.jsxs(xM,{side:"right",className:"w-[520px] sm:w-[540px] overflow-y-auto",overlayProps:{onClick:()=>ke(!1)},children:[c.jsxs(yM,{className:"space-y-2",children:[c.jsx(vM,{children:"Create a new agent"}),c.jsx(wM,{children:"Generate a secure agent from natural language or configure one manually with full sandbox controls."})]}),c.jsxs(jg,{value:s,onValueChange:se=>i(se),className:"mt-6",children:[c.jsxs(Of,{className:"grid grid-cols-2",children:[c.jsx(Zr,{value:"natural",children:"Natural language"}),c.jsx(Zr,{value:"manual",children:"Manual setup"})]}),c.jsxs(eo,{value:"natural",className:"mt-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"prompt",children:"Describe your agent"}),c.jsx(zn,{id:"prompt",placeholder:"Create an agent that monitors tech news every morning and emails me a summary",value:N,onChange:se=>j(se.target.value),className:"h-32 resize-none"}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ci,{id:"spawn-now",checked:P,onCheckedChange:E}),c.jsx(St,{htmlFor:"spawn-now",children:"Launch sandbox after creation"})]}),c.jsxs("span",{children:[N.trim().length," characters"]})]})]}),O&&c.jsx("p",{className:"text-xs text-destructive",children:O}),c.jsx(le,{onClick:Le,disabled:_,className:"w-full",children:_?"Generating...":"Generate agent"}),A&&c.jsx("p",{className:"text-xs text-muted-foreground",children:"Inferring required configuration"}),Y&&!A&&!L&&c.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[c.jsx(zd,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:Y})]}),L&&c.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Tool configuration"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide credentials and defaults so the agent can act autonomously."})]}),Y&&c.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/40 bg-destructive/10 p-3 text-xs text-destructive",children:[c.jsx(zd,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:Y})]}),c.jsx(Q4,{schema:L.configSchema,values:F,defaults:L.defaults,disabled:$,onChange:se=>{R(se),Q(!1)}}),c.jsxs("div",{className:"flex items-center justify-between",children:[re&&c.jsxs("span",{className:"inline-flex items-center gap-2 text-xs text-atlas-success",children:[c.jsx(Dw,{className:"h-3.5 w-3.5"}),"Saved"]}),c.jsx(le,{onClick:Ce,disabled:$,className:"ml-auto",children:$?"Saving...":"Save configuration"})]})]}),T&&c.jsxs("div",{className:"space-y-4 rounded-xl border border-border bg-muted/20 p-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-foreground",children:T.spec.name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Model: ",T.spec.model]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.spec.description})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Goals"}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:T.spec.goals.map(se=>c.jsx(Wt,{variant:"secondary",className:"text-[11px]",children:se},se))})]}),he&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Security profile"}),c.jsx("div",{className:"mt-2 space-y-2 text-xs",children:he.map(se=>c.jsxs("div",{className:"flex justify-between gap-4",children:[c.jsx("span",{className:"text-muted-foreground",children:se.label}),c.jsx("span",{className:se.highlight?"text-atlas-success":"text-foreground",children:se.value})]},se.label))})]})]}),c.jsx(If,{}),c.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[c.jsxs("p",{children:["Sandbox ID: ",T.spawnResult?T.spawnResult.sandboxId??"pending":"not launched"]}),Array.isArray((je=T.spawnResult)==null?void 0:je.logs)&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"font-medium text-foreground",children:"Launch log"}),c.jsx("ul",{className:"space-y-0.5",children:T.spawnResult.logs.map(se=>c.jsx("li",{children:se.message},`${se.timestamp}-${se.message}`))})]})]}),c.jsx(le,{variant:"secondary",onClick:()=>n(!1),className:"w-full",children:"Done"})]})]}),c.jsxs(eo,{value:"manual",className:"mt-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"name",children:"Agent name"}),c.jsx(Nt,{id:"name",value:a,onChange:se=>l(se.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"role",children:"Role & instructions"}),c.jsx(zn,{id:"role",value:u,onChange:se=>d(se.target.value),className:"min-h-[100px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"objectives",children:"Objectives"}),c.jsx(zn,{id:"objectives",placeholder:"One objective per line",value:h,onChange:se=>f(se.target.value),className:"min-h-[100px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"tools",children:"Tools (comma separated)"}),c.jsx(zn,{id:"tools",placeholder:"Slack, Notion, CRM",value:m,onChange:se=>p(se.target.value),className:"min-h-[80px]"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"memory",children:"Memory context"}),c.jsx(zn,{id:"memory",placeholder:"Provide any default context or shared state",value:v,onChange:se=>y(se.target.value),className:"min-h-[80px]"})]}),c.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-border/60 bg-muted/10 p-4",children:[c.jsxs("div",{className:"space-y-1 pr-4",children:[c.jsx(St,{className:"text-sm font-semibold",children:"Autonomous internet access"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disabled by default. Enable to allow browsing, summarization, and citations via the secure proxy."})]}),c.jsx(ci,{checked:b,onCheckedChange:x})]}),k&&c.jsx("p",{className:"text-xs text-destructive",children:k}),c.jsx(le,{onClick:ie,disabled:w,className:"w-full",children:w?"Creating...":"Create agent"})]})]})]})})}const md=kl(e=>({agents:{},links:{},lastMessage:void 0,updateGraph:n=>e(()=>({agents:Object.fromEntries(n.agents.map(r=>[r.id,r])),links:Object.fromEntries(n.links.map(r=>[r.id,r]))})),updateState:n=>e(r=>{const o=r.agents[n.agentId],s={...r.agents};o&&typeof n.isTalking=="boolean"&&(s[n.agentId]={...o,isTalking:n.isTalking});const i={...r.links};if(n.linkActivity){const a=`${n.agentId}::${n.linkActivity.targetId}`,l=i[a]??{id:a,source:n.agentId,target:n.linkActivity.targetId,isActive:!1};i[a]={...l,isActive:n.linkActivity.isActive,lastMessageId:n.linkActivity.messageId??l.lastMessageId}}return{agents:s,links:i,lastMessage:n.message??r.lastMessage}}),pushMessage:n=>e(()=>({lastMessage:n})),clear:()=>e({agents:{},links:{},lastMessage:void 0})}));function xX(e){return JSON.parse(JSON.stringify(e))}const Yx=kl(e=>({pipeline:null,sessionId:null,setPipeline:(n,r)=>e({pipeline:xX(n),sessionId:r??null}),clear:()=>e({pipeline:null,sessionId:null})})),ui=pM,yX=lX,vX=mM,wX=Bb,IM=g.forwardRef(({className:e,...n},r)=>c.jsx(bg,{ref:r,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));IM.displayName=bg.displayName;const Ns=g.forwardRef(({className:e,children:n,...r},o)=>c.jsxs(vX,{children:[c.jsx(IM,{}),c.jsxs(Sg,{ref:o,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,c.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ul,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ns.displayName=Sg.displayName;const di=({className:e,...n})=>c.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});di.displayName="DialogHeader";const Vb=({className:e,...n})=>c.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Vb.displayName="DialogFooter";const fi=g.forwardRef(({className:e,...n},r)=>c.jsx(kg,{ref:r,className:de("text-lg font-semibold leading-none tracking-tight",e),...n}));fi.displayName=kg.displayName;const _g=g.forwardRef(({className:e,...n},r)=>c.jsx(Ng,{ref:r,className:de("text-sm text-muted-foreground",e),...n}));_g.displayName=Ng.displayName;const OM="atlas_automations",Ni="atlas_last_automation_id",V2=2e3,pr=e=>typeof e=="object"&&e!==null,Yr=(e,n)=>`${e}::${n}`,DM=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`automation-${Math.random().toString(36).slice(2,10)}`,Xx=e=>{var i,a,l,u,d,h;const n=((a=(i=e.id)==null?void 0:i.toLowerCase)==null?void 0:a.call(i))??"",r=((u=(l=e.name)==null?void 0:l.toLowerCase)==null?void 0:u.call(l))??"",o=((h=(d=e.role)==null?void 0:d.toLowerCase)==null?void 0:h.call(d))??"",s=e.is_meta===!0;return n==="meta-controller"||s||r.includes("meta")||o.includes("meta")},Df=()=>{if(typeof window>"u")return null;const e=window.supabase??window.__supabase__;return e&&typeof e.from=="function"?e:null},Lf=()=>{if(typeof window>"u")return"remote";const e=window.atlasConfig;return((e==null?void 0:e.persistenceMode)??void 0??"remote")==="local"?"local":"remote"},Qx=e=>e.length===0?"":e.length===1?e[0]:e.length===2?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`,$f=e=>{if(!pr(e))return null;const n=typeof e.id=="string"?e.id:typeof e.uuid=="string"?e.uuid:DM(),r=e.name??e.title??"Untitled Automation",o=typeof r=="string"&&r.trim().length>0?r:"Untitled Automation",s=typeof e.description=="string"?e.description:typeof e.summary=="string"?e.summary:void 0,i=e.data??e.blueprint??e.payload??{},a=typeof e.createdAt=="string"?e.createdAt:typeof e.created_at=="string"?e.created_at:new Date().toISOString(),l=typeof e.updatedAt=="string"?e.updatedAt:typeof e.updated_at=="string"?e.updated_at:a;let u;if(pr(i))u=i;else try{u=JSON.parse(String(i))}catch{u={}}return{id:n,name:o,description:s,data:u,createdAt:a,updatedAt:l}},Yc=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem(OM);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n.map(o=>$f(o)).filter(o=>o!==null):[]}catch(e){return console.warn("Failed to read automations from localStorage",e),[]}},Wb=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(OM,JSON.stringify(e))}catch(n){console.warn("Failed to write automations to localStorage",n)}};async function bX(){var e;if(Lf()==="remote"){const n=Df();if(n)try{const r=n.from("automations");let o=(e=r.select)==null?void 0:e.call(r,"*");o&&typeof o.order=="function"&&(o=o.order("created_at",{ascending:!0}));const{data:s,error:i}=await o??{data:null,error:null};if(i)throw new Error(i.message??"Failed to load automations from Supabase");return Array.isArray(s)?s.map(a=>$f(a)).filter(a=>a!==null):[]}catch(r){return console.warn("Supabase automation load failed, falling back to localStorage",r),Yc()}}return Yc()}async function SX(e){var r,o,s,i,a,l,u,d;if(Lf()==="remote"){const h=Df();if(h)try{const f=h.from("automations"),m=(a=(s=(r=f.select)==null?void 0:(o=r.call(f,"*")).eq)==null?void 0:(i=s.call(o,"id",e)).maybeSingle)==null?void 0:a.call(i),{data:p,error:v}=await(m??((d=(l=f.select)==null?void 0:(u=l.call(f,"*")).eq)==null?void 0:d.call(u,"id",e)))??{data:null,error:null};if(v)throw new Error(v.message??"Failed to load automation");return $f(p)}catch(f){console.warn("Supabase automation lookup failed, falling back to local cache",f)}}return Yc().find(h=>h.id===e)??null}async function kX(e,n,r){var a,l,u;const o=new Date().toISOString(),s={id:DM(),name:e.trim().length>0?e:"Untitled Automation",description:(n==null?void 0:n.trim())||void 0,data:r,createdAt:o,updatedAt:o};if(Lf()==="remote"){const d=Df();if(d)try{const h=d.from("automations");let f=(a=h.insert)==null?void 0:a.call(h,[{id:s.id,name:s.name,description:s.description??null,data:s.data,created_at:s.createdAt,updated_at:s.updatedAt}]);f&&typeof f.select=="function"&&(f=((u=(l=f.select("*")).maybeSingle)==null?void 0:u.call(l))??f.select("*"));const{data:m,error:p}=await f??{data:null,error:null};if(p)throw new Error(p.message??"Failed to create automation");const v=$f(m);if(v)return v}catch(h){console.warn("Supabase automation creation failed, falling back to localStorage",h)}}const i=Yc();return i.push(s),Wb(i),s}async function NX(e,n,r,o){var h,f,m,p,v;const s=new Date().toISOString(),i={id:e,name:n.trim().length>0?n:"Untitled Automation",description:(r==null?void 0:r.trim())||void 0,data:o,updated_at:s,updatedAt:s};if(Lf()==="remote"){const y=Df();if(y)try{const b=y.from("automations");let x=(m=(h=b.update)==null?void 0:(f=h.call(b,{name:i.name,description:i.description??null,data:i.data,updated_at:i.updated_at})).eq)==null?void 0:m.call(f,"id",e);x&&typeof x.select=="function"&&(x=((v=(p=x.select("*")).maybeSingle)==null?void 0:v.call(p))??x.select("*"));const{data:w,error:S}=await x??{data:null,error:null};if(S)throw new Error(S.message??"Failed to save automation");const k=$f(w);return k||{id:e,name:i.name,description:i.description,data:i.data,createdAt:s,updatedAt:s}}catch(b){console.warn("Supabase automation save failed, falling back to localStorage",b)}}const a=Yc(),l=a.findIndex(y=>y.id===e),u=a[l],d={id:e,name:i.name,description:i.description,data:o,createdAt:(u==null?void 0:u.createdAt)??s,updatedAt:s};return l>=0?a[l]=d:a.push(d),Wb(a),d}async function CX(e){var r,o,s,i;if(!e)return;if(Lf()==="remote"){const a=Df();if(a)try{const l=a.from("automations");await(((s=(r=l.delete)==null?void 0:(o=r.call(l)).eq)==null?void 0:s.call(o,"id",e))??((i=l.delete)==null?void 0:i.call(l)))}catch(l){console.warn("Supabase automation delete failed, falling back to localStorage",l)}}const n=Yc().filter(a=>a.id!==e);Wb(n)}const jX=e=>{if(!pr(e))return null;const n=typeof e.version=="number"?e.version:1;let r={};if(pr(e.positions)){const l={};for(const[u,d]of Object.entries(e.positions))pr(d)&&typeof d.x=="number"&&typeof d.y=="number"&&(l[u]={x:d.x,y:d.y});r=l}else if(Array.isArray(e.nodes)){const l={};for(const u of e.nodes)pr(u)&&typeof u.id=="string"&&pr(u.position)&&typeof u.position.x=="number"&&typeof u.position.y=="number"&&(l[u.id]={x:u.position.x,y:u.position.y});r=l}const o=[],s=Array.isArray(e.edges)?e.edges:Array.isArray(e.links)?e.links:[];for(const l of s){if(!pr(l))continue;const u=typeof l.source=="string"?l.source:typeof l.from=="string"?l.from:void 0,d=typeof l.target=="string"?l.target:typeof l.to=="string"?l.to:void 0;if(!u||!d)continue;const h=typeof l.id=="string"&&l.id.length>0?l.id:typeof l.key=="string"?l.key:Yr(u,d),f=pr(l.metadata)?l.metadata:void 0;o.some(m=>m.id===h)||o.push({id:h,source:u,target:d,metadata:f})}const i=pr(e.metadata)?e.metadata:void 0;let a=null;if(pr(e.pipeline))try{a=JSON.parse(JSON.stringify(e.pipeline))}catch{a=e.pipeline}return{version:n,positions:r,edges:o,metadata:i,pipeline:a}},_X=(e,n,r,o,s)=>{const i={};e.forEach((u,d)=>{const h=Wl(d,e.length),f=n[u.id]??h;i[u.id]={x:f.x,y:f.y}});const a=[],l=new Set;return r.forEach(u=>{const d=Yr(u.source,u.target);l.has(d)||(l.add(d),a.push(u))}),{version:1,positions:i,edges:a.map(u=>({id:u.id,source:u.source,target:u.target,metadata:u.metadata})),metadata:s,pipeline:o?JSON.parse(JSON.stringify(o)):null}},EX=({data:e})=>c.jsxs("div",{className:"rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-white shadow-sm",children:[c.jsx(xa,{type:"target",position:He.Top,className:"w-2 h-2 bg-white/70"}),c.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:"Condition"}),c.jsx("div",{className:"text-sm font-medium text-white",children:e.label??"Condition"}),e.condition?c.jsx("div",{className:"mt-1 text-xs text-white/70",children:e.condition}):null,e.description?c.jsx("div",{className:"mt-1 text-[11px] text-white/60",children:e.description}):null,c.jsx(xa,{type:"source",position:He.Bottom,className:"w-2 h-2 bg-white/70"})]}),TX={agent:lY,condition:EX},AX=(e,n,r)=>{try{const o=pr(r)?r:{},s=o.objectives,i=Array.isArray(s)?s.map(h=>String(h).trim()).filter(h=>h.length>0):typeof s=="string"?s.split(/[\n\r]+/).map(h=>h.trim()).filter(h=>h.length>0):[],a=o.memoryContext??o.memory_context??o.memory,l=typeof a=="string"&&a.trim().length>0?a.trim():void 0,u=o.instructions??o.workplan,d=Array.isArray(u)?u.map(h=>String(h).trim()).filter(h=>h.length>0):typeof u=="string"?u.split(/[\n\r]+/).map(h=>h.trim()).filter(h=>h.length>0):[];if(i.length||d.length){const h=lp(e,n);return{objectives:i.length?i:h.objectives,memoryContext:l??h.memoryContext,instructions:d.length?d:h.instructions}}return lp(e,n)}catch(o){return console.warn("[automation-builder] deriveModuleProfile failed; using fallback",o),lp(e,n)}},lp=(e,n)=>{const r=n.trim().length>0?n.trim():(e==null?void 0:e.trim())??"Automation Agent";return{objectives:[`Execute the "${r}" responsibilities in this automation.`,"Collaborate with sibling steps by publishing actionable summaries.","Report key outcomes and anomalies to downstream steps."],memoryContext:`Maintain working memory for ${r}, capturing inputs, decisions, escalations, and outputs so sibling steps can continue.`,instructions:[`Ingest relevant signals for the "${r}" domain.`,"Transform raw data into structured insights and tasks for downstream steps.","Log context-rich updates to the shared store for auditability."]}},Ou=e=>e.startsWith("pipeline:")?e.slice(9):e,Wl=(e,n)=>{if(n<=0)return{x:0,y:0};const s=Math.max(320,n*180/(2*Math.PI)),i=e/n*2*Math.PI;return{x:Math.cos(i)*s,y:Math.sin(i)*s}};function PX(){const e=Nf(),{toast:n}=xf(),r=Un(W=>{var G;return((G=W.companyName)==null?void 0:G.trim())||"Atlas"}),[o,s]=g.useState(!1),[i,a]=g.useState(!1),[l,u]=g.useState({}),[d,h]=g.useState("Untitled Automation"),[f,m]=g.useState(""),[p,v]=g.useState(!1),[y,b]=g.useState(!1),[x,w]=g.useState("__new"),[S,k]=g.useState([]),[C,N]=g.useState(!1),[j,P]=g.useState(null),[E,_]=g.useState([]),[I,O]=g.useState(null),[U,T]=g.useState(!1),[z,L]=g.useState(!1),[H,F]=g.useState([]),[R,A]=g.useState(null),[D,$]=g.useState(null),[M,Y]=g.useState(!1),[Z,re]=g.useState(!1),[Q,ce]=g.useState(""),[fe,me]=g.useState(!1),[ke,ie]=g.useState(null),[Le,Ce]=g.useState(!1),[De,he]=g.useState([]),[je,se]=g.useState({}),[Ve,et]=g.useState(null),nt=g.useRef(!1),ht=Yx(W=>W.setPipeline),Tt=Yx(W=>W.clear),Re=Yx(W=>W.pipeline),[An,te]=g.useState(!1),ge=g.useRef(""),Ae=g.useRef(null),ze=g.useRef(null),Qe=g.useRef(!1),gt=g.useRef(null),_t=g.useRef(null),[tt,Gt]=g.useState(null),xt=g.useCallback(()=>{F([]),Y(!1),$(null),A(null),tt&&(tt.setNodes(W=>W.map(G=>({...G,selected:!1}))),tt.setEdges(W=>W.map(G=>({...G,selected:!1}))))},[tt]),st=md(W=>W.agents),yt=md(W=>W.links),{data:$e=[],isLoading:lo}=Ko({queryKey:["agents"],queryFn:()=>Ye.listAgents(),select:W=>W.items,refetchInterval:15e3});g.useEffect(()=>{u(W=>{const G={...W};let ae=!1;const ee=$e.length;return $e.forEach((pe,oe)=>{G[pe.id]||(G[pe.id]=Wl(oe,ee),ae=!0)}),ae?G:W})},[$e]);const Qn=_x({mutationFn:W=>Ye.createAgent(W),onSuccess:W=>{n({title:"Agent created",description:`${W.name} is now available.`}),e.invalidateQueries({queryKey:["agents"]})},onError:W=>{n({title:"Failed to create agent",description:W.message,variant:"destructive"})}}),Nr=_x({mutationFn:W=>Ye.deleteAgent(W),onSuccess:()=>{n({title:"Agent removed"}),e.invalidateQueries({queryKey:["agents"]})},onError:W=>{n({title:"Failed to delete agent",description:W.message,variant:"destructive"})}}),Cr=_x({mutationFn:({id:W,updates:G})=>Ye.updateAgent(W,G),onSuccess:()=>{e.invalidateQueries({queryKey:["agents"]})},onError:W=>{n({title:"Failed to update agent",description:W.message,variant:"destructive"})}}),Bt=cm(W=>W.selectedAgentId),vt=cm(W=>W.selectAgent),Ke=g.useMemo(()=>$e.find(W=>W.id===Bt)??null,[$e,Bt]),pt=g.useMemo(()=>new Set(H),[H]),it=g.useCallback(W=>{if(xt(),!W){O(null),w("__new"),h("Untitled Automation"),m(""),_([]),u({}),b(!1),Tt(),vt(null),te(!1),Ae.current=null,typeof window<"u"&&window.localStorage.removeItem(Ni);return}O(W),w(W.id),h(W.name),m(W.description??""),b(!1);const G=jX(W.data);if(G){u(()=>{const ee={};return Object.entries(G.positions).forEach(([pe,oe])=>{ee[Ou(pe)]=oe}),ee}),_(G.edges.map(ee=>({id:ee.id,source:ee.source,target:ee.target,metadata:ee.metadata}))),G.pipeline?ht(G.pipeline,null):Tt(),vt(null);const ae=(()=>{try{return JSON.stringify({pipeline:G.pipeline??null,positions:G.positions,persistedEdges:G.edges,name:W.name.trim(),description:(W.description??"").trim()})}catch{return`${Date.now()}`}})();Ae.current=ae}else u({}),_([]),Tt(),vt(null),Ae.current=null;ze.current&&(window.clearTimeout(ze.current),ze.current=null),te(!1),typeof window<"u"&&window.localStorage.setItem(Ni,W.id),console.log(`[automation-persist] Auto-loaded automation "${W.name}"`)},[xt,Tt,vt,ht,m,h]),Ht=g.useCallback(async W=>{var I1;if(xt(),vt(null),!W||W.length===0)return"No changes detected.";const G=x==="__new"&&(!Re||Re.nodes.length===0),ae=["if","when","whenever","only if","depending on","in case","conditional"],ee=(ge.current??"").toLowerCase(),pe=JSON.stringify(W??[]).toLowerCase(),oe=ae.some(J=>ee.includes(J)||pe.includes(J)),Ie=G||!Re?{name:"",nodes:[],edges:[]}:JSON.parse(JSON.stringify(Re)),_e=JSON.parse(JSON.stringify(Ie)),ot=new Set,wt=[],lt=[],Vn=[],Hr=[],Vr=new Set;let _r=!1,Ms=!1,xi=!1,yi=!1,Mo=null,Vf=!1;const pu=J=>{const ne=(J&&J.trim().length>0?J.trim():void 0)??`node-${Math.random().toString(36).slice(2,8)}`;if(!_e.nodes.some(qe=>qe.id===ne))return ne;let ue=2,Be=`${ne}-${ue}`;for(;_e.nodes.some(qe=>qe.id===Be);)ue+=1,Be=`${ne}-${ue}`;return Be},Wf=new Map,A1=new Map,mu=J=>{if(!J.agent)return;const ne=J.agent.toLowerCase();ne.includes("slack")&&(J.config={...J.config??{},connector:"slack",integrationId:"slack",permissions:"full",useIntegration:!0,detectConfigFields:!1}),ne.includes("jira")&&(J.config={...J.config??{},connector:"jira",integrationId:"jira",permissions:"full",useIntegration:!0,detectConfigFields:!1})},Pn=(J,ne)=>{if(!J)return;const ue=J.trim().toLowerCase();ue&&Wf.set(ue,ne)};_e.nodes.forEach(J=>{var ne,ue;mu(J),Pn(J.id,J.id),typeof J.agent=="string"&&Pn(J.agent,J.id),typeof((ne=J.config)==null?void 0:ne.label)=="string"&&Pn(J.config.label,J.id),typeof((ue=J.config)==null?void 0:ue.agentId)=="string"&&Pn(J.config.agentId,J.config.agentId)});const _a=G?[]:[...$e];_a.forEach(J=>{Pn(J.id,J.id),Pn(J.name,J.id),Pn(J.role,J.id)});const fI=J=>{const ne=_e.nodes.find(qe=>qe.id===J);if(ne)return mu(ne),ne;const ue=pu(J),Be={id:ue,agent:J,type:"Action",config:{}};return mu(Be),_e.nodes.push(Be),ot.add(J),Vn.push(ue),_r=!0,Be},Wr=J=>{const ne=J.trim().toLowerCase(),ue=Wf.get(ne);if(ue)return ue;if(_e.nodes.some(qe=>qe.id===J||qe.id.toLowerCase()===ne)||_a.some(qe=>{var At,Lt;return qe.id===J||((Lt=(At=qe.id).toLowerCase)==null?void 0:Lt.call(At))===ne}))return J;const Be=_a.find(qe=>{var Sn,Er,cn,vi;const At=((Er=(Sn=qe.name)==null?void 0:Sn.toLowerCase)==null?void 0:Er.call(Sn))??"",Lt=((vi=(cn=qe.role)==null?void 0:cn.toLowerCase)==null?void 0:vi.call(cn))??"";return At===ne||Lt===ne});return Be?(Pn(J,Be.id),Be.id):fI(J).id},hI=J=>J?["persist","persistent","save","persistEdge"].some(ue=>J[ue]===!0||J[ue]==="true"):!1,pI=(J,ne)=>{const ue=Yr(J,ne),Be=A1.get(ue);if(Be)return Be;const qe=pu(`condition-${iY(6)}`),At={condition:ee||"Conditional flow",description:ee||"Conditional flow"};return _e.nodes.push({id:qe,agent:"condition",type:"condition",label:"Condition",data:At,position:{x:0,y:0},config:{}}),Vn.push(qe),A1.set(ue,qe),u(Lt=>Lt[qe]?Lt:{...Lt,[qe]:{x:0,y:0}}),_r=!0,qe},Bg=(J,ne,ue)=>{_e.edges.some(qe=>qe.from===J&&qe.to===ne)||(_e.edges.push({from:J,to:ne}),_r=!0),hI(ue)&&mI(J,ne,ue)},P1=(J,ne,ue)=>{const Be=qe=>_e.nodes.some(At=>At.id===qe&&At.type==="condition");if(oe&&!Be(J)&&!Be(ne)){const qe=pI(J,ne);Bg(J,qe,ue),Bg(qe,ne,ue),wt.push(`${J}  ${qe}  ${ne}`);return}Bg(J,ne,ue),wt.push(`${J}  ${ne}`)},mI=(J,ne,ue)=>{const Be=Yr(J,ne);Vr.delete(Be),Hr.push({id:typeof(ue==null?void 0:ue.id)=="string"&&ue.id.length>0?ue.id:Be,source:J,target:ne,metadata:ue})},M1=(J,ne)=>{const ue=Yr(J,ne);Vr.add(ue)},gI=J=>{E.forEach(ne=>{(ne.source===J||ne.target===J)&&Vr.add(Yr(ne.source,ne.target))})},Hg=(J,ne)=>{const ue=Wr(J),Be=Ou(ue);u(qe=>{const At={...qe},Lt=At[Be];return Lt&&Lt.x===ne.x&&Lt.y===ne.y?qe:(xi=!0,At[Be]={x:ne.x,y:ne.y},At)})},xI=async J=>{var El;const ne={id:(J==null?void 0:J.id)??pu("node"),agentType:(J==null?void 0:J.agentType)??(J==null?void 0:J.id)??"automation-node",label:(J==null?void 0:J.label)??(J==null?void 0:J.agentType)??(J==null?void 0:J.id)??"Automation Node",type:(J==null?void 0:J.type)??"Action",config:(J==null?void 0:J.config)??{},metadata:(J==null?void 0:J.metadata)??{},position:J==null?void 0:J.position},ue=pr(ne.metadata)?ne.metadata:{},qe=[typeof ue.agentId=="string"?ue.agentId:void 0,ne.id,ne.agentType,ne.label].map(un=>typeof un=="string"?un.trim():"").filter(un=>un.length>0);let At=null;for(const un of qe){const $t=Wf.get(un.toLowerCase());if($t){At=$t;break}}if(!At)for(const un of qe){const $t=un.toLowerCase(),_n=_a.find(qr=>{if(qr.id===un)return!0;const gu=typeof qr.name=="string"?qr.name.toLowerCase():"",xu=typeof qr.role=="string"?qr.role.toLowerCase():"";return gu===$t||xu===$t});if(_n){qe.forEach(qr=>Pn(qr,_n.id)),At=_n.id;break}}if(!At){const un=((El=J.agentType)==null?void 0:El.trim().toLowerCase())??"",$t=_a.find(_n=>{var qf,O1,Gf,D1,Kf,L1;const qr=((O1=(qf=_n.id)==null?void 0:qf.toLowerCase)==null?void 0:O1.call(qf))??"",gu=((D1=(Gf=_n.name)==null?void 0:Gf.toLowerCase)==null?void 0:D1.call(Gf))??"",xu=((L1=(Kf=_n.role)==null?void 0:Kf.toLowerCase)==null?void 0:L1.call(Kf))??"",vI=un.length>0&&(qr===un||gu===un||xu===un),wI=un.includes("slack")&&(qr.includes("slack")||gu.includes("slack")||xu.includes("slack")),bI=un.includes("jira")&&(qr.includes("jira")||gu.includes("jira")||xu.includes("jira"));return vI||wI||bI});$t&&(qe.forEach(_n=>Pn(_n,$t.id)),At=$t.id)}const Lt=(ne.label&&ne.label.trim().length>0?ne.label.trim():ne.agentType&&ne.agentType.trim().length>0?ne.agentType.trim():ne.id&&ne.id.trim().length>0?ne.id.trim():`Agent ${Math.random().toString(36).slice(2,6)}`).slice(0,80),Sn=typeof ue.role=="string"?ue.role.trim():"",Er=Sn.length>0?Sn:ne.agentType??Lt;let cn=AX(ne.agentType,Lt,ue);(!cn||!Array.isArray(cn.objectives))&&(cn=lp(ne.agentType,Lt)),(!Array.isArray(cn.objectives)||cn.objectives.length===0)&&(cn.objectives=[`Run ${Lt} tasks`,`Handle ${ne.agentType??"automation"} events`]);const vi={};pr(ue.tools)&&Object.entries(ue.tools).forEach(([un,$t])=>{un&&typeof un=="string"&&(vi[un]=!!$t)});let Ro=At;if(!Ro){const un={name:Lt,role:Er,tools:vi,objectives:cn.objectives};un.memory_context=cn.memoryContext,typeof ue.internet_access_enabled=="boolean"&&(un.internet_access_enabled=ue.internet_access_enabled);try{const $t=await Ye.createAgent(un);_a.push($t),e.setQueryData(["agents"],_n=>_n?_n.items.some(qr=>qr.id===$t.id)?_n:{items:[..._n.items,$t]}:{items:[$t]}),qe.forEach(_n=>Pn(_n,$t.id)),Pn($t.name,$t.id),Pn($t.role,$t.id),Pn($t.id,$t.id),ot.add($t.name),Vf=!0,Ro=$t.id}catch($t){console.error("[automation-builder] Failed to create agent from prompt",$t),n({title:"Failed to create agent",description:$t instanceof Error?$t.message:"Unknown error occurred.",variant:"destructive"});const _n=pu(ne.id??ne.label);Pn(_n,_n),ot.add(Lt),Ro=_n}}return Ro||(Ro=pu(ne.id??ne.label)),ue.objectives=cn.objectives,ue.memoryContext=cn.memoryContext,ue.instructions=cn.instructions,{id:Ro,profile:cn}},yI=W.filter(J=>J.type==="create_node");for(const J of yI){const ne=J.node??{},{id:ue,profile:Be}=await xI(ne),qe=_a.some(El=>El.id===ue);qe&&!Wf.has(ue.toLowerCase())&&Pn(ue,ue),Pn(ne.id,ue),Pn(ne.agentType,ue),Pn(ne.label,ue);const At=ne.agentType??ne.id??ue,Lt=ne.type??"Action",Sn={...ne.config??{}};ne.label&&(Sn.label=ne.label);const Er=pr(ne.metadata)?{...ne.metadata}:{};Er.objectives=Be.objectives,Er.memoryContext=Be.memoryContext,Er.instructions=Be.instructions,Sn.metadata=Er,Sn.agentId=ue;const cn={agent:At,config:Sn};mu(cn);const vi=cn.config??Sn,Ro=_e.nodes.findIndex(El=>El.id===ue);Ro>=0?_e.nodes[Ro]={..._e.nodes[Ro],agent:At,type:Lt,config:{..._e.nodes[Ro].config,...vi}}:(_e.nodes.push({id:ue,agent:At,type:Lt,config:vi}),Vn.push(ue)),_r=!0,qe||ot.add(ne.label??At??ue),ne.position&&Hg(ue,ne.position)}for(const J of W.filter(ne=>ne.type!=="create_node"))switch(J.type){case"update_node":{const ne=Wr(J.id),ue=_e.nodes.find(qe=>qe.id===ne);if(!ue){console.warn("[automation-builder] update_node target not found",J.id);break}J.agentType&&(ue.agent=J.agentType),J.nodeType&&(J.nodeType==="Trigger"||J.nodeType==="Processor"||J.nodeType==="Action")&&(ue.type=J.nodeType),J.config&&(ue.config={...ue.config,...J.config}),J.label&&(ue.config={...ue.config,label:J.label}),J.metadata&&(ue.config={...ue.config,metadata:{...(I1=ue.config)==null?void 0:I1.metadata,...J.metadata}});const Be={agent:ue.agent,config:ue.config};mu(Be),ue.config=Be.config,J.position&&Hg(ne,J.position),_r=!0;break}case"delete_node":{const ne=Wr(J.id),ue=_e.nodes.findIndex(Be=>Be.id===ne);ue>=0&&(_e.nodes.splice(ue,1),_e.edges=_e.edges.filter(Be=>Be.from!==ne&&Be.to!==ne),gI(ne),_r=!0);break}case"connect_nodes":{const ne=Wr(J.from),ue=Wr(J.to);P1(ne,ue,J.metadata);break}case"disconnect_nodes":{const ne=Wr(J.from),ue=Wr(J.to),Be=_e.edges.length;_e.edges=_e.edges.filter(qe=>!(qe.from===ne&&qe.to===ue)),_e.edges.length!==Be&&(_r=!0),M1(ne,ue);break}case"create_edge":{const ne=Wr(J.edge.from),ue=Wr(J.edge.to);P1(ne,ue,J.edge.metadata);break}case"delete_edge":{const ne=Wr(J.edge.from),ue=Wr(J.edge.to),Be=_e.edges.length;_e.edges=_e.edges.filter(qe=>!(qe.from===ne&&qe.to===ue)),_e.edges.length!==Be&&(_r=!0),M1(ne,ue);break}case"set_position":{Hg(J.id,J.position);break}case"set_positions":{const ne=Object.entries(J.positions??{});ne.length>0&&u(ue=>{const Be={...ue};let qe=!1;return ne.forEach(([At,Lt])=>{const Sn=Wr(At),Er=Ou(Sn),cn=Be[Er];(!cn||cn.x!==Lt.x||cn.y!==Lt.y)&&(Be[Er]={x:Lt.x,y:Lt.y},qe=!0)}),qe?(xi=!0,Be):ue});break}case"focus_node":{const ne=Wr(J.id);($e.some(ue=>ue.id===ne)||_e.nodes.some(ue=>ue.id===ne))&&(Mo=ne);break}case"update_metadata":{J.name&&J.name.trim().length>0&&(_e.name=J.name.trim(),h(J.name.trim()),lt.push(`name  ${J.name.trim()}`),Ms=!0),typeof J.description=="string"&&(m(J.description),lt.push("description"),Ms=!0),J.data&&Object.keys(J.data).length>0&&(lt.push("metadata"),Ms=!0);break}default:{console.warn("[automation-builder] Unhandled instruction action",J);break}}if(Vn.length>0&&u(J=>{const ne={...J};let ue=Object.keys(ne).length+1,Be=!1;return Vn.forEach(qe=>{const At=Ou(qe);ne[At]||(ne[At]=Wl(ue,ue+1),ue+=1,Be=!0)}),Be?(xi=!0,ne):J}),(Hr.length>0||Vr.size>0)&&_(J=>{let ne=J.filter(Be=>!Vr.has(Yr(Be.source,Be.target))),ue=ne.length!==J.length;return Hr.forEach(Be=>{const qe=Yr(Be.source,Be.target),At=ne.findIndex(Sn=>Yr(Sn.source,Sn.target)===qe),Lt=JSON.stringify(Be.metadata??{});if(At>=0){const Sn=ne[At],Er=JSON.stringify(Sn.metadata??{});(Sn.id!==Be.id||Er!==Lt)&&(ne=[...ne.slice(0,At),Be,...ne.slice(At+1)],ue=!0)}else ne=[...ne,Be],ue=!0}),ue?(yi=!0,ne):J}),(_r||Ms)&&ht(_e,null),(_r||Ms||xi||yi)&&te(!0),Mo&&$e.some(J=>J.id===Mo)&&vt(Mo),Vf)try{await e.invalidateQueries({queryKey:["agents"]})}catch(J){console.warn("[automation-builder] failed to refresh agents",J)}const _l=[],R1=Array.from(ot);return R1.length&&_l.push(`Created ${Qx(R1)}`),wt.length&&_l.push(`Connected ${Qx(wt)}`),lt.length&&_l.push(`Updated ${Qx(lt)}`),!_l.length&&!_r&&!Ms&&!xi&&!yi&&_l.push("No changes applied"),`${_l.join(". ")}.`},[$e,d,Re,xt,vt,m,te,h,E,_,u,ht,e,n]),q=g.useCallback(async()=>{N(!0);try{const W=await bX();return k(W),P(null),W}catch(W){const G=W instanceof Error?W.message:"Failed to load automations";return P(G),n({title:"Failed to load automations",description:G,variant:"destructive"}),[]}finally{N(!1)}},[n]);g.useEffect(()=>{let W=!0;return(async()=>{const G=await q();if(W)if(G.length>0){const ae=typeof window<"u"?window.localStorage.getItem(Ni):null,ee=(ae?G.find(pe=>pe.id===ae):void 0)??G[0];it(ee)}else it(null)})(),()=>{W=!1}},[it,q]);const xe=g.useMemo(()=>{const W=(Re==null?void 0:Re.nodes.map((ee,pe)=>{var Hr,Vr,_r,Ms,xi;if(ee.type==="condition"){const yi=`pipeline:${ee.id}`,Mo=ee.data??((Hr=ee.config)==null?void 0:Hr.conditionData),Vf=l[ee.id]??Wl(pe,((Re==null?void 0:Re.nodes.length)??0)+$e.length+1);return{id:yi,type:"condition",position:Vf,data:{label:ee.label??((Vr=ee.config)==null?void 0:Vr.label)??"Condition",condition:(Mo==null?void 0:Mo.condition)??"",description:(Mo==null?void 0:Mo.description)??""},draggable:!0,selectable:!0,selected:pt.has(yi)}}const oe=typeof((_r=ee.config)==null?void 0:_r.agentId)=="string"?ee.config.agentId:void 0,Ie=oe?$e.find(yi=>yi.id===oe):void 0,_e=`pipeline:${ee.id}`;if(Ie)return null;const ot=(Ie==null?void 0:Ie.name)??(typeof((Ms=ee.config)==null?void 0:Ms.label)=="string"&&ee.config.label.trim().length>0?ee.config.label.trim():ee.agent??ee.id)??`Node ${pe+1}`,wt=l[ee.id]??Wl(pe,((Re==null?void 0:Re.nodes.length)??0)+$e.length+1),lt=(Ie==null?void 0:Ie.id)??ee.id,Vn=!Ie;return{id:_e,type:"agent",position:wt,data:{name:ot,status:(Ie==null?void 0:Ie.status)??"design",role:(Ie==null?void 0:Ie.role)??ee.type,isTalking:Ie?((xi=st[Ie.id])==null?void 0:xi.isTalking)??!1:!1,isVirtual:Vn,sourceId:lt},draggable:!0,selectable:!0,selected:pt.has(_e)}}).filter(ee=>ee!==null))??[],G=new Set(W.map(ee=>{var pe;return(pe=ee.data)==null?void 0:pe.sourceId}).filter(ee=>!!ee)),ae=$e.filter(ee=>!G.has(ee.id)).map((ee,pe)=>{var oe;return{id:ee.id,type:"agent",position:l[ee.id]??Wl(pe,$e.length),data:{name:ee.name,status:ee.status,role:ee.role,isTalking:((oe=st[ee.id])==null?void 0:oe.isTalking)??!1,isVirtual:!1,sourceId:ee.id},selected:Bt===ee.id||pt.has(ee.id)}});return[...W,...ae]},[$e,Re,st,l,Bt,pt]);g.useEffect(()=>{if(!tt||xe.length===0)return;const W=requestAnimationFrame(()=>{try{tt.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(G){console.warn("[agent-network] fitView failed",G)}});return()=>cancelAnimationFrame(W)},[xe,tt]);const Ee=g.useMemo(()=>{const W=new Set($e.map(G=>G.id));return Object.values(yt).filter(G=>W.has(G.source)&&W.has(G.target)).map(G=>({id:G.id,source:G.source,target:G.target,animated:G.isActive,style:{stroke:G.isActive?"#facc15":"#6366f1",strokeWidth:G.isActive?3:1.5,opacity:G.isActive?1:.8},data:{isActive:G.isActive}}))},[yt,$e]),Te=g.useMemo(()=>{const W=new Set($e.map(G=>G.id));return E.filter(G=>W.has(G.source)&&W.has(G.target)).map(G=>({id:`saved-${G.id}`,source:G.source,target:G.target,animated:!1,style:{stroke:"#818cf8",strokeWidth:2,opacity:.85,strokeDasharray:"6 3"},data:{persisted:!0,metadata:G.metadata}}))},[$e,E]),X=g.useMemo(()=>{if(!Re)return[];const W=new Set(Re.nodes.map(ae=>ae.id)),G=new Map;return Re.nodes.forEach(ae=>{var pe;const ee=typeof((pe=ae.config)==null?void 0:pe.agentId)=="string"?ae.config.agentId:void 0;ee&&$e.some(oe=>oe.id===ee)&&G.set(ae.id,ee)}),Re.edges.map(ae=>{const ee=G.get(ae.from),pe=G.get(ae.to),oe=W.has(ae.from),Ie=W.has(ae.to),_e=ee??(oe?`pipeline:${ae.from}`:ae.from),ot=pe??(Ie?`pipeline:${ae.to}`:ae.to);return{id:`pipeline-${_e}-${ot}`,source:_e,target:ot,animated:!0,style:{stroke:"#a855f7",strokeWidth:2,opacity:.9,strokeDasharray:"4 2"},data:{pipeline:!0}}})},[$e,Re]),ye=g.useMemo(()=>{const W=new Set,G=[],ae=pe=>{const oe=Yr(pe.source,pe.target);W.has(oe)||(W.add(oe),G.push(pe))};Te.forEach(ae),Ee.forEach(ae),X.forEach(ae);const ee=new Set;return $e.forEach(pe=>ee.add(pe.id)),((Re==null?void 0:Re.nodes)??[]).forEach(pe=>ee.add(`pipeline:${pe.id}`)),G.filter(pe=>ee.has(pe.source)&&ee.has(pe.target))},[$e,Re,Ee,X,Te]),Pe=g.useCallback(()=>{const W=new Map;return E.forEach(G=>{W.set(Yr(G.source,G.target),G)}),Object.values(yt).forEach(G=>{W.set(Yr(G.source,G.target),{id:G.id??Yr(G.source,G.target),source:G.source,target:G.target,metadata:{isActive:G.isActive??!1,lastMessageId:G.lastMessageId??null}})}),Array.from(W.values())},[yt,E]),at=g.useCallback(()=>{const W={pipeline:Re??null,positions:l,persistedEdges:E,name:d.trim(),description:f.trim()};try{return JSON.stringify(W)}catch{return`${Date.now()}`}},[f,d,Re,E,l]),ct=g.useCallback(async W=>{const G=x;if(!G||G==="__new"){Ae.current=at(),te(!1);return}if(Qe.current&&gt.current){await gt.current;return}const ae=async()=>{const pe=Re?JSON.parse(JSON.stringify(Re)):{name:d.trim()||"Untitled Automation",nodes:[],edges:[]},oe={selectedAgentId:Bt??null,description:f??"",updatedAt:new Date().toISOString()},Ie=_X($e,l,Pe(),pe,oe);try{console.log(`[automation-persist] Saving automation "${d.trim()||"Untitled Automation"}"...`);const _e=await NX(G,d.trim()||"Untitled Automation",f,Ie);O(_e),h(_e.name),m(_e.description??""),typeof window<"u"&&window.localStorage.setItem(Ni,_e.id),k(ot=>{const wt=ot.findIndex(lt=>lt.id===_e.id);if(wt>=0){const lt=[...ot];return lt[wt]=_e,lt}return[...ot,_e]}),Ae.current=W??at(),te(!1),console.log(`[automation-persist] Saved automation "${_e.name}" at ${new Date().toISOString()}`)}catch(_e){console.error("[automation-persist] failed to save automation",_e),n({title:"Failed to save automation",description:_e instanceof Error?_e.message:"Unknown error occurred.",variant:"destructive"})}};Qe.current=!0;const ee=ae().finally(()=>{Qe.current=!1,gt.current=null});gt.current=ee,await ee},[$e,f,d,Re,Pe,at,l,x,Bt,n]),Je=g.useCallback(async()=>{ze.current&&(window.clearTimeout(ze.current),ze.current=null),(Qe.current||An)&&await ct()},[An,ct]);g.useEffect(()=>()=>{Je()},[Je]);const Et=g.useCallback(W=>{const G=W.target;G.closest("[data-agent-drawer]")||G.closest(".react-flow__node")||G.closest(".react-flow__edge")||G.closest(".react-flow__handle")||G.closest(".react-flow__controls")||G.closest(".react-flow__minimap")||G.closest(".react-flow__panel")||G.closest(".react-flow__attribution")||(nt.current=!0,a(!1),vt(null),xt())},[xt,vt,a]),Ft=g.useCallback(async()=>{await Je();const W={name:"",nodes:[],edges:[]},G={version:1,positions:{},edges:[],metadata:{createdAt:new Date().toISOString(),createdBy:`${r} UI`},pipeline:W};try{const ae=await kX("Untitled Automation","",G);xt(),ht(W,null),u({}),_([]),h(ae.name),m(ae.description??""),v(!0),te(!1),O(ae),w(ae.id),k(ee=>ee.some(pe=>pe.id===ae.id)?ee:[...ee,ae]),typeof window<"u"&&window.localStorage.setItem(Ni,ae.id),Ae.current=(()=>{try{return JSON.stringify({pipeline:W,positions:{},persistedEdges:[],name:ae.name??"",description:ae.description??""})}catch{return`${Date.now()}`}})(),n({title:"New automation ready",description:"Blank canvas created. Add an agent or type a prompt below."})}catch(ae){console.error("[automation-builder] failed to create new automation",ae),n({title:"Failed to create automation",description:ae instanceof Error?ae.message:"Unknown error occurred.",variant:"destructive"})}},[xt,Je,n,ht]),Jn=g.useCallback(async()=>{if(!x||x==="__new"){v(!1),O(null),h("Untitled Automation"),m(""),_([]),u({}),Tt(),vt(null),k(G=>G.filter(ae=>ae.id!=="__new")),typeof window<"u"&&window.localStorage.removeItem(Ni);return}if(window.confirm(`Delete automation "${d.trim()||"Untitled Automation"}"? This cannot be undone.`)){L(!0);try{await Je(),await CX(x),k(ae=>ae.filter(ee=>ee.id!==x)),typeof window<"u"&&window.localStorage.getItem(Ni)===x&&window.localStorage.removeItem(Ni),n({title:"Automation deleted",description:`${d.trim()||"Untitled Automation"} removed.`}),xt(),v(!1);const G=S.filter(ae=>ae.id!==x);G.length>0?it(G[0]):it(null)}catch(G){console.error("[automation-builder] failed to delete automation",G),n({title:"Failed to delete automation",description:G instanceof Error?G.message:"Unknown error occurred.",variant:"destructive"})}finally{L(!1)}}},[it,S,d,xt,Tt,Je,vt,x,n]),Kt=g.useCallback(W=>{var pe;if(!tt)return;const G=new Set($e.filter(oe=>Xx(oe)).map(oe=>oe.id)),ae=new Set;tt.getNodes().forEach(oe=>{if(!oe.positionAbsolute)return;const Ie=oe.type==="agent",_e=oe.type==="condition";if(!Ie&&!_e)return;const wt=(oe.data??{}).sourceId??(oe.id.startsWith("pipeline:")?oe.id.replace(/^pipeline:/,""):oe.id);if(Ie&&wt&&G.has(wt))return;const lt=oe.width??0,Vn=oe.height??0,Hr=oe.positionAbsolute.x+lt/2,Vr=oe.positionAbsolute.y+Vn/2;Hr>=W.x1&&Hr<=W.x2&&Vr>=W.y1&&Vr<=W.y2&&ae.add(oe.id)});const ee=Array.from(ae);if(F(oe=>oe.length===ee.length&&oe.every(Ie=>ae.has(Ie))?oe:ee),ae.size===1){const[oe]=ee;let Ie=null;if(oe.startsWith("pipeline:")){const _e=oe.replace(/^pipeline:/,""),ot=Re==null?void 0:Re.nodes.find(lt=>lt.id===_e),wt=((pe=ot==null?void 0:ot.config)==null?void 0:pe.agentId)??null;wt&&!G.has(wt)&&(Ie=wt)}else G.has(oe)||(Ie=oe);Ie&&$e.some(_e=>_e.id===Ie)?vt(Ie):vt(null)}else vt(null)},[$e,Re,tt,vt]),Jt=g.useCallback(W=>{if(!Z||W.button!==0)return;const G=W.target;if(G.closest(".react-flow__node")||G.closest(".react-flow__edge")||G.closest(".react-flow__handle")||G.closest(".react-flow__controls")||G.closest(".react-flow__minimap")||!tt||!_t.current)return;W.preventDefault(),W.stopPropagation();const{left:ae,top:ee}=_t.current.getBoundingClientRect(),pe={x:W.clientX,y:W.clientY};xt(),vt(null),A(pe),$({left:pe.x-ae,top:pe.y-ee,width:0,height:0}),Y(!0)},[xt,Z,tt,vt]),Zt=g.useCallback(W=>{if(!M||!R||!tt||!_t.current)return;W.preventDefault(),W.stopPropagation();const{left:G,top:ae}=_t.current.getBoundingClientRect(),ee={x:W.clientX,y:W.clientY},pe={left:Math.min(R.x,ee.x)-G,top:Math.min(R.y,ee.y)-ae,width:Math.abs(ee.x-R.x),height:Math.abs(ee.y-R.y)};$(pe);const oe=tt.project({x:R.x-G,y:R.y-ae}),Ie=tt.project({x:ee.x-G,y:ee.y-ae}),_e={x1:Math.min(oe.x,Ie.x),x2:Math.max(oe.x,Ie.x),y1:Math.min(oe.y,Ie.y),y2:Math.max(oe.y,Ie.y)};Kt(_e)},[M,R,tt,Kt]),We=g.useCallback(()=>{M&&(Y(!1),$(null),A(null))},[M]);g.useEffect(()=>{Z||(Y(!1),$(null),A(null))},[Z]);const en=g.useCallback(W=>{if(M){if(W.preventDefault(),W.stopPropagation(),R&&tt&&_t.current){const{left:G,top:ae}=_t.current.getBoundingClientRect(),ee={x:W.clientX,y:W.clientY},pe=tt.project({x:R.x-G,y:R.y-ae}),oe=tt.project({x:ee.x-G,y:ee.y-ae}),Ie={x1:Math.min(pe.x,oe.x),x2:Math.max(pe.x,oe.x),y1:Math.min(pe.y,oe.y),y2:Math.max(pe.y,oe.y)};Kt(Ie)}We()}},[We,M,R,tt,Kt]),Hn=g.useCallback(W=>{if(M){if(W.preventDefault(),W.stopPropagation(),R&&tt&&_t.current){const{left:G,top:ae}=_t.current.getBoundingClientRect(),ee={x:W.clientX,y:W.clientY},pe=tt.project({x:R.x-G,y:R.y-ae}),oe=tt.project({x:ee.x-G,y:ee.y-ae}),Ie={x1:Math.min(pe.x,oe.x),x2:Math.max(pe.x,oe.x),y1:Math.min(pe.y,oe.y),y2:Math.max(pe.y,oe.y)};Kt(Ie)}We()}},[We,M,R,tt,Kt]),cr=g.useCallback(async()=>{if(!H.length)return;const W=new Set($e.filter(ee=>Xx(ee)).map(ee=>ee.id)),G=new Set,ae=new Set;if(H.forEach(ee=>{if(ee.startsWith("pipeline:")){G.add(ee.replace(/^pipeline:/,""));return}!W.has(ee)&&$e.some(pe=>pe.id===ee)&&ae.add(ee)}),Re&&Re.nodes.forEach(ee=>{var oe;const pe=(oe=ee.config)==null?void 0:oe.agentId;pe&&ae.has(pe)&&G.add(ee.id)}),Re&&G.size>0){const ee=Re.nodes.filter(oe=>!G.has(oe.id)),pe=Re.edges.filter(oe=>!G.has(oe.from)&&!G.has(oe.to));ht({...Re,nodes:ee,edges:pe},null),u(oe=>{const Ie={...oe};return G.forEach(_e=>{delete Ie[_e],delete Ie[`pipeline:${_e}`]}),Ie}),_(oe=>oe.filter(Ie=>!G.has(Ie.source)&&!G.has(Ie.target))),te(!0)}if(ae.size>0){for(const ee of ae)try{await Nr.mutateAsync(ee)}catch(pe){console.error("[automation-builder] failed to delete agent",pe)}u(ee=>{const pe={...ee};return ae.forEach(oe=>{delete pe[oe],delete pe[`pipeline:${oe}`]}),pe}),_(ee=>ee.filter(pe=>!ae.has(pe.source)&&!ae.has(pe.target)))}xt(),vt(null)},[$e,Re,xt,Nr,vt,H,te,_,u,ht]);g.useEffect(()=>{const W=G=>{(G.key==="Delete"||G.key==="Backspace")&&H.length>0&&(G.preventDefault(),cr()),G.key==="Escape"&&(M||H.length>0)&&(G.preventDefault(),xt(),vt(null))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[xt,cr,M,vt,H.length]);const co=g.useCallback(async W=>{if(await Je(),W==="__new"){await Ft();return}N(!0);try{const G=await SX(W);G?(k(ae=>{const ee=ae.findIndex(oe=>oe.id===G.id);if(ee===-1)return[...ae,G];const pe=[...ae];return pe[ee]=G,pe}),it(G),v(!0),n({title:"Loaded automation",description:G.name})):n({title:"Automation not found",description:"The selected automation could not be loaded.",variant:"destructive"})}catch(G){n({title:"Failed to load automation",description:G instanceof Error?G.message:"Unknown error occurred.",variant:"destructive"})}finally{N(!1)}},[it,Je,Ft,v,n]);g.useEffect(()=>{if(!x||x==="__new"||Qe.current)return;const W=at();W!==Ae.current&&(te(!0),ze.current&&window.clearTimeout(ze.current),console.log(`[automation-persist] Change detected  saving in ${V2/1e3}s`),ze.current=window.setTimeout(()=>{ze.current=null,ct(W).catch(G=>{console.error("[automation-persist] auto-save failed",G)})},V2))},[at,ct,x]);const ts=g.useCallback(async()=>{await Je(),n({title:"Automation saved",description:`${d.trim()||"Untitled Automation"} saved successfully.`})},[d,Je,n]),ns=g.useCallback(W=>{const G=Ou(W.id);u(ae=>{const ee=ae[G],pe={x:W.position.x,y:W.position.y};return ee&&ee.x===pe.x&&ee.y===pe.y?ae:{...ae,[G]:pe}})},[]),gi=g.useCallback((W,G)=>{G.id!=="start"&&ns(G)},[ns]),rs=g.useCallback((W,G)=>{G.id!=="start"&&ns(G)},[ns]),rt=g.useCallback(()=>{nt.current=!0,xt(),vt(null),a(!1)},[xt,vt,a]),jn=g.useCallback(()=>{s(!0)},[]),Ut=g.useCallback(W=>{var pe;if(nt.current){nt.current=!1,F([]),vt(null);return}const G=W.nodes??[],ae=new Set($e.filter(oe=>Xx(oe)).map(oe=>oe.id)),ee=G.filter(oe=>{if(oe.type!=="agent"&&oe.type!=="condition")return!1;const _e=(oe.data??{}).sourceId??(oe.id.startsWith("pipeline:")?oe.id.replace(/^pipeline:/,""):oe.id);return!(oe.type==="agent"&&_e&&ae.has(_e))}).map(oe=>oe.id);if(!(ee.length===H.length&&ee.every(oe=>H.includes(oe))))if(F(ee),ee.length===1){const[oe]=ee;let Ie=null;if(oe.startsWith("pipeline:")){const _e=oe.replace(/^pipeline:/,""),ot=Re==null?void 0:Re.nodes.find(lt=>lt.id===_e),wt=((pe=ot==null?void 0:ot.config)==null?void 0:pe.agentId)??null;wt&&!ae.has(wt)&&(Ie=wt)}else ae.has(oe)||(Ie=oe);Ie&&$e.some(_e=>_e.id===Ie)?vt(Ie):vt(null)}else vt(null)},[$e,Re,vt,H]),tn=g.useMemo(()=>{const W=$e.length,G=E.length,ae=Object.values(yt).length;return{totalAgents:W,savedConnections:G,liveConnections:ae}},[$e.length,yt,E.length]),ln=g.useMemo(()=>{if(!I)return null;try{return new Date(I.updatedAt).toLocaleString()}catch{return I.updatedAt}},[I]),jr=g.useCallback(W=>{const G=[];W.name&&G.push({type:"update_metadata",name:W.name});const ae=[];W.steps.forEach((ee,pe)=>{const oe=ee.id||`step_${pe+1}`;ae.push(oe),ee.type==="node"?G.push({type:"create_node",node:{id:oe,label:ee.name??ee.node,agentType:ee.node,type:"Action",config:{inputs:ee.inputs??{}}}}):G.push({type:"create_node",node:{id:oe,label:ee.description??`Condition: ${ee.condition}`,agentType:oe,type:"Processor",config:{metadata:{condition:ee.condition}}}})});for(let ee=0;ee<ae.length-1;ee+=1)G.push({type:"connect_nodes",from:ae[ee],to:ae[ee+1]});return G},[]),Ln=g.useCallback(W=>{const G=Array.from(new Set(W.steps.filter(ae=>{var ee;return ae.type==="node"&&(ae.node==="atlas.workflow.clarify"||Array.isArray((ee=ae.inputs)==null?void 0:ee.questions))}).flatMap(ae=>{var pe;if(ae.type!=="node")return[];const ee=(pe=ae.inputs)==null?void 0:pe.questions;return Array.isArray(ee)?ee.map(oe=>String(oe)):[]}).filter(ae=>ae&&ae.trim().length>0)));return G.length===0?!1:(et(W),he(G),se({}),Ce(!0),ie("Need a couple quick clarifications before generating."),!0)},[]),Hf=g.useCallback(async()=>{if(!Ve){Ce(!1);return}const W={...je},G={...Ve,steps:Ve.steps.filter(oe=>!(oe.type==="node"&&oe.node==="atlas.workflow.clarify")).map(oe=>{var Ie;return oe.type==="node"?{...oe,inputs:{...oe.inputs??{},clarifications:W,exhaust_id:((Ie=oe.inputs)==null?void 0:Ie.exhaust_id)??W["Which exhaust source should I monitor?"]}}:oe}),requiredNodes:(Ve.requiredNodes??[]).filter(oe=>oe!=="atlas.workflow.clarify")},ae=jr(G),ee=await Ht(ae),pe=ee??` Planned workflow "${G.name||"New Workflow"}" with ${G.steps.length} steps.`;ie(pe),ce(""),n({title:pe.startsWith("")?pe:` ${pe}`,description:ee&&ee!==pe?ee:void 0}),Ce(!1),et(null),he([]),se({})},[Ht,Ve,jr,n]),Ug=g.useCallback(async W=>{W.preventDefault();const G=Q.trim();if(!G||fe)return;ge.current=G,me(!0),ie("Routing prompt...");let ae=!1;const ee=x==="__new"&&(!Re||Re.nodes.length===0);try{try{if(ee)throw{status:422};const lt=await Ye.dispatchToolAgentPrompt(G,{limit:25});ie(`Dispatched to ${lt.agent.name}. Check the Tool Agent Console for runtime output.`),ce(""),n({title:`Sent to ${lt.agent.name}`,description:"Open the Tool Agent Console to monitor the agent logs."});return}catch(lt){const Vn=lt.status,Hr=lt instanceof Error||typeof lt.message=="string"?lt.message:"",Vr=Hr.toLowerCase().includes("no tool agents");if(Vn===422||Vr||typeof Vn=="number"&&Vn>=500)ae=!0,ie("Interpreting prompt...");else{ie(` ${Hr}`),n({title:"Prompt dispatch failed",description:Hr,variant:"destructive"});return}}if(!ae)return;const pe=await Ye.compileWorkflow(G);if(Ln(pe))return;const oe=jr(pe);if(!oe.length)throw new Error("Workflow compiler returned no steps.");const Ie=await Ht(oe),_e=Ie??` Planned workflow "${pe.name||"New Workflow"}" with ${pe.steps.length} steps.`;ie(_e),ce("");const ot=_e.startsWith("")?_e:` ${_e}`;n({title:ot,description:Ie&&Ie!==_e?Ie:void 0})}catch(pe){console.error("[automation-builder] prompt submission failed",pe);const oe=pe instanceof Error?pe.message:"Unknown error occurred.";ie("Could not understand prompt."),n({title:" Could not process prompt",description:oe,variant:"destructive"})}finally{me(!1)}},[Ht,fe,Ln,jr,Q,n]);return c.jsxs("div",{className:"h-screen w-full flex bg-[#0b0b0f]",onMouseDownCapture:Et,children:[c.jsxs("div",{ref:_t,className:"flex-1 relative",onMouseDown:Jt,onMouseMove:Zt,onMouseUp:en,onMouseLeave:Hn,children:[c.jsxs(J3,{nodes:xe,edges:ye,onNodeDrag:gi,onNodeDragStop:rs,onPaneClick:rt,onMove:jn,onSelectionChange:Ut,nodeTypes:TX,fitView:!0,fitViewOptions:{padding:.35,includeHiddenNodes:!0},className:"bg-[#0b0b0f] dot-grid-background",onInit:W=>{Gt(W),requestAnimationFrame(()=>{try{W.fitView({padding:.35,includeHiddenNodes:!0,duration:300})}catch(G){console.warn("[agent-network] initial fitView failed",G)}})},panOnDrag:!Z,selectionOnDrag:Z,children:[c.jsx(oY,{variant:_o.Dots,gap:20,size:1,color:"#222",className:"opacity-50"}),c.jsxs(QK,{className:"bg-card/80 backdrop-blur-sm border border-border rounded-lg",children:[c.jsx("button",{type:"button",title:"Lasso select (toggle)",className:de("react-flow__controls-button hover:bg-primary/70",Z?"bg-primary text-primary-foreground":"bg-transparent text-white/80"),onClick:()=>re(!0),children:c.jsx(S$,{className:"h-4 w-4"})}),c.jsx("button",{type:"button",title:"Pan mode (toggle)",className:de("react-flow__controls-button hover:bg-primary/70",Z?"bg-transparent text-white/80":"bg-primary text-primary-foreground"),onClick:()=>re(!1),children:c.jsx(l$,{className:"h-4 w-4"})})]}),o&&c.jsx(HK,{className:"!bg-card/60 !backdrop-blur-sm border border-border/50 rounded-lg",maskColor:"rgba(11, 11, 15, 0.6)",nodeColor:W=>W.type==="start"?"#10b981":"#3b82f6"})]}),D?c.jsx("div",{className:"pointer-events-none absolute rounded-sm border border-sky-400/70 bg-sky-400/20",style:{left:D.left,top:D.top,width:D.width,height:D.height}}):null,fe&&c.jsx("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 bg-neutral-900 border border-neutral-800 px-4 py-2 rounded-xl text-sm text-neutral-400 animate-pulse",children:"Interpreting prompt..."}),c.jsxs(It,{className:"absolute left-1/2 top-6 z-30 w-[420px] -translate-x-1/2 bg-black/40 backdrop-blur border border-white/10 shadow-lg",children:[c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>v(W=>!W),onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),v(G=>!G))},className:"flex w-full items-center gap-3 px-5 py-4 text-left transition hover:bg-white/5",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10",children:c.jsx(ZE,{className:"h-5 w-5 text-white/80"})}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-white/60",children:"Automation"}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("span",{className:"flex items-center gap-1 text-xs font-semibold text-white/80",children:[c.jsx("span",{className:de("inline-flex h-2.5 w-2.5 rounded-full shadow-[0_0_8px]",An?"bg-amber-400 shadow-amber-400/70":"bg-emerald-400 shadow-emerald-400/60")}),An?"Unsaved":"Saved"]})})]}),y?c.jsx(Nt,{autoFocus:!0,value:d,onChange:W=>h(W.target.value),onBlur:()=>b(!1),onKeyDown:W=>{W.key==="Enter"&&W.currentTarget.blur()},placeholder:`${r} launch playbook`,"aria-label":"Automation name",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"}):c.jsx("button",{type:"button",className:"w-full text-sm font-medium text-white text-left hover:text-white/80",onClick:()=>b(!0),children:d.trim()||"Name your automation"})]}),c.jsx(Xs,{className:de("h-4 w-4 text-white/70 transition-transform duration-300",p?"rotate-180":"rotate-0")})]}),p&&c.jsxs("div",{className:"space-y-4 border-t border-white/10 px-5 py-4",children:[j?c.jsx("div",{className:"rounded-lg border border-red-400/40 bg-red-900/20 px-3 py-2 text-xs text-red-200",children:j}):null,c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Load existing"}),c.jsxs(ya,{value:x,onValueChange:co,disabled:C||U,children:[c.jsx(ai,{className:"border-white/10 bg-white/5 text-white",children:c.jsx(va,{placeholder:S.length?"Select automation":"No automations saved yet"})}),c.jsxs(li,{className:"bg-black/80 backdrop-blur border-white/10 text-white",children:[S.map(W=>c.jsx(sn,{value:W.id,children:W.name},W.id)),c.jsx(sn,{value:"__new",children:"New automation"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Name"}),c.jsx(Nt,{value:d,onChange:W=>h(W.target.value),placeholder:`${r} launch playbook`,"aria-label":"Automation name",className:"border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Description"}),c.jsx(zn,{value:f,onChange:W=>m(W.target.value),placeholder:"High-level goal or context for this automation","aria-label":"Automation description",className:"min-h-[72px] border-white/10 bg-white/5 text-white placeholder:text-white/40"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Blueprint Snapshot"}),c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-xs text-white/80 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Agents mapped"}),c.jsx("span",{className:"font-semibold text-white",children:tn.totalAgents})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Saved connections"}),c.jsx("span",{className:"font-semibold text-white",children:tn.savedConnections})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Live connections"}),c.jsx("span",{className:"font-semibold text-white",children:tn.liveConnections})]}),ln?c.jsxs("div",{className:"flex items-center justify-between text-white/60",children:[c.jsx("span",{children:"Last saved"}),c.jsx("span",{children:ln})]}):c.jsx("div",{className:"text-white/60",children:"Not saved yet."})]})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx(le,{variant:"ghost",className:"text-white/70 hover:bg-white/10",onClick:()=>v(!1),children:"Close"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le,{variant:"destructive",className:"text-white",onClick:Jn,disabled:U||C||z,children:z?"Deleting":"Delete"}),c.jsx(le,{variant:"outline",className:"border-white/20 text-white hover:bg-white/10",onClick:Ft,disabled:U||C,children:U?"Working":"New"}),c.jsx(le,{className:"bg-white/10 hover:bg-white/20 text-white",disabled:U||C,onClick:ts,children:U?"Saving":"Save"})]})]})]})]}),c.jsxs(le,{onClick:()=>a(!0),disabled:lo,className:"absolute top-6 right-6 rounded-full h-11 px-6 bg-primary/90 hover:bg-primary text-primary-foreground shadow-lg backdrop-blur-sm border border-white/10",children:[c.jsx(bf,{className:"h-4 w-4 mr-2"}),"New Agent"]}),c.jsx("div",{className:"pointer-events-none absolute bottom-6 left-1/2 z-30 flex -translate-x-1/2 justify-center px-6",children:c.jsxs("form",{onSubmit:Ug,className:"pointer-events-auto flex w-full min-w-[320px] max-w-[680px] flex-col items-center gap-2",children:[c.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-white/20 bg-black/60 px-4 py-2.5 text-sm text-white/80 backdrop-blur-lg shadow-lg",children:[c.jsx("label",{htmlFor:"automation-prompt",className:"sr-only",children:"Automation prompt"}),c.jsx("input",{id:"automation-prompt",name:"automation-prompt",value:Q,onChange:W=>ce(W.target.value),className:"flex-1 bg-transparent text-sm text-white placeholder:text-white/40 focus:outline-none",placeholder:"Type in a change youd like to see","aria-label":"Automation prompt",disabled:fe}),c.jsx(le,{type:"submit",size:"icon",className:"h-9 w-9 rounded-full border border-white/30 bg-white/10 text-white hover:bg-white/20",disabled:fe||Q.trim().length===0,children:fe?c.jsx(On,{className:"h-4 w-4 animate-spin"}):c.jsx(JE,{className:"h-4 w-4"})})]}),ke&&!ke.toLowerCase().startsWith("awaiting_key")?c.jsx("span",{className:"text-xs text-white/60",children:ke}):null]})})]}),c.jsx("div",{className:de("fixed top-0 right-0 h-full w-[400px] max-w-[400px] border-l border-border/40 bg-background/60 backdrop-blur transition-transform duration-500 ease-out z-50",Ke?"translate-x-0":"translate-x-full"),"data-agent-drawer":!0,style:{willChange:"transform"},children:Ke&&c.jsx(JY,{agent:Ke,onDelete:W=>Nr.mutateAsync(W),onUpdate:(W,G)=>Cr.mutateAsync({id:W,updates:G}),isDeleting:Nr.isPending,isSaving:Cr.isPending})}),c.jsx(gX,{open:i,onOpenChange:a,onCreateManual:async W=>{await Qn.mutateAsync(W)},onGenerateFromPrompt:async(W,G)=>{const ae=await Ye.buildAgentFromPrompt(W,G);return n({title:"Agent generated",description:ae.spec.name}),e.invalidateQueries({queryKey:["agents"]}),ae}}),c.jsx(ui,{open:Le,onOpenChange:Ce,children:c.jsxs(Ns,{className:"max-w-xl w-[92vw] rounded-3xl border border-white/10 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 shadow-2xl",children:[c.jsxs(di,{children:[c.jsx(fi,{className:"text-2xl font-semibold text-white",children:"One more thing"}),c.jsx(_g,{className:"text-sm text-white/70",children:"A couple of quick details before I generate your workflow."})]}),c.jsx("div",{className:"space-y-4 mt-2",children:De.map(W=>c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[c.jsx("div",{className:"text-sm text-white/80 mb-2",children:W}),c.jsx(Nt,{value:je[W]??"",onChange:G=>se(ae=>({...ae,[W]:G.target.value})),placeholder:"Type your answer","aria-label":W,className:"bg-white/5 border-white/10 text-white placeholder:text-white/40"})]},W))}),c.jsxs(Vb,{className:"flex justify-end gap-2",children:[c.jsx(le,{variant:"ghost",onClick:()=>Ce(!1),children:"Cancel"}),c.jsx(le,{onClick:Hf,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Continue"})]})]})})]})}const MX={P1:"bg-red-500/20 text-red-400 border-red-500/30",P2:"bg-orange-500/20 text-orange-400 border-orange-500/30",P3:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",P4:"bg-green-500/20 text-green-400 border-green-500/30"};function RX({tickets:e,selectedTicket:n,onSelectTicket:r}){const o=e.reduce((i,a)=>(i[a.priority]||(i[a.priority]=[]),i[a.priority].push(a),i),{}),s=["P1","P2","P3","P4"];return c.jsx("div",{className:"space-y-6",children:s.map(i=>{const a=o[i];return a!=null&&a.length?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:de("text-xs font-medium px-2 py-0.5 rounded border",MX[i]),children:i}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.length," ticket",a.length>1?"s":""]})]}),c.jsx("div",{className:"space-y-2",children:a.map(l=>c.jsxs("button",{onClick:()=>r(l),className:de("w-full text-left p-3 rounded-lg border transition-all",(n==null?void 0:n.id)===l.id?"bg-atlas-glow/10 border-atlas-glow/50":"bg-card/50 border-border/50 hover:border-border hover:bg-card/80"),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:l.key}),c.jsx("span",{className:de("text-[10px] px-1.5 py-0.5 rounded",l.status==="open"?"bg-blue-500/20 text-blue-400":l.status==="in-progress"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:l.status})]}),c.jsx("p",{className:"text-sm font-medium text-foreground line-clamp-1",children:l.title}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:l.description})]},l.id))})]},i):null})})}function IX({ticket:e,onBack:n,details:r,similarIssues:o,similarLoading:s}){const[i,a]=g.useState("Comments"),[l,u]=g.useState(!0),d=["All","Comments","History","Work log","Approvals"],h=(r==null?void 0:r.comments)??e.comments??[],f=o==null?void 0:o[0],m=p=>{if(!p)return"recently";const v=new Date(p);if(Number.isNaN(v.getTime()))return"recently";const y=Date.now()-v.getTime(),b=Math.floor(y/(1e3*60*60*24));if(b<=0)return"today";if(b===1)return"yesterday";if(b<30)return`${b} days ago`;const x=Math.floor(b/30);if(x<12)return`${x} month${x===1?"":"s"} ago`;const w=Math.floor(x/12);return`${w} year${w===1?"":"s"} ago`};return c.jsxs("div",{className:"flex flex-col h-full break-words",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[c.jsx(YL,{className:"w-4 h-4"}),"Back"]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-xs px-2 py-0.5 rounded",children:e.key})}),c.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[c.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:c.jsx(UE,{className:"w-4 h-4"})}),c.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:c.jsx(Xs,{className:"w-4 h-4"})})]})]}),c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:e.title}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[c.jsxs(le,{variant:"outline",size:"sm",className:"text-xs h-8",children:[c.jsx("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Create subtask"]}),c.jsxs(le,{variant:"outline",size:"sm",className:"text-xs h-8",children:[c.jsx(f$,{className:"w-3.5 h-3.5 mr-1.5"}),"Link work item"]}),c.jsxs(le,{variant:"outline",size:"sm",className:"text-xs h-8",children:["Create",c.jsx(Xs,{className:"w-3 h-3 ml-1"})]}),c.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",children:c.jsx(WE,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-xs font-medium text-white",children:e.reporter.split(" ").map(p=>p[0]).join("")}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-medium text-foreground",children:e.reporter}),c.jsx("span",{className:"text-muted-foreground",children:" raised this request via "}),c.jsx("span",{className:"font-medium text-foreground",children:e.source})]}),r!=null&&r.url?c.jsx("a",{href:r.url,target:"_blank",rel:"noreferrer",className:"text-xs text-atlas-glow hover:underline",children:"View request in portal"}):c.jsx("span",{className:"text-xs text-muted-foreground",children:"View request in portal"})]})]}),c.jsxs("button",{onClick:()=>u(!l),className:"text-xs text-atlas-glow hover:underline",children:[l?"Hide":"Show"," details"]})]}),l&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),r!=null&&r.descriptionHtml?c.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.descriptionHtml}}):c.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:e.description||"No description provided."})]})]}),c.jsxs("div",{className:"bg-card/50 border border-border/50 rounded-lg p-4 mb-6 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-medium text-foreground",children:"Similar requests"}),c.jsx(Xs,{className:"w-4 h-4 text-muted-foreground"})]}),s?c.jsx("p",{className:"text-xs text-muted-foreground",children:"Loading similar requests"}):f?c.jsxs("div",{className:"rounded-lg border border-atlas-glow/40 bg-atlas-glow/10 p-3 shadow-md",children:[c.jsxs("p",{className:"text-sm font-semibold text-foreground",children:["Ticket ",f.key," looks similar  solved ",m(f.updatedAt),"."]}),f.solvedBy&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Resolved by ",f.solvedBy]}),f.summary&&c.jsx("p",{className:"text-sm text-foreground mt-2",children:f.summary}),f.howSolved&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[c.jsx("span",{className:"font-medium text-foreground",children:"How it was solved:"})," ",f.howSolved]}),f.rootCause&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium text-foreground",children:"Root cause:"})," ",f.rootCause]}),f.resolutionComment&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium text-foreground",children:"Resolution notes:"})," ",f.resolutionComment]}),c.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-atlas-glow",children:[c.jsx("span",{className:"font-medium",children:"Link to ticket:"}),c.jsx("span",{className:"text-foreground/80",children:f.key})]})]}):c.jsx("p",{className:"text-xs text-muted-foreground",children:"No similar solved tickets found yet."})]}),c.jsxs("div",{className:"flex-1 min-h-0",children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Activity"}),c.jsx("div",{className:"flex flex-wrap items-center gap-1 mb-4",children:d.map(p=>c.jsx("button",{onClick:()=>a(p),className:de("px-3 py-1.5 text-xs rounded-md transition-colors",i===p?"bg-atlas-glow/20 text-atlas-glow":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:p},p))}),c.jsxs("div",{className:"flex items-center gap-3 bg-card/50 border border-border/50 rounded-lg p-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-xs font-medium text-white",children:"ZM"}),c.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[c.jsx("button",{className:"text-xs text-atlas-glow hover:underline",children:"Add internal note"}),c.jsx("span",{className:"text-muted-foreground",children:"/"}),c.jsx("button",{className:"text-xs text-atlas-glow hover:underline",children:"Reply to customer"})]}),c.jsx(le,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:c.jsx(y$,{className:"w-4 h-4"})})]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[c.jsx("span",{className:"font-medium",children:"Pro tip:"})," press"," ",c.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-[10px]",children:"M"})," to comment"]}),h.length>0&&c.jsx("div",{className:"mt-4 space-y-3",children:h.map((p,v)=>c.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:p.author||"Comment"}),p.created&&c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(p.created).toLocaleString()})]}),c.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:p.body||"No content"})]},v))}),o&&o.length>0&&c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Similar solved tickets"}),c.jsx("div",{className:"space-y-3",children:o.map((p,v)=>c.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:p.key}),p.similarityScore!==void 0&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[(p.similarityScore*100).toFixed(0),"% match"]})]}),p.updatedAt&&c.jsxs("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:["Updated ",m(p.updatedAt)]}),p.summary&&c.jsx("p",{className:"text-sm text-foreground mt-1",children:p.summary}),p.howSolved&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium",children:"How solved:"})," ",p.howSolved]}),p.rootCause&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium",children:"Root cause:"})," ",p.rootCause]}),p.resolutionComment&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium",children:"Resolution comment:"})," ",p.resolutionComment]}),p.solvedBy&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium",children:"Solved by:"})," ",p.solvedBy]}),p.timeTaken&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.jsx("span",{className:"font-medium",children:"Time taken:"})," ",p.timeTaken]})]},p.key||v))})]})]})]})}function OX({tickets:e,selectedTicket:n,onSelectTicket:r,onClearSelection:o,onResolveTicket:s,loading:i,issueDetails:a,similarIssues:l,similarLoading:u,view:d="pending",onChangeView:h}){const f=e.filter(m=>d==="pending"?m.status!=="closed":m.status==="closed");return c.jsx("div",{className:"h-full bg-card/30 backdrop-blur-sm border border-border/50 rounded-2xl p-5 flex flex-col",children:n?c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"flex-1 overflow-y-auto pr-1",children:c.jsx(IX,{ticket:n,onBack:o,details:a==null?void 0:a[n.key],similarIssues:l==null?void 0:l[n.key],similarLoading:u==null?void 0:u[n.key]})}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{onClick:()=>s==null?void 0:s(n),className:"w-full text-center py-2 px-3 rounded-md bg-blue-500 text-white text-sm font-medium hover:bg-blue-600 transition-colors",children:"Resolve ticket"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("button",{onClick:()=>h==null?void 0:h("pending"),className:de("flex-1 text-sm py-2 rounded-lg border",d==="pending"?"border-atlas-glow/60 text-foreground":"border-border/50 text-muted-foreground hover:text-foreground"),children:"Pending"}),c.jsx("button",{onClick:()=>h==null?void 0:h("resolved"),className:de("flex-1 text-sm py-2 rounded-lg border",d==="resolved"?"border-atlas-glow/60 text-foreground":"border-border/50 text-muted-foreground hover:text-foreground"),children:"Resolved"})]}),c.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Your Tickets"}),i?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading your assigned Jira issues..."}):f.length?c.jsx(RX,{tickets:f,selectedTicket:n,onSelectTicket:r}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No assigned Jira issues found."})]})})}async function W2(e,n={}){const r=await fetch(`${hr}/connectors/jira/api/issues/${encodeURIComponent(e)}`,{headers:{"Content-Type":"application/json",...n},credentials:"include"});if(!r.ok){const s=await r.text();throw new Error(s||r.statusText)}return(await r.json()).issue}function DX(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const LX=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$X=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zX={};function q2(e,n){return(zX.jsx?$X:LX).test(e)}const FX=/[ \t\n\f\r]/g;function UX(e){return typeof e=="object"?e.type==="text"?G2(e.value):!1:G2(e)}function G2(e){return e.replace(FX,"")===""}class zf{constructor(n,r,o){this.normal=r,this.property=n,o&&(this.space=o)}}zf.prototype.normal={};zf.prototype.property={};zf.prototype.space=void 0;function LM(e,n){const r={},o={};for(const s of e)Object.assign(r,s.property),Object.assign(o,s.normal);return new zf(r,o,n)}function dv(e){return e.toLowerCase()}class Ur{constructor(n,r){this.attribute=r,this.property=n}}Ur.prototype.attribute="";Ur.prototype.booleanish=!1;Ur.prototype.boolean=!1;Ur.prototype.commaOrSpaceSeparated=!1;Ur.prototype.commaSeparated=!1;Ur.prototype.defined=!1;Ur.prototype.mustUseProperty=!1;Ur.prototype.number=!1;Ur.prototype.overloadedBoolean=!1;Ur.prototype.property="";Ur.prototype.spaceSeparated=!1;Ur.prototype.space=void 0;let BX=0;const dt=jl(),En=jl(),fv=jl(),be=jl(),Yt=jl(),bc=jl(),Gr=jl();function jl(){return 2**++BX}const hv=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:En,commaOrSpaceSeparated:Gr,commaSeparated:bc,number:be,overloadedBoolean:fv,spaceSeparated:Yt},Symbol.toStringTag,{value:"Module"})),Jx=Object.keys(hv);class qb extends Ur{constructor(n,r,o,s){let i=-1;if(super(n,r),K2(this,"space",s),typeof o=="number")for(;++i<Jx.length;){const a=Jx[i];K2(this,Jx[i],(o&hv[a])===hv[a])}}}qb.prototype.defined=!0;function K2(e,n,r){r&&(e[n]=r)}function fu(e){const n={},r={};for(const[o,s]of Object.entries(e.properties)){const i=new qb(o,e.transform(e.attributes||{},o),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(o)&&(i.mustUseProperty=!0),n[o]=i,r[dv(o)]=o,r[dv(i.attribute)]=o}return new zf(n,r,e.space)}const $M=fu({properties:{ariaActiveDescendant:null,ariaAtomic:En,ariaAutoComplete:null,ariaBusy:En,ariaChecked:En,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Yt,ariaCurrent:null,ariaDescribedBy:Yt,ariaDetails:null,ariaDisabled:En,ariaDropEffect:Yt,ariaErrorMessage:null,ariaExpanded:En,ariaFlowTo:Yt,ariaGrabbed:En,ariaHasPopup:null,ariaHidden:En,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Yt,ariaLevel:be,ariaLive:null,ariaModal:En,ariaMultiLine:En,ariaMultiSelectable:En,ariaOrientation:null,ariaOwns:Yt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:En,ariaReadOnly:En,ariaRelevant:null,ariaRequired:En,ariaRoleDescription:Yt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:En,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function zM(e,n){return n in e?e[n]:n}function FM(e,n){return zM(e,n.toLowerCase())}const HX=fu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bc,acceptCharset:Yt,accessKey:Yt,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:Yt,autoFocus:dt,autoPlay:dt,blocking:Yt,capture:null,charSet:null,checked:dt,cite:null,className:Yt,cols:be,colSpan:null,content:null,contentEditable:En,controls:dt,controlsList:Yt,coords:be|bc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:fv,draggable:En,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:Yt,height:be,hidden:fv,high:be,href:null,hrefLang:null,htmlFor:Yt,httpEquiv:Yt,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:Yt,itemRef:Yt,itemScope:dt,itemType:Yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:be,pattern:null,ping:Yt,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:Yt,required:dt,reversed:dt,rows:be,rowSpan:be,sandbox:Yt,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:En,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:En,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Yt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:En,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:FM}),VX=fu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gr,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bc,g2:bc,glyphName:bc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:Gr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gr,rev:Gr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gr,requiredFeatures:Gr,requiredFonts:Gr,requiredFormats:Gr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:Gr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gr,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zM}),UM=fu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),BM=fu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:FM}),HM=fu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),WX={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qX=/[A-Z]/g,Y2=/-[a-z]/g,GX=/^data[-\w.:]+$/i;function KX(e,n){const r=dv(n);let o=n,s=Ur;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&GX.test(n)){if(n.charAt(4)==="-"){const i=n.slice(5).replace(Y2,XX);o="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=n.slice(4);if(!Y2.test(i)){let a=i.replace(qX,YX);a.charAt(0)!=="-"&&(a="-"+a),n="data"+a}}s=qb}return new s(o,n)}function YX(e){return"-"+e.toLowerCase()}function XX(e){return e.charAt(1).toUpperCase()}const QX=LM([$M,HX,UM,BM,HM],"html"),Gb=LM([$M,VX,UM,BM,HM],"svg");function JX(e){return e.join(" ").trim()}var Kb={},X2=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ZX=/\n/g,eQ=/^\s*/,tQ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,nQ=/^:\s*/,rQ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,oQ=/^[;\s]*/,sQ=/^\s+|\s+$/g,iQ=`
`,Q2="/",J2="*",Ia="",aQ="comment",lQ="declaration";function cQ(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var r=1,o=1;function s(v){var y=v.match(ZX);y&&(r+=y.length);var b=v.lastIndexOf(iQ);o=~b?v.length-b:o+v.length}function i(){var v={line:r,column:o};return function(y){return y.position=new a(v),d(),y}}function a(v){this.start=v,this.end={line:r,column:o},this.source=n.source}a.prototype.content=e;function l(v){var y=new Error(n.source+":"+r+":"+o+": "+v);if(y.reason=v,y.filename=n.source,y.line=r,y.column=o,y.source=e,!n.silent)throw y}function u(v){var y=v.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function d(){u(eQ)}function h(v){var y;for(v=v||[];y=f();)y!==!1&&v.push(y);return v}function f(){var v=i();if(!(Q2!=e.charAt(0)||J2!=e.charAt(1))){for(var y=2;Ia!=e.charAt(y)&&(J2!=e.charAt(y)||Q2!=e.charAt(y+1));)++y;if(y+=2,Ia===e.charAt(y-1))return l("End of comment missing");var b=e.slice(2,y-2);return o+=2,s(b),e=e.slice(y),o+=2,v({type:aQ,comment:b})}}function m(){var v=i(),y=u(tQ);if(y){if(f(),!u(nQ))return l("property missing ':'");var b=u(rQ),x=v({type:lQ,property:Z2(y[0].replace(X2,Ia)),value:b?Z2(b[0].replace(X2,Ia)):Ia});return u(oQ),x}}function p(){var v=[];h(v);for(var y;y=m();)y!==!1&&(v.push(y),h(v));return v}return d(),p()}function Z2(e){return e?e.replace(sQ,Ia):Ia}var uQ=cQ,dQ=hp&&hp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kb,"__esModule",{value:!0});Kb.default=hQ;const fQ=dQ(uQ);function hQ(e,n){let r=null;if(!e||typeof e!="string")return r;const o=(0,fQ.default)(e),s=typeof n=="function";return o.forEach(i=>{if(i.type!=="declaration")return;const{property:a,value:l}=i;s?n(a,l,i):l&&(r=r||{},r[a]=l)}),r}var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.camelCase=void 0;var pQ=/^--[a-zA-Z0-9_-]+$/,mQ=/-([a-z])/g,gQ=/^[^-]+$/,xQ=/^-(webkit|moz|ms|o|khtml)-/,yQ=/^-(ms)-/,vQ=function(e){return!e||gQ.test(e)||pQ.test(e)},wQ=function(e,n){return n.toUpperCase()},eN=function(e,n){return"".concat(n,"-")},bQ=function(e,n){return n===void 0&&(n={}),vQ(e)?e:(e=e.toLowerCase(),n.reactCompat?e=e.replace(yQ,eN):e=e.replace(xQ,eN),e.replace(mQ,wQ))};Eg.camelCase=bQ;var SQ=hp&&hp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},kQ=SQ(Kb),NQ=Eg;function pv(e,n){var r={};return!e||typeof e!="string"||(0,kQ.default)(e,function(o,s){o&&s&&(r[(0,NQ.camelCase)(o,n)]=s)}),r}pv.default=pv;var CQ=pv;const jQ=Zc(CQ),VM=WM("end"),Yb=WM("start");function WM(e){return n;function n(r){const o=r&&r.position&&r.position[e]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function _Q(e){const n=Yb(e),r=VM(e);if(n&&r)return{start:n,end:r}}function gd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tN(e.position):"start"in e||"end"in e?tN(e):"line"in e||"column"in e?mv(e):""}function mv(e){return nN(e&&e.line)+":"+nN(e&&e.column)}function tN(e){return mv(e&&e.start)+"-"+mv(e&&e.end)}function nN(e){return e&&typeof e=="number"?e:1}class lr extends Error{constructor(n,r,o){super(),typeof r=="string"&&(o=r,r=void 0);let s="",i={},a=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof n=="string"?s=n:!i.cause&&n&&(a=!0,s=n.message,i.cause=n),!i.ruleId&&!i.source&&typeof o=="string"){const u=o.indexOf(":");u===-1?i.ruleId=o:(i.source=o.slice(0,u),i.ruleId=o.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=gd(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}lr.prototype.file="";lr.prototype.name="";lr.prototype.reason="";lr.prototype.message="";lr.prototype.stack="";lr.prototype.column=void 0;lr.prototype.line=void 0;lr.prototype.ancestors=void 0;lr.prototype.cause=void 0;lr.prototype.fatal=void 0;lr.prototype.place=void 0;lr.prototype.ruleId=void 0;lr.prototype.source=void 0;const Xb={}.hasOwnProperty,EQ=new Map,TQ=/[A-Z]/g,AQ=new Set(["table","tbody","thead","tfoot","tr"]),PQ=new Set(["td","th"]),qM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function MQ(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let o;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=FQ(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=zQ(r,n.jsx,n.jsxs)}const s={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:o,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Gb:QX,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},i=GM(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function GM(e,n,r){if(n.type==="element")return RQ(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return IQ(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return DQ(e,n,r);if(n.type==="mdxjsEsm")return OQ(e,n);if(n.type==="root")return LQ(e,n,r);if(n.type==="text")return $Q(e,n)}function RQ(e,n,r){const o=e.schema;let s=o;n.tagName.toLowerCase()==="svg"&&o.space==="html"&&(s=Gb,e.schema=s),e.ancestors.push(n);const i=YM(e,n.tagName,!1),a=UQ(e,n);let l=Jb(e,n);return AQ.has(n.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!UX(u):!0})),KM(e,a,i,n),Qb(a,l),e.ancestors.pop(),e.schema=o,e.create(n,i,a,r)}function IQ(e,n){if(n.data&&n.data.estree&&e.evaluater){const o=n.data.estree.body[0];return o.type,e.evaluater.evaluateExpression(o.expression)}rf(e,n.position)}function OQ(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);rf(e,n.position)}function DQ(e,n,r){const o=e.schema;let s=o;n.name==="svg"&&o.space==="html"&&(s=Gb,e.schema=s),e.ancestors.push(n);const i=n.name===null?e.Fragment:YM(e,n.name,!0),a=BQ(e,n),l=Jb(e,n);return KM(e,a,i,n),Qb(a,l),e.ancestors.pop(),e.schema=o,e.create(n,i,a,r)}function LQ(e,n,r){const o={};return Qb(o,Jb(e,n)),e.create(n,e.Fragment,o,r)}function $Q(e,n){return n.value}function KM(e,n,r,o){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=o)}function Qb(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function zQ(e,n,r){return o;function o(s,i,a,l){const d=Array.isArray(a.children)?r:n;return l?d(i,a,l):d(i,a)}}function FQ(e,n){return r;function r(o,s,i,a){const l=Array.isArray(i.children),u=Yb(o);return n(s,i,a,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function UQ(e,n){const r={};let o,s;for(s in n.properties)if(s!=="children"&&Xb.call(n.properties,s)){const i=HQ(e,s,n.properties[s]);if(i){const[a,l]=i;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&PQ.has(n.tagName)?o=l:r[a]=l}}if(o){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return r}function BQ(e,n){const r={};for(const o of n.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&e.evaluater){const i=o.data.estree.body[0];i.type;const a=i.expression;a.type;const l=a.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else rf(e,n.position);else{const s=o.name;let i;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&e.evaluater){const l=o.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else rf(e,n.position);else i=o.value===null?!0:o.value;r[s]=i}return r}function Jb(e,n){const r=[];let o=-1;const s=e.passKeys?new Map:EQ;for(;++o<n.children.length;){const i=n.children[o];let a;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const d=s.get(u)||0;a=u+"-"+d,s.set(u,d+1)}}const l=GM(e,i,a);l!==void 0&&r.push(l)}return r}function HQ(e,n,r){const o=KX(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=o.commaSeparated?DX(r):JX(r)),o.property==="style"){let s=typeof r=="object"?r:VQ(e,String(r));return e.stylePropertyNameCase==="css"&&(s=WQ(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&o.space?WX[o.property]||o.property:o.attribute,r]}}function VQ(e,n){try{return jQ(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const o=r,s=new lr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=qM+"#cannot-parse-style-attribute",s}}function YM(e,n,r){let o;if(!r)o={type:"Literal",value:n};else if(n.includes(".")){const s=n.split(".");let i=-1,a;for(;++i<s.length;){const l=q2(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}o=a}else o=q2(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(o.type==="Literal"){const s=o.value;return Xb.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(o);rf(e)}function rf(e,n){const r=new lr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=qM+"#cannot-handle-mdx-estrees-without-createevaluater",r}function WQ(e){const n={};let r;for(r in e)Xb.call(e,r)&&(n[qQ(r)]=e[r]);return n}function qQ(e){let n=e.replace(TQ,GQ);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function GQ(e){return"-"+e.toLowerCase()}const Zx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KQ={};function Zb(e,n){const r=KQ,o=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return XM(e,o,s)}function XM(e,n,r){if(YQ(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rN(e.children,n,r)}return Array.isArray(e)?rN(e,n,r):""}function rN(e,n,r){const o=[];let s=-1;for(;++s<e.length;)o[s]=XM(e[s],n,r);return o.join("")}function YQ(e){return!!(e&&typeof e=="object")}const oN=document.createElement("i");function e1(e){const n="&"+e+";";oN.innerHTML=n;const r=oN.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function ro(e,n,r,o){const s=e.length;let i=0,a;if(n<0?n=-n>s?0:s+n:n=n>s?s:n,r=r>0?r:0,o.length<1e4)a=Array.from(o),a.unshift(n,r),e.splice(...a);else for(r&&e.splice(n,r);i<o.length;)a=o.slice(i,i+1e4),a.unshift(n,0),e.splice(...a),i+=1e4,n+=1e4}function vo(e,n){return e.length>0?(ro(e,e.length,0,n),e):n}const sN={}.hasOwnProperty;function QM(e){const n={};let r=-1;for(;++r<e.length;)XQ(n,e[r]);return n}function XQ(e,n){let r;for(r in n){const s=(sN.call(e,r)?e[r]:void 0)||(e[r]={}),i=n[r];let a;if(i)for(a in i){sN.call(s,a)||(s[a]=[]);const l=i[a];QQ(s[a],Array.isArray(l)?l:l?[l]:[])}}}function QQ(e,n){let r=-1;const o=[];for(;++r<n.length;)(n[r].add==="after"?e:o).push(n[r]);ro(e,0,0,o)}function JM(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Yo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xr=ja(/[A-Za-z]/),sr=ja(/[\dA-Za-z]/),JQ=ja(/[#-'*+\--9=?A-Z^-~]/);function fm(e){return e!==null&&(e<32||e===127)}const gv=ja(/\d/),ZQ=ja(/[\dA-Fa-f]/),eJ=ja(/[!-/:-@[-`{-~]/);function Ze(e){return e!==null&&e<-2}function qt(e){return e!==null&&(e<0||e===32)}function Ct(e){return e===-2||e===-1||e===32}const Tg=ja(new RegExp("\\p{P}|\\p{S}","u")),vl=ja(/\s/);function ja(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function hu(e){const n=[];let r=-1,o=0,s=0;for(;++r<e.length;){const i=e.charCodeAt(r);let a="";if(i===37&&sr(e.charCodeAt(r+1))&&sr(e.charCodeAt(r+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(r+1);i<56320&&l>56319&&l<57344?(a=String.fromCharCode(i,l),s=1):a=""}else a=String.fromCharCode(i);a&&(n.push(e.slice(o,r),encodeURIComponent(a)),o=r+s+1,a=""),s&&(r+=s,s=0)}return n.join("")+e.slice(o)}function Mt(e,n,r,o){const s=o?o-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(u){return Ct(u)?(e.enter(r),l(u)):n(u)}function l(u){return Ct(u)&&i++<s?(e.consume(u),l):(e.exit(r),n(u))}}const tJ={tokenize:nJ};function nJ(e){const n=e.attempt(this.parser.constructs.contentInitial,o,s);let r;return n;function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Mt(e,n,"linePrefix")}function s(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ze(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),a)}}const rJ={tokenize:oJ},iN={tokenize:sJ};function oJ(e){const n=this,r=[];let o=0,s,i,a;return l;function l(S){if(o<r.length){const k=r[o];return n.containerState=k[1],e.attempt(k[0].continuation,u,d)(S)}return d(S)}function u(S){if(o++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,s&&w();const k=n.events.length;let C=k,N;for(;C--;)if(n.events[C][0]==="exit"&&n.events[C][1].type==="chunkFlow"){N=n.events[C][1].end;break}x(o);let j=k;for(;j<n.events.length;)n.events[j][1].end={...N},j++;return ro(n.events,C+1,0,n.events.slice(k)),n.events.length=j,d(S)}return l(S)}function d(S){if(o===r.length){if(!s)return m(S);if(s.currentConstruct&&s.currentConstruct.concrete)return v(S);n.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(iN,h,f)(S)}function h(S){return s&&w(),x(o),m(S)}function f(S){return n.parser.lazy[n.now().line]=o!==r.length,a=n.now().offset,v(S)}function m(S){return n.containerState={},e.attempt(iN,p,v)(S)}function p(S){return o++,r.push([n.currentConstruct,n.containerState]),m(S)}function v(S){if(S===null){s&&w(),x(0),e.consume(S);return}return s=s||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),y(S)}function y(S){if(S===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(S);return}return Ze(S)?(e.consume(S),b(e.exit("chunkFlow")),o=0,n.interrupt=void 0,l):(e.consume(S),y)}function b(S,k){const C=n.sliceStream(S);if(k&&C.push(null),S.previous=i,i&&(i.next=S),i=S,s.defineSkip(S.start),s.write(C),n.parser.lazy[S.start.line]){let N=s.events.length;for(;N--;)if(s.events[N][1].start.offset<a&&(!s.events[N][1].end||s.events[N][1].end.offset>a))return;const j=n.events.length;let P=j,E,_;for(;P--;)if(n.events[P][0]==="exit"&&n.events[P][1].type==="chunkFlow"){if(E){_=n.events[P][1].end;break}E=!0}for(x(o),N=j;N<n.events.length;)n.events[N][1].end={..._},N++;ro(n.events,P+1,0,n.events.slice(j)),n.events.length=N}}function x(S){let k=r.length;for(;k-- >S;){const C=r[k];n.containerState=C[1],C[0].exit.call(n,e)}r.length=S}function w(){s.write([null]),i=void 0,s=void 0,n.containerState._closeFlow=void 0}}function sJ(e,n,r){return Mt(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xc(e){if(e===null||qt(e)||vl(e))return 1;if(Tg(e))return 2}function Ag(e,n,r){const o=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!o.includes(i)&&(n=i(n,r),o.push(i))}return n}const xv={name:"attention",resolveAll:iJ,tokenize:aJ};function iJ(e,n){let r=-1,o,s,i,a,l,u,d,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(o=r;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&n.sliceSerialize(e[o][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[o][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[o][1].end.offset-e[o][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[o][1].end},m={...e[r][1].start};aN(f,-u),aN(m,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...e[o][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:m},i={type:u>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[r][1].start}},s={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[o][1].end={...a.start},e[r][1].start={...l.end},d=[],e[o][1].end.offset-e[o][1].start.offset&&(d=vo(d,[["enter",e[o][1],n],["exit",e[o][1],n]])),d=vo(d,[["enter",s,n],["enter",a,n],["exit",a,n],["enter",i,n]]),d=vo(d,Ag(n.parser.constructs.insideSpan.null,e.slice(o+1,r),n)),d=vo(d,[["exit",i,n],["enter",l,n],["exit",l,n],["exit",s,n]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,d=vo(d,[["enter",e[r][1],n],["exit",e[r][1],n]])):h=0,ro(e,o-1,r-o+3,d),r=o+d.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function aJ(e,n){const r=this.parser.constructs.attentionMarkers.null,o=this.previous,s=Xc(o);let i;return a;function a(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const d=e.exit("attentionSequence"),h=Xc(u),f=!h||h===2&&s||r.includes(u),m=!s||s===2&&h||r.includes(o);return d._open=!!(i===42?f:f&&(s||!m)),d._close=!!(i===42?m:m&&(h||!f)),n(u)}}function aN(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const lJ={name:"autolink",tokenize:cJ};function cJ(e,n,r){let o=0;return s;function s(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(p){return xr(p)?(e.consume(p),a):p===64?r(p):d(p)}function a(p){return p===43||p===45||p===46||sr(p)?(o=1,l(p)):d(p)}function l(p){return p===58?(e.consume(p),o=0,u):(p===43||p===45||p===46||sr(p))&&o++<32?(e.consume(p),l):(o=0,d(p))}function u(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):p===null||p===32||p===60||fm(p)?r(p):(e.consume(p),u)}function d(p){return p===64?(e.consume(p),h):JQ(p)?(e.consume(p),d):r(p)}function h(p){return sr(p)?f(p):r(p)}function f(p){return p===46?(e.consume(p),o=0,h):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),n):m(p)}function m(p){if((p===45||sr(p))&&o++<63){const v=p===45?m:f;return e.consume(p),v}return r(p)}}const Ff={partial:!0,tokenize:uJ};function uJ(e,n,r){return o;function o(i){return Ct(i)?Mt(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||Ze(i)?n(i):r(i)}}const ZM={continuation:{tokenize:fJ},exit:hJ,name:"blockQuote",tokenize:dJ};function dJ(e,n,r){const o=this;return s;function s(a){if(a===62){const l=o.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return r(a)}function i(a){return Ct(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(a))}}function fJ(e,n,r){const o=this;return s;function s(a){return Ct(a)?Mt(e,i,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(ZM,n,r)(a)}}function hJ(e){e.exit("blockQuote")}const e5={name:"characterEscape",tokenize:pJ};function pJ(e,n,r){return o;function o(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return eJ(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(i)}}const t5={name:"characterReference",tokenize:mJ};function mJ(e,n,r){const o=this;let s=0,i,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,a=sr,h(f))}function d(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=ZQ,h):(e.enter("characterReferenceValue"),i=7,a=gv,h(f))}function h(f){if(f===59&&s){const m=e.exit("characterReferenceValue");return a===sr&&!e1(o.sliceSerialize(m))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return a(f)&&s++<i?(e.consume(f),h):r(f)}}const lN={partial:!0,tokenize:xJ},cN={concrete:!0,name:"codeFenced",tokenize:gJ};function gJ(e,n,r){const o=this,s={partial:!0,tokenize:C};let i=0,a=0,l;return u;function u(N){return d(N)}function d(N){const j=o.events[o.events.length-1];return i=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(N)}function h(N){return N===l?(a++,e.consume(N),h):a<3?r(N):(e.exit("codeFencedFenceSequence"),Ct(N)?Mt(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Ze(N)?(e.exit("codeFencedFence"),o.interrupt?n(N):e.check(lN,y,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||Ze(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):Ct(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Mt(e,p,"whitespace")(N)):N===96&&N===l?r(N):(e.consume(N),m)}function p(N){return N===null||Ze(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Ze(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===l?r(N):(e.consume(N),v)}function y(N){return e.attempt(s,k,b)(N)}function b(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return i>0&&Ct(N)?Mt(e,w,"linePrefix",i+1)(N):w(N)}function w(N){return N===null||Ze(N)?e.check(lN,y,k)(N):(e.enter("codeFlowValue"),S(N))}function S(N){return N===null||Ze(N)?(e.exit("codeFlowValue"),w(N)):(e.consume(N),S)}function k(N){return e.exit("codeFenced"),n(N)}function C(N,j,P){let E=0;return _;function _(z){return N.enter("lineEnding"),N.consume(z),N.exit("lineEnding"),I}function I(z){return N.enter("codeFencedFence"),Ct(z)?Mt(N,O,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):O(z)}function O(z){return z===l?(N.enter("codeFencedFenceSequence"),U(z)):P(z)}function U(z){return z===l?(E++,N.consume(z),U):E>=a?(N.exit("codeFencedFenceSequence"),Ct(z)?Mt(N,T,"whitespace")(z):T(z)):P(z)}function T(z){return z===null||Ze(z)?(N.exit("codeFencedFence"),j(z)):P(z)}}}function xJ(e,n,r){const o=this;return s;function s(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return o.parser.lazy[o.now().line]?r(a):n(a)}}const ey={name:"codeIndented",tokenize:vJ},yJ={partial:!0,tokenize:wJ};function vJ(e,n,r){const o=this;return s;function s(d){return e.enter("codeIndented"),Mt(e,i,"linePrefix",5)(d)}function i(d){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):r(d)}function a(d){return d===null?u(d):Ze(d)?e.attempt(yJ,a,u)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||Ze(d)?(e.exit("codeFlowValue"),a(d)):(e.consume(d),l)}function u(d){return e.exit("codeIndented"),n(d)}}function wJ(e,n,r){const o=this;return s;function s(a){return o.parser.lazy[o.now().line]?r(a):Ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):Mt(e,i,"linePrefix",5)(a)}function i(a){const l=o.events[o.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):Ze(a)?s(a):r(a)}}const bJ={name:"codeText",previous:kJ,resolve:SJ,tokenize:NJ};function SJ(e){let n=e.length-4,r=3,o,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(o=r;++o<n;)if(e[o][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(o=r-1,n++;++o<=n;)s===void 0?o!==n&&e[o][1].type!=="lineEnding"&&(s=o):(o===n||e[o][1].type==="lineEnding")&&(e[s][1].type="codeTextData",o!==s+2&&(e[s][1].end=e[o-1][1].end,e.splice(s+2,o-s-2),n-=o-s-2,o=s+2),s=void 0);return e}function kJ(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function NJ(e,n,r){let o=0,s,i;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),o++,l):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(i=e.enter("codeTextSequence"),s=0,h(f)):Ze(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),d(f))}function d(f){return f===null||f===32||f===96||Ze(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),d)}function h(f){return f===96?(e.consume(f),s++,h):s===o?(e.exit("codeTextSequence"),e.exit("codeText"),n(f)):(i.type="codeTextData",d(f))}}class CJ{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const o=r??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(n,o):n>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(n,r,o){const s=r||0;this.setCursor(Math.trunc(n));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return o&&Du(this.left,o),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Du(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Du(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);Du(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Du(this.left,r.reverse())}}}function Du(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function n5(e){const n={};let r=-1,o,s,i,a,l,u,d;const h=new CJ(e);for(;++r<h.length;){for(;r in n;)r=n[r];if(o=h.get(r),r&&o[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(u=o[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(o[0]==="enter")o[1].contentType&&(Object.assign(n,jJ(h,r)),r=n[r],d=!0);else if(o[1]._container){for(i=r,s=void 0;i--;)if(a=h.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(o[1].end={...h.get(s)[1].start},l=h.slice(s,r),l.unshift(o),h.splice(s,r-s+1,l))}}return ro(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function jJ(e,n){const r=e.get(n)[1],o=e.get(n)[2];let s=n-1;const i=[];let a=r._tokenizer;a||(a=o.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let h,f,m=-1,p=r,v=0,y=0;const b=[y];for(;p;){for(;e.get(++s)[1]!==p;);i.push(s),p._tokenizer||(h=o.sliceStream(p),p.next||h.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=r;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(y=m+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),m=b.length;m--;){const x=l.slice(b[m],b[m+1]),w=i.pop();u.push([w,w+x.length-1]),e.splice(w,2,x)}for(u.reverse(),m=-1;++m<u.length;)d[v+u[m][0]]=v+u[m][1],v+=u[m][1]-u[m][0]-1;return d}const _J={resolve:TJ,tokenize:AJ},EJ={partial:!0,tokenize:PJ};function TJ(e){return n5(e),e}function AJ(e,n){let r;return o;function o(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?i(l):Ze(l)?e.check(EJ,a,i)(l):(e.consume(l),s)}function i(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function a(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function PJ(e,n,r){const o=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Mt(e,i,"linePrefix")}function i(a){if(a===null||Ze(a))return r(a);const l=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(a):e.interrupt(o.parser.constructs.flow,r,n)(a)}}function r5(e,n,r,o,s,i,a,l,u){const d=u||Number.POSITIVE_INFINITY;let h=0;return f;function f(x){return x===60?(e.enter(o),e.enter(s),e.enter(i),e.consume(x),e.exit(i),m):x===null||x===32||x===41||fm(x)?r(x):(e.enter(o),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(x))}function m(x){return x===62?(e.enter(i),e.consume(x),e.exit(i),e.exit(s),e.exit(o),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(l),m(x)):x===null||x===60||Ze(x)?r(x):(e.consume(x),x===92?v:p)}function v(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function y(x){return!h&&(x===null||x===41||qt(x))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(o),n(x)):h<d&&x===40?(e.consume(x),h++,y):x===41?(e.consume(x),h--,y):x===null||x===32||x===40||fm(x)?r(x):(e.consume(x),x===92?b:y)}function b(x){return x===40||x===41||x===92?(e.consume(x),y):y(x)}}function o5(e,n,r,o,s,i){const a=this;let l=0,u;return d;function d(p){return e.enter(o),e.enter(s),e.consume(p),e.exit(s),e.enter(i),h}function h(p){return l>999||p===null||p===91||p===93&&!u||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?r(p):p===93?(e.exit(i),e.enter(s),e.consume(p),e.exit(s),e.exit(o),n):Ze(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Ze(p)||l++>999?(e.exit("chunkString"),h(p)):(e.consume(p),u||(u=!Ct(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function s5(e,n,r,o,s,i){let a;return l;function l(m){return m===34||m===39||m===40?(e.enter(o),e.enter(s),e.consume(m),e.exit(s),a=m===40?41:m,u):r(m)}function u(m){return m===a?(e.enter(s),e.consume(m),e.exit(s),e.exit(o),n):(e.enter(i),d(m))}function d(m){return m===a?(e.exit(i),u(a)):m===null?r(m):Ze(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Mt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===a||m===null||Ze(m)?(e.exit("chunkString"),d(m)):(e.consume(m),m===92?f:h)}function f(m){return m===a||m===92?(e.consume(m),h):h(m)}}function xd(e,n){let r;return o;function o(s){return Ze(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,o):Ct(s)?Mt(e,o,r?"linePrefix":"lineSuffix")(s):n(s)}}const MJ={name:"definition",tokenize:IJ},RJ={partial:!0,tokenize:OJ};function IJ(e,n,r){const o=this;let s;return i;function i(p){return e.enter("definition"),a(p)}function a(p){return o5.call(o,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=Yo(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),u):r(p)}function u(p){return qt(p)?xd(e,d)(p):d(p)}function d(p){return r5(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return e.attempt(RJ,f,f)(p)}function f(p){return Ct(p)?Mt(e,m,"whitespace")(p):m(p)}function m(p){return p===null||Ze(p)?(e.exit("definition"),o.parser.defined.push(s),n(p)):r(p)}}function OJ(e,n,r){return o;function o(l){return qt(l)?xd(e,s)(l):r(l)}function s(l){return s5(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Ct(l)?Mt(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Ze(l)?n(l):r(l)}}const DJ={name:"hardBreakEscape",tokenize:LJ};function LJ(e,n,r){return o;function o(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return Ze(i)?(e.exit("hardBreakEscape"),n(i)):r(i)}}const $J={name:"headingAtx",resolve:zJ,tokenize:FJ};function zJ(e,n){let r=e.length-2,o=3,s,i;return e[o][1].type==="whitespace"&&(o+=2),r-2>o&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(o===r-1||r-4>o&&e[r-2][1].type==="whitespace")&&(r-=o+1===r?2:4),r>o&&(s={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},i={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},ro(e,o,r-o+1,[["enter",s,n],["enter",i,n],["exit",i,n],["exit",s,n]])),e}function FJ(e,n,r){let o=0;return s;function s(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&o++<6?(e.consume(h),a):h===null||qt(h)?(e.exit("atxHeadingSequence"),l(h)):r(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||Ze(h)?(e.exit("atxHeading"),n(h)):Ct(h)?Mt(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||qt(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const UJ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uN=["pre","script","style","textarea"],BJ={concrete:!0,name:"htmlFlow",resolveTo:WJ,tokenize:qJ},HJ={partial:!0,tokenize:KJ},VJ={partial:!0,tokenize:GJ};function WJ(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function qJ(e,n,r){const o=this;let s,i,a,l,u;return d;function d(M){return h(M)}function h(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),f}function f(M){return M===33?(e.consume(M),m):M===47?(e.consume(M),i=!0,y):M===63?(e.consume(M),s=3,o.interrupt?n:A):xr(M)?(e.consume(M),a=String.fromCharCode(M),b):r(M)}function m(M){return M===45?(e.consume(M),s=2,p):M===91?(e.consume(M),s=5,l=0,v):xr(M)?(e.consume(M),s=4,o.interrupt?n:A):r(M)}function p(M){return M===45?(e.consume(M),o.interrupt?n:A):r(M)}function v(M){const Y="CDATA[";return M===Y.charCodeAt(l++)?(e.consume(M),l===Y.length?o.interrupt?n:O:v):r(M)}function y(M){return xr(M)?(e.consume(M),a=String.fromCharCode(M),b):r(M)}function b(M){if(M===null||M===47||M===62||qt(M)){const Y=M===47,Z=a.toLowerCase();return!Y&&!i&&uN.includes(Z)?(s=1,o.interrupt?n(M):O(M)):UJ.includes(a.toLowerCase())?(s=6,Y?(e.consume(M),x):o.interrupt?n(M):O(M)):(s=7,o.interrupt&&!o.parser.lazy[o.now().line]?r(M):i?w(M):S(M))}return M===45||sr(M)?(e.consume(M),a+=String.fromCharCode(M),b):r(M)}function x(M){return M===62?(e.consume(M),o.interrupt?n:O):r(M)}function w(M){return Ct(M)?(e.consume(M),w):_(M)}function S(M){return M===47?(e.consume(M),_):M===58||M===95||xr(M)?(e.consume(M),k):Ct(M)?(e.consume(M),S):_(M)}function k(M){return M===45||M===46||M===58||M===95||sr(M)?(e.consume(M),k):C(M)}function C(M){return M===61?(e.consume(M),N):Ct(M)?(e.consume(M),C):S(M)}function N(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),u=M,j):Ct(M)?(e.consume(M),N):P(M)}function j(M){return M===u?(e.consume(M),u=null,E):M===null||Ze(M)?r(M):(e.consume(M),j)}function P(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||qt(M)?C(M):(e.consume(M),P)}function E(M){return M===47||M===62||Ct(M)?S(M):r(M)}function _(M){return M===62?(e.consume(M),I):r(M)}function I(M){return M===null||Ze(M)?O(M):Ct(M)?(e.consume(M),I):r(M)}function O(M){return M===45&&s===2?(e.consume(M),L):M===60&&s===1?(e.consume(M),H):M===62&&s===4?(e.consume(M),D):M===63&&s===3?(e.consume(M),A):M===93&&s===5?(e.consume(M),R):Ze(M)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(HJ,$,U)(M)):M===null||Ze(M)?(e.exit("htmlFlowData"),U(M)):(e.consume(M),O)}function U(M){return e.check(VJ,T,$)(M)}function T(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),z}function z(M){return M===null||Ze(M)?U(M):(e.enter("htmlFlowData"),O(M))}function L(M){return M===45?(e.consume(M),A):O(M)}function H(M){return M===47?(e.consume(M),a="",F):O(M)}function F(M){if(M===62){const Y=a.toLowerCase();return uN.includes(Y)?(e.consume(M),D):O(M)}return xr(M)&&a.length<8?(e.consume(M),a+=String.fromCharCode(M),F):O(M)}function R(M){return M===93?(e.consume(M),A):O(M)}function A(M){return M===62?(e.consume(M),D):M===45&&s===2?(e.consume(M),A):O(M)}function D(M){return M===null||Ze(M)?(e.exit("htmlFlowData"),$(M)):(e.consume(M),D)}function $(M){return e.exit("htmlFlow"),n(M)}}function GJ(e,n,r){const o=this;return s;function s(a){return Ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):r(a)}function i(a){return o.parser.lazy[o.now().line]?r(a):n(a)}}function KJ(e,n,r){return o;function o(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Ff,n,r)}}const YJ={name:"htmlText",tokenize:XJ};function XJ(e,n,r){const o=this;let s,i,a;return l;function l(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),d):A===47?(e.consume(A),C):A===63?(e.consume(A),S):xr(A)?(e.consume(A),P):r(A)}function d(A){return A===45?(e.consume(A),h):A===91?(e.consume(A),i=0,v):xr(A)?(e.consume(A),w):r(A)}function h(A){return A===45?(e.consume(A),p):r(A)}function f(A){return A===null?r(A):A===45?(e.consume(A),m):Ze(A)?(a=f,H(A)):(e.consume(A),f)}function m(A){return A===45?(e.consume(A),p):f(A)}function p(A){return A===62?L(A):A===45?m(A):f(A)}function v(A){const D="CDATA[";return A===D.charCodeAt(i++)?(e.consume(A),i===D.length?y:v):r(A)}function y(A){return A===null?r(A):A===93?(e.consume(A),b):Ze(A)?(a=y,H(A)):(e.consume(A),y)}function b(A){return A===93?(e.consume(A),x):y(A)}function x(A){return A===62?L(A):A===93?(e.consume(A),x):y(A)}function w(A){return A===null||A===62?L(A):Ze(A)?(a=w,H(A)):(e.consume(A),w)}function S(A){return A===null?r(A):A===63?(e.consume(A),k):Ze(A)?(a=S,H(A)):(e.consume(A),S)}function k(A){return A===62?L(A):S(A)}function C(A){return xr(A)?(e.consume(A),N):r(A)}function N(A){return A===45||sr(A)?(e.consume(A),N):j(A)}function j(A){return Ze(A)?(a=j,H(A)):Ct(A)?(e.consume(A),j):L(A)}function P(A){return A===45||sr(A)?(e.consume(A),P):A===47||A===62||qt(A)?E(A):r(A)}function E(A){return A===47?(e.consume(A),L):A===58||A===95||xr(A)?(e.consume(A),_):Ze(A)?(a=E,H(A)):Ct(A)?(e.consume(A),E):L(A)}function _(A){return A===45||A===46||A===58||A===95||sr(A)?(e.consume(A),_):I(A)}function I(A){return A===61?(e.consume(A),O):Ze(A)?(a=I,H(A)):Ct(A)?(e.consume(A),I):E(A)}function O(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),s=A,U):Ze(A)?(a=O,H(A)):Ct(A)?(e.consume(A),O):(e.consume(A),T)}function U(A){return A===s?(e.consume(A),s=void 0,z):A===null?r(A):Ze(A)?(a=U,H(A)):(e.consume(A),U)}function T(A){return A===null||A===34||A===39||A===60||A===61||A===96?r(A):A===47||A===62||qt(A)?E(A):(e.consume(A),T)}function z(A){return A===47||A===62||qt(A)?E(A):r(A)}function L(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),n):r(A)}function H(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),F}function F(A){return Ct(A)?Mt(e,R,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):R(A)}function R(A){return e.enter("htmlTextData"),a(A)}}const t1={name:"labelEnd",resolveAll:eZ,resolveTo:tZ,tokenize:nZ},QJ={tokenize:rZ},JJ={tokenize:oZ},ZJ={tokenize:sZ};function eZ(e){let n=-1;const r=[];for(;++n<e.length;){const o=e[n][1];if(r.push(e[n]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const s=o.type==="labelImage"?4:2;o.type="data",n+=s}}return e.length!==r.length&&ro(e,0,e.length,r),e}function tZ(e,n){let r=e.length,o=0,s,i,a,l;for(;r--;)if(s=e[r][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=r,s.type!=="labelLink")){o=2;break}}else s.type==="labelEnd"&&(a=r);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[a][1].end}},h={type:"labelText",start:{...e[i+o+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",u,n],["enter",d,n]],l=vo(l,e.slice(i+1,i+o+3)),l=vo(l,[["enter",h,n]]),l=vo(l,Ag(n.parser.constructs.insideSpan.null,e.slice(i+o+4,a-3),n)),l=vo(l,[["exit",h,n],e[a-2],e[a-1],["exit",d,n]]),l=vo(l,e.slice(a+1)),l=vo(l,[["exit",u,n]]),ro(e,i,e.length,l),e}function nZ(e,n,r){const o=this;let s=o.events.length,i,a;for(;s--;)if((o.events[s][1].type==="labelImage"||o.events[s][1].type==="labelLink")&&!o.events[s][1]._balanced){i=o.events[s][1];break}return l;function l(m){return i?i._inactive?f(m):(a=o.parser.defined.includes(Yo(o.sliceSerialize({start:i.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),u):r(m)}function u(m){return m===40?e.attempt(QJ,h,a?h:f)(m):m===91?e.attempt(JJ,h,a?d:f)(m):a?h(m):f(m)}function d(m){return e.attempt(ZJ,h,f)(m)}function h(m){return n(m)}function f(m){return i._balanced=!0,r(m)}}function rZ(e,n,r){return o;function o(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),s}function s(f){return qt(f)?xd(e,i)(f):i(f)}function i(f){return f===41?h(f):r5(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return qt(f)?xd(e,u)(f):h(f)}function l(f){return r(f)}function u(f){return f===34||f===39||f===40?s5(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function d(f){return qt(f)?xd(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):r(f)}}function oZ(e,n,r){const o=this;return s;function s(l){return o5.call(o,e,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return o.parser.defined.includes(Yo(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?n(l):r(l)}function a(l){return r(l)}}function sZ(e,n,r){return o;function o(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),n):r(i)}}const iZ={name:"labelStartImage",resolveAll:t1.resolveAll,tokenize:aZ};function aZ(e,n,r){const o=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):r(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(l):n(l)}}const lZ={name:"labelStartLink",resolveAll:t1.resolveAll,tokenize:cZ};function cZ(e,n,r){const o=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(a):n(a)}}const ty={name:"lineEnding",tokenize:uZ};function uZ(e,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Mt(e,n,"linePrefix")}}const cp={name:"thematicBreak",tokenize:dZ};function dZ(e,n,r){let o=0,s;return i;function i(d){return e.enter("thematicBreak"),a(d)}function a(d){return s=d,l(d)}function l(d){return d===s?(e.enter("thematicBreakSequence"),u(d)):o>=3&&(d===null||Ze(d))?(e.exit("thematicBreak"),n(d)):r(d)}function u(d){return d===s?(e.consume(d),o++,u):(e.exit("thematicBreakSequence"),Ct(d)?Mt(e,l,"whitespace")(d):l(d))}}const Tr={continuation:{tokenize:mZ},exit:xZ,name:"list",tokenize:pZ},fZ={partial:!0,tokenize:yZ},hZ={partial:!0,tokenize:gZ};function pZ(e,n,r){const o=this,s=o.events[o.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return l;function l(p){const v=o.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!o.containerState.marker||p===o.containerState.marker:gv(p)){if(o.containerState.type||(o.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(cp,r,d)(p):d(p);if(!o.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(p)}return r(p)}function u(p){return gv(p)&&++a<10?(e.consume(p),u):(!o.interrupt||a<2)&&(o.containerState.marker?p===o.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),d(p)):r(p)}function d(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||p,e.check(Ff,o.interrupt?r:h,e.attempt(fZ,m,f))}function h(p){return o.containerState.initialBlankLine=!0,i++,m(p)}function f(p){return Ct(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),m):r(p)}function m(p){return o.containerState.size=i+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(p)}}function mZ(e,n,r){const o=this;return o.containerState._closeFlow=void 0,e.check(Ff,s,i);function s(l){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Mt(e,n,"listItemIndent",o.containerState.size+1)(l)}function i(l){return o.containerState.furtherBlankLines||!Ct(l)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,a(l)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(hZ,n,a)(l))}function a(l){return o.containerState._closeFlow=!0,o.interrupt=void 0,Mt(e,e.attempt(Tr,n,r),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function gZ(e,n,r){const o=this;return Mt(e,s,"listItemIndent",o.containerState.size+1);function s(i){const a=o.events[o.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===o.containerState.size?n(i):r(i)}}function xZ(e){e.exit(this.containerState.type)}function yZ(e,n,r){const o=this;return Mt(e,s,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const a=o.events[o.events.length-1];return!Ct(i)&&a&&a[1].type==="listItemPrefixWhitespace"?n(i):r(i)}}const dN={name:"setextUnderline",resolveTo:vZ,tokenize:wZ};function vZ(e,n){let r=e.length,o,s,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){o=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const a={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",a,n]),e.splice(i+1,0,["exit",e[o][1],n]),e[o][1].end={...e[i][1].end}):e[o][1]=a,e.push(["exit",a,n]),e}function wZ(e,n,r){const o=this;let s;return i;function i(d){let h=o.events.length,f;for(;h--;)if(o.events[h][1].type!=="lineEnding"&&o.events[h][1].type!=="linePrefix"&&o.events[h][1].type!=="content"){f=o.events[h][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||f)?(e.enter("setextHeadingLine"),s=d,a(d)):r(d)}function a(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===s?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),Ct(d)?Mt(e,u,"lineSuffix")(d):u(d))}function u(d){return d===null||Ze(d)?(e.exit("setextHeadingLine"),n(d)):r(d)}}const bZ={tokenize:SZ};function SZ(e){const n=this,r=e.attempt(Ff,o,e.attempt(this.parser.constructs.flowInitial,s,Mt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(_J,s)),"linePrefix")));return r;function o(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const kZ={resolveAll:a5()},NZ=i5("string"),CZ=i5("text");function i5(e){return{resolveAll:a5(e==="text"?jZ:void 0),tokenize:n};function n(r){const o=this,s=this.parser.constructs[e],i=r.attempt(s,a,l);return a;function a(h){return d(h)?i(h):l(h)}function l(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),u}function u(h){return d(h)?(r.exit("data"),i(h)):(r.consume(h),u)}function d(h){if(h===null)return!0;const f=s[h];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(o,o.previous))return!0}return!1}}}function a5(e){return n;function n(r,o){let s=-1,i;for(;++s<=r.length;)i===void 0?r[s]&&r[s][1].type==="data"&&(i=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==i+2&&(r[i][1].end=r[s-1][1].end,r.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(r,o):r}}function jZ(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const o=e[r-1][1],s=n.sliceStream(o);let i=s.length,a=-1,l=0,u;for(;i--;){const d=s[i];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){i++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(l=0),l){const d={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:o.start._bufferIndex+a,_index:o.start._index+i,line:o.end.line,column:o.end.column-l,offset:o.end.offset-l},end:{...o.end}};o.end={...d.start},o.start.offset===o.end.offset?Object.assign(o,d):(e.splice(r,0,["enter",d,n],["exit",d,n]),r+=2)}r++}return e}const _Z={42:Tr,43:Tr,45:Tr,48:Tr,49:Tr,50:Tr,51:Tr,52:Tr,53:Tr,54:Tr,55:Tr,56:Tr,57:Tr,62:ZM},EZ={91:MJ},TZ={[-2]:ey,[-1]:ey,32:ey},AZ={35:$J,42:cp,45:[dN,cp],60:BJ,61:dN,95:cp,96:cN,126:cN},PZ={38:t5,92:e5},MZ={[-5]:ty,[-4]:ty,[-3]:ty,33:iZ,38:t5,42:xv,60:[lJ,YJ],91:lZ,92:[DJ,e5],93:t1,95:xv,96:bJ},RZ={null:[xv,kZ]},IZ={null:[42,95]},OZ={null:[]},DZ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IZ,contentInitial:EZ,disable:OZ,document:_Z,flow:AZ,flowInitial:TZ,insideSpan:RZ,string:PZ,text:MZ},Symbol.toStringTag,{value:"Module"}));function LZ(e,n,r){let o={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},i=[];let a=[],l=[];const u={attempt:j(C),check:j(N),consume:w,enter:S,exit:k,interrupt:j(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:e,previous:null,sliceSerialize:m,sliceStream:p,write:f};let h=n.tokenize.call(d,u);return n.resolveAll&&i.push(n),d;function f(I){return a=vo(a,I),b(),a[a.length-1]!==null?[]:(P(n,0),d.events=Ag(i,d.events,d),d.events)}function m(I,O){return zZ(p(I),O)}function p(I){return $Z(a,I)}function v(){const{_bufferIndex:I,_index:O,line:U,column:T,offset:z}=o;return{_bufferIndex:I,_index:O,line:U,column:T,offset:z}}function y(I){s[I.line]=I.column,_()}function b(){let I;for(;o._index<a.length;){const O=a[o._index];if(typeof O=="string")for(I=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===I&&o._bufferIndex<O.length;)x(O.charCodeAt(o._bufferIndex));else x(O)}}function x(I){h=h(I)}function w(I){Ze(I)?(o.line++,o.column=1,o.offset+=I===-3?2:1,_()):I!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===a[o._index].length&&(o._bufferIndex=-1,o._index++)),d.previous=I}function S(I,O){const U=O||{};return U.type=I,U.start=v(),d.events.push(["enter",U,d]),l.push(U),U}function k(I){const O=l.pop();return O.end=v(),d.events.push(["exit",O,d]),O}function C(I,O){P(I,O.from)}function N(I,O){O.restore()}function j(I,O){return U;function U(T,z,L){let H,F,R,A;return Array.isArray(T)?$(T):"tokenize"in T?$([T]):D(T);function D(re){return Q;function Q(ce){const fe=ce!==null&&re[ce],me=ce!==null&&re.null,ke=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(me)?me:me?[me]:[]];return $(ke)(ce)}}function $(re){return H=re,F=0,re.length===0?L:M(re[F])}function M(re){return Q;function Q(ce){return A=E(),R=re,re.partial||(d.currentConstruct=re),re.name&&d.parser.constructs.disable.null.includes(re.name)?Z():re.tokenize.call(O?Object.assign(Object.create(d),O):d,u,Y,Z)(ce)}}function Y(re){return I(R,A),z}function Z(re){return A.restore(),++F<H.length?M(H[F]):L}}}function P(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&ro(d.events,O,d.events.length-O,I.resolve(d.events.slice(O),d)),I.resolveTo&&(d.events=I.resolveTo(d.events,d))}function E(){const I=v(),O=d.previous,U=d.currentConstruct,T=d.events.length,z=Array.from(l);return{from:T,restore:L};function L(){o=I,d.previous=O,d.currentConstruct=U,d.events.length=T,l=z,_()}}function _(){o.line in s&&o.column<2&&(o.column=s[o.line],o.offset+=s[o.line]-1)}}function $Z(e,n){const r=n.start._index,o=n.start._bufferIndex,s=n.end._index,i=n.end._bufferIndex;let a;if(r===s)a=[e[r].slice(o,i)];else{if(a=e.slice(r,s),o>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(o):a.shift()}i>0&&a.push(e[s].slice(0,i))}return a}function zZ(e,n){let r=-1;const o=[];let s;for(;++r<e.length;){const i=e[r];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=n?" ":"	";break}case-1:{if(!n&&s)continue;a=" ";break}default:a=String.fromCharCode(i)}s=i===-2,o.push(a)}return o.join("")}function FZ(e){const o={constructs:QM([DZ,...(e||{}).extensions||[]]),content:s(tJ),defined:[],document:s(rJ),flow:s(bZ),lazy:{},string:s(NZ),text:s(CZ)};return o;function s(i){return a;function a(l){return LZ(o,i,l)}}}function UZ(e){for(;!n5(e););return e}const fN=/[\0\t\n\r]/g;function BZ(){let e=1,n="",r=!0,o;return s;function s(i,a,l){const u=[];let d,h,f,m,p;for(i=n+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),f=0,n="",r&&(i.charCodeAt(0)===65279&&f++,r=void 0);f<i.length;){if(fN.lastIndex=f,d=fN.exec(i),m=d&&d.index!==void 0?d.index:i.length,p=i.charCodeAt(m),!d){n=i.slice(f);break}if(p===10&&f===m&&o)u.push(-3),o=void 0;else switch(o&&(u.push(-5),o=void 0),f<m&&(u.push(i.slice(f,m)),e+=m-f),p){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:o=!0,e=1}f=m+1}return l&&(o&&u.push(-5),n&&u.push(n),u.push(null)),u}}const HZ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VZ(e){return e.replace(HZ,WZ)}function WZ(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),i=s===120||s===88;return JM(r.slice(i?2:1),i?16:10)}return e1(r)||e}const l5={}.hasOwnProperty;function qZ(e,n,r){return typeof n!="string"&&(r=n,n=void 0),GZ(r)(UZ(FZ(r).document().write(BZ()(e,n,!0))))}function GZ(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ve),autolinkProtocol:E,autolinkEmail:E,atxHeading:i(De),blockQuote:i(me),characterEscape:E,characterReference:E,codeFenced:i(ke),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(ke,a),codeText:i(ie,a),codeTextData:E,data:E,codeFlowValue:E,definition:i(Le),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Ce),hardBreakEscape:i(he),hardBreakTrailing:i(he),htmlFlow:i(je,a),htmlFlowData:E,htmlText:i(je,a),htmlTextData:E,image:i(se),label:a,link:i(Ve),listItem:i(nt),listItemValue:m,listOrdered:i(et,f),listUnordered:i(et),paragraph:i(ht),reference:M,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(De),strong:i(Tt),thematicBreak:i(An)},exit:{atxHeading:u(),atxHeadingSequence:C,autolink:u(),autolinkEmail:fe,autolinkProtocol:ce,blockQuote:u(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Z,characterReferenceMarkerNumeric:Z,characterReferenceValue:re,characterReference:Q,codeFenced:u(b),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:_,codeIndented:u(x),codeText:u(z),codeTextData:_,data:_,definition:u(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:S,emphasis:u(),hardBreakEscape:u(O),hardBreakTrailing:u(O),htmlFlow:u(U),htmlFlowData:_,htmlText:u(T),htmlTextData:_,image:u(H),label:R,labelText:F,lineEnding:I,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Y,resourceDestinationString:A,resourceTitleString:D,resource:$,setextHeading:u(P),setextHeadingLineSequence:j,setextHeadingText:N,strong:u(),thematicBreak:u()}};c5(n,(e||{}).mdastExtensions||[]);const r={};return o;function o(te){let ge={type:"root",children:[]};const Ae={stack:[ge],tokenStack:[],config:n,enter:l,exit:d,buffer:a,resume:h,data:r},ze=[];let Qe=-1;for(;++Qe<te.length;)if(te[Qe][1].type==="listOrdered"||te[Qe][1].type==="listUnordered")if(te[Qe][0]==="enter")ze.push(Qe);else{const gt=ze.pop();Qe=s(te,gt,Qe)}for(Qe=-1;++Qe<te.length;){const gt=n[te[Qe][0]];l5.call(gt,te[Qe][1].type)&&gt[te[Qe][1].type].call(Object.assign({sliceSerialize:te[Qe][2].sliceSerialize},Ae),te[Qe][1])}if(Ae.tokenStack.length>0){const gt=Ae.tokenStack[Ae.tokenStack.length-1];(gt[1]||hN).call(Ae,void 0,gt[0])}for(ge.position={start:Ci(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Ci(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<n.transforms.length;)ge=n.transforms[Qe](ge)||ge;return ge}function s(te,ge,Ae){let ze=ge-1,Qe=-1,gt=!1,_t,tt,Gt,xt;for(;++ze<=Ae;){const st=te[ze];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?Qe++:Qe--,xt=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(_t&&!xt&&!Qe&&!Gt&&(Gt=ze),xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xt=void 0}if(!Qe&&st[0]==="enter"&&st[1].type==="listItemPrefix"||Qe===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(_t){let yt=ze;for(tt=void 0;yt--;){const $e=te[yt];if($e[1].type==="lineEnding"||$e[1].type==="lineEndingBlank"){if($e[0]==="exit")continue;tt&&(te[tt][1].type="lineEndingBlank",gt=!0),$e[1].type="lineEnding",tt=yt}else if(!($e[1].type==="linePrefix"||$e[1].type==="blockQuotePrefix"||$e[1].type==="blockQuotePrefixWhitespace"||$e[1].type==="blockQuoteMarker"||$e[1].type==="listItemIndent"))break}Gt&&(!tt||Gt<tt)&&(_t._spread=!0),_t.end=Object.assign({},tt?te[tt][1].start:st[1].end),te.splice(tt||ze,0,["exit",_t,st[2]]),ze++,Ae++}if(st[1].type==="listItemPrefix"){const yt={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};_t=yt,te.splice(ze,0,["enter",yt,st[2]]),ze++,Ae++,Gt=void 0,xt=!0}}}return te[ge][1]._spread=gt,Ae}function i(te,ge){return Ae;function Ae(ze){l.call(this,te(ze),ze),ge&&ge.call(this,ze)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(te,ge,Ae){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ge,Ae||void 0]),te.position={start:Ci(ge.start),end:void 0}}function u(te){return ge;function ge(Ae){te&&te.call(this,Ae),d.call(this,Ae)}}function d(te,ge){const Ae=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==te.type&&(ge?ge.call(this,te,ze[0]):(ze[1]||hN).call(this,te,ze[0]));else throw new Error("Cannot close `"+te.type+"` ("+gd({start:te.start,end:te.end})+"): its not open");Ae.position.end=Ci(te.end)}function h(){return Zb(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(te){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function p(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=te}function v(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=te}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.value=te.replace(/(\r?\n|\r)$/g,"")}function w(te){const ge=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=ge,Ae.identifier=Yo(this.sliceSerialize(te)).toLowerCase()}function S(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.title=te}function k(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.url=te}function C(te){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Ae=this.sliceSerialize(te).length;ge.depth=Ae}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(te){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function E(te){const Ae=this.stack[this.stack.length-1].children;let ze=Ae[Ae.length-1];(!ze||ze.type!=="text")&&(ze=Re(),ze.position={start:Ci(te.start),end:void 0},Ae.push(ze)),this.stack.push(ze)}function _(te){const ge=this.stack.pop();ge.value+=this.sliceSerialize(te),ge.position.end=Ci(te.end)}function I(te){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=ge.children[ge.children.length-1];Ae.position.end=Ci(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(ge.type)&&(E.call(this,te),_.call(this,te))}function O(){this.data.atHardBreak=!0}function U(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.value=te}function T(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.value=te}function z(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.value=te}function L(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ge,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function H(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ge,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function F(te){const ge=this.sliceSerialize(te),Ae=this.stack[this.stack.length-2];Ae.label=VZ(ge),Ae.identifier=Yo(ge).toLowerCase()}function R(){const te=this.stack[this.stack.length-1],ge=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const ze=te.children;Ae.children=ze}else Ae.alt=ge}function A(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.url=te}function D(){const te=this.resume(),ge=this.stack[this.stack.length-1];ge.title=te}function $(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Y(te){const ge=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=ge,Ae.identifier=Yo(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function Z(te){this.data.characterReferenceType=te.type}function re(te){const ge=this.sliceSerialize(te),Ae=this.data.characterReferenceType;let ze;Ae?(ze=JM(ge,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ze=e1(ge);const Qe=this.stack[this.stack.length-1];Qe.value+=ze}function Q(te){const ge=this.stack.pop();ge.position.end=Ci(te.end)}function ce(te){_.call(this,te);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(te)}function fe(te){_.call(this,te);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(te)}function me(){return{type:"blockquote",children:[]}}function ke(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function je(){return{type:"html",value:""}}function se(){return{type:"image",title:null,url:"",alt:null}}function Ve(){return{type:"link",title:null,url:"",children:[]}}function et(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function nt(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function ht(){return{type:"paragraph",children:[]}}function Tt(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function An(){return{type:"thematicBreak"}}}function Ci(e){return{line:e.line,column:e.column,offset:e.offset}}function c5(e,n){let r=-1;for(;++r<n.length;){const o=n[r];Array.isArray(o)?c5(e,o):KZ(e,o)}}function KZ(e,n){let r;for(r in n)if(l5.call(n,r))switch(r){case"canContainEols":{const o=n[r];o&&e[r].push(...o);break}case"transforms":{const o=n[r];o&&e[r].push(...o);break}case"enter":case"exit":{const o=n[r];o&&Object.assign(e[r],o);break}}}function hN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+gd({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+gd({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+gd({start:n.start,end:n.end})+") is still open")}function YZ(e){const n=this;n.parser=r;function r(o){return qZ(o,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function XZ(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function QZ(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function JZ(e,n){const r=n.value?n.value+`
`:"",o={},s=n.lang?n.lang.split(/\s+/):[];s.length>0&&(o.className=["language-"+s[0]]);let i={type:"element",tagName:"code",properties:o,children:[{type:"text",value:r}]};return n.meta&&(i.data={meta:n.meta}),e.patch(n,i),i=e.applyData(n,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(n,i),i}function ZZ(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function eee(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function tee(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",o=String(n.identifier).toUpperCase(),s=hu(o.toLowerCase()),i=e.footnoteOrder.indexOf(o);let a,l=e.footnoteCounts.get(o);l===void 0?(l=0,e.footnoteOrder.push(o),a=e.footnoteOrder.length):a=i+1,l+=1,e.footnoteCounts.set(o,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(n,d),e.applyData(n,d)}function nee(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function ree(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function u5(e,n){const r=n.referenceType;let o="]";if(r==="collapsed"?o+="[]":r==="full"&&(o+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+o}];const s=e.all(n),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=o:s.push({type:"text",value:o}),s}function oee(e,n){const r=String(n.identifier).toUpperCase(),o=e.definitionById.get(r);if(!o)return u5(e,n);const s={src:hu(o.url||""),alt:n.alt};o.title!==null&&o.title!==void 0&&(s.title=o.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(n,i),e.applyData(n,i)}function see(e,n){const r={src:hu(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,o),e.applyData(n,o)}function iee(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const o={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,o),e.applyData(n,o)}function aee(e,n){const r=String(n.identifier).toUpperCase(),o=e.definitionById.get(r);if(!o)return u5(e,n);const s={href:hu(o.url||"")};o.title!==null&&o.title!==void 0&&(s.title=o.title);const i={type:"element",tagName:"a",properties:s,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function lee(e,n){const r={href:hu(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const o={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function cee(e,n,r){const o=e.all(n),s=r?uee(r):d5(n),i={},a=[];if(typeof n.checked=="boolean"){const h=o[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},o.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<o.length;){const h=o[l];(s||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?a.push(...h.children):a.push(h)}const u=o[o.length-1];u&&(s||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:a};return e.patch(n,d),e.applyData(n,d)}function uee(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let o=-1;for(;!n&&++o<r.length;)n=d5(r[o])}return n}function d5(e){const n=e.spread;return n??e.children.length>1}function dee(e,n){const r={},o=e.all(n);let s=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++s<o.length;){const a=o[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(o,!0)};return e.patch(n,i),e.applyData(n,i)}function fee(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function hee(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function pee(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function mee(e,n){const r=e.all(n),o=r.shift(),s=[];if(o){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([o],!0)};e.patch(n.children[0],a),s.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=Yb(n.children[1]),u=VM(n.children[n.children.length-1]);l&&u&&(a.position={start:l,end:u}),s.push(a)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(n,i),e.applyData(n,i)}function gee(e,n,r){const o=r?r.children:void 0,i=(o?o.indexOf(n):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,l=a?a.length:n.children.length;let u=-1;const d=[];for(;++u<l;){const f=n.children[u],m={},p=a?a[u]:void 0;p&&(m.align=p);let v={type:"element",tagName:i,properties:m,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),d.push(v)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,h),e.applyData(n,h)}function xee(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const pN=9,mN=32;function yee(e){const n=String(e),r=/\r?\n|\r/g;let o=r.exec(n),s=0;const i=[];for(;o;)i.push(gN(n.slice(s,o.index),s>0,!0),o[0]),s=o.index+o[0].length,o=r.exec(n);return i.push(gN(n.slice(s),s>0,!1)),i.join("")}function gN(e,n,r){let o=0,s=e.length;if(n){let i=e.codePointAt(o);for(;i===pN||i===mN;)o++,i=e.codePointAt(o)}if(r){let i=e.codePointAt(s-1);for(;i===pN||i===mN;)s--,i=e.codePointAt(s-1)}return s>o?e.slice(o,s):""}function vee(e,n){const r={type:"text",value:yee(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function wee(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const bee={blockquote:XZ,break:QZ,code:JZ,delete:ZZ,emphasis:eee,footnoteReference:tee,heading:nee,html:ree,imageReference:oee,image:see,inlineCode:iee,linkReference:aee,link:lee,listItem:cee,list:dee,paragraph:fee,root:hee,strong:pee,table:mee,tableCell:xee,tableRow:gee,text:vee,thematicBreak:wee,toml:Mh,yaml:Mh,definition:Mh,footnoteDefinition:Mh};function Mh(){}const f5=-1,Pg=0,yd=1,hm=2,n1=3,r1=4,o1=5,s1=6,h5=7,p5=8,xN=typeof self=="object"?self:globalThis,See=(e,n)=>{const r=(s,i)=>(e.set(i,s),s),o=s=>{if(e.has(s))return e.get(s);const[i,a]=n[s];switch(i){case Pg:case f5:return r(a,s);case yd:{const l=r([],s);for(const u of a)l.push(o(u));return l}case hm:{const l=r({},s);for(const[u,d]of a)l[o(u)]=o(d);return l}case n1:return r(new Date(a),s);case r1:{const{source:l,flags:u}=a;return r(new RegExp(l,u),s)}case o1:{const l=r(new Map,s);for(const[u,d]of a)l.set(o(u),o(d));return l}case s1:{const l=r(new Set,s);for(const u of a)l.add(o(u));return l}case h5:{const{name:l,message:u}=a;return r(new xN[l](u),s)}case p5:return r(BigInt(a),s);case"BigInt":return r(Object(BigInt(a)),s);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return r(new DataView(l),a)}}return r(new xN[i](a),s)};return o},yN=e=>See(new Map,e)(0),zl="",{toString:kee}={},{keys:Nee}=Object,Lu=e=>{const n=typeof e;if(n!=="object"||!e)return[Pg,n];const r=kee.call(e).slice(8,-1);switch(r){case"Array":return[yd,zl];case"Object":return[hm,zl];case"Date":return[n1,zl];case"RegExp":return[r1,zl];case"Map":return[o1,zl];case"Set":return[s1,zl];case"DataView":return[yd,r]}return r.includes("Array")?[yd,r]:r.includes("Error")?[h5,r]:[hm,r]},Rh=([e,n])=>e===Pg&&(n==="function"||n==="symbol"),Cee=(e,n,r,o)=>{const s=(a,l)=>{const u=o.push(a)-1;return r.set(l,u),u},i=a=>{if(r.has(a))return r.get(a);let[l,u]=Lu(a);switch(l){case Pg:{let h=a;switch(u){case"bigint":l=p5,h=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return s([f5],a)}return s([l,h],a)}case yd:{if(u){let m=a;return u==="DataView"?m=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(a)),s([u,[...m]],a)}const h=[],f=s([l,h],a);for(const m of a)h.push(i(m));return f}case hm:{if(u)switch(u){case"BigInt":return s([u,a.toString()],a);case"Boolean":case"Number":case"String":return s([u,a.valueOf()],a)}if(n&&"toJSON"in a)return i(a.toJSON());const h=[],f=s([l,h],a);for(const m of Nee(a))(e||!Rh(Lu(a[m])))&&h.push([i(m),i(a[m])]);return f}case n1:return s([l,a.toISOString()],a);case r1:{const{source:h,flags:f}=a;return s([l,{source:h,flags:f}],a)}case o1:{const h=[],f=s([l,h],a);for(const[m,p]of a)(e||!(Rh(Lu(m))||Rh(Lu(p))))&&h.push([i(m),i(p)]);return f}case s1:{const h=[],f=s([l,h],a);for(const m of a)(e||!Rh(Lu(m)))&&h.push(i(m));return f}}const{message:d}=a;return s([l,{name:u,message:d}],a)};return i},vN=(e,{json:n,lossy:r}={})=>{const o=[];return Cee(!(n||r),!!n,new Map,o)(e),o},pm=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?yN(vN(e,n)):structuredClone(e):(e,n)=>yN(vN(e,n));function jee(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function _ee(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function Eee(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||jee,o=e.options.footnoteBackLabel||_ee,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[u]);if(!d)continue;const h=e.all(d),f=String(d.identifier).toUpperCase(),m=hu(f.toLowerCase());let p=0;const v=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++p<=y;){v.length>0&&v.push({type:"text",value:" "});let w=typeof r=="string"?r:r(u,p);typeof w=="string"&&(w={type:"text",value:w}),v.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(u,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else h.push(...v);const x={type:"element",tagName:"li",properties:{id:n+"fn-"+m},children:e.wrap(h,!0)};e.patch(d,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...pm(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Mg=function(e){if(e==null)return Mee;if(typeof e=="function")return Rg(e);if(typeof e=="object")return Array.isArray(e)?Tee(e):Aee(e);if(typeof e=="string")return Pee(e);throw new Error("Expected function, string, or object as test")};function Tee(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Mg(e[r]);return Rg(o);function o(...s){let i=-1;for(;++i<n.length;)if(n[i].apply(this,s))return!0;return!1}}function Aee(e){const n=e;return Rg(r);function r(o){const s=o;let i;for(i in e)if(s[i]!==n[i])return!1;return!0}}function Pee(e){return Rg(n);function n(r){return r&&r.type===e}}function Rg(e){return n;function n(r,o,s){return!!(Ree(r)&&e.call(this,r,typeof o=="number"?o:void 0,s||void 0))}}function Mee(){return!0}function Ree(e){return e!==null&&typeof e=="object"&&"type"in e}const m5=[],Iee=!0,yv=!1,Oee="skip";function g5(e,n,r,o){let s;typeof n=="function"&&typeof r!="function"?(o=r,r=n):s=n;const i=Mg(s),a=o?-1:1;l(e,void 0,[])();function l(u,d,h){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=m5,v,y,b;if((!n||i(u,d,h[h.length-1]||void 0))&&(p=Dee(r(u,h)),p[0]===yv))return p;if("children"in u&&u.children){const x=u;if(x.children&&p[0]!==Oee)for(y=(o?x.children.length:-1)+a,b=h.concat(x);y>-1&&y<x.children.length;){const w=x.children[y];if(v=l(w,y,b)(),v[0]===yv)return v;y=typeof v[1]=="number"?v[1]:y+a}}return p}}}function Dee(e){return Array.isArray(e)?e:typeof e=="number"?[Iee,e]:e==null?m5:[e]}function i1(e,n,r,o){let s,i,a;typeof n=="function"&&typeof r!="function"?(i=void 0,a=n,s=r):(i=n,a=r,s=o),g5(e,i,l,s);function l(u,d){const h=d[d.length-1],f=h?h.children.indexOf(u):void 0;return a(u,f,h)}}const vv={}.hasOwnProperty,Lee={};function $ee(e,n){const r=n||Lee,o=new Map,s=new Map,i=new Map,a={...bee,...r.handlers},l={all:d,applyData:Fee,definitionById:o,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:a,one:u,options:r,patch:zee,wrap:Bee};return i1(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?o:s,m=String(h.identifier).toUpperCase();f.has(m)||f.set(m,h)}}),l;function u(h,f){const m=h.type,p=l.handlers[m];if(vv.call(l.handlers,m)&&p)return p(l,h,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in h){const{children:y,...b}=h,x=pm(b);return x.children=l.all(h),x}return pm(h)}return(l.options.unknownHandler||Uee)(l,h,f)}function d(h){const f=[];if("children"in h){const m=h.children;let p=-1;for(;++p<m.length;){const v=l.one(m[p],h);if(v){if(p&&m[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=wN(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=wN(y.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function zee(e,n){e.position&&(n.position=_Q(e))}function Fee(e,n){let r=n;if(e&&e.data){const o=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof o=="string")if(r.type==="element")r.tagName=o;else{const a="children"in r?r.children:[r];r={type:"element",tagName:o,properties:{},children:a}}r.type==="element"&&i&&Object.assign(r.properties,pm(i)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function Uee(e,n){const r=n.data||{},o="value"in n&&!(vv.call(r,"hProperties")||vv.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function Bee(e,n){const r=[];let o=-1;for(n&&r.push({type:"text",value:`
`});++o<e.length;)o&&r.push({type:"text",value:`
`}),r.push(e[o]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function wN(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function bN(e,n){const r=$ee(e,n),o=r.one(e,void 0),s=Eee(r),i=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function Hee(e,n){return e&&"run"in e?async function(r,o){const s=bN(r,{file:o,...n});await e.run(s,o)}:function(r,o){return bN(r,{file:o,...e||n})}}function SN(e){if(e)throw e}var up=Object.prototype.hasOwnProperty,x5=Object.prototype.toString,kN=Object.defineProperty,NN=Object.getOwnPropertyDescriptor,CN=function(n){return typeof Array.isArray=="function"?Array.isArray(n):x5.call(n)==="[object Array]"},jN=function(n){if(!n||x5.call(n)!=="[object Object]")return!1;var r=up.call(n,"constructor"),o=n.constructor&&n.constructor.prototype&&up.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!o)return!1;var s;for(s in n);return typeof s>"u"||up.call(n,s)},_N=function(n,r){kN&&r.name==="__proto__"?kN(n,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):n[r.name]=r.newValue},EN=function(n,r){if(r==="__proto__")if(up.call(n,r)){if(NN)return NN(n,r).value}else return;return n[r]},Vee=function e(){var n,r,o,s,i,a,l=arguments[0],u=1,d=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<d;++u)if(n=arguments[u],n!=null)for(r in n)o=EN(l,r),s=EN(n,r),l!==s&&(h&&s&&(jN(s)||(i=CN(s)))?(i?(i=!1,a=o&&CN(o)?o:[]):a=o&&jN(o)?o:{},_N(l,{name:r,newValue:e(h,a,s)})):typeof s<"u"&&_N(l,{name:r,newValue:s}));return l};const ny=Zc(Vee);function wv(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Wee(){const e=[],n={run:r,use:o};return n;function r(...s){let i=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...s);function l(u,...d){const h=e[++i];let f=-1;if(u){a(u);return}for(;++f<s.length;)(d[f]===null||d[f]===void 0)&&(d[f]=s[f]);s=d,h?qee(h,l)(...d):a(null,...d)}}function o(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),n}}function qee(e,n){let r;return o;function o(...a){const l=e.length>a.length;let u;l&&a.push(s);try{u=e.apply(this,a)}catch(d){const h=d;if(l&&r)throw h;return s(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,s):u instanceof Error?s(u):i(u))}function s(a,...l){r||(r=!0,n(a,...l))}function i(a){s(null,a)}}const as={basename:Gee,dirname:Kee,extname:Yee,join:Xee,sep:"/"};function Gee(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Uf(e);let r=0,o=-1,s=e.length,i;if(n===void 0||n.length===0||n.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){r=s+1;break}}else o<0&&(i=!0,o=s+1);return o<0?"":e.slice(r,o)}if(n===e)return"";let a=-1,l=n.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){r=s+1;break}}else a<0&&(i=!0,a=s+1),l>-1&&(e.codePointAt(s)===n.codePointAt(l--)?l<0&&(o=s):(l=-1,o=a));return r===o?o=a:o<0&&(o=e.length),e.slice(r,o)}function Kee(e){if(Uf(e),e.length===0)return".";let n=-1,r=e.length,o;for(;--r;)if(e.codePointAt(r)===47){if(o){n=r;break}}else o||(o=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Yee(e){Uf(e);let n=e.length,r=-1,o=0,s=-1,i=0,a;for(;n--;){const l=e.codePointAt(n);if(l===47){if(a){o=n+1;break}continue}r<0&&(a=!0,r=n+1),l===46?s<0?s=n:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||r<0||i===0||i===1&&s===r-1&&s===o+1?"":e.slice(s,r)}function Xee(...e){let n=-1,r;for(;++n<e.length;)Uf(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":Qee(r)}function Qee(e){Uf(e);const n=e.codePointAt(0)===47;let r=Jee(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function Jee(e,n){let r="",o=0,s=-1,i=0,a=-1,l,u;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(r.length<2||o!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",o=0):(r=r.slice(0,u),o=r.length-1-r.lastIndexOf("/")),s=a,i=0;continue}}else if(r.length>0){r="",o=0,s=a,i=0;continue}}n&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),o=a-s-1;s=a,i=0}else l===46&&i>-1?i++:i=-1}return r}function Uf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Zee={cwd:ete};function ete(){return"/"}function bv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function tte(e){if(typeof e=="string")e=new URL(e);else if(!bv(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return nte(e)}function nte(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const o=n.codePointAt(r+2);if(o===70||o===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(n)}const ry=["history","path","basename","stem","extname","dirname"];class y5{constructor(n){let r;n?bv(n)?r={path:n}:typeof n=="string"||rte(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":Zee.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<ry.length;){const i=ry[o];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let s;for(s in r)ry.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?as.basename(this.path):void 0}set basename(n){sy(n,"basename"),oy(n,"basename"),this.path=as.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?as.dirname(this.path):void 0}set dirname(n){TN(this.basename,"dirname"),this.path=as.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?as.extname(this.path):void 0}set extname(n){if(oy(n,"extname"),TN(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=as.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){bv(n)&&(n=tte(n)),sy(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?as.basename(this.path,this.extname):void 0}set stem(n){sy(n,"stem"),oy(n,"stem"),this.path=as.join(this.dirname||"",n+(this.extname||""))}fail(n,r,o){const s=this.message(n,r,o);throw s.fatal=!0,s}info(n,r,o){const s=this.message(n,r,o);return s.fatal=void 0,s}message(n,r,o){const s=new lr(n,r,o);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function oy(e,n){if(e&&e.includes(as.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+as.sep+"`")}function sy(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function TN(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function rte(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ote=function(e){const o=this.constructor.prototype,s=o[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,o),i},ste={}.hasOwnProperty;class a1 extends ote{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Wee()}copy(){const n=new a1;let r=-1;for(;++r<this.attachers.length;){const o=this.attachers[r];n.use(...o)}return n.data(ny(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(ly("data",this.frozen),this.namespace[n]=r,this):ste.call(this.namespace,n)&&this.namespace[n]||void 0:n?(ly("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const s=r.call(n,...o);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=Ih(n),o=this.parser||this.Parser;return iy("parse",o),o(String(r),r)}process(n,r){const o=this;return this.freeze(),iy("process",this.parser||this.Parser),ay("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(i,a){const l=Ih(n),u=o.parse(l);o.run(u,l,function(h,f,m){if(h||!f||!m)return d(h);const p=f,v=o.stringify(p,m);lte(v)?m.value=v:m.result=v,d(h,m)});function d(h,f){h||!f?a(h):i?i(f):r(void 0,f)}}}processSync(n){let r=!1,o;return this.freeze(),iy("processSync",this.parser||this.Parser),ay("processSync",this.compiler||this.Compiler),this.process(n,s),PN("processSync","process",r),o;function s(i,a){r=!0,SN(i),o=a}}run(n,r,o){AN(n),this.freeze();const s=this.transformers;return!o&&typeof r=="function"&&(o=r,r=void 0),o?i(void 0,o):new Promise(i);function i(a,l){const u=Ih(r);s.run(n,u,d);function d(h,f,m){const p=f||n;h?l(h):a?a(p):o(void 0,p,m)}}}runSync(n,r){let o=!1,s;return this.run(n,r,i),PN("runSync","run",o),s;function i(a,l){SN(a),s=l,o=!0}}stringify(n,r){this.freeze();const o=Ih(r),s=this.compiler||this.Compiler;return ay("stringify",s),AN(n),s(n,o)}use(n,...r){const o=this.attachers,s=this.namespace;if(ly("use",this.frozen),n!=null)if(typeof n=="function")u(n,r);else if(typeof n=="object")Array.isArray(n)?l(n):a(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function i(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...f]=d;u(h,f)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(s.settings=ny(!0,s.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const f=d[h];i(f)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,h){let f=-1,m=-1;for(;++f<o.length;)if(o[f][0]===d){m=f;break}if(m===-1)o.push([d,...h]);else if(h.length>0){let[p,...v]=h;const y=o[m][1];wv(y)&&wv(p)&&(p=ny(!0,y,p)),o[m]=[d,p,...v]}}}}const ite=new a1().freeze();function iy(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ay(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ly(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AN(e){if(!wv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function PN(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Ih(e){return ate(e)?e:new y5(e)}function ate(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function lte(e){return typeof e=="string"||cte(e)}function cte(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ute="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MN=[],RN={allowDangerousHtml:!0},dte=/^(https?|ircs?|mailto|xmpp)$/i,fte=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hte(e){const n=pte(e),r=mte(e);return gte(n.runSync(n.parse(r),r),e)}function pte(e){const n=e.rehypePlugins||MN,r=e.remarkPlugins||MN,o=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...RN}:RN;return ite().use(YZ).use(r).use(Hee,o).use(n)}function mte(e){const n=e.children||"",r=new y5;return typeof n=="string"&&(r.value=n),r}function gte(e,n){const r=n.allowedElements,o=n.allowElement,s=n.components,i=n.disallowedElements,a=n.skipHtml,l=n.unwrapDisallowed,u=n.urlTransform||xte;for(const h of fte)Object.hasOwn(n,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+ute+h.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),i1(e,d),MQ(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function d(h,f,m){if(h.type==="raw"&&m&&typeof f=="number")return a?m.children.splice(f,1):m.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let p;for(p in Zx)if(Object.hasOwn(Zx,p)&&Object.hasOwn(h.properties,p)){const v=h.properties[p],y=Zx[p];(y===null||y.includes(h.tagName))&&(h.properties[p]=u(String(v||""),p,h))}}if(h.type==="element"){let p=r?!r.includes(h.tagName):i?i.includes(h.tagName):!1;if(!p&&o&&typeof f=="number"&&(p=!o(h,f,m)),p&&m&&typeof f=="number")return l&&h.children?m.children.splice(f,1,...h.children):m.children.splice(f,1),f}}}function xte(e){const n=e.indexOf(":"),r=e.indexOf("?"),o=e.indexOf("#"),s=e.indexOf("/");return n===-1||s!==-1&&n>s||r!==-1&&n>r||o!==-1&&n>o||dte.test(e.slice(0,n))?e:""}function IN(e,n){const r=String(e);if(typeof n!="string")throw new TypeError("Expected character");let o=0,s=r.indexOf(n);for(;s!==-1;)o++,s=r.indexOf(n,s+n.length);return o}function yte(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function vte(e,n,r){const s=Mg((r||{}).ignore||[]),i=wte(n);let a=-1;for(;++a<i.length;)g5(e,"text",l);function l(d,h){let f=-1,m;for(;++f<h.length;){const p=h[f],v=m?m.children:void 0;if(s(p,v?v.indexOf(p):void 0,m))return;m=p}if(m)return u(d,h)}function u(d,h){const f=h[h.length-1],m=i[a][0],p=i[a][1];let v=0;const b=f.children.indexOf(d);let x=!1,w=[];m.lastIndex=0;let S=m.exec(d.value);for(;S;){const k=S.index,C={index:S.index,input:S.input,stack:[...h,d]};let N=p(...S,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?m.lastIndex=k+1:(v!==k&&w.push({type:"text",value:d.value.slice(v,k)}),Array.isArray(N)?w.push(...N):N&&w.push(N),v=k+S[0].length,x=!0),!m.global)break;S=m.exec(d.value)}return x?(v<d.value.length&&w.push({type:"text",value:d.value.slice(v)}),f.children.splice(b,1,...w)):w=[d],b+w.length}}function wte(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let o=-1;for(;++o<r.length;){const s=r[o];n.push([bte(s[0]),Ste(s[1])])}return n}function bte(e){return typeof e=="string"?new RegExp(yte(e),"g"):e}function Ste(e){return typeof e=="function"?e:function(){return e}}const cy="phrasing",uy=["autolink","link","image","label"];function kte(){return{transforms:[Ate],enter:{literalAutolink:Cte,literalAutolinkEmail:dy,literalAutolinkHttp:dy,literalAutolinkWww:dy},exit:{literalAutolink:Tte,literalAutolinkEmail:Ete,literalAutolinkHttp:jte,literalAutolinkWww:_te}}}function Nte(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:cy,notInConstruct:uy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:cy,notInConstruct:uy},{character:":",before:"[ps]",after:"\\/",inConstruct:cy,notInConstruct:uy}]}}function Cte(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function dy(e){this.config.enter.autolinkProtocol.call(this,e)}function jte(e){this.config.exit.autolinkProtocol.call(this,e)}function _te(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function Ete(e){this.config.exit.autolinkEmail.call(this,e)}function Tte(e){this.exit(e)}function Ate(e){vte(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Pte],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Mte]],{ignore:["link","linkReference"]})}function Pte(e,n,r,o,s){let i="";if(!v5(s)||(/^w/i.test(n)&&(r=n+r,n="",i="http://"),!Rte(r)))return!1;const a=Ite(r+o);if(!a[0])return!1;const l={type:"link",title:null,url:i+n+a[0],children:[{type:"text",value:n+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function Mte(e,n,r,o){return!v5(o,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function Rte(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function Ite(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let r=n[0],o=r.indexOf(")");const s=IN(e,"(");let i=IN(e,")");for(;o!==-1&&s>i;)e+=r.slice(0,o+1),r=r.slice(o+1),o=r.indexOf(")"),i++;return[e,r]}function v5(e,n){const r=e.input.charCodeAt(e.index-1);return(e.index===0||vl(r)||Tg(r))&&(!n||r!==47)}w5.peek=Hte;function Ote(){this.buffer()}function Dte(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Lte(){this.buffer()}function $te(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zte(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Yo(this.sliceSerialize(e)).toLowerCase(),r.label=n}function Fte(e){this.exit(e)}function Ute(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Yo(this.sliceSerialize(e)).toLowerCase(),r.label=n}function Bte(e){this.exit(e)}function Hte(){return"["}function w5(e,n,r,o){const s=r.createTracker(o);let i=s.move("[^");const a=r.enter("footnoteReference"),l=r.enter("reference");return i+=s.move(r.safe(r.associationId(e),{after:"]",before:i})),l(),a(),i+=s.move("]"),i}function Vte(){return{enter:{gfmFootnoteCallString:Ote,gfmFootnoteCall:Dte,gfmFootnoteDefinitionLabelString:Lte,gfmFootnoteDefinition:$te},exit:{gfmFootnoteCallString:zte,gfmFootnoteCall:Fte,gfmFootnoteDefinitionLabelString:Ute,gfmFootnoteDefinition:Bte}}}function Wte(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:w5},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(o,s,i,a){const l=i.createTracker(a);let u=l.move("[^");const d=i.enter("footnoteDefinition"),h=i.enter("label");return u+=l.move(i.safe(i.associationId(o),{before:u,after:"]"})),h(),u+=l.move("]:"),o.children&&o.children.length>0&&(l.shift(4),u+=l.move((n?`
`:" ")+i.indentLines(i.containerFlow(o,l.current()),n?b5:qte))),d(),u}}function qte(e,n,r){return n===0?e:b5(e,n,r)}function b5(e,n,r){return(r?"":"    ")+e}const Gte=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];S5.peek=Jte;function Kte(){return{canContainEols:["delete"],enter:{strikethrough:Xte},exit:{strikethrough:Qte}}}function Yte(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Gte}],handlers:{delete:S5}}}function Xte(e){this.enter({type:"delete",children:[]},e)}function Qte(e){this.exit(e)}function S5(e,n,r,o){const s=r.createTracker(o),i=r.enter("strikethrough");let a=s.move("~~");return a+=r.containerPhrasing(e,{...s.current(),before:a,after:"~"}),a+=s.move("~~"),i(),a}function Jte(){return"~"}function Zte(e){return e.length}function ene(e,n){const r=n||{},o=(r.align||[]).concat(),s=r.stringLength||Zte,i=[],a=[],l=[],u=[];let d=0,h=-1;for(;++h<e.length;){const y=[],b=[];let x=-1;for(e[h].length>d&&(d=e[h].length);++x<e[h].length;){const w=tne(e[h][x]);if(r.alignDelimiters!==!1){const S=s(w);b[x]=S,(u[x]===void 0||S>u[x])&&(u[x]=S)}y.push(w)}a[h]=y,l[h]=b}let f=-1;if(typeof o=="object"&&"length"in o)for(;++f<d;)i[f]=ON(o[f]);else{const y=ON(o);for(;++f<d;)i[f]=y}f=-1;const m=[],p=[];for(;++f<d;){const y=i[f];let b="",x="";y===99?(b=":",x=":"):y===108?b=":":y===114&&(x=":");let w=r.alignDelimiters===!1?1:Math.max(1,u[f]-b.length-x.length);const S=b+"-".repeat(w)+x;r.alignDelimiters!==!1&&(w=b.length+w+x.length,w>u[f]&&(u[f]=w),p[f]=w),m[f]=S}a.splice(1,0,m),l.splice(1,0,p),h=-1;const v=[];for(;++h<a.length;){const y=a[h],b=l[h];f=-1;const x=[];for(;++f<d;){const w=y[f]||"";let S="",k="";if(r.alignDelimiters!==!1){const C=u[f]-(b[f]||0),N=i[f];N===114?S=" ".repeat(C):N===99?C%2?(S=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(S=" ".repeat(C/2),k=S):k=" ".repeat(C)}r.delimiterStart!==!1&&!f&&x.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&w==="")&&(r.delimiterStart!==!1||f)&&x.push(" "),r.alignDelimiters!==!1&&x.push(S),x.push(w),r.alignDelimiters!==!1&&x.push(k),r.padding!==!1&&x.push(" "),(r.delimiterEnd!==!1||f!==d-1)&&x.push("|")}v.push(r.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return v.join(`
`)}function tne(e){return e==null?"":String(e)}function ON(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function nne(e,n,r,o){const s=r.enter("blockquote"),i=r.createTracker(o);i.move("> "),i.shift(2);const a=r.indentLines(r.containerFlow(e,i.current()),rne);return s(),a}function rne(e,n,r){return">"+(r?"":" ")+e}function one(e,n){return DN(e,n.inConstruct,!0)&&!DN(e,n.notInConstruct,!1)}function DN(e,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let o=-1;for(;++o<n.length;)if(e.includes(n[o]))return!0;return!1}function LN(e,n,r,o){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&one(r.stack,r.unsafe[s]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function sne(e,n){const r=String(e);let o=r.indexOf(n),s=o,i=0,a=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===s?++i>a&&(a=i):i=1,s=o+n.length,o=r.indexOf(n,s);return a}function ine(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ane(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function lne(e,n,r,o){const s=ane(r),i=e.value||"",a=s==="`"?"GraveAccent":"Tilde";if(ine(e,r)){const f=r.enter("codeIndented"),m=r.indentLines(i,cne);return f(),m}const l=r.createTracker(o),u=s.repeat(Math.max(sne(i,s)+1,3)),d=r.enter("codeFenced");let h=l.move(u);if(e.lang){const f=r.enter(`codeFencedLang${a}`);h+=l.move(r.safe(e.lang,{before:h,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=r.enter(`codeFencedMeta${a}`);h+=l.move(" "),h+=l.move(r.safe(e.meta,{before:h,after:`
`,encode:["`"],...l.current()})),f()}return h+=l.move(`
`),i&&(h+=l.move(i+`
`)),h+=l.move(u),d(),h}function cne(e,n,r){return(r?"":"    ")+e}function l1(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function une(e,n,r,o){const s=l1(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("definition");let l=r.enter("label");const u=r.createTracker(o);let d=u.move("[");return d+=u.move(r.safe(r.associationId(e),{before:d,after:"]",...u.current()})),d+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=r.enter(`title${i}`),d+=u.move(" "+s),d+=u.move(r.safe(e.title,{before:d,after:s,...u.current()})),d+=u.move(s),l()),a(),d}function dne(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function of(e){return"&#x"+e.toString(16).toUpperCase()+";"}function mm(e,n,r){const o=Xc(e),s=Xc(n);return o===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}k5.peek=fne;function k5(e,n,r,o){const s=dne(r),i=r.enter("emphasis"),a=r.createTracker(o),l=a.move(s);let u=a.move(r.containerPhrasing(e,{after:s,before:l,...a.current()}));const d=u.charCodeAt(0),h=mm(o.before.charCodeAt(o.before.length-1),d,s);h.inside&&(u=of(d)+u.slice(1));const f=u.charCodeAt(u.length-1),m=mm(o.after.charCodeAt(0),f,s);m.inside&&(u=u.slice(0,-1)+of(f));const p=a.move(s);return i(),r.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},l+u+p}function fne(e,n,r){return r.options.emphasis||"*"}function hne(e,n){let r=!1;return i1(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return r=!0,yv}),!!((!e.depth||e.depth<3)&&Zb(e)&&(n.options.setext||r))}function pne(e,n,r,o){const s=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(o);if(hne(e,r)){const h=r.enter("headingSetext"),f=r.enter("phrasing"),m=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),h(),m+`
`+(s===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(s),l=r.enter("headingAtx"),u=r.enter("phrasing");i.move(a+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(d)&&(d=of(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,r.options.closeAtx&&(d+=" "+a),u(),l(),d}N5.peek=mne;function N5(e){return e.value||""}function mne(){return"<"}C5.peek=gne;function C5(e,n,r,o){const s=l1(r),i=s==='"'?"Quote":"Apostrophe",a=r.enter("image");let l=r.enter("label");const u=r.createTracker(o);let d=u.move("![");return d+=u.move(r.safe(e.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(r.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=r.enter("destinationRaw"),d+=u.move(r.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=r.enter(`title${i}`),d+=u.move(" "+s),d+=u.move(r.safe(e.title,{before:d,after:s,...u.current()})),d+=u.move(s),l()),d+=u.move(")"),a(),d}function gne(){return"!"}j5.peek=xne;function j5(e,n,r,o){const s=e.referenceType,i=r.enter("imageReference");let a=r.enter("label");const l=r.createTracker(o);let u=l.move("![");const d=r.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return a(),r.stack=h,i(),s==="full"||!d||d!==f?u+=l.move(f+"]"):s==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function xne(){return"!"}_5.peek=yne;function _5(e,n,r){let o=e.value||"",s="`",i=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(o);)s+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++i<r.unsafe.length;){const a=r.unsafe[i],l=r.compilePattern(a);let u;if(a.atBreak)for(;u=l.exec(o);){let d=u.index;o.charCodeAt(d)===10&&o.charCodeAt(d-1)===13&&d--,o=o.slice(0,d)+" "+o.slice(u.index+1)}}return s+o+s}function yne(){return"`"}function E5(e,n){const r=Zb(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}T5.peek=vne;function T5(e,n,r,o){const s=l1(r),i=s==='"'?"Quote":"Apostrophe",a=r.createTracker(o);let l,u;if(E5(e,r)){const h=r.stack;r.stack=[],l=r.enter("autolink");let f=a.move("<");return f+=a.move(r.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),l(),r.stack=h,f}l=r.enter("link"),u=r.enter("label");let d=a.move("[");return d+=a.move(r.containerPhrasing(e,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=r.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(r.safe(e.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=r.enter("destinationRaw"),d+=a.move(r.safe(e.url,{before:d,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=r.enter(`title${i}`),d+=a.move(" "+s),d+=a.move(r.safe(e.title,{before:d,after:s,...a.current()})),d+=a.move(s),u()),d+=a.move(")"),l(),d}function vne(e,n,r){return E5(e,r)?"<":"["}A5.peek=wne;function A5(e,n,r,o){const s=e.referenceType,i=r.enter("linkReference");let a=r.enter("label");const l=r.createTracker(o);let u=l.move("[");const d=r.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const h=r.stack;r.stack=[],a=r.enter("reference");const f=r.safe(r.associationId(e),{before:u,after:"]",...l.current()});return a(),r.stack=h,i(),s==="full"||!d||d!==f?u+=l.move(f+"]"):s==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function wne(){return"["}function c1(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function bne(e){const n=c1(e),r=e.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function Sne(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function P5(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function kne(e,n,r,o){const s=r.enter("list"),i=r.bulletCurrent;let a=e.ordered?Sne(r):c1(r);const l=e.ordered?a==="."?")":".":bne(r);let u=n&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(u=!0),P5(r)===a&&h){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),r.bulletCurrent=a;const d=r.containerFlow(e,o);return r.bulletLastUsed=a,r.bulletCurrent=i,s(),d}function Nne(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function Cne(e,n,r,o){const s=Nne(r);let i=r.bulletCurrent||c1(r);n&&n.type==="list"&&n.ordered&&(i=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(e))+i);let a=i.length+1;(s==="tab"||s==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=r.createTracker(o);l.move(i+" ".repeat(a-i.length)),l.shift(a);const u=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,l.current()),h);return u(),d;function h(f,m,p){return m?(p?"":" ".repeat(a))+f:(p?i:i+" ".repeat(a-i.length))+f}}function jne(e,n,r,o){const s=r.enter("paragraph"),i=r.enter("phrasing"),a=r.containerPhrasing(e,o);return i(),s(),a}const _ne=Mg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ene(e,n,r,o){return(e.children.some(function(a){return _ne(a)})?r.containerPhrasing:r.containerFlow).call(r,e,o)}function Tne(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}M5.peek=Ane;function M5(e,n,r,o){const s=Tne(r),i=r.enter("strong"),a=r.createTracker(o),l=a.move(s+s);let u=a.move(r.containerPhrasing(e,{after:s,before:l,...a.current()}));const d=u.charCodeAt(0),h=mm(o.before.charCodeAt(o.before.length-1),d,s);h.inside&&(u=of(d)+u.slice(1));const f=u.charCodeAt(u.length-1),m=mm(o.after.charCodeAt(0),f,s);m.inside&&(u=u.slice(0,-1)+of(f));const p=a.move(s+s);return i(),r.attentionEncodeSurroundingInfo={after:m.outside,before:h.outside},l+u+p}function Ane(e,n,r){return r.options.strong||"*"}function Pne(e,n,r,o){return r.safe(e.value,o)}function Mne(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Rne(e,n,r){const o=(P5(r)+(r.options.ruleSpaces?" ":"")).repeat(Mne(r));return r.options.ruleSpaces?o.slice(0,-1):o}const R5={blockquote:nne,break:LN,code:lne,definition:une,emphasis:k5,hardBreak:LN,heading:pne,html:N5,image:C5,imageReference:j5,inlineCode:_5,link:T5,linkReference:A5,list:kne,listItem:Cne,paragraph:jne,root:Ene,strong:M5,text:Pne,thematicBreak:Rne};function Ine(){return{enter:{table:One,tableData:$N,tableHeader:$N,tableRow:Lne},exit:{codeText:$ne,table:Dne,tableData:fy,tableHeader:fy,tableRow:fy}}}function One(e){const n=e._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Dne(e){this.exit(e),this.data.inTable=void 0}function Lne(e){this.enter({type:"tableRow",children:[]},e)}function fy(e){this.exit(e)}function $N(e){this.enter({type:"tableCell",children:[]},e)}function $ne(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,zne));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(e)}function zne(e,n){return n==="|"?n:e}function Fne(e){const n=e||{},r=n.tableCellPadding,o=n.tablePipeAlign,s=n.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:u,tableRow:l}};function a(p,v,y,b){return d(h(p,y,b),p.align)}function l(p,v,y,b){const x=f(p,y,b),w=d([x]);return w.slice(0,w.indexOf(`
`))}function u(p,v,y,b){const x=y.enter("tableCell"),w=y.enter("phrasing"),S=y.containerPhrasing(p,{...b,before:i,after:i});return w(),x(),S}function d(p,v){return ene(p,{align:v,alignDelimiters:o,padding:r,stringLength:s})}function h(p,v,y){const b=p.children;let x=-1;const w=[],S=v.enter("table");for(;++x<b.length;)w[x]=f(b[x],v,y);return S(),w}function f(p,v,y){const b=p.children;let x=-1;const w=[],S=v.enter("tableRow");for(;++x<b.length;)w[x]=u(b[x],p,v,y);return S(),w}function m(p,v,y){let b=R5.inlineCode(p,v,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Une(){return{exit:{taskListCheckValueChecked:zN,taskListCheckValueUnchecked:zN,paragraph:Hne}}}function Bne(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Vne}}}function zN(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function Hne(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const o=r.children[0];if(o&&o.type==="text"){const s=n.children;let i=-1,a;for(;++i<s.length;){const l=s[i];if(l.type==="paragraph"){a=l;break}}a===r&&(o.value=o.value.slice(1),o.value.length===0?r.children.shift():r.position&&o.position&&typeof o.position.start.offset=="number"&&(o.position.start.column++,o.position.start.offset++,r.position.start=Object.assign({},o.position.start)))}}this.exit(e)}function Vne(e,n,r,o){const s=e.children[0],i=typeof e.checked=="boolean"&&s&&s.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=r.createTracker(o);i&&l.move(a);let u=R5.listItem(e,n,r,{...o,...l.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(h){return h+a}}function Wne(){return[kte(),Vte(),Kte(),Ine(),Une()]}function qne(e){return{extensions:[Nte(),Wte(e),Yte(),Fne(e),Bne()]}}const Gne={tokenize:Zne,partial:!0},I5={tokenize:ere,partial:!0},O5={tokenize:tre,partial:!0},D5={tokenize:nre,partial:!0},Kne={tokenize:rre,partial:!0},L5={name:"wwwAutolink",tokenize:Qne,previous:z5},$5={name:"protocolAutolink",tokenize:Jne,previous:F5},mi={name:"emailAutolink",tokenize:Xne,previous:U5},As={};function Yne(){return{text:As}}let Ea=48;for(;Ea<123;)As[Ea]=mi,Ea++,Ea===58?Ea=65:Ea===91&&(Ea=97);As[43]=mi;As[45]=mi;As[46]=mi;As[95]=mi;As[72]=[mi,$5];As[104]=[mi,$5];As[87]=[mi,L5];As[119]=[mi,L5];function Xne(e,n,r){const o=this;let s,i;return a;function a(f){return!Sv(f)||!U5.call(o,o.previous)||u1(o.events)?r(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return Sv(f)?(e.consume(f),l):f===64?(e.consume(f),u):r(f)}function u(f){return f===46?e.check(Kne,h,d)(f):f===45||f===95||sr(f)?(i=!0,e.consume(f),u):h(f)}function d(f){return e.consume(f),s=!0,u}function h(f){return i&&s&&xr(o.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(f)):r(f)}}function Qne(e,n,r){const o=this;return s;function s(a){return a!==87&&a!==119||!z5.call(o,o.previous)||u1(o.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Gne,e.attempt(I5,e.attempt(O5,i),r),r)(a))}function i(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(a)}}function Jne(e,n,r){const o=this;let s="",i=!1;return a;function a(f){return(f===72||f===104)&&F5.call(o,o.previous)&&!u1(o.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(f),e.consume(f),l):r(f)}function l(f){if(xr(f)&&s.length<5)return s+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=s.toLowerCase();if(m==="http"||m==="https")return e.consume(f),u}return r(f)}function u(f){return f===47?(e.consume(f),i?d:(i=!0,u)):r(f)}function d(f){return f===null||fm(f)||qt(f)||vl(f)||Tg(f)?r(f):e.attempt(I5,e.attempt(O5,h),r)(f)}function h(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(f)}}function Zne(e,n,r){let o=0;return s;function s(a){return(a===87||a===119)&&o<3?(o++,e.consume(a),s):a===46&&o===3?(e.consume(a),i):r(a)}function i(a){return a===null?r(a):n(a)}}function ere(e,n,r){let o,s,i;return a;function a(d){return d===46||d===95?e.check(D5,u,l)(d):d===null||qt(d)||vl(d)||d!==45&&Tg(d)?u(d):(i=!0,e.consume(d),a)}function l(d){return d===95?o=!0:(s=o,o=void 0),e.consume(d),a}function u(d){return s||o||!i?r(d):n(d)}}function tre(e,n){let r=0,o=0;return s;function s(a){return a===40?(r++,e.consume(a),s):a===41&&o<r?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(D5,n,i)(a):a===null||qt(a)||vl(a)?n(a):(e.consume(a),s)}function i(a){return a===41&&o++,e.consume(a),s}}function nre(e,n,r){return o;function o(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),o):l===38?(e.consume(l),i):l===93?(e.consume(l),s):l===60||l===null||qt(l)||vl(l)?n(l):r(l)}function s(l){return l===null||l===40||l===91||qt(l)||vl(l)?n(l):o(l)}function i(l){return xr(l)?a(l):r(l)}function a(l){return l===59?(e.consume(l),o):xr(l)?(e.consume(l),a):r(l)}}function rre(e,n,r){return o;function o(i){return e.consume(i),s}function s(i){return sr(i)?r(i):n(i)}}function z5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||qt(e)}function F5(e){return!xr(e)}function U5(e){return!(e===47||Sv(e))}function Sv(e){return e===43||e===45||e===46||e===95||sr(e)}function u1(e){let n=e.length,r=!1;for(;n--;){const o=e[n][1];if((o.type==="labelLink"||o.type==="labelImage")&&!o._balanced){r=!0;break}if(o._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const ore={tokenize:fre,partial:!0};function sre(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:cre,continuation:{tokenize:ure},exit:dre}},text:{91:{name:"gfmFootnoteCall",tokenize:lre},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ire,resolveTo:are}}}}function ire(e,n,r){const o=this;let s=o.events.length;const i=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let a;for(;s--;){const u=o.events[s][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!a||!a._balanced)return r(u);const d=Yo(o.sliceSerialize({start:a.end,end:o.now()}));return d.codePointAt(0)!==94||!i.includes(d.slice(1))?r(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),n(u))}}function are(e,n){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[r+1],e[r+2],["enter",o,n],e[r+3],e[r+4],["enter",s,n],["exit",s,n],["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n],e[e.length-2],e[e.length-1],["exit",o,n]];return e.splice(r,e.length-r+1,...l),e}function lre(e,n,r){const o=this,s=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let i=0,a;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?r(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(f){if(i>999||f===93&&!a||f===null||f===91||qt(f))return r(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return s.includes(Yo(o.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):r(f)}return qt(f)||(a=!0),i++,e.consume(f),f===92?h:d}function h(f){return f===91||f===92||f===93?(e.consume(f),i++,d):d(f)}}function cre(e,n,r){const o=this,s=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);let i,a=0,l;return u;function u(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):r(v)}function h(v){if(a>999||v===93&&!l||v===null||v===91||qt(v))return r(v);if(v===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=Yo(o.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return qt(v)||(l=!0),a++,e.consume(v),v===92?f:h}function f(v){return v===91||v===92||v===93?(e.consume(v),a++,h):h(v)}function m(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),s.includes(i)||s.push(i),Mt(e,p,"gfmFootnoteDefinitionWhitespace")):r(v)}function p(v){return n(v)}}function ure(e,n,r){return e.check(Ff,n,e.attempt(ore,n,r))}function dre(e){e.exit("gfmFootnoteDefinition")}function fre(e,n,r){const o=this;return Mt(e,s,"gfmFootnoteDefinitionIndent",5);function s(i){const a=o.events[o.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?n(i):r(i)}}function hre(e){let r=(e||{}).singleTilde;const o={name:"strikethrough",tokenize:i,resolveAll:s};return r==null&&(r=!0),{text:{126:o},insideSpan:{null:[o]},attentionMarkers:{null:[126]}};function s(a,l){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},f={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},m=[["enter",h,l],["enter",a[d][1],l],["exit",a[d][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&ro(m,m.length,0,Ag(p,a.slice(d+1,u),l)),ro(m,m.length,0,[["exit",f,l],["enter",a[u][1],l],["exit",a[u][1],l],["exit",h,l]]),ro(a,d-1,u-d+3,m),u=d+m.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function i(a,l,u){const d=this.previous,h=this.events;let f=0;return m;function m(v){return d===126&&h[h.length-1][1].type!=="characterEscape"?u(v):(a.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const y=Xc(d);if(v===126)return f>1?u(v):(a.consume(v),f++,p);if(f<2&&!r)return u(v);const b=a.exit("strikethroughSequenceTemporary"),x=Xc(v);return b._open=!x||x===2&&!!y,b._close=!y||y===2&&!!x,l(v)}}}class pre{constructor(){this.map=[]}add(n,r,o){mre(this,n,r,o)}consume(n){if(this.map.sort(function(i,a){return i[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const o=[];for(;r>0;)r-=1,o.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];o.push(n.slice()),n.length=0;let s=o.pop();for(;s;){for(const i of s)n.push(i);s=o.pop()}this.map.length=0}}function mre(e,n,r,o){let s=0;if(!(r===0&&o.length===0)){for(;s<e.map.length;){if(e.map[s][0]===n){e.map[s][1]+=r,e.map[s][2].push(...o);return}s+=1}e.map.push([n,r,o])}}function gre(e,n){let r=!1;const o=[];for(;n<e.length;){const s=e[n];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&o.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const i=o.length-1;o[i]=o[i]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return o}function xre(){return{flow:{null:{name:"table",tokenize:yre,resolveAll:vre}}}}function yre(e,n,r){const o=this;let s=0,i=0,a;return l;function l(_){let I=o.events.length-1;for(;I>-1;){const T=o.events[I][1].type;if(T==="lineEnding"||T==="linePrefix")I--;else break}const O=I>-1?o.events[I][1].type:null,U=O==="tableHead"||O==="tableRow"?N:u;return U===N&&o.parser.lazy[o.now().line]?r(_):U(_)}function u(_){return e.enter("tableHead"),e.enter("tableRow"),d(_)}function d(_){return _===124||(a=!0,i+=1),h(_)}function h(_){return _===null?r(_):Ze(_)?i>1?(i=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p):r(_):Ct(_)?Mt(e,h,"whitespace")(_):(i+=1,a&&(a=!1,s+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),a=!0,h):(e.enter("data"),f(_)))}function f(_){return _===null||_===124||qt(_)?(e.exit("data"),h(_)):(e.consume(_),_===92?m:f)}function m(_){return _===92||_===124?(e.consume(_),f):f(_)}function p(_){return o.interrupt=!1,o.parser.lazy[o.now().line]?r(_):(e.enter("tableDelimiterRow"),a=!1,Ct(_)?Mt(e,v,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):v(_))}function v(_){return _===45||_===58?b(_):_===124?(a=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),y):C(_)}function y(_){return Ct(_)?Mt(e,b,"whitespace")(_):b(_)}function b(_){return _===58?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),x):_===45?(i+=1,x(_)):_===null||Ze(_)?k(_):C(_)}function x(_){return _===45?(e.enter("tableDelimiterFiller"),w(_)):C(_)}function w(_){return _===45?(e.consume(_),w):_===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),S):(e.exit("tableDelimiterFiller"),S(_))}function S(_){return Ct(_)?Mt(e,k,"whitespace")(_):k(_)}function k(_){return _===124?v(_):_===null||Ze(_)?!a||s!==i?C(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(_)):C(_)}function C(_){return r(_)}function N(_){return e.enter("tableRow"),j(_)}function j(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),j):_===null||Ze(_)?(e.exit("tableRow"),n(_)):Ct(_)?Mt(e,j,"whitespace")(_):(e.enter("data"),P(_))}function P(_){return _===null||_===124||qt(_)?(e.exit("data"),j(_)):(e.consume(_),_===92?E:P)}function E(_){return _===92||_===124?(e.consume(_),P):P(_)}}function vre(e,n){let r=-1,o=!0,s=0,i=[0,0,0,0],a=[0,0,0,0],l=!1,u=0,d,h,f;const m=new pre;for(;++r<e.length;){const p=e[r],v=p[1];p[0]==="enter"?v.type==="tableHead"?(l=!1,u!==0&&(FN(m,n,u,d,h),h=void 0,u=0),d={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(r,0,[["enter",d,n]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(o=!0,f=void 0,i=[0,0,0,0],a=[0,r+1,0,0],l&&(l=!1,h={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},m.add(r,0,[["enter",h,n]])),s=v.type==="tableDelimiterRow"?2:h?3:1):s&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(o=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],f=Oh(m,n,i,s,void 0,f),i=[0,0,0,0]),a[2]=r)):v.type==="tableCellDivider"&&(o?o=!1:(i[1]!==0&&(a[0]=a[1],f=Oh(m,n,i,s,void 0,f)),i=a,a=[i[1],r,0,0])):v.type==="tableHead"?(l=!0,u=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(u=r,i[1]!==0?(a[0]=a[1],f=Oh(m,n,i,s,r,f)):a[1]!==0&&(f=Oh(m,n,a,s,r,f)),s=0):s&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=r)}for(u!==0&&FN(m,n,u,d,h),m.consume(n.events),r=-1;++r<n.events.length;){const p=n.events[r];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=gre(n.events,r))}return e}function Oh(e,n,r,o,s,i){const a=o===1?"tableHeader":o===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(i.end=Object.assign({},ql(n.events,r[0])),e.add(r[0],0,[["exit",i,n]]));const u=ql(n.events,r[1]);if(i={type:a,start:Object.assign({},u),end:Object.assign({},u)},e.add(r[1],0,[["enter",i,n]]),r[2]!==0){const d=ql(n.events,r[2]),h=ql(n.events,r[3]),f={type:l,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(r[2],0,[["enter",f,n]]),o!==2){const m=n.events[r[2]],p=n.events[r[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,y=r[3]-r[2]-1;e.add(v,y,[])}}e.add(r[3]+1,0,[["exit",f,n]])}return s!==void 0&&(i.end=Object.assign({},ql(n.events,s)),e.add(s,0,[["exit",i,n]]),i=void 0),i}function FN(e,n,r,o,s){const i=[],a=ql(n.events,r);s&&(s.end=Object.assign({},a),i.push(["exit",s,n])),o.end=Object.assign({},a),i.push(["exit",o,n]),e.add(r+1,0,i)}function ql(e,n){const r=e[n],o=r[0]==="enter"?"start":"end";return r[1][o]}const wre={name:"tasklistCheck",tokenize:Sre};function bre(){return{text:{91:wre}}}function Sre(e,n,r){const o=this;return s;function s(u){return o.previous!==null||!o._gfmTasklistFirstContentOfListItem?r(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return qt(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),a):r(u)}function a(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(u)}function l(u){return Ze(u)?n(u):Ct(u)?e.check({tokenize:kre},n,r)(u):r(u)}}function kre(e,n,r){return Mt(e,o,"whitespace");function o(s){return s===null?r(s):n(s)}}function Nre(e){return QM([Yne(),sre(),hre(e),xre(),bre()])}const Cre={};function jre(e){const n=this,r=e||Cre,o=n.data(),s=o.micromarkExtensions||(o.micromarkExtensions=[]),i=o.fromMarkdownExtensions||(o.fromMarkdownExtensions=[]),a=o.toMarkdownExtensions||(o.toMarkdownExtensions=[]);s.push(Nre(r)),i.push(Wne()),a.push(qne(r))}const gm=e=>{if(!e)return"";if(typeof e=="string")return e.replace(/<[^>]+>/g,"").trim();if(typeof e=="object"&&e!==null&&"content"in e)try{return e.content.map(r=>{var o;return((o=r.content)==null?void 0:o.map(s=>s.text).filter(Boolean).join(" "))??""}).filter(Boolean).join(`
`).trim()}catch{return""}return""},UN=e=>{var f,m,p,v,y,b,x;if(!e)return null;const n=e.fields||{},r=String(((f=n.status)==null?void 0:f.name)??"").toLowerCase(),o=r.includes("done")||r.includes("resolved")||r.includes("closed")?"closed":r.includes("progress")?"in-progress":"open",s=String(((m=n.priority)==null?void 0:m.name)??"").toLowerCase(),i=s.includes("highest")||s.includes("blocker")||s.includes("critical")?"P1":s.includes("high")||s.includes("major")?"P2":s.includes("medium")?"P3":"P4",a=((p=e.renderedFields)==null?void 0:p.description)??n.description,l=gm(a),u=((v=n.assignee)==null?void 0:v.displayName)||((y=n.reporter)==null?void 0:y.displayName)||"Unassigned",d=n.created||new Date().toISOString(),h=(((b=n.comment)==null?void 0:b.comments)||[]).map(w=>{var S;return{author:(S=w.author)==null?void 0:S.displayName,body:gm(w.body??w.renderedBody??""),created:w.created}});return{id:e.id||e.key||n.id||n.key||`jira-${Math.random().toString(36).slice(2)}`,key:e.key||n.key||"JIRA",title:n.summary||e.key||"Jira issue",description:l,priority:i,status:o,reporter:u,createdAt:d,source:((x=n.project)==null?void 0:x.name)||"Jira",comments:h}};function BN(){var it,Ht;const{user:e}=Ao(),n=Un(q=>{var xe;return((xe=q.companyName)==null?void 0:xe.trim())||"Atlas"}),r=`${n} Pilot`,o=`${n} Engine`,s=`${n} Core`,[i,a]=g.useState([]),[l,u]=g.useState(""),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[p,v]=g.useState(null),[y,b]=g.useState(null),[x,w]=g.useState([]),[S,k]=g.useState(!1),[C,N]=g.useState({}),[j,P]=g.useState({}),[E,_]=g.useState({}),[I,O]=g.useState(null),[U,T]=g.useState(null),z=g.useMemo(()=>[{id:"core",name:s},{id:"diagnosis",name:"Diagnosis Engine"},{id:"analysis",name:"Analysis Agent"}],[s]),[L,H]=g.useState([]),[F,R]=g.useState(!1),[A,D]=g.useState(!1),[$,M]=g.useState({}),[Y,Z]=g.useState(z),[re,Q]=g.useState(0),ce=g.useRef(null),fe=g.useRef(null),[me,ke]=g.useState("pending"),[ie,Le]=g.useState(null),Ce=e!=null&&e.id?`atlas-tickets-${e.id}`:null,De=za(q=>q.setHistoryMode),he=za(q=>q.historyMode),je=za(q=>q.conversationToLoad),se=za(q=>q.clearConversationRequest),Ve=(()=>{const q=(e==null?void 0:e.user_metadata)??{},xe=(e==null?void 0:e.first_name)??(q==null?void 0:q.first_name)??(q==null?void 0:q.given_name)??"",Ee=(e==null?void 0:e.last_name)??(q==null?void 0:q.last_name)??(q==null?void 0:q.family_name)??"",Te=(q==null?void 0:q.full_name)??(q==null?void 0:q.name)??(e==null?void 0:e.full_name)??(e==null?void 0:e.name)??"",X=`${xe} ${Ee}`.trim(),ye=Te&&Te.trim()||X;if(ye)return ye;const Pe=(e==null?void 0:e.email)??"";return Pe.includes("@")?Pe.split("@")[0]:""})(),[et,nt]=g.useState(""),[ht,Tt]=g.useState("");g.useEffect(()=>{Z(z)},[z]),g.useEffect(()=>{const q=Ve.trim(),xe=[`Hello, ${q}!`,`Great to see you, ${q}.`,`Welcome back, ${q}.`,`Ready to build something new, ${q}?`,`Hey ${q}, let's get started.`],Ee=["Hello!","Welcome back!","Good to see you.","Ready to create something new?","Let's build something great."],Te=ye=>ye[Math.floor(Math.random()*ye.length)];nt(Te(q?xe:Ee)),Tt(Te(["What should we build today?","Tell me what to tackle next.","Where can I help first?","What can I spin up for you?","What's the next priority?"]))},[Ve]);const Re=x.filter(q=>q.status==="open"||q.status==="in-progress").length,An=x.filter(q=>q.status==="closed").length,te=q=>q.replace(/(#+\s*[^\n]+)/g,`

$1

`).replace(/---/g,`

---

`).replace(/(\n)(\d+\.|\-)\s/g,`
$2 `).replace(/(\n){3,}/g,`

`).trim(),ge=q=>q.replace(/(\S)(#+\s)/g,`$1
$2`).replace(/(\S)(\n?\d+\.\s)/g,`$1
$2`).replace(/(\S)(\n?-\s)/g,`$1
$2`).replace(/(\n){3,}/g,`

`).trim(),Ae=g.useCallback(async()=>{var q;k(!0);try{const xe=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),Ee={};xe&&(Ee.Authorization=`Bearer ${xe}`),e!=null&&e.id&&(Ee["x-account-id"]=e.id);const Te=((q=e==null?void 0:e.user_metadata)==null?void 0:q.org_id)??(e==null?void 0:e.id);Te&&(Ee["x-org-id"]=Te);const X=localStorage.getItem("forge_license_key");X&&(Ee["x-license-key"]=X);const ye=await fetch(`${hr}/connectors/jira/api/issues/assigned`,{headers:Ee,credentials:"include"});if(!ye.ok){if(ye.status===404||ye.status===400){w([]),Ce&&localStorage.removeItem(Ce);return}const ct=await ye.text();throw new Error(`Failed to load Jira issues: ${ye.statusText||ct||"unknown"}`)}const Pe=await ye.json(),at=Array.isArray(Pe==null?void 0:Pe.issues)?Pe.issues.map(UN).filter(Boolean):[];w(at),Ce&&localStorage.setItem(Ce,JSON.stringify(at))}catch(xe){Qe(xe)?console.warn("[console] jira fetch aborted"):console.error("[console] failed to load Jira issues",xe)}finally{k(!1)}},[e,Ce]);g.useEffect(()=>{if(!Ce)return;const q=localStorage.getItem(Ce);if(q)try{const xe=JSON.parse(q);Array.isArray(xe)&&w(xe)}catch{}},[Ce]);const ze=g.useCallback(async()=>{var q;try{const xe=localStorage.getItem("forge_license_key"),Ee=((q=e==null?void 0:e.user_metadata)==null?void 0:q.org_id)??(e==null?void 0:e.id),Te=await fetch(`${la}/exhausts${Ee?`?org_id=${Ee}`:""}`,{credentials:"include",headers:xe?{"x-license-key":xe}:void 0});if(!Te.ok)return;const ye=((await Te.json()).items??[]).map(Pe=>({id:Pe.id,name:Pe.name,status:"waiting",linkedTicket:null,ticketKey:null,createdBy:"You",createdAt:Pe.created_at,lastActivity:Pe.created_at,streamUrl:Pe.ingest_url,token:Pe.secret_token,logs:[]}));H(ye)}catch(xe){console.error("[console] failed to load log streams",xe)}},[e]),Qe=q=>{var Ee;if(!q)return!1;const xe=((Ee=q.message)==null?void 0:Ee.toLowerCase())??"";return q.name==="AbortError"||xe.includes("aborted")},gt=g.useCallback(async q=>{var Ee;const xe=$[q];if(!xe)return"";try{const Te=await fetch(`${la}/streams/${xe.id}`,{credentials:"include"});if(!Te.ok)return"";const X=await Te.json(),at=(((Ee=X==null?void 0:X.stream)==null?void 0:Ee.logs)??[]).slice(-20).map(ct=>`[${ct.timestamp}] ${ct.level}${ct.source?` ${ct.source}`:""} ${ct.message}`).join(`
`);return`Log stream: ${xe.name} (${xe.id}) linked to ticket ${q}
${at}`}catch(Te){return Qe(Te)?console.warn("[console] log context aborted"):console.error("[console] failed to load log context",Te),""}},[$]);g.useEffect(()=>{Ae(),ze()},[Ae,ze]);const _t=async q=>{var Zt;const xe={},Ee=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");Ee&&(xe.Authorization=`Bearer ${Ee}`);const Te=((Zt=e==null?void 0:e.user_metadata)==null?void 0:Zt.org_id)??(e==null?void 0:e.id);Te&&(xe["x-org-id"]=Te),e!=null&&e.id&&(xe["x-account-id"]=e.id);const X=localStorage.getItem("forge_license_key");X&&(xe["x-license-key"]=X);const ye=C[q.key],Pe=ye==null?void 0:ye.url,at={issue:{key:q.key,fields:{summary:(ye==null?void 0:ye.summary)??q.title,description:(ye==null?void 0:ye.descriptionHtml)??q.description,status:{name:"Done"},reporter:{displayName:q.reporter},priority:{name:q.priority},...Pe?{issuetype:{self:Pe}}:{}},changelog:ye==null?void 0:ye.changelog}};let ct=null,Je=!1;const Et=async()=>{try{const We=await fetch(`${hr}/connectors/jira/api/issues/${q.key}/transitions`,{method:"GET",headers:{...xe},credentials:"include"});if(!We.ok){const Hn=await We.text();throw new Error(Hn||We.statusText)}return(await We.json()).transitions??[]}catch(We){return console.warn("[console] failed to fetch transitions, will fallback",We),[]}},Ft=We=>{var cr;const en=["done","resolved","close"],Hn=We.find(co=>en.some(ts=>co.name.toLowerCase().includes(ts)));return(Hn==null?void 0:Hn.id)??((cr=We[0])==null?void 0:cr.id)},Jn=async()=>{try{const We=(ye==null?void 0:ye.transitions)??[],en=We.length?We:await Et(),Hn=Ft(en);if(!Hn)return!1;const cr=await fetch(`${hr}/connectors/jira/api/issues/${q.key}/transition`,{method:"POST",headers:{"Content-Type":"application/json",...xe},credentials:"include",body:JSON.stringify({transitionId:Hn})});if(!cr.ok){const co=await cr.text();throw new Error(co||cr.statusText)}return!0}catch(We){return ct=We,!1}},Kt=async()=>{const We=await fetch(`${hr}/connectors/jira/api/issues/${q.key}`,{method:"PATCH",headers:{"Content-Type":"application/json",...xe},credentials:"include",body:JSON.stringify({fields:{resolution:{name:"Done"}}})});if(!We.ok){const en=await We.text();throw new Error(en||We.statusText)}return!0};if(await Jn())Je=!0;else try{Je=await Kt()}catch(We){ct=We,console.warn("[console] jira resolve failed, continuing to ingest",We)}if(!Je){a(We=>[...We,{role:"assistant",content:`Could not resolve ${q.key} in Jira (${(ct==null?void 0:ct.message)??"unknown error"}). No ingestion was performed. Try again after checking Jira status.`}]);return}try{await fetch(`${hr}/connectors/jira/api/issues/ingest`,{method:"POST",headers:{"Content-Type":"application/json",...xe},credentials:"include",body:JSON.stringify(at)})}catch(We){console.error("[console] failed to ingest resolved ticket",We)}w(We=>We.map(en=>en.key===q.key?{...en,status:"closed"}:en)),ke("pending"),v(null),Ae(),m(!0),a(We=>[...We,{role:"assistant",content:`Ticket ${q.key} resolved in Jira and ingested into the KB for the memory graph. Pick your next ticket from the list to continue.`}]),Le(`Ticket ${q.key} resolved`),setTimeout(()=>Le(null),3e3)},tt=g.useCallback(q=>{var Te;const xe=x.find(X=>X.key.toUpperCase()===q.toUpperCase());if(xe)return xe;const Ee=C[q]||((Te=Object.entries(C).find(([X])=>X.toUpperCase()===q.toUpperCase()))==null?void 0:Te[1]);return Ee?UN({key:q,fields:{summary:Ee.summary,description:Ee.descriptionHtml,status:{name:Ee.status},priority:{name:Ee.priority},reporter:{displayName:Ee.reporter},assignee:{displayName:Ee.assignee},created:Ee.created}})??null:null},[C,x]),Gt=g.useCallback(async q=>{var Je;const xe=Array.isArray(j[q.key])?j[q.key]??[]:[],Ee=xe.length>0?`
Similar Historical Issues:
${xe.map(Et=>` ${Et.key}: ${Et.summary??""}
Description: ${Et.description??""}
Status: ${Et.status??""}`).join(`

`)}
`:"",Te=C[q.key],X=Te!=null&&Te.descriptionHtml?gm(Te.descriptionHtml):q.description,ye=`System: You are ${r} (Diagnosis Engine). Analyze the ticket and propose a fix. Always cite the strongest similar incident if present.${Ee}`,Pe=`Ticket ${q.key}
Title: ${(Te==null?void 0:Te.summary)||q.title}
Priority: ${q.priority}
Reporter: ${q.reporter}
Status: ${q.status}
Description:
${X||"No description provided."}

Provide diagnosis and fix plan.`;a(Et=>[...Et,{role:"assistant",content:`Diagnosis Mode Activated for ${q.key}`}]),h(!0);const at=`${ye}
${Pe}
Assistant:`,ct=new AbortController;try{const Et=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),Ft=localStorage.getItem("forge_license_key"),Jn=((Je=e==null?void 0:e.user_metadata)==null?void 0:Je.org_id)??(e==null?void 0:e.id),Kt=e==null?void 0:e.id,Jt=await fetch(`${hr}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json",...Et?{Authorization:`Bearer ${Et}`}:{},...Ft?{"x-license-key":Ft}:{},...Jn?{"x-org-id":Jn}:{},...Kt?{"x-account-id":Kt}:{}},body:JSON.stringify({message:at,conversationId:y??void 0}),signal:ct.signal,credentials:"include"});if(!Jt.ok||!Jt.body)throw new Error(`Chat failed: ${Jt.statusText}`);let Zt="",We="",en=!1;const Hn=Jt.body.getReader();for(;;){const{value:cr,done:co}=await Hn.read();if(co)break;Zt+=new TextDecoder().decode(cr,{stream:!0});const ts=Zt.split(`

`);Zt=ts.pop()??"";for(const ns of ts){const gi=ns.split(`
`);let rs=null;const rt=[];for(const Ut of gi)Ut.startsWith("event:")&&(rs=Ut.replace("event:","").trim()),Ut.startsWith("data:")&&rt.push(Ut.replace(/^data:\s?/,""));const jn=rt.join(`
`);if(rs==="token"&&(We+=jn,a(Ut=>{if(!en)return en=!0,[...Ut,{role:"assistant",content:We||"__streaming__"}];if(!Ut.length)return[{role:"assistant",content:We||"__streaming__"}];const tn=[...Ut],ln=tn.length-1;return tn[ln].role==="assistant"?tn[ln]={...tn[ln],content:We||"__streaming__"}:tn.push({role:"assistant",content:We||"__streaming__"}),tn})),rs==="done")try{const Ut=JSON.parse(jn);Ut!=null&&Ut.conversationId&&b(Ut.conversationId),Ut!=null&&Ut.messageId&&a(tn=>{if(!tn.length)return[{role:"assistant",content:We}];const ln=[...tn],jr=ln.length-1;return ln[jr].role==="assistant"?ln[jr]={...ln[jr],content:We}:ln.push({role:"assistant",content:We}),ln})}catch{a(Ut=>{if(!Ut.length)return[{role:"assistant",content:We}];const tn=[...Ut],ln=tn.length-1;return tn[ln].role==="assistant"?tn[ln]={...tn[ln],content:We}:tn.push({role:"assistant",content:We}),tn})}}}}catch(Et){Qe(Et)?console.warn("[console] diagnosis chat aborted"):(a(Ft=>[...Ft,{role:"assistant",content:"Sorry, diagnosis hit an error."}]),console.error(Et))}finally{h(!1)}},[r,j,C,e,y,Qe]),xt=async()=>{var gi,rs;if(!l.trim())return;De(!1);const q=/\b(yes|yeah|yep|sure|ok|okay|start|begin|let's go|solve it|solve this|open it|proceed|do it)\b/i.test(l)||/^y$/i.test(l.trim());if(p&&q){const rt={role:"user",content:l};a(jn=>[...jn,rt]),u(""),await Gt(p);return}const xe=(gi=l.match(/[A-Z][A-Z0-9]+-\d+/i))==null?void 0:gi[0],Ee=xe?xe.toUpperCase():null;if(Ee&&T(Ee),/\b(yes|yeah|yep|sure|ok|okay|start|begin|let's go|solve it|solve this|open it)\b/i.test(l)||/^y$/i.test(l.trim())){if(Ee){await Cr(Ee);return}if(U){await Cr(U);return}}const X=/\b(zscaler|zpa|zia|zdx|zs cloud|zero trust|z-tunnel|z tunnel|private access|internet access)\b/i.test(l),ye=i.filter(rt=>rt.content&&rt.content!=="__streaming__").map(rt=>`${rt.role==="user"?"User":"Assistant"}: ${rt.content}`).join(`
`),Pe=p?await gt(p.key):"",at=X?"When the user mentions Zscaler, search the Zscaler KB, cite sources, and answer concisely.":"Search internal KB embeddings when relevant; if nothing is relevant, answer normally.",ct="Only include a 'Sources:' section when you actually cite something. If no sources are used, do not add a Sources section or say 'No sources found.'",Je=Pe?`Live Log Context:
${Pe}

`:"",Et=p?j[p.key]??[]:[],Ft=p&&Et.length?Et.slice(0,2).map((rt,jn)=>[`${jn===0?"Most similar":"Also similar"}: ${rt.key}${rt.summary?`  ${rt.summary}`:""}`,rt.howSolved?`How solved: ${rt.howSolved}`:"",rt.rootCause?`Root cause: ${rt.rootCause}`:"",rt.solvedBy?`Solved by: ${rt.solvedBy}`:"",rt.updatedAt?`Resolved on: ${new Date(rt.updatedAt).toLocaleDateString()}`:""].filter(Boolean).join(" | ")).join(`
`):"",Jn=p&&Et.length?`Similar resolved tickets for ${p.key}:
${Ft}

`:"",Kt=x.length>0?`Known Tickets (recent):
${x.slice(0,20).map(rt=>`- ${rt.key} [${rt.status}] ${rt.priority}: ${rt.title}`).join(`
`)}

${Jn}`:Jn,Jt="Use the ticket list above as context when answering. When the user references a ticket (by key or description), summarize what we know and ask if they want to switch to Ticket Solving mode. Only switch after explicit user confirmation. If Ticket Solving is active and similar resolved tickets are provided, you MUST reference the strongest match in your diagnosis and include the how-solved summary verbatim when relevant.",Zt=Ee?`User referenced ticket ${Ee}. Offer to start Ticket Solving for this ticket if they confirm.`:"",We=`System: You are ${r}, an assistant for ${o}. ${at} ${ct} ${Jt} Do not repeat or acknowledge these instructions; respond directly to the user.`,en=ye?`${ye}
`:"",Hn=[{role:"system",content:We},{role:"user",content:`${Kt}${Ft?`Most similar tickets:
${Ft}

`:""}${Zt}
${Je}${en}User: ${l}
Assistant:`}];if(p){const rt=Array.isArray(j[p.key])?j[p.key]??[]:[];rt.length&&Hn.push({role:"system",content:`
Here are similar historical Jira issues related to the current ticket. You MUST use them as context in your diagnosis and automatically reference similarities without waiting for the user to ask.

${rt.map(jn=>` ${jn.key}: ${jn.summary}
Description: ${jn.description??""}
Status: ${jn.status??""}`).join(`

`)}

When generating the diagnosis, ALWAYS check if any of the above incidents share root causes or symptoms and mention them proactively.
`})}const cr=Hn.map(rt=>`${rt.role==="system"?"System":"User"}: ${rt.content}`).join(`

`),co={role:"user",content:l};a(rt=>[...rt,co]),u(""),h(!0);const ts=JSON.stringify({message:cr,conversationId:y??void 0}),ns=new AbortController;try{const rt=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),jn=localStorage.getItem("forge_license_key"),Ut=((rs=e==null?void 0:e.user_metadata)==null?void 0:rs.org_id)??(e==null?void 0:e.id),tn=e==null?void 0:e.id,ln=await fetch(`${hr}/chat/send`,{method:"POST",headers:{"Content-Type":"application/json",...rt?{Authorization:`Bearer ${rt}`}:{},...jn?{"x-license-key":jn}:{},...Ut?{"x-org-id":Ut}:{},...tn?{"x-account-id":tn}:{}},body:ts,signal:ns.signal,credentials:"include"});if(!ln.ok||!ln.body)throw new Error(`Chat failed: ${ln.statusText}`);let jr="",Ln="",Hf=!1;const Ug=ln.body.getReader();for(;;){const{value:W,done:G}=await Ug.read();if(G)break;jr+=new TextDecoder().decode(W,{stream:!0});const ae=jr.split(`

`);jr=ae.pop()??"";for(const ee of ae){const pe=ee.split(`
`);let oe=null;const Ie=[];for(const ot of pe)ot.startsWith("event:")&&(oe=ot.replace("event:","").trim()),ot.startsWith("data:")&&Ie.push(ot.replace(/^data:\s?/,""));const _e=Ie.join(`
`);if(oe==="token"&&(Ln+=_e,a(ot=>{if(!Hf)return Hf=!0,[...ot,{role:"assistant",content:Ln||"__streaming__"}];if(!ot.length)return[{role:"assistant",content:Ln||"__streaming__"}];const wt=[...ot],lt=wt.length-1;return wt[lt].role==="assistant"?wt[lt]={...wt[lt],content:Ln||"__streaming__"}:wt.push({role:"assistant",content:Ln||"__streaming__"}),wt})),oe==="done")try{const ot=JSON.parse(_e);ot!=null&&ot.conversationId&&b(ot.conversationId),ot!=null&&ot.messageId&&a(wt=>{if(!wt.length)return[{role:"assistant",content:Ln}];const lt=[...wt],Vn=lt.length-1;return lt[Vn].role==="assistant"?lt[Vn]={...lt[Vn],content:Ln}:lt.push({role:"assistant",content:Ln}),lt})}catch{a(ot=>{if(!ot.length)return[{role:"assistant",content:Ln}];const wt=[...ot],lt=wt.length-1;return wt[lt].role==="assistant"?wt[lt]={...wt[lt],content:Ln}:wt.push({role:"assistant",content:Ln}),wt})}}}}catch(rt){Qe(rt)?console.warn("[console] chat aborted"):(a(jn=>[...jn,{role:"assistant",content:"Sorry, I hit an error responding."}]),console.error(rt))}finally{h(!1)}},st=q=>{if(I!==null&&Y.length){if(q.key==="ArrowDown"){q.preventDefault(),Q(xe=>(xe+1)%Y.length);return}if(q.key==="ArrowUp"){q.preventDefault(),Q(xe=>(xe-1+Y.length)%Y.length);return}if(q.key==="Enter"){q.preventDefault(),$e(Y[re]);return}}q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),xt())},yt=q=>{const xe=q.target.value;u(xe);const Ee=q.target.selectionStart??xe.length,X=xe.slice(0,Ee).match(/@([\w-]*)$/);if(X){const ye=X[1],Pe=z.filter(at=>`${at.id} ${at.name}`.toLowerCase().includes(ye.toLowerCase()));O(ye),Z(Pe),Q(0)}else O(null),Z(z)},$e=q=>{const xe=`@${q.id}`;u(Ee=>{var Et;const Te=((Et=ce.current)==null?void 0:Et.selectionStart)??Ee.length,X=Ee.slice(0,Te),ye=Ee.slice(Te),Pe=X.match(/@[\w-]*$/),at=Pe?Te-Pe[0].length:Te,ct=`${Ee.slice(0,at)}${xe} ${ye}`,Je=at+xe.length+1;return requestAnimationFrame(()=>{ce.current&&(ce.current.focus(),ce.current.setSelectionRange(Je,Je))}),ct}),O(null),Z(z),Q(0)},lo=()=>{m(!0),Ae(),a([{role:"assistant",content:"I've loaded your Jira issues. Select one from the panel on the right to inspect it."}])},Qn=g.useCallback(async q=>{var ye,Pe,at,ct;v(q),a(Je=>[...Je,{role:"assistant",content:`Loading ${q.key}... fetching full details and similar issues.`}]),_(Je=>({...Je,[q.key]:!0}));const xe={},Ee=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");Ee&&(xe.Authorization=`Bearer ${Ee}`);const Te=((ye=e==null?void 0:e.user_metadata)==null?void 0:ye.org_id)??(e==null?void 0:e.id);Te&&(xe["x-org-id"]=Te),e!=null&&e.id&&(xe["x-account-id"]=e.id);const X=localStorage.getItem("forge_license_key");X&&(xe["x-license-key"]=X);try{const Je=await W2(q.key,xe);N(Zt=>({...Zt,[q.key]:Je}));const Et=JSON.stringify({projectKey:(at=(Pe=Je.key)==null?void 0:Pe.split("-"))==null?void 0:at[0],summary:Je.summary,description:Je.descriptionHtml,limit:5});let Ft=[];try{const Zt=await fetch(`${hr}/connectors/jira/api/issues/similar`,{method:"POST",headers:{"Content-Type":"application/json",...xe},credentials:"include",body:Et});Zt.ok?(Ft=((ct=(await Zt.json()).items)==null?void 0:ct.map(en=>({...en,updatedAt:en.updated_at??en.updatedAt})))??[],P(en=>({...en,[q.key]:Ft}))):P(We=>({...We,[q.key]:[]}))}catch(Zt){console.error("[console] failed to load similar issues",Zt),P(We=>({...We,[q.key]:[]}))}finally{_(Zt=>({...Zt,[q.key]:!1}))}const Jn=Je.descriptionHtml?gm(Je.descriptionHtml):q.description,Kt=Ft==null?void 0:Ft[0],Jt=Kt?`Ticket ${Kt.key} looks similar and was solved${Kt.updatedAt?` ${new Date(Kt.updatedAt).toLocaleDateString()}`:""} by ${Kt.solvedBy||"the team"}.${Kt.howSolved?` Here's how it was solved: ${Kt.howSolved}`:""}`:"";a(Zt=>[...Zt.filter(We=>!We.content.startsWith("Loading ")),{role:"assistant",content:`${Jt?`${Jt}

`:""}**${q.key}: ${Je.summary||q.title}**

**Priority:** ${q.priority}
**Reporter:** ${q.reporter}
**Status:** ${q.status}

**Description:**
${Jn}

Would you like me to proceed with analyzing and fixing this issue?`}])}catch(Je){console.error("[console] failed to load issue details",Je),_(Et=>({...Et,[q.key]:!1})),a(Et=>[...Et.filter(Ft=>!Ft.content.startsWith("Loading ")),{role:"assistant",content:`**${q.key}: ${q.title}**

**Priority:** ${q.priority}
**Reporter:** ${q.reporter}
**Status:** ${q.status}

**Description:**
${q.description||"Description not available."}

Would you like me to proceed with analyzing and fixing this issue?`}])}},[e]),Nr=async(q,xe,Ee,Te)=>{try{const X=await fetch(`${hr}/connectors/jira/api/issues/similar`,{method:"POST",headers:{"Content-Type":"application/json",...Te},credentials:"include",body:JSON.stringify({projectKey:q.split("-")[0],summary:xe,description:Ee,limit:5})});return X.ok?((await X.json()).items??[]).map(Pe=>({...Pe,updatedAt:Pe.updated_at??Pe.updatedAt})):[]}catch{return[]}},Cr=g.useCallback(async q=>{var Ee;const xe=tt(q);if(xe){m(!0),ke("pending");const Te=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token"),X={};Te&&(X.Authorization=`Bearer ${Te}`);const ye=((Ee=e==null?void 0:e.user_metadata)==null?void 0:Ee.org_id)??(e==null?void 0:e.id);ye&&(X["x-org-id"]=ye),e!=null&&e.id&&(X["x-account-id"]=e.id);const Pe=localStorage.getItem("forge_license_key");Pe&&(X["x-license-key"]=Pe);const at=await W2(q,X),ct=await Nr(q,at.summary,at.descriptionHtml,X);P(Je=>({...Je,[q]:ct})),await Qn(xe)}T(null)},[tt,Qn,e]);g.useEffect(()=>{y&&localStorage.setItem(`atlas-chat-${y}`,JSON.stringify(i))},[i,y]),g.useEffect(()=>{const q=localStorage.getItem("atlas-last-conversation-id");q&&b(q)},[]),g.useEffect(()=>{if(!y)return;localStorage.setItem("atlas-last-conversation-id",y);const q=localStorage.getItem(`atlas-chat-${y}`);if(q)try{const xe=JSON.parse(q);Array.isArray(xe)&&a(xe)}catch{a([])}else a(xe=>xe.length?xe:[])},[y]),g.useEffect(()=>{if(!je)return;const q=localStorage.getItem(`atlas-chat-${je}`);if(q)try{const xe=JSON.parse(q);Array.isArray(xe)&&(a(xe),b(je),m(!0))}catch{}se()},[se,je]),g.useEffect(()=>{fe.current&&(fe.current.scrollTop=fe.current.scrollHeight)},[i]);const Bt=()=>c.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-6 animate-fade-in",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(cl,{className:"w-8 h-8 text-atlas-glow"})}),c.jsxs("div",{className:"text-center space-y-1",children:[c.jsx("h1",{className:"text-4xl font-normal",children:c.jsx("span",{className:"text-atlas-glow",children:et})}),c.jsx("p",{className:"text-3xl font-normal text-muted-foreground/80",children:ht})]}),c.jsxs("div",{className:"flex items-center gap-6 mt-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-semibold text-red-400",children:Re}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending tickets"})]}),c.jsx("div",{className:"w-px h-6 bg-border"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-semibold text-blue-400",children:An}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Closed tickets"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[c.jsxs("button",{onClick:lo,className:"flex items-center gap-2 px-5 py-3 text-sm border border-border rounded-xl hover:border-atlas-glow/50 hover:bg-muted/30 transition-all",children:[c.jsx(T$,{className:"w-4 h-4"}),"View my tickets"]}),c.jsxs("button",{className:"flex items-center gap-2 px-5 py-3 text-sm border border-border rounded-xl hover:border-atlas-glow/50 hover:bg-muted/30 transition-all",children:[c.jsx(cl,{className:"w-4 h-4"}),"Create new agent"]})]})]}),vt=f&&i.length===1&&((it=i[0])==null?void 0:it.role)==="assistant"&&((Ht=i[0])==null?void 0:Ht.content.includes("I've loaded your Jira issues")),Ke=()=>c.jsxs("div",{className:de("max-w-3xl mx-auto space-y-6",vt&&"h-full flex flex-col justify-center items-center"),children:[i.map((q,xe)=>c.jsx("div",{className:`flex ${vt?"justify-center":q.role==="user"?"justify-end":"justify-start"} animate-fade-in`,children:c.jsx("div",{className:de("max-w-[80%] whitespace-pre-wrap",q.role==="user"?"rounded-2xl px-4 py-3 bg-atlas-glow/20 text-foreground ml-auto":"text-foreground prose prose-invert max-w-none",vt&&"text-center"),children:q.role==="assistant"?c.jsx(hte,{remarkPlugins:[jre],components:{a:({node:Ee,...Te})=>c.jsx("a",{className:"text-blue-400 underline",target:"_blank",rel:"noreferrer",...Te}),ul:({node:Ee,...Te})=>c.jsx("ul",{className:"list-disc pl-4 space-y-1",...Te}),ol:({node:Ee,...Te})=>c.jsx("ol",{className:"list-decimal pl-4 space-y-1",...Te})},children:ge(q.content)}):te(q.content)})},xe)),d&&c.jsx("div",{className:"flex justify-start animate-fade-in",children:c.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 rounded-full bg-atlas-glow animate-pulse-scale"})})})]}),pt=()=>c.jsx("div",{className:"bg-background p-6",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"relative bg-card/40 backdrop-blur-sm border border-border/50 rounded-[28px] hover:border-border transition-colors",children:[I!==null&&c.jsx("div",{className:"absolute bottom-full left-5 mb-2 w-64 rounded-xl border border-border bg-card shadow-md overflow-hidden",children:Y.length?Y.map((q,xe)=>c.jsxs("button",{className:de("w-full text-left px-4 py-2 text-sm hover:bg-muted transition-colors",xe===re&&"bg-muted"),onMouseDown:Ee=>{Ee.preventDefault(),$e(q)},children:[q.name," (",q.id,")"]},q.id)):c.jsx("div",{className:"px-4 py-2 text-sm text-muted-foreground",children:"No matches"})}),c.jsxs("div",{className:"flex items-center gap-3 px-5 py-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(le,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9",onClick:()=>D(q=>!q),children:c.jsx(bf,{className:"h-5 w-5"})}),A&&c.jsx("div",{className:"absolute left-0 mt-2 w-40 rounded-xl border border-border bg-card shadow-lg z-10",children:c.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-muted transition-colors rounded-t-xl",onMouseDown:q=>q.preventDefault(),onClick:()=>{D(!1),R(!0)},children:"Connect logs"})})]}),c.jsx("input",{type:"text",value:l,onChange:yt,onKeyDown:st,placeholder:`Ask ${s}...`,ref:ce,className:"flex-1 bg-transparent border-0 text-base text-foreground placeholder:text-muted-foreground/60 focus:outline-none"}),c.jsxs("button",{className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors px-3 py-1.5 rounded-lg hover:bg-muted/50",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),c.jsx("span",{children:"Tools"})]}),c.jsx(le,{size:"icon",variant:"ghost",className:"text-muted-foreground hover:text-foreground hover:bg-transparent h-9 w-9",children:c.jsx(g$,{className:"h-5 w-5"})})]})]})})});return f?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex h-screen gap-4 p-4 max-w-7xl mx-auto relative",onClick:()=>De(!1),children:[c.jsx("button",{className:"absolute left-4 top-10 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Toggle conversation history",onClick:q=>{q.stopPropagation(),De(!he)},children:c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:[c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"}),c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"}),c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"})]})}),c.jsxs("div",{className:"flex-[3] flex flex-col bg-card/30 backdrop-blur-sm border border-border/50 rounded-2xl overflow-hidden",children:[ie&&c.jsx("div",{className:"absolute top-6 right-6 z-50",children:c.jsx("div",{className:"bg-card/90 border border-border text-foreground px-4 py-3 rounded-xl shadow-lg animate-fade-in",children:ie})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-8",ref:fe,children:Ke()}),pt()]}),c.jsx("div",{className:"flex-1 min-w-[320px] max-w-[400px]",children:c.jsx(OX,{tickets:x,selectedTicket:p,onSelectTicket:Qn,onClearSelection:()=>v(null),loading:S,issueDetails:C,similarIssues:j,similarLoading:E,view:me,onChangeView:ke,onResolveTicket:_t})})]}),c.jsx(ui,{open:F,onOpenChange:R,children:c.jsxs(Ns,{className:"max-w-lg",children:[c.jsx(di,{children:c.jsx(fi,{children:"Connect logs"})}),c.jsx("div",{className:"space-y-3",children:L.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No log streams yet. Create one in Exhausts."}):L.map(q=>{var xe;return c.jsxs("div",{className:"p-3 rounded-lg border border-border/50 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-semibold truncate",children:q.name}),c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:q.streamUrl}),p&&c.jsxs("div",{className:"text-[11px] text-muted-foreground",children:["Ticket: ",p.key,((xe=$[p.key])==null?void 0:xe.id)===q.id?" (attached)":""]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"text-sm text-blue-400 hover:underline",onClick:()=>{navigator.clipboard.writeText(`curl -X POST ${q.streamUrl} -H "Authorization: Bearer ${q.token}" --data-binary @/path/to/logfile.log`)},children:"Copy"}),p&&c.jsx("button",{className:"text-sm text-emerald-400 hover:underline",onClick:()=>{M(Ee=>({...Ee,[p.key]:q})),Le(`Logs linked to ${p.key}`),R(!1)},children:"Attach"})]})]},q.id)})})]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col h-screen relative",onClick:()=>De(!1),children:[c.jsx("button",{className:"absolute left-4 top-6 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Toggle conversation history",onClick:q=>{q.stopPropagation(),De(!he)},children:c.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-1",children:[c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"}),c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"}),c.jsx("span",{className:"block h-0.5 w-6 bg-foreground/80 rounded"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-8",ref:fe,children:i.length===0?Bt():Ke()}),pt()]}),c.jsx(ui,{open:F,onOpenChange:R,children:c.jsxs(Ns,{className:"max-w-lg",children:[c.jsx(di,{children:c.jsx(fi,{children:"Connect logs"})}),c.jsx("div",{className:"space-y-3",children:L.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No log streams yet. Create one in Exhausts."}):L.map(q=>c.jsxs("div",{className:"p-3 rounded-lg border border-border/50 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:q.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:q.streamUrl})]}),c.jsx("button",{className:"text-sm text-blue-400 hover:underline",onClick:()=>{navigator.clipboard.writeText(`curl -X POST ${q.streamUrl} -H "Authorization: Bearer ${q.token}" --data-binary @/path/to/logfile.log`),R(!1)},children:"Copy command"})]},q.id))})]})})]})}function _re(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function Ere(e,n,r){return n=Dre(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function HN(e,n){return Pre(e)||_re(e,n)||B5(e,n)||Ire()}function Tre(e){return Are(e)||Mre(e)||B5(e)||Rre()}function Are(e){if(Array.isArray(e))return kv(e)}function Pre(e){if(Array.isArray(e))return e}function Mre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B5(e,n){if(e){if(typeof e=="string")return kv(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kv(e,n)}}function kv(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function Rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Dre(e){var n=Ore(e,"string");return typeof n=="symbol"?n:String(n)}var Lre=function(n,r){var o=new Set(r);return Object.assign.apply(Object,[{}].concat(Tre(Object.entries(n).filter(function(s){var i=HN(s,1),a=i[0];return!o.has(a)}).map(function(s){var i=HN(s,2),a=i[0],l=i[1];return Ere({},a,l)}))))};function Nv(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function $re(e){if(Array.isArray(e))return e}function zre(e){if(Array.isArray(e))return Nv(e)}function Fre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ure(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function Bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vre(e,n){return $re(e)||Ure(e,n)||H5(e,n)||Bre()}function VN(e){return zre(e)||Fre(e)||H5(e)||Hre()}function H5(e,n){if(e){if(typeof e=="string")return Nv(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nv(e,n):void 0}}function Wre(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,o=r===void 0?"div":r,s=n.nodeMapper,i=s===void 0?function(h){return h}:s,a=n.methodNames,l=a===void 0?[]:a,u=n.initPropNames,d=u===void 0?[]:u;return g.forwardRef(function(h,f){var m=g.useRef(),p=g.useMemo(function(){var b=Object.fromEntries(d.filter(function(x){return h.hasOwnProperty(x)}).map(function(x){return[x,h[x]]}));return e(b)},[]);WN(function(){p(i(m.current))},g.useLayoutEffect),WN(function(){return p._destructor instanceof Function?p._destructor:void 0});var v=g.useCallback(function(b){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];return p[b]instanceof Function?p[b].apply(p,w):void 0},[p]),y=g.useRef({});return Object.keys(Lre(h,[].concat(VN(l),VN(d)))).filter(function(b){return y.current[b]!==h[b]}).forEach(function(b){return v(b,h[b])}),y.current=h,g.useImperativeHandle(f,function(){return Object.fromEntries(l.map(function(b){return[b,function(){for(var x=arguments.length,w=new Array(x),S=0;S<x;S++)w[S]=arguments[S];return v.apply(void 0,[b].concat(w))}]}))},[v]),B.createElement(o,{ref:m})})}function WN(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.useEffect,r=g.useRef(),o=g.useRef(!1),s=g.useRef(!1),i=g.useState(0),a=Vre(i,2);a[0];var l=a[1];o.current&&(s.current=!0),n(function(){return o.current||(r.current=e(),o.current=!0),l(function(u){return u+1}),function(){s.current&&r.current&&r.current()}},[])}class qN extends Map{constructor(n,r=Kre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[o,s]of n)this.set(o,s)}get(n){return super.get(GN(this,n))}has(n){return super.has(GN(this,n))}set(n,r){return super.set(qre(this,n),r)}delete(n){return super.delete(Gre(this,n))}}function GN({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):r}function qre({_intern:e,_key:n},r){const o=n(r);return e.has(o)?e.get(o):(e.set(o,r),r)}function Gre({_intern:e,_key:n},r){const o=n(r);return e.has(o)&&(r=e.get(o),e.delete(o)),r}function Kre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KN(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r<o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function YN(e,n){let r;if(n===void 0)for(const o of e)o!=null&&(r>o||r===void 0&&o>=o)&&(r=o);else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function Yre(e,n){let r=0;for(let o of e)(o=+o)&&(r+=o);return r}var Xre=typeof global=="object"&&global&&global.Object===Object&&global,Qre=typeof self=="object"&&self&&self.Object===Object&&self,V5=Xre||Qre||Function("return this")(),xm=V5.Symbol,W5=Object.prototype,Jre=W5.hasOwnProperty,Zre=W5.toString,$u=xm?xm.toStringTag:void 0;function eoe(e){var n=Jre.call(e,$u),r=e[$u];try{e[$u]=void 0;var o=!0}catch{}var s=Zre.call(e);return o&&(n?e[$u]=r:delete e[$u]),s}var toe=Object.prototype,noe=toe.toString;function roe(e){return noe.call(e)}var ooe="[object Null]",soe="[object Undefined]",XN=xm?xm.toStringTag:void 0;function ioe(e){return e==null?e===void 0?soe:ooe:XN&&XN in Object(e)?eoe(e):roe(e)}function aoe(e){return e!=null&&typeof e=="object"}var loe="[object Symbol]";function coe(e){return typeof e=="symbol"||aoe(e)&&ioe(e)==loe}var uoe=/\s/;function doe(e){for(var n=e.length;n--&&uoe.test(e.charAt(n)););return n}var foe=/^\s+/;function hoe(e){return e&&e.slice(0,doe(e)+1).replace(foe,"")}function ym(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var QN=NaN,poe=/^[-+]0x[0-9a-f]+$/i,moe=/^0b[01]+$/i,goe=/^0o[0-7]+$/i,xoe=parseInt;function JN(e){if(typeof e=="number")return e;if(coe(e))return QN;if(ym(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ym(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=hoe(e);var r=moe.test(e);return r||goe.test(e)?xoe(e.slice(2),r?2:8):poe.test(e)?QN:+e}var hy=function(){return V5.Date.now()},yoe="Expected a function",voe=Math.max,woe=Math.min;function q5(e,n,r){var o,s,i,a,l,u,d=0,h=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(yoe);n=JN(n)||0,ym(r)&&(h=!!r.leading,f="maxWait"in r,i=f?voe(JN(r.maxWait)||0,n):i,m="trailing"in r?!!r.trailing:m);function p(N){var j=o,P=s;return o=s=void 0,d=N,a=e.apply(P,j),a}function v(N){return d=N,l=setTimeout(x,n),h?p(N):a}function y(N){var j=N-u,P=N-d,E=n-j;return f?woe(E,i-P):E}function b(N){var j=N-u,P=N-d;return u===void 0||j>=n||j<0||f&&P>=i}function x(){var N=hy();if(b(N))return w(N);l=setTimeout(x,y(N))}function w(N){return l=void 0,m&&o?p(N):(o=s=void 0,a)}function S(){l!==void 0&&clearTimeout(l),d=0,o=u=s=l=void 0}function k(){return l===void 0?a:w(hy())}function C(){var N=hy(),j=b(N);if(o=arguments,s=this,u=N,j){if(l===void 0)return v(u);if(f)return clearTimeout(l),l=setTimeout(x,n),p(u)}return l===void 0&&(l=setTimeout(x,n)),a}return C.cancel=S,C.flush=k,C}var boe="Expected a function";function Soe(e,n,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(boe);return ym(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),q5(e,n,{leading:o,maxWait:n,trailing:s})}var nl=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-nl.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?nl.Bounce.In(e*2)*.5:nl.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),ed=function(){return performance.now()},G5=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(var s=0,i=r;s<i.length;s++){var a=i[s];(n=a._group)===null||n===void 0||n.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,s=n;o<s.length;o++){var i=s[o];i._group=void 0,delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=ed()),r===void 0&&(r=!0);var o=Object.keys(this._tweens);if(o.length!==0)for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<o.length;s++){var i=this._tweens[o[s]],a=!r;i&&i.update(n,a)===!1&&!r&&this.remove(i)}o=Object.keys(this._tweensAddedDuringUpdate)}},e}(),ac={Linear:function(e,n){var r=e.length-1,o=r*n,s=Math.floor(o),i=ac.Utils.Linear;return n<0?i(e[0],e[1],o):n>1?i(e[r],e[r-1],r-o):i(e[s],e[s+1>r?r:s+1],o-s)},Bezier:function(e,n){for(var r=0,o=e.length-1,s=Math.pow,i=ac.Utils.Bernstein,a=0;a<=o;a++)r+=s(1-n,o-a)*s(n,a)*e[a]*i(o,a);return r},CatmullRom:function(e,n){var r=e.length-1,o=r*n,s=Math.floor(o),i=ac.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(s=Math.floor(o=r*(1+n))),i(e[(s-1+r)%r],e[s],e[(s+1)%r],e[(s+2)%r],o-s)):n<0?e[0]-(i(e[0],e[0],e[1],e[1],-o)-e[0]):n>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],o-r)-e[r]):i(e[s?s-1:0],e[s],e[r<s+1?r:s+1],e[r<s+2?r:s+2],o-s)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=ac.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:function(){var e=[1];return function(n){var r=1;if(e[n])return e[n];for(var o=n;o>1;o--)r*=o;return e[n]=r,r}}(),CatmullRom:function(e,n,r,o,s){var i=(r-e)*.5,a=(o-n)*.5,l=s*s,u=s*l;return(2*n-2*r+i+a)*u+(-3*n+3*r-2*i-a)*l+i*s+n}}},koe=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Cv=new G5,ZN=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=nl.Linear.None,this._interpolationFunction=ac.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=koe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Cv,Cv.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=ed()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var i in this._valuesEnd)s[i]=this._valuesEnd[i];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,o,s,i){for(var a in o){var l=n[a],u=Array.isArray(l),d=u?"array":typeof l,h=!u&&Array.isArray(o[a]);if(!(d==="undefined"||d==="function")){if(h){var f=o[a];if(f.length===0)continue;for(var m=[l],p=0,v=f.length;p<v;p+=1){var y=this._handleRelativeValue(l,f[p]);if(isNaN(y)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(y)}h&&(o[a]=m)}if((d==="object"||u)&&l&&!h){r[a]=u?[]:{};var b=l;for(var x in b)r[a][x]=b[x];s[a]=u?[]:{};var f=o[a];if(!this._isDynamic){var w={};for(var x in f)w[x]=f[x];o[a]=f=w}this._setupProperties(b,r[a],f,s[a],i)}else(typeof r[a]>"u"||i)&&(r[a]=l),u||(r[a]*=1),h?s[a]=o[a].slice().reverse():s[a]=r[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=ed()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=ed()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=nl.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=ac.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var o=this,s;if(n===void 0&&(n=ed()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var i;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=n-this._startTime,l=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),u=this._duration+this._repeat*l,d=function(){if(o._duration===0||a>u)return 1;var y=Math.trunc(a/l),b=a-y*l,x=Math.min(b/o._duration,1);return x===0&&a===o._duration?1:x},h=d(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||a>=this._duration)if(this._repeat>0){var m=Math.min(Math.trunc((a-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=m);for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*m,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,v=this._chainedTweens.length;p<v;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,o,s){for(var i in o)if(r[i]!==void 0){var a=r[i]||0,l=o[i],u=Array.isArray(n[i]),d=Array.isArray(l),h=!u&&d;h?n[i]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(n[i],a,l,s):(l=this._handleRelativeValue(a,l),typeof l=="number"&&(n[i]=a+(l-a)*s))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],o=this._valuesEnd[n];typeof o=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(o):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}(),Cs=Cv;Cs.getAll.bind(Cs);Cs.removeAll.bind(Cs);Cs.add.bind(Cs);Cs.remove.bind(Cs);Cs.update.bind(Cs);function eC(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function Noe(e){if(Array.isArray(e))return e}function Coe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function joe(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function _oe(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function Eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Toe(e,n){return Noe(e)||_oe(e,n)||Aoe(e,n)||Eoe()}function Aoe(e,n){if(e){if(typeof e=="string")return eC(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eC(e,n):void 0}}var Poe=joe(function e(n,r){var o=r.default,s=o===void 0?null:o,i=r.triggerUpdate,a=i===void 0?!0:i,l=r.onChange,u=l===void 0?function(d,h){}:l;Coe(this,e),this.name=n,this.defaultVal=s,this.triggerUpdate=a,this.onChange=u});function d1(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,o=e.props,s=o===void 0?{}:o,i=e.methods,a=i===void 0?{}:i,l=e.aliases,u=l===void 0?{}:l,d=e.init,h=d===void 0?function(){}:d,f=e.update,m=f===void 0?function(){}:f,p=Object.keys(s).map(function(v){return new Poe(v,s[v])});return function v(){for(var y=arguments.length,b=new Array(y),x=0;x<y;x++)b[x]=arguments[x];var w=!!(this instanceof v&&this.constructor),S=w?b.shift():void 0,k=b[0],C=k===void 0?{}:k,N=Object.assign({},r instanceof Function?r(C):r,{initialised:!1}),j={};function P(I){return E(I,C),_(),P}var E=function(O,U){h.call(P,O,N,U),N.initialised=!0},_=q5(function(){N.initialised&&(m.call(P,N,j),j={})},1);return p.forEach(function(I){P[I.name]=O(I);function O(U){var T=U.name,z=U.triggerUpdate,L=z===void 0?!1:z,H=U.onChange,F=H===void 0?function(D,$){}:H,R=U.defaultVal,A=R===void 0?null:R;return function(D){var $=N[T];if(!arguments.length)return $;var M=D===void 0?A:D;return N[T]=M,F.call(P,M,N,$),!j.hasOwnProperty(T)&&(j[T]=$),L&&_(),P}}}),Object.keys(a).forEach(function(I){P[I]=function(){for(var O,U=arguments.length,T=new Array(U),z=0;z<U;z++)T[z]=arguments[z];return(O=a[I]).call.apply(O,[P,N].concat(T))}}),Object.entries(u).forEach(function(I){var O=Toe(I,2),U=O[0],T=O[1];return P[U]=P[T]}),P.resetProps=function(){return p.forEach(function(I){P[I.name](I.defaultVal)}),P},P.resetProps(),N._rerender=_,w&&S&&P(S),P}}var Ot=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vm(e)}var Moe=/^\s+/,Roe=/\s+$/;function Ge(e,n){if(e=e||"",n=n||{},e instanceof Ge)return e;if(!(this instanceof Ge))return new Ge(e,n);var r=Ioe(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Ge.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,o,s,i,a,l;return r=n.r/255,o=n.g/255,s=n.b/255,r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),o<=.03928?a=o/12.92:a=Math.pow((o+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*i+.7152*a+.0722*l},setAlpha:function(n){return this._a=K5(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=nC(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=nC(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),s=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+o+"%, "+s+"%)":"hsva("+r+", "+o+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var n=tC(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=tC(this._r,this._g,this._b),r=Math.round(n.h*360),o=Math.round(n.s*100),s=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+o+"%, "+s+"%)":"hsla("+r+", "+o+"%, "+s+"%, "+this._roundA+")"},toHex:function(n){return rC(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return $oe(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(dn(this._r,255)*100)+"%",g:Math.round(dn(this._g,255)*100)+"%",b:Math.round(dn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(dn(this._r,255)*100)+"%, "+Math.round(dn(this._g,255)*100)+"%, "+Math.round(dn(this._b,255)*100)+"%)":"rgba("+Math.round(dn(this._r,255)*100)+"%, "+Math.round(dn(this._g,255)*100)+"%, "+Math.round(dn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Xoe[rC(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+oC(this._r,this._g,this._b,this._a),o=r,s=this._gradientType?"GradientType = 1, ":"";if(n){var i=Ge(n);o="#"+oC(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+o+")"},toString:function(n){var r=!!n;n=n||this._format;var o=!1,s=this._a<1&&this._a>=0,i=!r&&s&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return i?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(o=this.toRgbString()),n==="prgb"&&(o=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(o=this.toHexString()),n==="hex3"&&(o=this.toHexString(!0)),n==="hex4"&&(o=this.toHex8String(!0)),n==="hex8"&&(o=this.toHex8String()),n==="name"&&(o=this.toName()),n==="hsl"&&(o=this.toHslString()),n==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return Ge(this.toString())},_applyModification:function(n,r){var o=n.apply(null,[this].concat([].slice.call(r)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(Boe,arguments)},brighten:function(){return this._applyModification(Hoe,arguments)},darken:function(){return this._applyModification(Voe,arguments)},desaturate:function(){return this._applyModification(zoe,arguments)},saturate:function(){return this._applyModification(Foe,arguments)},greyscale:function(){return this._applyModification(Uoe,arguments)},spin:function(){return this._applyModification(Woe,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Koe,arguments)},complement:function(){return this._applyCombination(qoe,arguments)},monochromatic:function(){return this._applyCombination(Yoe,arguments)},splitcomplement:function(){return this._applyCombination(Goe,arguments)},triad:function(){return this._applyCombination(sC,[3])},tetrad:function(){return this._applyCombination(sC,[4])}};Ge.fromRatio=function(e,n){if(vm(e)=="object"){var r={};for(var o in e)e.hasOwnProperty(o)&&(o==="a"?r[o]=e[o]:r[o]=td(e[o]));e=r}return Ge(e,n)};function Ioe(e){var n={r:0,g:0,b:0},r=1,o=null,s=null,i=null,a=!1,l=!1;return typeof e=="string"&&(e=ese(e)),vm(e)=="object"&&(Ds(e.r)&&Ds(e.g)&&Ds(e.b)?(n=Ooe(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ds(e.h)&&Ds(e.s)&&Ds(e.v)?(o=td(e.s),s=td(e.v),n=Loe(e.h,o,s),a=!0,l="hsv"):Ds(e.h)&&Ds(e.s)&&Ds(e.l)&&(o=td(e.s),i=td(e.l),n=Doe(e.h,o,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=K5(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Ooe(e,n,r){return{r:dn(e,255)*255,g:dn(n,255)*255,b:dn(r,255)*255}}function tC(e,n,r){e=dn(e,255),n=dn(n,255),r=dn(r,255);var o=Math.max(e,n,r),s=Math.min(e,n,r),i,a,l=(o+s)/2;if(o==s)i=a=0;else{var u=o-s;switch(a=l>.5?u/(2-o-s):u/(o+s),o){case e:i=(n-r)/u+(n<r?6:0);break;case n:i=(r-e)/u+2;break;case r:i=(e-n)/u+4;break}i/=6}return{h:i,s:a,l}}function Doe(e,n,r){var o,s,i;e=dn(e,360),n=dn(n,100),r=dn(r,100);function a(d,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(h-d)*6*f:f<1/2?h:f<2/3?d+(h-d)*(2/3-f)*6:d}if(n===0)o=s=i=r;else{var l=r<.5?r*(1+n):r+n-r*n,u=2*r-l;o=a(u,l,e+1/3),s=a(u,l,e),i=a(u,l,e-1/3)}return{r:o*255,g:s*255,b:i*255}}function nC(e,n,r){e=dn(e,255),n=dn(n,255),r=dn(r,255);var o=Math.max(e,n,r),s=Math.min(e,n,r),i,a,l=o,u=o-s;if(a=o===0?0:u/o,o==s)i=0;else{switch(o){case e:i=(n-r)/u+(n<r?6:0);break;case n:i=(r-e)/u+2;break;case r:i=(e-n)/u+4;break}i/=6}return{h:i,s:a,v:l}}function Loe(e,n,r){e=dn(e,360)*6,n=dn(n,100),r=dn(r,100);var o=Math.floor(e),s=e-o,i=r*(1-n),a=r*(1-s*n),l=r*(1-(1-s)*n),u=o%6,d=[r,a,i,i,l,r][u],h=[l,r,r,a,i,i][u],f=[i,i,l,r,r,a][u];return{r:d*255,g:h*255,b:f*255}}function rC(e,n,r,o){var s=[Vo(Math.round(e).toString(16)),Vo(Math.round(n).toString(16)),Vo(Math.round(r).toString(16))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function $oe(e,n,r,o,s){var i=[Vo(Math.round(e).toString(16)),Vo(Math.round(n).toString(16)),Vo(Math.round(r).toString(16)),Vo(Y5(o))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function oC(e,n,r,o){var s=[Vo(Y5(o)),Vo(Math.round(e).toString(16)),Vo(Math.round(n).toString(16)),Vo(Math.round(r).toString(16))];return s.join("")}Ge.equals=function(e,n){return!e||!n?!1:Ge(e).toRgbString()==Ge(n).toRgbString()};Ge.random=function(){return Ge.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function zoe(e,n){n=n===0?0:n||10;var r=Ge(e).toHsl();return r.s-=n/100,r.s=Ig(r.s),Ge(r)}function Foe(e,n){n=n===0?0:n||10;var r=Ge(e).toHsl();return r.s+=n/100,r.s=Ig(r.s),Ge(r)}function Uoe(e){return Ge(e).desaturate(100)}function Boe(e,n){n=n===0?0:n||10;var r=Ge(e).toHsl();return r.l+=n/100,r.l=Ig(r.l),Ge(r)}function Hoe(e,n){n=n===0?0:n||10;var r=Ge(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),Ge(r)}function Voe(e,n){n=n===0?0:n||10;var r=Ge(e).toHsl();return r.l-=n/100,r.l=Ig(r.l),Ge(r)}function Woe(e,n){var r=Ge(e).toHsl(),o=(r.h+n)%360;return r.h=o<0?360+o:o,Ge(r)}function qoe(e){var n=Ge(e).toHsl();return n.h=(n.h+180)%360,Ge(n)}function sC(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ge(e).toHsl(),o=[Ge(e)],s=360/n,i=1;i<n;i++)o.push(Ge({h:(r.h+i*s)%360,s:r.s,l:r.l}));return o}function Goe(e){var n=Ge(e).toHsl(),r=n.h;return[Ge(e),Ge({h:(r+72)%360,s:n.s,l:n.l}),Ge({h:(r+216)%360,s:n.s,l:n.l})]}function Koe(e,n,r){n=n||6,r=r||30;var o=Ge(e).toHsl(),s=360/r,i=[Ge(e)];for(o.h=(o.h-(s*n>>1)+720)%360;--n;)o.h=(o.h+s)%360,i.push(Ge(o));return i}function Yoe(e,n){n=n||6;for(var r=Ge(e).toHsv(),o=r.h,s=r.s,i=r.v,a=[],l=1/n;n--;)a.push(Ge({h:o,s,v:i})),i=(i+l)%1;return a}Ge.mix=function(e,n,r){r=r===0?0:r||50;var o=Ge(e).toRgb(),s=Ge(n).toRgb(),i=r/100,a={r:(s.r-o.r)*i+o.r,g:(s.g-o.g)*i+o.g,b:(s.b-o.b)*i+o.b,a:(s.a-o.a)*i+o.a};return Ge(a)};Ge.readability=function(e,n){var r=Ge(e),o=Ge(n);return(Math.max(r.getLuminance(),o.getLuminance())+.05)/(Math.min(r.getLuminance(),o.getLuminance())+.05)};Ge.isReadable=function(e,n,r){var o=Ge.readability(e,n),s,i;switch(i=!1,s=tse(r),s.level+s.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i};Ge.mostReadable=function(e,n,r){var o=null,s=0,i,a,l,u;r=r||{},a=r.includeFallbackColors,l=r.level,u=r.size;for(var d=0;d<n.length;d++)i=Ge.readability(e,n[d]),i>s&&(s=i,o=Ge(n[d]));return Ge.isReadable(e,o,{level:l,size:u})||!a?o:(r.includeFallbackColors=!1,Ge.mostReadable(e,["#fff","#000"],r))};var jv=Ge.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Xoe=Ge.hexNames=Qoe(jv);function Qoe(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function K5(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function dn(e,n){Joe(e)&&(e="100%");var r=Zoe(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ig(e){return Math.min(1,Math.max(0,e))}function Kr(e){return parseInt(e,16)}function Joe(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Zoe(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Vo(e){return e.length==1?"0"+e:""+e}function td(e){return e<=1&&(e=e*100+"%"),e}function Y5(e){return Math.round(parseFloat(e)*255).toString(16)}function iC(e){return Kr(e)/255}var Do=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ds(e){return!!Do.CSS_UNIT.exec(e)}function ese(e){e=e.replace(Moe,"").replace(Roe,"").toLowerCase();var n=!1;if(jv[e])e=jv[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Do.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Do.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Do.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Do.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Do.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Do.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Do.hex8.exec(e))?{r:Kr(r[1]),g:Kr(r[2]),b:Kr(r[3]),a:iC(r[4]),format:n?"name":"hex8"}:(r=Do.hex6.exec(e))?{r:Kr(r[1]),g:Kr(r[2]),b:Kr(r[3]),format:n?"name":"hex"}:(r=Do.hex4.exec(e))?{r:Kr(r[1]+""+r[1]),g:Kr(r[2]+""+r[2]),b:Kr(r[3]+""+r[3]),a:iC(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Do.hex3.exec(e))?{r:Kr(r[1]+""+r[1]),g:Kr(r[2]+""+r[2]),b:Kr(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function tse(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function _v(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function nse(e){if(Array.isArray(e))return _v(e)}function X5(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function rse(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ose(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uo(e,n){return e.get(X5(e,n))}function aC(e,n,r){rse(e,n),n.set(e,r)}function lC(e,n,r){return e.set(X5(e,n),r),r}function sse(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,dse(o.key),o)}}function ise(e,n,r){return n&&sse(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ase(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(e){return nse(e)||ase(e)||fse(e)||lse()}function use(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dse(e){var n=use(e,"string");return typeof n=="symbol"?n:n+""}function fse(e,n){if(e){if(typeof e=="string")return _v(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_v(e,n):void 0}}var hse=123,pse=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Q5=function(n,r,o){return(n<<16)+(r<<8)+o},mse=function(n){var r=Ge(n).toRgb(),o=r.r,s=r.g,i=r.b;return Q5(o,s,i)},cC=function(n,r){return n*hse%Math.pow(2,r)},Ta=new WeakMap,Ls=new WeakMap,gse=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;ose(this,e),aC(this,Ta,void 0),aC(this,Ls,void 0),lC(Ls,this,n),this.reset()}return ise(e,[{key:"reset",value:function(){lC(Ta,this,["__reserved for background__"])}},{key:"register",value:function(r){if(uo(Ta,this).length>=Math.pow(2,24-uo(Ls,this)))return null;var o=uo(Ta,this).length,s=cC(o,uo(Ls,this)),i=pse(o+(s<<24-uo(Ls,this)));return uo(Ta,this).push(r),i}},{key:"lookup",value:function(r){if(!r)return null;var o=typeof r=="string"?mse(r):Q5.apply(void 0,cse(r));if(!o)return null;var s=o&Math.pow(2,24-uo(Ls,this))-1,i=o>>24-uo(Ls,this)&Math.pow(2,uo(Ls,this))-1;return cC(s,uo(Ls,this))!==i||s>=uo(Ta,this).length?null:uo(Ta,this)[s]}}])}(),Bf,hn,J5,Z5,Oa,uC,eR,tR,nR,f1,Ev,Tv,sf={},rR=[],xse=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Og=Array.isArray;function ps(e,n){for(var r in n)e[r]=n[r];return e}function h1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function yse(e,n,r){var o,s,i,a={};for(i in n)i=="key"?o=n[i]:i=="ref"?s=n[i]:a[i]=n[i];if(arguments.length>2&&(a.children=arguments.length>3?Bf.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return vd(e,a,o,s,null)}function vd(e,n,r,o,s){var i={type:e,props:n,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++J5,__i:-1,__u:0};return s==null&&hn.vnode!=null&&hn.vnode(i),i}function Dg(e){return e.children}function dp(e,n){this.props=e,this.context=n}function Qc(e,n){if(n==null)return e.__?Qc(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Qc(e):null}function oR(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return oR(e)}}function dC(e){(!e.__d&&(e.__d=!0)&&Oa.push(e)&&!wm.__r++||uC!=hn.debounceRendering)&&((uC=hn.debounceRendering)||eR)(wm)}function wm(){for(var e,n,r,o,s,i,a,l=1;Oa.length;)Oa.length>l&&Oa.sort(tR),e=Oa.shift(),l=Oa.length,e.__d&&(r=void 0,o=void 0,s=(o=(n=e).__v).__e,i=[],a=[],n.__P&&((r=ps({},o)).__v=o.__v+1,hn.vnode&&hn.vnode(r),p1(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[s]:null,i,s??Qc(o),!!(32&o.__u),a),r.__v=o.__v,r.__.__k[r.__i]=r,aR(i,r,a),o.__e=o.__=null,r.__e!=s&&oR(r)));wm.__r=0}function sR(e,n,r,o,s,i,a,l,u,d,h){var f,m,p,v,y,b,x,w=o&&o.__k||rR,S=n.length;for(u=vse(r,n,w,u,S),f=0;f<S;f++)(p=r.__k[f])!=null&&(m=p.__i==-1?sf:w[p.__i]||sf,p.__i=f,b=p1(e,p,m,s,i,a,l,u,d,h),v=p.__e,p.ref&&m.ref!=p.ref&&(m.ref&&m1(m.ref,null,p),h.push(p.ref,p.__c||v,p)),y==null&&v!=null&&(y=v),(x=!!(4&p.__u))||m.__k===p.__k?u=iR(p,u,e,x):typeof p.type=="function"&&b!==void 0?u=b:v&&(u=v.nextSibling),p.__u&=-7);return r.__e=y,u}function vse(e,n,r,o,s){var i,a,l,u,d,h=r.length,f=h,m=0;for(e.__k=new Array(s),i=0;i<s;i++)(a=n[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=i+m,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?vd(null,a,null,null,null):Og(a)?vd(Dg,{children:a},null,null,null):a.constructor==null&&a.__b>0?vd(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(d=a.__i=wse(a,r,u,f))!=-1&&(f--,(l=r[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(s>h?m--:s<h&&m++),typeof a.type!="function"&&(a.__u|=4)):d!=u&&(d==u-1?m--:d==u+1?m++:(d>u?m--:m++,a.__u|=4))):e.__k[i]=null;if(f)for(i=0;i<h;i++)(l=r[i])!=null&&!(2&l.__u)&&(l.__e==o&&(o=Qc(l)),cR(l,l));return o}function iR(e,n,r,o){var s,i;if(typeof e.type=="function"){for(s=e.__k,i=0;s&&i<s.length;i++)s[i]&&(s[i].__=e,n=iR(s[i],n,r,o));return n}e.__e!=n&&(o&&(n&&e.type&&!n.parentNode&&(n=Qc(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function wse(e,n,r,o){var s,i,a,l=e.key,u=e.type,d=n[r],h=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||h&&l==d.key&&u==d.type)return r;if(o>(h?1:0)){for(s=r-1,i=r+1;s>=0||i<n.length;)if((d=n[a=s>=0?s--:i++])!=null&&!(2&d.__u)&&l==d.key&&u==d.type)return a}return-1}function fC(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||xse.test(n)?r:r+"px"}function Dh(e,n,r,o,s){var i,a;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(n in o)r&&n in r||fC(e.style,n,"");if(r)for(n in r)o&&r[n]==o[n]||fC(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")i=n!=(n=n.replace(nR,"$1")),a=n.toLowerCase(),n=a in e||n=="onFocusOut"||n=="onFocusIn"?a.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=r,r?o?r.u=o.u:(r.u=f1,e.addEventListener(n,i?Tv:Ev,i)):e.removeEventListener(n,i?Tv:Ev,i);else{if(s=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function hC(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=f1++;else if(n.t<r.u)return;return r(hn.event?hn.event(n):n)}}}function p1(e,n,r,o,s,i,a,l,u,d){var h,f,m,p,v,y,b,x,w,S,k,C,N,j,P,E,_,I=n.type;if(n.constructor!=null)return null;128&r.__u&&(u=!!(32&r.__u),i=[l=n.__e=r.__e]),(h=hn.__b)&&h(n);e:if(typeof I=="function")try{if(x=n.props,w="prototype"in I&&I.prototype.render,S=(h=I.contextType)&&o[h.__c],k=h?S?S.props.value:h.__:o,r.__c?b=(f=n.__c=r.__c).__=f.__E:(w?n.__c=f=new I(x,k):(n.__c=f=new dp(x,k),f.constructor=I,f.render=Sse),S&&S.sub(f),f.props=x,f.state||(f.state={}),f.context=k,f.__n=o,m=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&I.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ps({},f.__s)),ps(f.__s,I.getDerivedStateFromProps(x,f.__s))),p=f.props,v=f.state,f.__v=n,m)w&&I.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&I.getDerivedStateFromProps==null&&x!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(x,k),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(x,f.__s,k)===!1||n.__v==r.__v){for(n.__v!=r.__v&&(f.props=x,f.state=f.__s,f.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(O){O&&(O.__=n)}),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(x,f.__s,k),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,v,y)})}if(f.context=k,f.props=x,f.__P=e,f.__e=!1,N=hn.__r,j=0,w){for(f.state=f.__s,f.__d=!1,N&&N(n),h=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else do f.__d=!1,N&&N(n),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++j<25);f.state=f.__s,f.getChildContext!=null&&(o=ps(ps({},o),f.getChildContext())),w&&!m&&f.getSnapshotBeforeUpdate!=null&&(y=f.getSnapshotBeforeUpdate(p,v)),E=h,h!=null&&h.type===Dg&&h.key==null&&(E=lR(h.props.children)),l=sR(e,Og(E)?E:[E],n,r,o,s,i,a,l,u,d),f.base=n.__e,n.__u&=-161,f.__h.length&&a.push(f),b&&(f.__E=f.__=null)}catch(O){if(n.__v=null,u||i!=null)if(O.then){for(n.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,n.__e=l}else{for(_=i.length;_--;)h1(i[_]);Av(n)}else n.__e=r.__e,n.__k=r.__k,O.then||Av(n);hn.__e(O,n,r)}else i==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):l=n.__e=bse(r.__e,n,r,o,s,i,a,u,d);return(h=hn.diffed)&&h(n),128&n.__u?void 0:l}function Av(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Av)}function aR(e,n,r){for(var o=0;o<r.length;o++)m1(r[o],r[++o],r[++o]);hn.__c&&hn.__c(n,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(i){i.call(s)})}catch(i){hn.__e(i,s.__v)}})}function lR(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Og(e)?e.map(lR):ps({},e)}function bse(e,n,r,o,s,i,a,l,u){var d,h,f,m,p,v,y,b=r.props,x=n.props,w=n.type;if(w=="svg"?s="http://www.w3.org/2000/svg":w=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((p=i[d])&&"setAttribute"in p==!!w&&(w?p.localName==w:p.nodeType==3)){e=p,i[d]=null;break}}if(e==null){if(w==null)return document.createTextNode(x);e=document.createElementNS(s,w,x.is&&x),l&&(hn.__m&&hn.__m(n,i),l=!1),i=null}if(w==null)b===x||l&&e.data==x||(e.data=x);else{if(i=i&&Bf.call(e.childNodes),b=r.props||sf,!l&&i!=null)for(b={},d=0;d<e.attributes.length;d++)b[(p=e.attributes[d]).name]=p.value;for(d in b)if(p=b[d],d!="children"){if(d=="dangerouslySetInnerHTML")f=p;else if(!(d in x)){if(d=="value"&&"defaultValue"in x||d=="checked"&&"defaultChecked"in x)continue;Dh(e,d,null,p,s)}}for(d in x)p=x[d],d=="children"?m=p:d=="dangerouslySetInnerHTML"?h=p:d=="value"?v=p:d=="checked"?y=p:l&&typeof p!="function"||b[d]===p||Dh(e,d,p,b[d],s);if(h)l||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(f&&(e.innerHTML=""),sR(n.type=="template"?e.content:e,Og(m)?m:[m],n,r,o,w=="foreignObject"?"http://www.w3.org/1999/xhtml":s,i,a,i?i[0]:r.__k&&Qc(r,0),l,u),i!=null)for(d=i.length;d--;)h1(i[d]);l||(d="value",w=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[d]||w=="progress"&&!v||w=="option"&&v!=b[d])&&Dh(e,d,v,b[d],s),d="checked",y!=null&&y!=e[d]&&Dh(e,d,y,b[d],s))}return e}function m1(e,n,r){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&n==null||(e.__u=e(n))}else e.current=n}catch(s){hn.__e(s,r)}}function cR(e,n,r){var o,s;if(hn.unmount&&hn.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||m1(o,null,n)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){hn.__e(i,n)}o.base=o.__P=null}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&cR(o[s],n,r||typeof e.type!="function");r||h1(e.__e),e.__c=e.__=e.__e=void 0}function Sse(e,n,r){return this.constructor(e,r)}function kse(e,n,r){var o,s,i,a;n==document&&(n=document.documentElement),hn.__&&hn.__(e,n),s=(o=typeof r=="function")?null:n.__k,i=[],a=[],p1(n,e=(!o&&r||n).__k=yse(Dg,null,[e]),s||sf,sf,n.namespaceURI,!o&&r?[r]:s?null:n.firstChild?Bf.call(n.childNodes):null,i,!o&&r?r:s?s.__e:n.firstChild,o,a),aR(i,e,a)}function uR(e,n,r){var o,s,i,a,l=ps({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),n)i=="key"?o=n[i]:i=="ref"?s=n[i]:l[i]=n[i]===void 0&&a!=null?a[i]:n[i];return arguments.length>2&&(l.children=arguments.length>3?Bf.call(arguments,2):r),vd(e.type,l,o||e.key,s||e.ref,null)}Bf=rR.slice,hn={__e:function(e,n,r,o){for(var s,i,a;n=n.__;)if((s=n.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(e)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),a=s.__d),a)return s.__E=s}catch(l){e=l}throw e}},J5=0,Z5=function(e){return e!=null&&e.constructor==null},dp.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ps({},this.state),typeof e=="function"&&(e=e(ps({},r),this.props)),e&&ps(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),dC(this))},dp.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),dC(this))},dp.prototype.render=Dg,Oa=[],eR=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tR=function(e,n){return e.__v.__b-n.__v.__b},wm.__r=0,nR=/(PointerCapture)$|Capture$/i,f1=0,Ev=hC(!1),Tv=hC(!0);function pC(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function Nse(e){if(Array.isArray(e))return e}function Cse(e,n,r){return(n=Pse(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function jse(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function _se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mC(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function Ese(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?mC(Object(r),!0).forEach(function(o){Cse(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Tse(e,n){return Nse(e)||jse(e,n)||Mse(e,n)||_se()}function Ase(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Pse(e){var n=Ase(e,"string");return typeof n=="symbol"?n:n+""}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bm(e)}function Mse(e,n){if(e){if(typeof e=="string")return pC(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pC(e,n):void 0}}var Pv=function(n){if(bm(n)!=="object")return n;var r=uR(n);if(r.props){var o;r.props=Ese({},r.props),r!=null&&(o=r.props)!==null&&o!==void 0&&o.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Pv):Pv(r.props.children))}return r},Rse=function(n){return Z5(uR(n))},Ise=function(n,r){delete r.__k,kse(Pv(n),r)};function Ose(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Dse=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Ose(Dse);var Lse=d1({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.style,i=s===void 0?{}:s,a=!!n&&bm(n)==="object"&&!!n.node&&typeof n.node=="function",l=gr(a?n.node():n);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(i).forEach(function(d){var h=Tse(d,2),f=h[0],m=h[1];return r.tooltipEl.style(f,m)}),r.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(u),function(d){r.mouseInside=!0;var h=go(d),f=l.node(),m=f.offsetWidth,p=f.offsetHeight,v=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/m*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(v.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(u),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(u),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Rse(n.content)?(n.tooltipEl.text(""),Ise(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function $se(e,n,r){var o,s=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function i(){var a,l=o.length,u,d=0,h=0,f=0;for(a=0;a<l;++a)u=o[a],d+=u.x||0,h+=u.y||0,f+=u.z||0;for(d=(d/l-e)*s,h=(h/l-n)*s,f=(f/l-r)*s,a=0;a<l;++a)u=o[a],d&&(u.x-=d),h&&(u.y-=h),f&&(u.z-=f)}return i.initialize=function(a){o=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(n=+a,i):n},i.z=function(a){return arguments.length?(r=+a,i):r},i.strength=function(a){return arguments.length?(s=+a,i):s},i}function zse(e){const n=+this._x.call(null,e);return dR(this.cover(n),n,e)}function dR(e,n,r){if(isNaN(n))return e;var o,s=e._root,i={data:r},a=e._x0,l=e._x1,u,d,h,f,m;if(!s)return e._root=i,e;for(;s.length;)if((h=n>=(u=(a+l)/2))?a=u:l=u,o=s,!(s=s[f=+h]))return o[f]=i,e;if(d=+e._x.call(null,s.data),n===d)return i.next=s,o?o[f]=i:e._root=i,e;do o=o?o[f]=new Array(2):e._root=new Array(2),(h=n>=(u=(a+l)/2))?a=u:l=u;while((f=+h)==(m=+(d>=u)));return o[m]=s,o[f]=i,e}function Fse(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let o=1/0,s=-1/0;for(let i=0,a;i<n;++i)isNaN(a=+this._x.call(null,e[i]))||(r[i]=a,a<o&&(o=a),a>s&&(s=a));if(o>s)return this;this.cover(o).cover(s);for(let i=0;i<n;++i)dR(this,r[i],e[i]);return this}function Use(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var o=r-n||1,s=this._root,i,a;n>e||e>=r;)switch(a=+(e<n),i=new Array(2),i[a]=s,s=i,o*=2,a){case 0:r=n+o;break;case 1:n=r-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._x1=r,this}function Bse(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Hse(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Qs(e,n,r){this.node=e,this.x0=n,this.x1=r}function Vse(e,n){var r,o=this._x0,s,i,a=this._x1,l=[],u=this._root,d,h;for(u&&l.push(new Qs(u,o,a)),n==null?n=1/0:(o=e-n,a=e+n);d=l.pop();)if(!(!(u=d.node)||(s=d.x0)>a||(i=d.x1)<o))if(u.length){var f=(s+i)/2;l.push(new Qs(u[1],f,i),new Qs(u[0],s,f)),(h=+(e>=f))&&(d=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=d)}else{var m=Math.abs(e-+this._x.call(null,u.data));m<n&&(n=m,o=e-m,a=e+m,r=u.data)}return r}function Wse(e){if(isNaN(u=+this._x.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._x1,u,d,h,f,m;if(!r)return this;if(r.length)for(;;){if((h=u>=(d=(a+l)/2))?a=d:l=d,n=r,!(r=r[f=+h]))return this;if(!r.length)break;n[f+1&1]&&(o=n,m=f)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[f]=i:delete n[f],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(o?o[m]=r:this._root=r),this):(this._root=i,this)}function qse(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Gse(){return this._root}function Kse(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Yse(e){var n=[],r,o=this._root,s,i,a;for(o&&n.push(new Qs(o,this._x0,this._x1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.x1)&&o.length){var l=(i+a)/2;(s=o[1])&&n.push(new Qs(s,l,a)),(s=o[0])&&n.push(new Qs(s,i,l))}return this}function Xse(e){var n=[],r=[],o;for(this._root&&n.push(new Qs(this._root,this._x0,this._x1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.x1,u=(a+l)/2;(i=s[0])&&n.push(new Qs(i,a,u)),(i=s[1])&&n.push(new Qs(i,u,l))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.x1);return this}function Qse(e){return e[0]}function Jse(e){return arguments.length?(this._x=e,this):this._x}function fR(e,n){var r=new g1(n??Qse,NaN,NaN);return e==null?r:r.addAll(e)}function g1(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function gC(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Br=fR.prototype=g1.prototype;Br.copy=function(){var e=new g1(this._x,this._x0,this._x1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=gC(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var s=0;s<2;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(2)}):n.target[s]=gC(o));return e};Br.add=zse;Br.addAll=Fse;Br.cover=Use;Br.data=Bse;Br.extent=Hse;Br.find=Vse;Br.remove=Wse;Br.removeAll=qse;Br.root=Gse;Br.size=Kse;Br.visit=Yse;Br.visitAfter=Xse;Br.x=Jse;function Zse(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return hR(this.cover(n,r),n,r,e)}function hR(e,n,r,o){if(isNaN(n)||isNaN(r))return e;var s,i=e._root,a={data:o},l=e._x0,u=e._y0,d=e._x1,h=e._y1,f,m,p,v,y,b,x,w;if(!i)return e._root=a,e;for(;i.length;)if((y=n>=(f=(l+d)/2))?l=f:d=f,(b=r>=(m=(u+h)/2))?u=m:h=m,s=i,!(i=i[x=b<<1|y]))return s[x]=a,e;if(p=+e._x.call(null,i.data),v=+e._y.call(null,i.data),n===p&&r===v)return a.next=i,s?s[x]=a:e._root=a,e;do s=s?s[x]=new Array(4):e._root=new Array(4),(y=n>=(f=(l+d)/2))?l=f:d=f,(b=r>=(m=(u+h)/2))?u=m:h=m;while((x=b<<1|y)===(w=(v>=m)<<1|p>=f));return s[w]=i,s[x]=a,e}function eie(e){var n,r,o=e.length,s,i,a=new Array(o),l=new Array(o),u=1/0,d=1/0,h=-1/0,f=-1/0;for(r=0;r<o;++r)isNaN(s=+this._x.call(null,n=e[r]))||isNaN(i=+this._y.call(null,n))||(a[r]=s,l[r]=i,s<u&&(u=s),s>h&&(h=s),i<d&&(d=i),i>f&&(f=i));if(u>h||d>f)return this;for(this.cover(u,d).cover(h,f),r=0;r<o;++r)hR(this,a[r],l[r],e[r]);return this}function tie(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,o=this._y0,s=this._x1,i=this._y1;if(isNaN(r))s=(r=Math.floor(e))+1,i=(o=Math.floor(n))+1;else{for(var a=s-r||1,l=this._root,u,d;r>e||e>=s||o>n||n>=i;)switch(d=(n<o)<<1|e<r,u=new Array(4),u[d]=l,l=u,a*=2,d){case 0:s=r+a,i=o+a;break;case 1:r=s-a,i=o+a;break;case 2:s=r+a,o=i-a;break;case 3:r=s-a,o=i-a;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=o,this._x1=s,this._y1=i,this}function nie(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function rie(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function yr(e,n,r,o,s){this.node=e,this.x0=n,this.y0=r,this.x1=o,this.y1=s}function oie(e,n,r){var o,s=this._x0,i=this._y0,a,l,u,d,h=this._x1,f=this._y1,m=[],p=this._root,v,y;for(p&&m.push(new yr(p,s,i,h,f)),r==null?r=1/0:(s=e-r,i=n-r,h=e+r,f=n+r,r*=r);v=m.pop();)if(!(!(p=v.node)||(a=v.x0)>h||(l=v.y0)>f||(u=v.x1)<s||(d=v.y1)<i))if(p.length){var b=(a+u)/2,x=(l+d)/2;m.push(new yr(p[3],b,x,u,d),new yr(p[2],a,x,b,d),new yr(p[1],b,l,u,x),new yr(p[0],a,l,b,x)),(y=(n>=x)<<1|e>=b)&&(v=m[m.length-1],m[m.length-1]=m[m.length-1-y],m[m.length-1-y]=v)}else{var w=e-+this._x.call(null,p.data),S=n-+this._y.call(null,p.data),k=w*w+S*S;if(k<r){var C=Math.sqrt(r=k);s=e-C,i=n-C,h=e+C,f=n+C,o=p.data}}return o}function sie(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._y0,u=this._x1,d=this._y1,h,f,m,p,v,y,b,x;if(!r)return this;if(r.length)for(;;){if((v=h>=(m=(a+u)/2))?a=m:u=m,(y=f>=(p=(l+d)/2))?l=p:d=p,n=r,!(r=r[b=y<<1|v]))return this;if(!r.length)break;(n[b+1&3]||n[b+2&3]||n[b+3&3])&&(o=n,x=b)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[b]=i:delete n[b],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[x]=r:this._root=r),this):(this._root=i,this)}function iie(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function aie(){return this._root}function lie(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function cie(e){var n=[],r,o=this._root,s,i,a,l,u;for(o&&n.push(new yr(o,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.y0,l=r.x1,u=r.y1)&&o.length){var d=(i+l)/2,h=(a+u)/2;(s=o[3])&&n.push(new yr(s,d,h,l,u)),(s=o[2])&&n.push(new yr(s,i,h,d,u)),(s=o[1])&&n.push(new yr(s,d,a,l,h)),(s=o[0])&&n.push(new yr(s,i,a,d,h))}return this}function uie(e){var n=[],r=[],o;for(this._root&&n.push(new yr(this._root,this._x0,this._y0,this._x1,this._y1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.y0,u=o.x1,d=o.y1,h=(a+u)/2,f=(l+d)/2;(i=s[0])&&n.push(new yr(i,a,l,h,f)),(i=s[1])&&n.push(new yr(i,h,l,u,f)),(i=s[2])&&n.push(new yr(i,a,f,h,d)),(i=s[3])&&n.push(new yr(i,h,f,u,d))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.x1,o.y1);return this}function die(e){return e[0]}function fie(e){return arguments.length?(this._x=e,this):this._x}function hie(e){return e[1]}function pie(e){return arguments.length?(this._y=e,this):this._y}function pR(e,n,r){var o=new x1(n??die,r??hie,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function x1(e,n,r,o,s,i){this._x=e,this._y=n,this._x0=r,this._y0=o,this._x1=s,this._y1=i,this._root=void 0}function xC(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var kr=pR.prototype=x1.prototype;kr.copy=function(){var e=new x1(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=xC(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var s=0;s<4;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(4)}):n.target[s]=xC(o));return e};kr.add=Zse;kr.addAll=eie;kr.cover=tie;kr.data=nie;kr.extent=rie;kr.find=oie;kr.remove=sie;kr.removeAll=iie;kr.root=aie;kr.size=lie;kr.visit=cie;kr.visitAfter=uie;kr.x=fie;kr.y=pie;function mie(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),o=+this._z.call(null,e);return mR(this.cover(n,r,o),n,r,o,e)}function mR(e,n,r,o,s){if(isNaN(n)||isNaN(r)||isNaN(o))return e;var i,a=e._root,l={data:s},u=e._x0,d=e._y0,h=e._z0,f=e._x1,m=e._y1,p=e._z1,v,y,b,x,w,S,k,C,N,j,P;if(!a)return e._root=l,e;for(;a.length;)if((k=n>=(v=(u+f)/2))?u=v:f=v,(C=r>=(y=(d+m)/2))?d=y:m=y,(N=o>=(b=(h+p)/2))?h=b:p=b,i=a,!(a=a[j=N<<2|C<<1|k]))return i[j]=l,e;if(x=+e._x.call(null,a.data),w=+e._y.call(null,a.data),S=+e._z.call(null,a.data),n===x&&r===w&&o===S)return l.next=a,i?i[j]=l:e._root=l,e;do i=i?i[j]=new Array(8):e._root=new Array(8),(k=n>=(v=(u+f)/2))?u=v:f=v,(C=r>=(y=(d+m)/2))?d=y:m=y,(N=o>=(b=(h+p)/2))?h=b:p=b;while((j=N<<2|C<<1|k)===(P=(S>=b)<<2|(w>=y)<<1|x>=v));return i[P]=a,i[j]=l,e}function gie(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),o=new Float64Array(n),s=new Float64Array(n);let i=1/0,a=1/0,l=1/0,u=-1/0,d=-1/0,h=-1/0;for(let f=0,m,p,v,y;f<n;++f)isNaN(p=+this._x.call(null,m=e[f]))||isNaN(v=+this._y.call(null,m))||isNaN(y=+this._z.call(null,m))||(r[f]=p,o[f]=v,s[f]=y,p<i&&(i=p),p>u&&(u=p),v<a&&(a=v),v>d&&(d=v),y<l&&(l=y),y>h&&(h=y));if(i>u||a>d||l>h)return this;this.cover(i,a,l).cover(u,d,h);for(let f=0;f<n;++f)mR(this,r[f],o[f],s[f],e[f]);return this}function xie(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var o=this._x0,s=this._y0,i=this._z0,a=this._x1,l=this._y1,u=this._z1;if(isNaN(o))a=(o=Math.floor(e))+1,l=(s=Math.floor(n))+1,u=(i=Math.floor(r))+1;else{for(var d=a-o||1,h=this._root,f,m;o>e||e>=a||s>n||n>=l||i>r||r>=u;)switch(m=(r<i)<<2|(n<s)<<1|e<o,f=new Array(8),f[m]=h,h=f,d*=2,m){case 0:a=o+d,l=s+d,u=i+d;break;case 1:o=a-d,l=s+d,u=i+d;break;case 2:a=o+d,s=l-d,u=i+d;break;case 3:o=a-d,s=l-d,u=i+d;break;case 4:a=o+d,l=s+d,i=u-d;break;case 5:o=a-d,l=s+d,i=u-d;break;case 6:a=o+d,s=l-d,i=u-d;break;case 7:o=a-d,s=l-d,i=u-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=o,this._y0=s,this._z0=i,this._x1=a,this._y1=l,this._z1=u,this}function yie(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function vie(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Vt(e,n,r,o,s,i,a){this.node=e,this.x0=n,this.y0=r,this.z0=o,this.x1=s,this.y1=i,this.z1=a}function wie(e,n,r,o){var s,i=this._x0,a=this._y0,l=this._z0,u,d,h,f,m,p,v=this._x1,y=this._y1,b=this._z1,x=[],w=this._root,S,k;for(w&&x.push(new Vt(w,i,a,l,v,y,b)),o==null?o=1/0:(i=e-o,a=n-o,l=r-o,v=e+o,y=n+o,b=r+o,o*=o);S=x.pop();)if(!(!(w=S.node)||(u=S.x0)>v||(d=S.y0)>y||(h=S.z0)>b||(f=S.x1)<i||(m=S.y1)<a||(p=S.z1)<l))if(w.length){var C=(u+f)/2,N=(d+m)/2,j=(h+p)/2;x.push(new Vt(w[7],C,N,j,f,m,p),new Vt(w[6],u,N,j,C,m,p),new Vt(w[5],C,d,j,f,N,p),new Vt(w[4],u,d,j,C,N,p),new Vt(w[3],C,N,h,f,m,j),new Vt(w[2],u,N,h,C,m,j),new Vt(w[1],C,d,h,f,N,j),new Vt(w[0],u,d,h,C,N,j)),(k=(r>=j)<<2|(n>=N)<<1|e>=C)&&(S=x[x.length-1],x[x.length-1]=x[x.length-1-k],x[x.length-1-k]=S)}else{var P=e-+this._x.call(null,w.data),E=n-+this._y.call(null,w.data),_=r-+this._z.call(null,w.data),I=P*P+E*E+_*_;if(I<o){var O=Math.sqrt(o=I);i=e-O,a=n-O,l=r-O,v=e+O,y=n+O,b=r+O,s=w.data}}return s}const bie=(e,n,r,o,s,i)=>Math.sqrt((e-o)**2+(n-s)**2+(r-i)**2);function Sie(e,n,r,o){const s=[],i=e-o,a=n-o,l=r-o,u=e+o,d=n+o,h=r+o;return this.visit((f,m,p,v,y,b,x)=>{if(!f.length)do{const w=f.data;bie(e,n,r,this._x(w),this._y(w),this._z(w))<=o&&s.push(w)}while(f=f.next);return m>u||p>d||v>h||y<i||b<a||x<l}),s}function kie(e){if(isNaN(m=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(v=+this._z.call(null,e)))return this;var n,r=this._root,o,s,i,a=this._x0,l=this._y0,u=this._z0,d=this._x1,h=this._y1,f=this._z1,m,p,v,y,b,x,w,S,k,C,N;if(!r)return this;if(r.length)for(;;){if((w=m>=(y=(a+d)/2))?a=y:d=y,(S=p>=(b=(l+h)/2))?l=b:h=b,(k=v>=(x=(u+f)/2))?u=x:f=x,n=r,!(r=r[C=k<<2|S<<1|w]))return this;if(!r.length)break;(n[C+1&7]||n[C+2&7]||n[C+3&7]||n[C+4&7]||n[C+5&7]||n[C+6&7]||n[C+7&7])&&(o=n,N=C)}for(;r.data!==e;)if(s=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,s?(i?s.next=i:delete s.next,this):n?(i?n[C]=i:delete n[C],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(o?o[N]=r:this._root=r),this):(this._root=i,this)}function Nie(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Cie(){return this._root}function jie(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function _ie(e){var n=[],r,o=this._root,s,i,a,l,u,d,h;for(o&&n.push(new Vt(o,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(o=r.node,i=r.x0,a=r.y0,l=r.z0,u=r.x1,d=r.y1,h=r.z1)&&o.length){var f=(i+u)/2,m=(a+d)/2,p=(l+h)/2;(s=o[7])&&n.push(new Vt(s,f,m,p,u,d,h)),(s=o[6])&&n.push(new Vt(s,i,m,p,f,d,h)),(s=o[5])&&n.push(new Vt(s,f,a,p,u,m,h)),(s=o[4])&&n.push(new Vt(s,i,a,p,f,m,h)),(s=o[3])&&n.push(new Vt(s,f,m,l,u,d,p)),(s=o[2])&&n.push(new Vt(s,i,m,l,f,d,p)),(s=o[1])&&n.push(new Vt(s,f,a,l,u,m,p)),(s=o[0])&&n.push(new Vt(s,i,a,l,f,m,p))}return this}function Eie(e){var n=[],r=[],o;for(this._root&&n.push(new Vt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));o=n.pop();){var s=o.node;if(s.length){var i,a=o.x0,l=o.y0,u=o.z0,d=o.x1,h=o.y1,f=o.z1,m=(a+d)/2,p=(l+h)/2,v=(u+f)/2;(i=s[0])&&n.push(new Vt(i,a,l,u,m,p,v)),(i=s[1])&&n.push(new Vt(i,m,l,u,d,p,v)),(i=s[2])&&n.push(new Vt(i,a,p,u,m,h,v)),(i=s[3])&&n.push(new Vt(i,m,p,u,d,h,v)),(i=s[4])&&n.push(new Vt(i,a,l,v,m,p,f)),(i=s[5])&&n.push(new Vt(i,m,l,v,d,p,f)),(i=s[6])&&n.push(new Vt(i,a,p,v,m,h,f)),(i=s[7])&&n.push(new Vt(i,m,p,v,d,h,f))}r.push(o)}for(;o=r.pop();)e(o.node,o.x0,o.y0,o.z0,o.x1,o.y1,o.z1);return this}function Tie(e){return e[0]}function Aie(e){return arguments.length?(this._x=e,this):this._x}function Pie(e){return e[1]}function Mie(e){return arguments.length?(this._y=e,this):this._y}function Rie(e){return e[2]}function Iie(e){return arguments.length?(this._z=e,this):this._z}function gR(e,n,r,o){var s=new y1(n??Tie,r??Pie,o??Rie,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function y1(e,n,r,o,s,i,a,l,u){this._x=e,this._y=n,this._z=r,this._x0=o,this._y0=s,this._z0=i,this._x1=a,this._y1=l,this._z1=u,this._root=void 0}function yC(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Xn=gR.prototype=y1.prototype;Xn.copy=function(){var e=new y1(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,o;if(!n)return e;if(!n.length)return e._root=yC(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var s=0;s<8;++s)(o=n.source[s])&&(o.length?r.push({source:o,target:n.target[s]=new Array(8)}):n.target[s]=yC(o));return e};Xn.add=mie;Xn.addAll=gie;Xn.cover=xie;Xn.data=yie;Xn.extent=vie;Xn.find=wie;Xn.findAllWithinRadius=Sie;Xn.remove=kie;Xn.removeAll=Nie;Xn.root=Cie;Xn.size=jie;Xn.visit=_ie;Xn.visitAfter=Eie;Xn.x=Aie;Xn.y=Mie;Xn.z=Iie;function qn(e){return function(){return e}}function Bs(e){return(e()-.5)*1e-6}function Oie(e){return e.index}function vC(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function Die(e){var n=Oie,r=m,o,s=qn(30),i,a,l,u,d,h,f=1;e==null&&(e=[]);function m(x){return 1/Math.min(u[x.source.index],u[x.target.index])}function p(x){for(var w=0,S=e.length;w<f;++w)for(var k=0,C,N,j,P=0,E=0,_=0,I,O;k<S;++k)C=e[k],N=C.source,j=C.target,P=j.x+j.vx-N.x-N.vx||Bs(h),l>1&&(E=j.y+j.vy-N.y-N.vy||Bs(h)),l>2&&(_=j.z+j.vz-N.z-N.vz||Bs(h)),I=Math.sqrt(P*P+E*E+_*_),I=(I-i[k])/I*x*o[k],P*=I,E*=I,_*=I,j.vx-=P*(O=d[k]),l>1&&(j.vy-=E*O),l>2&&(j.vz-=_*O),N.vx+=P*(O=1-O),l>1&&(N.vy+=E*O),l>2&&(N.vz+=_*O)}function v(){if(a){var x,w=a.length,S=e.length,k=new Map(a.map((N,j)=>[n(N,j,a),N])),C;for(x=0,u=new Array(w);x<S;++x)C=e[x],C.index=x,typeof C.source!="object"&&(C.source=vC(k,C.source)),typeof C.target!="object"&&(C.target=vC(k,C.target)),u[C.source.index]=(u[C.source.index]||0)+1,u[C.target.index]=(u[C.target.index]||0)+1;for(x=0,d=new Array(S);x<S;++x)C=e[x],d[x]=u[C.source.index]/(u[C.source.index]+u[C.target.index]);o=new Array(S),y(),i=new Array(S),b()}}function y(){if(a)for(var x=0,w=e.length;x<w;++x)o[x]=+r(e[x],x,e)}function b(){if(a)for(var x=0,w=e.length;x<w;++x)i[x]=+s(e[x],x,e)}return p.initialize=function(x,...w){a=x,h=w.find(S=>typeof S=="function")||Math.random,l=w.find(S=>[1,2,3].includes(S))||2,v()},p.links=function(x){return arguments.length?(e=x,v(),p):e},p.id=function(x){return arguments.length?(n=x,p):n},p.iterations=function(x){return arguments.length?(f=+x,p):f},p.strength=function(x){return arguments.length?(r=typeof x=="function"?x:qn(+x),y(),p):r},p.distance=function(x){return arguments.length?(s=typeof x=="function"?x:qn(+x),b(),p):s},p}const Lie=1664525,$ie=1013904223,wC=4294967296;function zie(){let e=1;return()=>(e=(Lie*e+$ie)%wC)/wC}var bC=3;function py(e){return e.x}function SC(e){return e.y}function Fie(e){return e.z}var Uie=10,Bie=Math.PI*(3-Math.sqrt(5)),Hie=Math.PI*20/(9+Math.sqrt(221));function Vie(e,n){n=n||2;var r=Math.min(bC,Math.max(1,Math.round(n))),o,s=1,i=.001,a=1-Math.pow(i,1/300),l=0,u=.6,d=new Map,h=Sb(p),f=Af("tick","end"),m=zie();e==null&&(e=[]);function p(){v(),f.call("tick",o),s<i&&(h.stop(),f.call("end",o))}function v(x){var w,S=e.length,k;x===void 0&&(x=1);for(var C=0;C<x;++C)for(s+=(l-s)*a,d.forEach(function(N){N(s)}),w=0;w<S;++w)k=e[w],k.fx==null?k.x+=k.vx*=u:(k.x=k.fx,k.vx=0),r>1&&(k.fy==null?k.y+=k.vy*=u:(k.y=k.fy,k.vy=0)),r>2&&(k.fz==null?k.z+=k.vz*=u:(k.z=k.fz,k.vz=0));return o}function y(){for(var x=0,w=e.length,S;x<w;++x){if(S=e[x],S.index=x,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),S.fz!=null&&(S.z=S.fz),isNaN(S.x)||r>1&&isNaN(S.y)||r>2&&isNaN(S.z)){var k=Uie*(r>2?Math.cbrt(.5+x):r>1?Math.sqrt(.5+x):x),C=x*Bie,N=x*Hie;r===1?S.x=k:r===2?(S.x=k*Math.cos(C),S.y=k*Math.sin(C)):(S.x=k*Math.sin(C)*Math.cos(N),S.y=k*Math.cos(C),S.z=k*Math.sin(C)*Math.sin(N))}(isNaN(S.vx)||r>1&&isNaN(S.vy)||r>2&&isNaN(S.vz))&&(S.vx=0,r>1&&(S.vy=0),r>2&&(S.vz=0))}}function b(x){return x.initialize&&x.initialize(e,m,r),x}return y(),o={tick:v,restart:function(){return h.restart(p),o},stop:function(){return h.stop(),o},numDimensions:function(x){return arguments.length?(r=Math.min(bC,Math.max(1,Math.round(x))),d.forEach(b),o):r},nodes:function(x){return arguments.length?(e=x,y(),d.forEach(b),o):e},alpha:function(x){return arguments.length?(s=+x,o):s},alphaMin:function(x){return arguments.length?(i=+x,o):i},alphaDecay:function(x){return arguments.length?(a=+x,o):+a},alphaTarget:function(x){return arguments.length?(l=+x,o):l},velocityDecay:function(x){return arguments.length?(u=1-x,o):1-u},randomSource:function(x){return arguments.length?(m=x,d.forEach(b),o):m},force:function(x,w){return arguments.length>1?(w==null?d.delete(x):d.set(x,b(w)),o):d.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),w=x.shift()||0,S=(r>1?x.shift():null)||0,k=(r>2?x.shift():null)||0,C=x.shift()||1/0,N=0,j=e.length,P,E,_,I,O,U;for(C*=C,N=0;N<j;++N)O=e[N],P=w-O.x,E=S-(O.y||0),_=k-(O.z||0),I=P*P+E*E+_*_,I<C&&(U=O,C=I);return U},on:function(x,w){return arguments.length>1?(f.on(x,w),o):f.on(x)}}}function Wie(){var e,n,r,o,s,i=qn(-30),a,l=1,u=1/0,d=.81;function h(v){var y,b=e.length,x=(n===1?fR(e,py):n===2?pR(e,py,SC):n===3?gR(e,py,SC,Fie):null).visitAfter(m);for(s=v,y=0;y<b;++y)r=e[y],x.visit(p)}function f(){if(e){var v,y=e.length,b;for(a=new Array(y),v=0;v<y;++v)b=e[v],a[b.index]=+i(b,v,e)}}function m(v){var y=0,b,x,w=0,S,k,C,N,j=v.length;if(j){for(S=k=C=N=0;N<j;++N)(b=v[N])&&(x=Math.abs(b.value))&&(y+=b.value,w+=x,S+=x*(b.x||0),k+=x*(b.y||0),C+=x*(b.z||0));y*=Math.sqrt(4/j),v.x=S/w,n>1&&(v.y=k/w),n>2&&(v.z=C/w)}else{b=v,b.x=b.data.x,n>1&&(b.y=b.data.y),n>2&&(b.z=b.data.z);do y+=a[b.data.index];while(b=b.next)}v.value=y}function p(v,y,b,x,w){if(!v.value)return!0;var S=[b,x,w][n-1],k=v.x-r.x,C=n>1?v.y-r.y:0,N=n>2?v.z-r.z:0,j=S-y,P=k*k+C*C+N*N;if(j*j/d<P)return P<u&&(k===0&&(k=Bs(o),P+=k*k),n>1&&C===0&&(C=Bs(o),P+=C*C),n>2&&N===0&&(N=Bs(o),P+=N*N),P<l&&(P=Math.sqrt(l*P)),r.vx+=k*v.value*s/P,n>1&&(r.vy+=C*v.value*s/P),n>2&&(r.vz+=N*v.value*s/P)),!0;if(v.length||P>=u)return;(v.data!==r||v.next)&&(k===0&&(k=Bs(o),P+=k*k),n>1&&C===0&&(C=Bs(o),P+=C*C),n>2&&N===0&&(N=Bs(o),P+=N*N),P<l&&(P=Math.sqrt(l*P)));do v.data!==r&&(j=a[v.data.index]*s/P,r.vx+=k*j,n>1&&(r.vy+=C*j),n>2&&(r.vz+=N*j));while(v=v.next)}return h.initialize=function(v,...y){e=v,o=y.find(b=>typeof b=="function")||Math.random,n=y.find(b=>[1,2,3].includes(b))||2,f()},h.strength=function(v){return arguments.length?(i=typeof v=="function"?v:qn(+v),f(),h):i},h.distanceMin=function(v){return arguments.length?(l=v*v,h):Math.sqrt(l)},h.distanceMax=function(v){return arguments.length?(u=v*v,h):Math.sqrt(u)},h.theta=function(v){return arguments.length?(d=v*v,h):Math.sqrt(d)},h}function qie(e,n,r,o){var s,i,a=qn(.1),l,u;typeof e!="function"&&(e=qn(+e)),n==null&&(n=0),r==null&&(r=0),o==null&&(o=0);function d(f){for(var m=0,p=s.length;m<p;++m){var v=s[m],y=v.x-n||1e-6,b=(v.y||0)-r||1e-6,x=(v.z||0)-o||1e-6,w=Math.sqrt(y*y+b*b+x*x),S=(u[m]-w)*l[m]*f/w;v.vx+=y*S,i>1&&(v.vy+=b*S),i>2&&(v.vz+=x*S)}}function h(){if(s){var f,m=s.length;for(l=new Array(m),u=new Array(m),f=0;f<m;++f)u[f]=+e(s[f],f,s),l[f]=isNaN(u[f])?0:+a(s[f],f,s)}}return d.initialize=function(f,...m){s=f,i=m.find(p=>[1,2,3].includes(p))||2,h()},d.strength=function(f){return arguments.length?(a=typeof f=="function"?f:qn(+f),h(),d):a},d.radius=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),h(),d):e},d.x=function(f){return arguments.length?(n=+f,d):n},d.y=function(f){return arguments.length?(r=+f,d):r},d.z=function(f){return arguments.length?(o=+f,d):o},d}function Gie(e){var n=qn(.1),r,o,s;typeof e!="function"&&(e=qn(e==null?0:+e));function i(l){for(var u=0,d=r.length,h;u<d;++u)h=r[u],h.vx+=(s[u]-h.x)*o[u]*l}function a(){if(r){var l,u=r.length;for(o=new Array(u),s=new Array(u),l=0;l<u;++l)o[l]=isNaN(s[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return i.initialize=function(l){r=l,a()},i.strength=function(l){return arguments.length?(n=typeof l=="function"?l:qn(+l),a(),i):n},i.x=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),a(),i):e},i}function Kie(e){var n=qn(.1),r,o,s;typeof e!="function"&&(e=qn(e==null?0:+e));function i(l){for(var u=0,d=r.length,h;u<d;++u)h=r[u],h.vy+=(s[u]-h.y)*o[u]*l}function a(){if(r){var l,u=r.length;for(o=new Array(u),s=new Array(u),l=0;l<u;++l)o[l]=isNaN(s[l]=+e(r[l],l,r))?0:+n(r[l],l,r)}}return i.initialize=function(l){r=l,a()},i.strength=function(l){return arguments.length?(n=typeof l=="function"?l:qn(+l),a(),i):n},i.y=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),a(),i):e},i}const{abs:zu,cos:$s,sin:Fl,acos:Yie,atan2:Fu,sqrt:ji,pow:fo}=Math;function Uu(e){return e<0?-fo(-e,1/3):fo(e,1/3)}const xR=Math.PI,Lh=2*xR,_i=xR/2,Xie=1e-6,my=Number.MAX_SAFE_INTEGER||9007199254740991,gy=Number.MIN_SAFE_INTEGER||-9007199254740991,Qie={x:0,y:0,z:0},Se={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let o=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(o+=r.z*r.z),ji(o)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const o=n.length-1;if(e===1)return n[o].t=1,n[o];const s=1-e;let i=n;if(o===0)return n[0].t=e,n[0];if(o===1){const l={x:s*i[0].x+e*i[1].x,y:s*i[0].y+e*i[1].y,t:e};return r&&(l.z=s*i[0].z+e*i[1].z),l}if(o<4){let l=s*s,u=e*e,d,h,f,m=0;o===2?(i=[i[0],i[1],i[2],Qie],d=l,h=s*e*2,f=u):o===3&&(d=l*s,h=l*e*3,f=s*u*3,m=e*u);const p={x:d*i[0].x+h*i[1].x+f*i[2].x+m*i[3].x,y:d*i[0].y+h*i[1].y+f*i[2].y+m*i[3].y,t:e};return r&&(p.z=d*i[0].z+h*i[1].z+f*i[2].z+m*i[3].z),p}const a=JSON.parse(JSON.stringify(n));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*e,y:a[l].y+(a[l+1].y-a[l].y)*e},typeof a[l].z<"u"&&(a[l].z=a[l].z+(a[l+1].z-a[l].z)*e);a.splice(a.length-1,1)}return a[0].t=e,a[0]},computeWithRatios:function(e,n,r,o){const s=1-e,i=r,a=n;let l=i[0],u=i[1],d=i[2],h=i[3],f;if(l*=s,u*=e,a.length===2)return f=l+u,{x:(l*a[0].x+u*a[1].x)/f,y:(l*a[0].y+u*a[1].y)/f,z:o?(l*a[0].z+u*a[1].z)/f:!1,t:e};if(l*=s,u*=2*s,d*=e*e,a.length===3)return f=l+u+d,{x:(l*a[0].x+u*a[1].x+d*a[2].x)/f,y:(l*a[0].y+u*a[1].y+d*a[2].y)/f,z:o?(l*a[0].z+u*a[1].z+d*a[2].z)/f:!1,t:e};if(l*=s,u*=1.5*s,d*=3*s,h*=e*e*e,a.length===4)return f=l+u+d+h,{x:(l*a[0].x+u*a[1].x+d*a[2].x+h*a[3].x)/f,y:(l*a[0].y+u*a[1].y+d*a[2].y+h*a[3].y)/f,z:o?(l*a[0].z+u*a[1].z+d*a[2].z+h*a[3].z)/f:!1,t:e}},derive:function(e,n){const r=[];for(let o=e,s=o.length,i=s-1;s>1;s--,i--){const a=[];for(let l=0,u;l<i;l++)u={x:i*(o[l+1].x-o[l].x),y:i*(o[l+1].y-o[l].y)},n&&(u.z=i*(o[l+1].z-o[l].z)),a.push(u);r.push(a),o=a}return r},between:function(e,n,r){return n<=e&&e<=r||Se.approximately(e,n)||Se.approximately(e,r)},approximately:function(e,n,r){return zu(e-n)<=(r||Xie)},length:function(e){const r=Se.Tvalues.length;let o=0;for(let s=0,i;s<r;s++)i=.5*Se.Tvalues[s]+.5,o+=Se.Cvalues[s]*Se.arcfn(i,e);return .5*o},map:function(e,n,r,o,s){const i=r-n,a=s-o,l=e-n,u=l/i;return o+a*u},lerp:function(e,n,r){const o={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(o.z=n.z+e*(r.z-n.z)),o},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(Se.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const o=n.x-e.x,s=n.y-e.y,i=r.x-e.x,a=r.y-e.y,l=o*a-s*i,u=o*i+s*a;return Fu(l,u)},round:function(e,n){const r=""+e,o=r.indexOf(".");return parseFloat(r.substring(0,o+1+n))},dist:function(e,n){const r=e.x-n.x,o=e.y-n.y;return ji(r*r+o*o)},closest:function(e,n){let r=fo(2,63),o,s;return e.forEach(function(i,a){s=Se.dist(n,i),s<r&&(r=s,o=a)}),{mdist:r,mpos:o}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=fo(e,n)+fo(1-e,n),o=r-1;return zu(o/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=fo(1-e,n),o=fo(e,n)+r;return r/o},lli8:function(e,n,r,o,s,i,a,l){const u=(e*o-n*r)*(s-a)-(e-r)*(s*l-i*a),d=(e*o-n*r)*(i-l)-(n-o)*(s*l-i*a),h=(e-r)*(i-l)-(n-o)*(s-a);return h==0?!1:{x:u/h,y:d/h}},lli4:function(e,n,r,o){const s=e.x,i=e.y,a=n.x,l=n.y,u=r.x,d=r.y,h=o.x,f=o.y;return Se.lli8(s,i,a,l,u,d,h,f)},lli:function(e,n){return Se.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new on(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=my,r=my,o=gy,s=gy;return e.forEach(function(i){const a=i.bbox();n>a.x.min&&(n=a.x.min),r>a.y.min&&(r=a.y.min),o<a.x.max&&(o=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:n,mid:(n+o)/2,max:o,size:o-n},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(e,n,r,o,s){if(!Se.bboxoverlap(n,o))return[];const i=[],a=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return a.forEach(function(u){u.virtual||l.forEach(function(d){if(d.virtual)return;const h=u.intersects(d,s);h.length>0&&(h.c1=u,h.c2=d,h.s1=e,h.s2=r,i.push(h))})}),i},makeshape:function(e,n,r){const o=n.points.length,s=e.points.length,i=Se.makeline(n.points[o-1],e.points[0]),a=Se.makeline(e.points[s-1],n.points[0]),l={startcap:i,forward:e,back:n,endcap:a,bbox:Se.findbbox([i,e,n,a])};return l.intersections=function(u){return Se.shapeintersections(l,l.bbox,u,u.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let o=my,s=gy,i,a;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,u=r.length;l<u;l++)i=r[l],a=e.get(i),a[n]<o&&(o=a[n]),a[n]>s&&(s=a[n]);return{min:o,mid:(o+s)/2,max:s,size:s-o}},align:function(e,n){const r=n.p1.x,o=n.p1.y,s=-Fu(n.p2.y-o,n.p2.x-r),i=function(a){return{x:(a.x-r)*$s(s)-(a.y-o)*Fl(s),y:(a.x-r)*Fl(s)+(a.y-o)*$s(s)}};return e.map(i)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,o=Se.align(e,n),s=function(j){return 0<=j&&j<=1};if(r===2){const j=o[0].y,P=o[1].y,E=o[2].y,_=j-2*P+E;if(_!==0){const I=-ji(P*P-j*E),O=-j+P,U=-(I+O)/_,T=-(-I+O)/_;return[U,T].filter(s)}else if(P!==E&&_===0)return[(2*P-E)/(2*P-2*E)].filter(s);return[]}const i=o[0].y,a=o[1].y,l=o[2].y,u=o[3].y;let d=-i+3*a-3*l+u,h=3*i-6*a+3*l,f=-3*i+3*a,m=i;if(Se.approximately(d,0)){if(Se.approximately(h,0))return Se.approximately(f,0)?[]:[-m/f].filter(s);const j=ji(f*f-4*h*m),P=2*h;return[(j-f)/P,(-f-j)/P].filter(s)}h/=d,f/=d,m/=d;const p=(3*f-h*h)/3,v=p/3,y=(2*h*h*h-9*h*f+27*m)/27,b=y/2,x=b*b+v*v*v;let w,S,k,C,N;if(x<0){const j=-p/3,P=j*j*j,E=ji(P),_=-y/(2*E),I=_<-1?-1:_>1?1:_,O=Yie(I),U=Uu(E),T=2*U;return k=T*$s(O/3)-h/3,C=T*$s((O+Lh)/3)-h/3,N=T*$s((O+2*Lh)/3)-h/3,[k,C,N].filter(s)}else{if(x===0)return w=b<0?Uu(-b):-Uu(b),k=2*w-h/3,C=-w-h/3,[k,C].filter(s);{const j=ji(x);return w=Uu(-b+j),S=Uu(b+j),[w-S-h/3].filter(s)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],o=e[2],s=n-2*r+o;if(s!==0){const i=-ji(r*r-n*o),a=-n+r,l=-(i+a)/s,u=-(-i+a)/s;return[l,u]}else if(r!==o&&s===0)return[(2*r-o)/(2*(r-o))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,o,s){let i,a,l,u,d=0,h=0;const f=Se.compute(e,n),m=Se.compute(e,r),p=f.x*f.x+f.y*f.y;if(o?(i=ji(fo(f.y*m.z-m.y*f.z,2)+fo(f.z*m.x-m.z*f.x,2)+fo(f.x*m.y-m.x*f.y,2)),a=fo(p+f.z*f.z,3/2)):(i=f.x*m.y-f.y*m.x,a=fo(p,3/2)),i===0||a===0)return{k:0,r:0};if(d=i/a,h=a/i,!s){const v=Se.curvature(e-.001,n,r,o,!0).k,y=Se.curvature(e+.001,n,r,o,!0).k;u=(y-d+(d-v))/2,l=(zu(y-d)+zu(d-v))/2}return{k:d,r:h,dk:u,adk:l}},inflections:function(e){if(e.length<4)return[];const n=Se.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,o=n[3].x*n[1].y,s=n[1].x*n[2].y,i=n[3].x*n[2].y,a=18*(-3*r+2*o+3*s-i),l=18*(3*r-o-3*s),u=18*(s-r);if(Se.approximately(a,0)){if(!Se.approximately(l,0)){let m=-u/l;if(0<=m&&m<=1)return[m]}return[]}const d=2*a;if(Se.approximately(d,0))return[];const h=l*l-4*a*u;if(h<0)return[];const f=Math.sqrt(h);return[(f-l)/d,-(l+f)/d].filter(function(m){return 0<=m&&m<=1})},bboxoverlap:function(e,n){const r=["x","y"],o=r.length;for(let s=0,i,a,l,u;s<o;s++)if(i=r[s],a=e[i].mid,l=n[i].mid,u=(e[i].size+n[i].size)/2,zu(a-l)>=u)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const o=e.bbox(),s=n.bbox(),i=1e5,a=r||.5;if(o.x.size+o.y.size<a&&s.x.size+s.y.size<a)return[(i*(e._t1+e._t2)/2|0)/i+"/"+(i*(n._t1+n._t2)/2|0)/i];let l=e.split(.5),u=n.split(.5),d=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];d=d.filter(function(f){return Se.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return d.length===0||(d.forEach(function(f){h=h.concat(Se.pairiteration(f.left,f.right,a))}),h=h.filter(function(f,m){return h.indexOf(f)===m})),h},getccenter:function(e,n,r){const o=n.x-e.x,s=n.y-e.y,i=r.x-n.x,a=r.y-n.y,l=o*$s(_i)-s*Fl(_i),u=o*Fl(_i)+s*$s(_i),d=i*$s(_i)-a*Fl(_i),h=i*Fl(_i)+a*$s(_i),f=(e.x+n.x)/2,m=(e.y+n.y)/2,p=(n.x+r.x)/2,v=(n.y+r.y)/2,y=f+l,b=m+u,x=p+d,w=v+h,S=Se.lli8(f,m,y,b,p,v,x,w),k=Se.dist(S,e);let C=Fu(e.y-S.y,e.x-S.x),N=Fu(n.y-S.y,n.x-S.x),j=Fu(r.y-S.y,r.x-S.x),P;return C<j?((C>N||N>j)&&(C+=Lh),C>j&&(P=j,j=C,C=P)):j<N&&N<C?(P=j,j=C,C=P):j+=Lh,S.s=C,S.e=j,S.r=k,S},numberSort:function(e,n){return e-n}};class wd{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return Se.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),o=1;o<n.length;o++)Se.expandbox(r,n[o].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(o){r.push(...o.offset(n))}),new wd(r)}}const{abs:Bu,min:kC,max:NC,cos:Jie,sin:Zie,acos:eae,sqrt:Hu}=Math,tae=Math.PI;class on{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),o=!1;if(typeof r[0]=="object"){o=r.length;const p=[];r.forEach(function(v){["x","y","z"].forEach(function(y){typeof v[y]<"u"&&p.push(v[y])})}),r=p}let s=!1;const i=r.length;if(o){if(o>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(i!==6&&i!==8&&i!==9&&i!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(i===9||i===12)||n&&n[0]&&typeof n[0].z<"u",l=this.points=[];for(let p=0,v=a?3:2;p<i;p+=v){var u={x:r[p],y:r[p+1]};a&&(u.z=r[p+2]),l.push(u)}const d=this.order=l.length-1,h=this.dims=["x","y"];a&&h.push("z"),this.dimlen=h.length;const f=Se.align(l,{p1:l[0],p2:l[d]}),m=Se.dist(l[0],l[d]);this._linear=f.reduce((p,v)=>p+Bu(v.y),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,o,s){if(typeof s>"u"&&(s=.5),s===0)return new on(r,r,o);if(s===1)return new on(n,r,r);const i=on.getABC(2,n,r,o,s);return new on(n,i.A,o)}static cubicFromPoints(n,r,o,s,i){typeof s>"u"&&(s=.5);const a=on.getABC(3,n,r,o,s);typeof i>"u"&&(i=Se.dist(r,a.C));const l=i*(1-s)/s,u=Se.dist(n,o),d=(o.x-n.x)/u,h=(o.y-n.y)/u,f=i*d,m=i*h,p=l*d,v=l*h,y={x:r.x-f,y:r.y-m},b={x:r.x+p,y:r.y+v},x=a.A,w={x:x.x+(y.x-x.x)/(1-s),y:x.y+(y.y-x.y)/(1-s)},S={x:x.x+(b.x-x.x)/s,y:x.y+(b.y-x.y)/s},k={x:n.x+(w.x-n.x)/s,y:n.y+(w.y-n.y)/s},C={x:o.x+(S.x-o.x)/(1-s),y:o.y+(S.y-o.y)/(1-s)};return new on(n,k,C,o)}static getUtils(){return Se}getUtils(){return on.getUtils()}static get PolyBezier(){return wd}valueOf(){return this.toString()}toString(){return Se.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,o=n[0].y,s=["M",r,o,this.order===2?"Q":"C"];for(let i=1,a=n.length;i<a;i++)s.push(n[i].x),s.push(n[i].y);return s.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=Se.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=Se.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return Se.length(this.derivative.bind(this))}static getABC(n=2,r,o,s,i=.5){const a=Se.projectionratio(i,n),l=1-a,u={x:a*r.x+l*s.x,y:a*r.y+l*s.y},d=Se.abcratio(i,n);return{A:{x:o.x+(o.x-u.x)/d,y:o.y+(o.y-u.y)/d},B:o,C:u,S:r,E:s}}getABC(n,r){r=r||this.get(n);let o=this.points[0],s=this.points[this.order];return on.getABC(this.order,o,r,s,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,o,s;r<n;r++)s=r/(n-1),o=this.compute(s),o.t=s,this._lut.push(o);return this._lut}on(n,r){r=r||5;const o=this.getLUT(),s=[];for(let i=0,a,l=0;i<o.length;i++)a=o[i],Se.dist(a,n)<r&&(s.push(a),l+=i/o.length);return s.length?t/=s.length:!1}project(n){const r=this.getLUT(),o=r.length-1,s=Se.closest(r,n),i=s.mpos,a=(i-1)/o,l=(i+1)/o,u=.1/o;let d=s.mdist,h=a,f=h,m;d+=1;for(let p;h<l+u;h+=u)m=this.compute(h),p=Se.dist(n,m),p<d&&(d=p,f=h);return f=f<0?0:f>1?1:f,m=this.compute(f),m.t=f,m.d=d,m}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?Se.computeWithRatios(n,this.points,this.ratios,this._3d):Se.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],o=n.length;for(let s=1,i,a;s<o;s++)i=n[s],a=n[s-1],r[s]={x:(o-s)/o*i.x+s/o*a.x,y:(o-s)/o*i.y+s/o*a.y};return r[o]=n[o-1],new on(r)}derivative(n){return Se.compute(n,this.dpoints[0],this._3d)}dderivative(n){return Se.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new on(Se.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return Se.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return Se.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),o=Hu(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/o,y:r.x/o}}__normal3(n){const r=this.derivative(n),o=this.derivative(n+.01),s=Hu(r.x*r.x+r.y*r.y+r.z*r.z),i=Hu(o.x*o.x+o.y*o.y+o.z*o.z);r.x/=s,r.y/=s,r.z/=s,o.x/=i,o.y/=i,o.z/=i;const a={x:o.y*r.z-o.z*r.y,y:o.z*r.x-o.x*r.z,z:o.x*r.y-o.y*r.x},l=Hu(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:n,x:u[0]*r.x+u[1]*r.y+u[2]*r.z,y:u[3]*r.x+u[4]*r.y+u[5]*r.z,z:u[6]*r.x+u[7]*r.y+u[8]*r.z}}hull(n){let r=this.points,o=[],s=[],i=0;for(s[i++]=r[0],s[i++]=r[1],s[i++]=r[2],this.order===3&&(s[i++]=r[3]);r.length>1;){o=[];for(let a=0,l,u=r.length-1;a<u;a++)l=Se.lerp(n,r[a],r[a+1]),s[i++]=l,o.push(l);r=o}return s}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const o=this.hull(n),s={left:this.order===2?new on([o[0],o[3],o[5]]):new on([o[0],o[4],o[7],o[9]]),right:this.order===2?new on([o[5],o[4],o[2]]):new on([o[9],o[8],o[6],o[3]]),span:o};return s.left._t1=Se.map(0,0,1,this._t1,this._t2),s.left._t2=Se.map(n,0,1,this._t1,this._t2),s.right._t1=Se.map(n,0,1,this._t1,this._t2),s.right._t2=Se.map(1,0,1,this._t1,this._t2),r?(r=Se.map(r,n,1,0,1),s.right.split(r).left):s}extrema(){const n={};let r=[];return this.dims.forEach((function(o){let s=function(a){return a[o]},i=this.dpoints[0].map(s);n[o]=Se.droots(i),this.order===3&&(i=this.dpoints[1].map(s),n[o]=n[o].concat(Se.droots(i))),n[o]=n[o].filter(function(a){return a>=0&&a<=1}),r=r.concat(n[o].sort(Se.numberSort))}).bind(this)),n.values=r.sort(Se.numberSort).filter(function(o,s){return r.indexOf(o)===s}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(o){r[o]=Se.getminmax(this,o,n[o])}).bind(this)),r}overlaps(n){const r=this.bbox(),o=n.bbox();return Se.bboxoverlap(r,o)}offset(n,r){if(typeof r<"u"){const o=this.get(n),s=this.normal(n),i={c:o,n:s,x:o.x+s.x*r,y:o.y+s.y*r};return this._3d&&(i.z=o.z+s.z*r),i}if(this._linear){const o=this.normal(0),s=this.points.map(function(i){const a={x:i.x+n*o.x,y:i.y+n*o.y};return i.z&&o.z&&(a.z=i.z+n*o.z),a});return[new on(s)]}return this.reduce().map(function(o){return o._linear?o.offset(n)[0]:o.scale(n)})}simple(){if(this.order===3){const s=Se.angle(this.points[0],this.points[3],this.points[1]),i=Se.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&i<0||s<0&&i>0)return!1}const n=this.normal(0),r=this.normal(1);let o=n.x*r.x+n.y*r.y;return this._3d&&(o+=n.z*r.z),Bu(eae(o))<tae/3}reduce(){let n,r=0,o=0,s=.01,i,a=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),r=u[0],n=1;n<u.length;n++)o=u[n],i=this.split(r,o),i._t1=r,i._t2=o,a.push(i),r=o;return a.forEach(function(d){for(r=0,o=0;o<=1;)for(o=r+s;o<=1+s;o+=s)if(i=d.split(r,o),!i.simple()){if(o-=s,Bu(r-o)<s)return[];i=d.split(r,o),i._t1=Se.map(r,0,1,d._t1,d._t2),i._t2=Se.map(o,0,1,d._t1,d._t2),l.push(i),r=o;break}r<1&&(i=d.split(r,1),i._t1=Se.map(r,0,1,d._t1,d._t2),i._t2=d._t2,l.push(i))}),l}translate(n,r,o){o=typeof o=="number"?o:r;const s=this.order;let i=this.points.map((a,l)=>(1-l/s)*r+l/s*o);return new on(this.points.map((a,l)=>({x:a.x+n.x*i[l],y:a.y+n.y*i[l]})))}scale(n){const r=this.order;let o=!1;if(typeof n=="function"&&(o=n),o&&r===2)return this.raise().scale(o);const s=this.clockwise,i=this.points;if(this._linear)return this.translate(this.normal(0),o?o(0):n,o?o(1):n);const a=o?o(0):n,l=o?o(1):n,u=[this.offset(0,10),this.offset(1,10)],d=[],h=Se.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const m=d[f*r]=Se.copy(i[f*r]);m.x+=(f?l:a)*u[f].n.x,m.y+=(f?l:a)*u[f].n.y}),o?([0,1].forEach(function(f){if(!(r===2&&f)){var m=i[f+1],p={x:m.x-h.x,y:m.y-h.y},v=o?o((f+1)/r):n;o&&!s&&(v=-v);var y=Hu(p.x*p.x+p.y*p.y);p.x/=y,p.y/=y,d[f+1]={x:m.x+v*p.x,y:m.y+v*p.y}}}),new on(d)):([0,1].forEach(f=>{if(r===2&&f)return;const m=d[f*r],p=this.derivative(f),v={x:m.x+p.x,y:m.y+p.y};d[f+1]=Se.lli4(m,v,h,i[f+1])}),new on(d))}outline(n,r,o,s){if(r=r===void 0?n:r,this._linear){const C=this.normal(0),N=this.points[0],j=this.points[this.points.length-1];let P,E,_;o===void 0&&(o=n,s=r),P={x:N.x+C.x*n,y:N.y+C.y*n},_={x:j.x+C.x*o,y:j.y+C.y*o},E={x:(P.x+_.x)/2,y:(P.y+_.y)/2};const I=[P,E,_];P={x:N.x-C.x*r,y:N.y-C.y*r},_={x:j.x-C.x*s,y:j.y-C.y*s},E={x:(P.x+_.x)/2,y:(P.y+_.y)/2};const O=[_,E,P],U=Se.makeline(O[2],I[0]),T=Se.makeline(I[2],O[0]),z=[U,new on(I),T,new on(O)];return new wd(z)}const i=this.reduce(),a=i.length,l=[];let u=[],d,h=0,f=this.length();const m=typeof o<"u"&&typeof s<"u";function p(C,N,j,P,E){return function(_){const I=P/j,O=(P+E)/j,U=N-C;return Se.map(_,0,1,C+I*U,C+O*U)}}i.forEach(function(C){const N=C.length();m?(l.push(C.scale(p(n,o,f,h,N))),u.push(C.scale(p(-r,-s,f,h,N)))):(l.push(C.scale(n)),u.push(C.scale(-r))),h+=N}),u=u.map(function(C){return d=C.points,d[3]?C.points=[d[3],d[2],d[1],d[0]]:C.points=[d[2],d[1],d[0]],C}).reverse();const v=l[0].points[0],y=l[a-1].points[l[a-1].points.length-1],b=u[a-1].points[u[a-1].points.length-1],x=u[0].points[0],w=Se.makeline(b,v),S=Se.makeline(y,x),k=[w].concat(l).concat([S]).concat(u);return new wd(k)}outlineshapes(n,r,o){r=r||n;const s=this.outline(n,r).curves,i=[];for(let a=1,l=s.length;a<l/2;a++){const u=Se.makeshape(s[a],s[l-a],o);u.startcap.virtual=a>1,u.endcap.virtual=a<l/2-1,i.push(u)}return i}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof on&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=kC(n.p1.x,n.p2.x),o=kC(n.p1.y,n.p2.y),s=NC(n.p1.x,n.p2.x),i=NC(n.p1.y,n.p2.y);return Se.roots(this.points,n).filter(a=>{var l=this.get(a);return Se.between(l.x,r,s)&&Se.between(l.y,o,i)})}selfintersects(n){const r=this.reduce(),o=r.length-2,s=[];for(let i=0,a,l,u;i<o;i++)l=r.slice(i,i+1),u=r.slice(i+2),a=this.curveintersects(l,u,n),s.push(...a);return s}curveintersects(n,r,o){const s=[];n.forEach(function(a){r.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let i=[];return s.forEach(function(a){const l=Se.pairiteration(a.left,a.right,o);l.length>0&&(i=i.concat(l))}),i}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,o,s){const i=(s-o)/4,a=this.get(o+i),l=this.get(s-i),u=Se.dist(n,r),d=Se.dist(n,a),h=Se.dist(n,l);return Bu(d-u)+Bu(h-u)}_iterate(n,r){let o=0,s=1,i;do{i=0,s=1;let a=this.get(o),l,u,d,h,f=!1,m=!1,p,v=s,y=1;do if(m=f,h=d,v=(o+s)/2,l=this.get(v),u=this.get(s),d=Se.getccenter(a,l,u),d.interval={start:o,end:s},f=this._error(d,a,o,s)<=n,p=m&&!f,p||(y=s),f){if(s>=1){if(d.interval.end=y=1,h=d,s>1){let x={x:d.x+d.r*Jie(d.e),y:d.y+d.r*Zie(d.e)};d.e+=Se.angle({x:d.x,y:d.y},x,this.get(1))}break}s=s+(s-o)/2}else s=v;while(!p&&i++<100);if(i>=100)break;h=h||d,r.push(h),o=y}while(s<1);return r}}function Mv(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function nae(e){if(Array.isArray(e))return e}function rae(e){if(Array.isArray(e))return Mv(e)}function oae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sae(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(e,n){if(e==null)return{};var r,o,s=cae(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cae(e,n){if(e==null)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.includes(o))continue;r[o]=e[o]}return r}function uae(e,n){return nae(e)||sae(e,n)||yR(e,n)||iae()}function dae(e){return rae(e)||oae(e)||yR(e)||aae()}function fae(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hae(e){var n=fae(e,"string");return typeof n=="symbol"?n:n+""}function yR(e,n){if(e){if(typeof e=="string")return Mv(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mv(e,n):void 0}}var pae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),i=e.reduce(function(l,u){var d=l,h=u;return s.forEach(function(f,m){var p=f.keyAccessor,v=f.isProp,y;if(v){var b=h,x=b[p],w=lae(b,[p].map(hae));y=x,h=w}else y=p(h,m);m+1<s.length?(d.hasOwnProperty(y)||(d[y]={}),d=d[y]):r?(d.hasOwnProperty(y)||(d[y]=[]),d[y].push(h)):d[y]=h}),l},{});r instanceof Function&&function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===s.length?Object.keys(u).forEach(function(h){return u[h]=r(u[h])}):Object.values(u).forEach(function(h){return l(h,d+1)})}(i);var a=i;return o&&(a=[],function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===s.length?a.push({keys:d,vals:u}):Object.entries(u).forEach(function(h){var f=uae(h,2),m=f[0],p=f[1];return l(p,[].concat(dae(d),[m]))})}(i),n instanceof Array&&n.length===0&&a.length===1&&(a[0].keys=[])),a};function mae(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}const CC=Symbol("implicit");function vR(){var e=new qN,n=[],r=[],o=CC;function s(i){let a=e.get(i);if(a===void 0){if(o!==CC)return o;e.set(i,a=n.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return n.slice();n=[],e=new qN;for(const a of i)e.has(a)||e.set(a,n.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(o=i,s):o},s.copy=function(){return vR(n,r).unknown(o)},mae.apply(s,arguments),s}function gae(e){for(var n=e.length/6|0,r=new Array(n),o=0;o<n;)r[o]="#"+e.slice(o*6,++o*6);return r}const xae=gae("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function yae(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var vae=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;yae(vae);function Rv(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}function wae(e){if(Array.isArray(e))return e}function bae(e){if(Array.isArray(e))return Rv(e)}function jC(e,n,r){if(wR())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,n);var s=new(e.bind.apply(e,o));return s}function af(e,n,r){return(n=_ae(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function Sae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kae(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,n!==0)for(;!(u=(o=i.call(r)).done)&&(l.push(o.value),l.length!==n);u=!0);}catch(h){d=!0,s=h}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function Nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _C(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function Ul(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_C(Object(r),!0).forEach(function(o){af(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function bd(e,n){return wae(e)||kae(e,n)||bR(e,n)||Nae()}function So(e){return bae(e)||Sae(e)||bR(e)||Cae()}function jae(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,n);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _ae(e){var n=jae(e,"string");return typeof n=="symbol"?n:n+""}function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iv(e)}function bR(e,n){if(e){if(typeof e=="string")return Rv(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rv(e,n):void 0}}var Eae=vR(xae);function EC(e,n,r){!n||typeof r!="string"||e.filter(function(o){return!o[r]}).forEach(function(o){o[r]=Eae(n(o))})}function Tae(e,n){var r=e.nodes,o=e.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.nodeFilter,a=i===void 0?function(){return!0}:i,l=s.onLoopError,u=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,d={};r.forEach(function(p){return d[n(p)]={data:p,out:[],depth:-1,skip:!a(p)}}),o.forEach(function(p){var v=p.source,y=p.target,b=k(v),x=k(y);if(!d.hasOwnProperty(b))throw"Missing source node with id: ".concat(b);if(!d.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var w=d[b],S=d[x];w.out.push(S);function k(C){return Iv(C)==="object"?n(C):C}});var h=[];m(Object.values(d));var f=Object.assign.apply(Object,[{}].concat(So(Object.entries(d).filter(function(p){var v=bd(p,2),y=v[1];return!y.skip}).map(function(p){var v=bd(p,2),y=v[0],b=v[1];return af({},y,b.depth)}))));return f;function m(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=function(){var k=p[x];if(v.indexOf(k)!==-1){var C=[].concat(So(v.slice(v.indexOf(k))),[k]).map(function(N){return n(N.data)});return h.some(function(N){return N.length===C.length&&N.every(function(j,P){return j===C[P]})})||(h.push(C),u(C)),1}y>k.depth&&(k.depth=y,m(k.out,[].concat(So(v),[k]),y+(k.skip?0:1)))},x=0,w=p.length;x<w;x++)b()}}var Aae=2,tr=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},TC=function(n,r){if(!r.isShadow){var o=Ot(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var i=Math.round(Math.abs(o(s)));i?s.__photons=So(Array(i)).map(function(){return{}}):delete s.__photons})}},Sm=d1({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,TC(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(o){return o.fx=o.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:tr},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:tr},nodeColor:{default:"color",triggerUpdate:!1,onChange:tr},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:tr},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tr},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:tr},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:tr},linkColor:{default:"color",triggerUpdate:!1,onChange:tr},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:tr},linkWidth:{default:1,triggerUpdate:!1,onChange:tr},linkCurvature:{default:0,triggerUpdate:!1,onChange:tr},linkCanvasObject:{triggerUpdate:!1,onChange:tr},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tr},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:tr},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:tr},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:tr},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:TC},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,o){return o===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,o),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),s(),!n.isShadow&&i(),!n.isShadow&&a(),o(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function o(){var l=Ot(n.nodeVisibility),u=Ot(n.nodeVal),d=Ot(n.nodeColor),h=Ot(n.nodeCanvasObjectMode),f=n.ctx,m=n.isShadow/n.globalScale,p=n.graphData.nodes.filter(l);f.save(),p.forEach(function(v){var y=h(v);if(n.nodeCanvasObject&&(y==="before"||y==="replace")&&(n.nodeCanvasObject(v,f,n.globalScale),y==="replace")){f.restore();return}var b=Math.sqrt(Math.max(0,u(v)||1))*n.nodeRelSize+m;f.beginPath(),f.arc(v.x,v.y,b,0,2*Math.PI,!1),f.fillStyle=d(v)||"rgba(31, 120, 180, 0.92)",f.fill(),n.nodeCanvasObject&&y==="after"&&n.nodeCanvasObject(v,n.ctx,n.globalScale)}),f.restore()}function s(){var l=Ot(n.linkVisibility),u=Ot(n.linkColor),d=Ot(n.linkWidth),h=Ot(n.linkLineDash),f=Ot(n.linkCurvature),m=Ot(n.linkCanvasObjectMode),p=n.ctx,v=n.isShadow*2,y=n.graphData.links.filter(l);y.forEach(N);var b=[],x=[],w=y;if(n.linkCanvasObject){var S=[],k=[];y.forEach(function(j){return({before:b,after:x,replace:S}[m(j)]||k).push(j)}),w=[].concat(So(b),x,k),b=b.concat(S)}p.save(),b.forEach(function(j){return n.linkCanvasObject(j,p,n.globalScale)}),p.restore();var C=pae(w,[u,d,h]);p.save(),Object.entries(C).forEach(function(j){var P=bd(j,2),E=P[0],_=P[1],I=!E||E==="undefined"?"rgba(0,0,0,0.15)":E;Object.entries(_).forEach(function(O){var U=bd(O,2),T=U[0],z=U[1],L=(T||1)/n.globalScale+v;Object.entries(z).forEach(function(H){var F=bd(H,2);F[0];var R=F[1],A=h(R[0]);p.beginPath(),R.forEach(function(D){var $=D.source,M=D.target;if(!(!$||!M||!$.hasOwnProperty("x")||!M.hasOwnProperty("x"))){p.moveTo($.x,$.y);var Y=D.__controlPoints;Y?p[Y.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,So(Y).concat([M.x,M.y])):p.lineTo(M.x,M.y)}}),p.strokeStyle=I,p.lineWidth=L,p.setLineDash(A||[]),p.stroke()})})}),p.restore(),p.save(),x.forEach(function(j){return n.linkCanvasObject(j,p,n.globalScale)}),p.restore();function N(j){var P=f(j);if(!P){j.__controlPoints=null;return}var E=j.source,_=j.target;if(!(!E||!_||!E.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var I=Math.sqrt(Math.pow(_.x-E.x,2)+Math.pow(_.y-E.y,2));if(I>0){var O=Math.atan2(_.y-E.y,_.x-E.x),U=I*P,T={x:(E.x+_.x)/2+U*Math.cos(O-Math.PI/2),y:(E.y+_.y)/2+U*Math.sin(O-Math.PI/2)};j.__controlPoints=[T.x,T.y]}else{var z=P*70;j.__controlPoints=[_.x,_.y-z,_.x+z,_.y]}}}}function i(){var l=1.6,u=.2,d=Ot(n.linkDirectionalArrowLength),h=Ot(n.linkDirectionalArrowRelPos),f=Ot(n.linkVisibility),m=Ot(n.linkDirectionalArrowColor||n.linkColor),p=Ot(n.nodeVal),v=n.ctx;v.save(),n.graphData.links.filter(f).forEach(function(y){var b=d(y);if(!(!b||b<0)){var x=y.source,w=y.target;if(!(!x||!w||!x.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var S=Math.sqrt(Math.max(0,p(x)||1))*n.nodeRelSize,k=Math.sqrt(Math.max(0,p(w)||1))*n.nodeRelSize,C=Math.min(1,Math.max(0,h(y))),N=m(y)||"rgba(0,0,0,0.28)",j=b/l/2,P=y.__controlPoints&&jC(on,[x.x,x.y].concat(So(y.__controlPoints),[w.x,w.y])),E=P?function(L){return P.get(L)}:function(L){return{x:x.x+(w.x-x.x)*L||0,y:x.y+(w.y-x.y)*L||0}},_=P?P.length():Math.sqrt(Math.pow(w.x-x.x,2)+Math.pow(w.y-x.y,2)),I=S+b+(_-S-k-b)*C,O=E(I/_),U=E((I-b)/_),T=E((I-b*(1-u))/_),z=Math.atan2(O.y-U.y,O.x-U.x)-Math.PI/2;v.beginPath(),v.moveTo(O.x,O.y),v.lineTo(U.x+j*Math.cos(z),U.y+j*Math.sin(z)),v.lineTo(T.x,T.y),v.lineTo(U.x-j*Math.cos(z),U.y-j*Math.sin(z)),v.fillStyle=N,v.fill()}}}),v.restore()}function a(){var l=Ot(n.linkDirectionalParticles),u=Ot(n.linkDirectionalParticleSpeed),d=Ot(n.linkDirectionalParticleOffset),h=Ot(n.linkDirectionalParticleWidth),f=Ot(n.linkVisibility),m=Ot(n.linkDirectionalParticleColor||n.linkColor),p=n.ctx;p.save(),n.graphData.links.filter(f).forEach(function(v){var y=l(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var b=v.source,x=v.target;if(!(!b||!x||!b.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var w=u(v),S=Math.abs(d(v)),k=v.__photons||[],C=Math.max(0,h(v)/2)/Math.sqrt(n.globalScale),N=m(v)||"rgba(0,0,0,0.28)";p.fillStyle=N;var j=v.__controlPoints?jC(on,[b.x,b.y].concat(So(v.__controlPoints),[x.x,x.y])):null,P=0,E=!1;k.forEach(function(_){var I=!!_.__singleHop;if(_.hasOwnProperty("__progressRatio")||(_.__progressRatio=I?0:(P+S)/y),!I&&P++,_.__progressRatio+=w,_.__progressRatio>=1)if(!I)_.__progressRatio=_.__progressRatio%1;else{E=!0;return}var O=_.__progressRatio,U=j?j.get(O):{x:b.x+(x.x-b.x)*O||0,y:b.y+(x.y-b.y)*O||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(U.x,U.y,v,p,n.globalScale):(p.beginPath(),p.arc(U.x,U.y,C,0,2*Math.PI,!1),p.fill())}),E&&(v.__photons=v.__photons.filter(function(_){return!_.__singleHop||_.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Vie().force("link",Die()).force("charge",Wie()).force("center",$se()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&EC(n.graphData.nodes,Ot(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&EC(n.graphData.links,Ot(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(m){m.source=m[n.linkSource],m.target=m[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var o=n.forceLayout.force("link");o&&o.id(function(m){return m[n.nodeId]}).links(n.graphData.links);var s=n.dagMode&&Tae(n.graphData,function(m){return m[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),i=Math.max.apply(Math,So(Object.values(s||[]))),a=n.dagLevelDistance||n.graphData.nodes.length/(i||1)*Aae*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return delete m[l]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var u=["rl","bu"].includes(n.dagMode),d=function(p){return(s[p[n.nodeId]]-i/2)*a*(u?-1:1)},h=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(m){return m[h]=d(m)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?qie(function(m){var p=s[m[n.nodeId]]||-1;return(n.dagMode==="radialin"?i-p:p)*a}).strength(function(m){return n.dagNodeFilter(m)?1:0}):null);for(var f=0;f<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);f++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function SR(e,n){var r=e instanceof Array?e:[e],o=new n;return o._destructor&&o._destructor(),{linkProp:function(i){return{default:o[i](),onChange:function(l,u){r.forEach(function(d){return u[d][i](l)})},triggerUpdate:!1}},linkMethod:function(i){return function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];var h=[];return r.forEach(function(f){var m=a[f],p=m[i].apply(m,u);p!==m&&h.push(p)}),h.length?h[0]:this}}}}var Pae=800,Mae=4,Rae=5,kR=SR("forceGraph",Sm),Iae=SR(["forceGraph","shadowGraph"],Sm),Oae=Object.assign.apply(Object,So(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return af({},e,kR.linkProp(e))})).concat(So(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return af({},e,Iae.linkProp(e))})))),Dae=Object.assign.apply(Object,So(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return af({},e,kR.linkMethod(e))})));function xy(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var o=window.devicePixelRatio;n/=o,r/=o,[e.canvas,e.shadowCanvas].forEach(function(i){i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),i.width=e.width*o,i.height=e.height*o,!n&&!r&&i.getContext("2d").scale(o,o)});var s=is(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/s,(e.height-r)/2/s),e.needsRedraw=!0}}function NR(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function AC(e,n,r){e.save(),NR(e),e.clearRect(0,0,n,r),e.restore()}var Lae=d1({props:Ul({width:{default:window.innerWidth,onChange:function(n,r){return xy(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return xy(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(s){return(s||[]).every(function(i){return!i.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(o),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function o(s){var i=s.type,a=s.objs;a.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var u=r.colorTracker.lookup(l.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:i,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(o,s,i){return n(o,o.__indexColor,s,i)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(o,s,i){return n(o,o.__indexColor,s,i)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Oae),aliases:{stopAnimation:"pauseAnimation"},methods:Ul({graph2ScreenCoords:function(n,r,o){var s=is(n.canvas);return{x:r*s.k+s.x,y:o*s.k+s.y}},screen2GraphCoords:function(n,r,o){var s=is(n.canvas);return{x:(r-s.x)/s.k,y:(o-s.y)/s.k}},centerAt:function(n,r,o,s){if(!n.canvas)return null;if(r!==void 0||o!==void 0){var i=Object.assign({},r!==void 0?{x:r}:{},o!==void 0?{y:o}:{});return s?n.tweenGroup.add(new ZN(a()).to(i,s).easing(nl.Quadratic.Out).onUpdate(l).start()):l(i),this}return a();function a(){var u=is(n.canvas);return{x:(n.width/2-u.x)/u.k,y:(n.height/2-u.y)/u.k}}function l(u){var d=u.x,h=u.y;n.zoom.translateTo(n.zoom.__baseElem,d===void 0?a().x:d,h===void 0?a().y:h),n.needsRedraw=!0}},zoom:function(n,r,o){if(!n.canvas)return null;if(r!==void 0)return o?n.tweenGroup.add(new ZN({k:s()}).to({k:r},o).easing(nl.Quadratic.Out).onUpdate(function(a){var l=a.k;return i(l)}).start()):i(r),this;return s();function s(){return is(n.canvas).k}function i(a){n.zoom.scaleTo(n.zoom.__baseElem,a),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,i=new Array(s>3?s-3:0),a=3;a<s;a++)i[a-3]=arguments[a];var l=this.getGraphBbox.apply(this,i);if(l){var u={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(n.width-o*2)/(l.x[1]-l.x[0]),(n.height-o*2)/(l.y[1]-l.y[0])));this.centerAt(u.x,u.y,r),this.zoom(d,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},o=Ot(n.nodeVal),s=function(l){return Math.sqrt(Math.max(0,o(l)||1))*n.nodeRelSize},i=n.graphData.nodes.filter(r).map(function(a){return{x:a.x,y:a.y,r:s(a)}});return i.length?{x:[YN(i,function(a){return a.x-a.r}),KN(i,function(a){return a.x+a.r})],y:[YN(i,function(a){return a.y-a.r}),KN(i,function(a){return a.y+a.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Dae),stateInit:function(){return{lastSetZoom:1,zoom:Cb(),forceGraph:new Sm,shadowGraph:new Sm().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new gse,tweenGroup:new G5}},init:function(n,r){var o=this;n.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",n.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var i=r.canvas.getContext("2d"),a=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},u=function(){var f=null,m=window.devicePixelRatio,p=l.x>0&&l.y>0?a.getImageData(l.x*m,l.y*m,1,1):null;return p&&(f=r.colorTracker.lookup(p.data)),f};gr(r.canvas).call(XP().subject(function(){if(!r.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,m=f.__initialDragPos,p=h,v=is(r.canvas).k,y={x:m.x+(p.x-m.x)/v-f.x,y:m.y+(p.y-m.y)/v-f.y};["x","y"].forEach(function(b){return f["f".concat(b)]=f[b]=m[b]+(p[b]-m[b])/v}),!(!f.__dragged&&Rae>=Math.sqrt(Yre(["x","y"].map(function(b){return Math.pow(h[b]-m[b],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,f.__dragged=!0,r.onNodeDrag(f,y))}).on("end",function(h){var f=h.subject,m=f.__initialDragPos,p={x:f.x-m.x,y:f.y-m.y};m.fx===void 0&&(f.fx=void 0),m.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,r.onNodeDragEnd(f,p))})),r.zoom(r.zoom.__baseElem=gr(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||Ot(r.enableZoomInteraction)(h))&&(h.type==="wheel"||Ot(r.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[i,a].forEach(function(m){NR(m),m.translate(f.x,f.y),m.scale(f.k,f.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Ul(Ul({},f),o.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Ul(Ul({},h.transform),o.centerAt()))}),xy(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){is(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=Mae/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new Lse(s),["pointermove","pointerdown"].forEach(function(h){return s.addEventListener(h,function(f){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=f),!r.isPointerDragging&&f.type==="pointermove"&&r.onBackgroundClick&&(f.pressure>0||r.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(v){return Math.abs(v)>1}))&&(r.isPointerDragging=!0);var m=p(s);l.x=f.pageX-m.left,l.y=f.pageY-m.top;function p(v){var y=v.getBoundingClientRect(),b=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:y.top+x,left:y.left+b}}},{passive:!0})}),s.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var f=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var m=r["on".concat(r.hoverObj.type,"Click")];m&&m.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,f);if(h.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,f)})}},{passive:!0}),s.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(i),r.shadowGraph(a);var d=Soe(function(){AC(a,r.width,r.height),r.shadowGraph.linkWidth(function(f){return Ot(r.linkWidth)(f)+r.linkHoverPrecision});var h=is(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},Pae);r.flushShadowCanvas=d.flush,(this._animationCycle=function h(){var f=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(S){return S.__photons&&S.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var m=r.isPointerDragging?null:u();if(m!==r.hoverObj){var p=r.hoverObj,v=p?p.type:null,y=m?m.type:null;if(v&&v!==y){var b=r["on".concat(v,"Hover")];b&&b(null,p.d)}if(y){var x=r["on".concat(y,"Hover")];x&&x(m.d,v===y?p.d:null)}r.tooltip.content(m&&Ot(r["".concat(m.type.toLowerCase(),"Label")])(m.d)||null),r.canvas.classList[(m&&r["on".concat(y,"Click")]||!m&&r.onBackgroundClick)&&Ot(r.showPointerCursor)(m==null?void 0:m.d)?"add":"remove"]("clickable"),r.hoverObj=m}f&&d()}if(f){AC(i,r.width,r.height);var w=is(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(i,w),r.forceGraph.globalScale(w).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(i,w)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}}),CR={exports:{}},$ae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zae=$ae,Fae=zae;function jR(){}function _R(){}_R.resetWarningCache=jR;var Uae=function(){function e(o,s,i,a,l,u){if(u!==Fae){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:_R,resetWarningCache:jR};return r.PropTypes=r,r};CR.exports=Uae();var Bae=CR.exports;const K=Zc(Bae),Lg={width:K.number,height:K.number,graphData:K.shape({nodes:K.arrayOf(K.object).isRequired,links:K.arrayOf(K.object).isRequired}),backgroundColor:K.string,nodeRelSize:K.number,nodeId:K.string,nodeLabel:K.oneOfType([K.string,K.func]),nodeVal:K.oneOfType([K.number,K.string,K.func]),nodeVisibility:K.oneOfType([K.bool,K.string,K.func]),nodeColor:K.oneOfType([K.string,K.func]),nodeAutoColorBy:K.oneOfType([K.string,K.func]),onNodeHover:K.func,onNodeClick:K.func,linkSource:K.string,linkTarget:K.string,linkLabel:K.oneOfType([K.string,K.func]),linkVisibility:K.oneOfType([K.bool,K.string,K.func]),linkColor:K.oneOfType([K.string,K.func]),linkAutoColorBy:K.oneOfType([K.string,K.func]),linkWidth:K.oneOfType([K.number,K.string,K.func]),linkCurvature:K.oneOfType([K.number,K.string,K.func]),linkDirectionalArrowLength:K.oneOfType([K.number,K.string,K.func]),linkDirectionalArrowColor:K.oneOfType([K.string,K.func]),linkDirectionalArrowRelPos:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticles:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleSpeed:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleOffset:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleWidth:K.oneOfType([K.number,K.string,K.func]),linkDirectionalParticleColor:K.oneOfType([K.string,K.func]),onLinkHover:K.func,onLinkClick:K.func,dagMode:K.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:K.number,dagNodeFilter:K.func,onDagError:K.func,d3AlphaMin:K.number,d3AlphaDecay:K.number,d3VelocityDecay:K.number,warmupTicks:K.number,cooldownTicks:K.number,cooldownTime:K.number,onEngineTick:K.func,onEngineStop:K.func,getGraphBbox:K.func},ER={zoomToFit:K.func,onNodeRightClick:K.func,onNodeDrag:K.func,onNodeDragEnd:K.func,onLinkRightClick:K.func,linkHoverPrecision:K.number,onBackgroundClick:K.func,onBackgroundRightClick:K.func,showPointerCursor:K.oneOfType([K.bool,K.func]),enablePointerInteraction:K.bool,enableNodeDrag:K.bool},v1={showNavInfo:K.bool,nodeOpacity:K.number,nodeResolution:K.number,nodeThreeObject:K.oneOfType([K.object,K.string,K.func]),nodeThreeObjectExtend:K.oneOfType([K.bool,K.string,K.func]),nodePositionUpdate:K.func,linkOpacity:K.number,linkResolution:K.number,linkCurveRotation:K.oneOfType([K.number,K.string,K.func]),linkMaterial:K.oneOfType([K.object,K.string,K.func]),linkThreeObject:K.oneOfType([K.object,K.string,K.func]),linkThreeObjectExtend:K.oneOfType([K.bool,K.string,K.func]),linkPositionUpdate:K.func,linkDirectionalArrowResolution:K.number,linkDirectionalParticleResolution:K.number,linkDirectionalParticleThreeObject:K.oneOfType([K.object,K.string,K.func]),forceEngine:K.oneOf(["d3","ngraph"]),ngraphPhysics:K.object,numDimensions:K.oneOf([1,2,3])},Hae=Object.assign({},Lg,ER,{linkLineDash:K.oneOfType([K.arrayOf(K.number),K.string,K.func]),nodeCanvasObjectMode:K.oneOfType([K.string,K.func]),nodeCanvasObject:K.func,nodePointerAreaPaint:K.func,linkCanvasObjectMode:K.oneOfType([K.string,K.func]),linkCanvasObject:K.func,linkPointerAreaPaint:K.func,linkDirectionalParticleCanvasObject:K.func,autoPauseRedraw:K.bool,minZoom:K.number,maxZoom:K.number,enableZoomInteraction:K.oneOfType([K.bool,K.func]),enablePanInteraction:K.oneOfType([K.bool,K.func]),onZoom:K.func,onZoomEnd:K.func,onRenderFramePre:K.func,onRenderFramePost:K.func});Object.assign({},Lg,ER,v1,{enableNavigationControls:K.bool,controlType:K.oneOf(["trackball","orbit","fly"]),rendererConfig:K.object,extraRenderers:K.arrayOf(K.shape({render:K.func.isRequired}))});Object.assign({},Lg,v1,{nodeDesc:K.oneOfType([K.string,K.func]),linkDesc:K.oneOfType([K.string,K.func])});Object.assign({},Lg,v1,{markerAttrs:K.object,yOffset:K.number,glScale:K.number});const w1=Wre(Lae,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});w1.displayName="ForceGraph2D";w1.propTypes=Hae;function Ks(e,n=""){let r=0;const o=`${e}:${n}`;for(let s=0;s<o.length;s+=1)r=Math.imul(31,r)+o.charCodeAt(s),r|=0;return(r>>>0)%1e6/1e6}function Vae(e,n,r){const o={agent:110,integration:80,document:160,memory:210},s=Ks(e.id,"angle"),i=Ks(e.id,"lobe"),a=Ks(e.id,"jx"),l=Ks(e.id,"jy"),u=s*Math.PI*2,d=n/r*.35,h=u+d,f=140,m=i<.55?-1:1,p=o[e.type]??180,v=1.2+.35*Math.abs(Math.sin(h*1.1)),y=.8+.3*Math.cos(h*1.4),b=p*(1+.15*Math.sin(h*2)),x=b*Math.cos(h)*v,w=b*Math.sin(h)*y,S=(a-.5)*(e.type==="agent"?20:35),k=(l-.5)*(e.type==="agent"?18:28),C=m*f+x+S,N=w+k;return{x:C,y:N}}function Wae(e,n,r,o){const i={agent:120,integration:140,document:320,memory:240}[e.type]??220,a=n/Math.max(1,r)*Math.PI*2,l=(Ks(e.id,"orbit")-.5)*.35,u=Math.cos(a+l)*i,d=Math.sin(a+l)*i;return{x:u,y:d}}function qae({data:e}){var F,R,A;const n=g.useRef(null),r=g.useRef(),[o,s]=g.useState(null),[i,a]=g.useState(null),[l,u]=g.useState(""),[d,h]=g.useState({width:0,height:0}),[f,m]=g.useState(!1),p=i==null?void 0:i.metadata,v=(i==null?void 0:i.type)==="memory"?p==null?void 0:p.memoryType:void 0,y=(i==null?void 0:i.type)==="memory"&&typeof(p==null?void 0:p.expiresAt)=="string"?p==null?void 0:p.expiresAt:null,b=(i==null?void 0:i.type)==="memory"&&p?p.retention??{}:void 0,x=g.useMemo(()=>{const D=Math.max(1,e.nodes.length),$=e.nodes.length>1e3,M={};e.nodes.forEach(ie=>{M[ie.type]=(M[ie.type]??0)+1});const Y={},Z=e.nodes.map((ie,Le)=>{const Ce={...ie},De=Y[Ce.type]??0;Y[Ce.type]=De+1;const he=$?Wae(Ce,De,M[Ce.type]??D):Vae(Ce,Le,D);Ce.brainX=he.x,Ce.brainY=he.y;const je=Ks(ie.id,"offset-x"),se=Ks(ie.id,"offset-y"),Ve=Ks(ie.id,"nudge-x"),et=Ks(ie.id,"nudge-y");return!Number.isFinite(Ce.x)||!Number.isFinite(Ce.y)?(Ce.x=he.x+(je-.5)*18,Ce.y=he.y+(se-.5)*18):(Ce.x+=(Ve-.5)*8,Ce.y+=(et-.5)*8),Number.isFinite(Ce.vx)||(Ce.vx=0),Number.isFinite(Ce.vy)||(Ce.vy=0),Ce}),re=new Set(Z.map(ie=>ie.id)),Q=e.links.map(ie=>{const Le=typeof ie.source=="string"?ie.source:ie.source.id,Ce=typeof ie.target=="string"?ie.target:ie.target.id;return{...ie,source:Le,target:Ce,_sourceId:Le,_targetId:Ce}}).filter(ie=>ie._sourceId!==ie._targetId&&re.has(ie._sourceId)&&re.has(ie._targetId)).map(({_sourceId:ie,_targetId:Le,...Ce})=>Ce);if($)return{nodes:Z,links:Q};const ce=Z.filter(ie=>ie.type==="agent"||ie.type==="integration").map(ie=>ie.id),fe=Z.filter(ie=>ie.type!=="agent"&&ie.type!=="integration").map(ie=>ie.id),me=new Set;Q.forEach(ie=>{const Le=`${ie.source}${ie.target}`,Ce=`${ie.target}${ie.source}`;me.add(Le),me.add(Ce)});const ke=[...Q];for(const ie of fe)for(const Le of ce){const Ce=`${Le}${ie}`;me.has(Ce)||(ke.push({source:Le,target:ie,relation:"shared",strength:.4}),me.add(Ce),me.add(`${ie}${Le}`))}return{nodes:Z,links:ke}},[e]);g.useEffect(()=>{if(!n.current)return;const D=new ResizeObserver($=>{const M=$[0];h({width:M.contentRect.width,height:M.contentRect.height})});return D.observe(n.current),()=>D.disconnect()},[]),g.useEffect(()=>{if(!r.current||!d.width||!d.height||!x.nodes.length)return;const D=setTimeout(()=>{r.current.zoomToFit(400,40)},150);return()=>clearTimeout(D)},[x,d]),g.useEffect(()=>{if(!r.current||!x.nodes.length)return;const D=Math.max(220,Math.min(d.width,d.height)/1.9||260),$=x.nodes.length>1e3,M=Gie(ce=>ce.brainX??0).strength($?.18:.12),Y=Kie(ce=>ce.brainY??0).strength($?.18:.12),Z=r.current;if(!Z||typeof Z.d3Force!="function")return;Z.d3Force("brain-x",M),Z.d3Force("brain-y",Y);const re=Z.d3Force("charge");re&&typeof re.strength=="function"&&(re.strength($?-160:-80),typeof re.distanceMin=="function"&&re.distanceMin(12),typeof re.distanceMax=="function"&&re.distanceMax(D*($?3:2.6)));const Q=Z.d3Force("link");return Q!=null&&Q.distance&&Q.distance(ce=>{switch(ce.relation){case"derived":return D*.32;case"extends":return D*.42;case"shared":return D*.48;default:return D*.38}}),typeof Z.d3ReheatSimulation=="function"?Z.d3ReheatSimulation():typeof Z.d3Alpha=="function"&&Z.d3Alpha(.7),()=>{r.current===Z&&(Z.d3Force("brain-x",null),Z.d3Force("brain-y",null))}},[x,d]);const w=g.useCallback(D=>{if(!D||!r.current)return;const $=r.current,M=Number.isFinite(D.x)?D.x:D.brainX??0,Y=Number.isFinite(D.y)?D.y:D.brainY??0,Z=typeof $.zoom=="function"?$.zoom():void 0;if(typeof $.centerAt=="function"&&$.centerAt(M,Y,600),typeof $.zoom=="function"){const re=Math.max(1.4,Z??1.6);$.zoom(re,600)}a(D)},[r]),S=g.useMemo(()=>["#22d3ee","#a855f7","#f97316","#34d399","#facc15","#38bdf8","#f472b6","#c084fc","#fb7185","#818cf8"],[]),k=g.useMemo(()=>{const D=x.nodes.filter(M=>M.type==="agent"),$=new Map;return D.forEach((M,Y)=>{$.set(M.id,S[Y%S.length])}),$},[x.nodes,S]),C=g.useCallback((D,$)=>{if(!D.startsWith("#")||D.length!==7&&D.length!==4)return D;let M,Y,Z;return D.length===4?(M=parseInt(D[1]+D[1],16),Y=parseInt(D[2]+D[2],16),Z=parseInt(D[3]+D[3],16)):(M=parseInt(D.slice(1,3),16),Y=parseInt(D.slice(3,5),16),Z=parseInt(D.slice(5,7),16)),`rgba(${M}, ${Y}, ${Z}, ${$})`},[]),N=l.trim().toLowerCase(),j=o==null?void 0:o.id,P=i==null?void 0:i.id,E=g.useMemo(()=>N?x.nodes.filter(D=>{var Y,Z;const $=((Y=D.label)==null?void 0:Y.toLowerCase())??"",M=((Z=D.type)==null?void 0:Z.toLowerCase())??"";return $.includes(N)||M.includes(N)}).slice(0,8):[],[x.nodes,N]),_=D=>{var $,M,Y;if(D.status==="forgotten")return"#dc2626";if(D.status==="expiring")return"#ea580c";if(D.status==="new")return"#fbbf24";if(D.status==="older")return"#10b981";switch(D.type){case"document":return(($=D.metadata)==null?void 0:$.color)||"#f97316";case"agent":return"#ffffff";case"integration":return"#f97316";case"memory":{const Z=(M=D.metadata)==null?void 0:M.memoryType;if(Z==="short_term")return"#38bdf8";if(Z==="long_term")return"#14b8a6";const re=(Y=D.metadata)==null?void 0:Y.createdBy,Q=re?k.get(re):void 0;return Q?C(Q,.75):"#3b82f6"}default:return"#6b7280"}},I=D=>D.type==="agent"?3.8:D.type==="integration"?4.4:D.type==="document"?2.8:2.4,O=D=>{switch(D.relation){case"updated":return"rgba(59, 130, 246, 0.15)";case"extends":return"rgba(139, 92, 246, 0.18)";case"derived":return"rgba(20, 184, 166, 0.2)";case"similar":return"rgba(16, 185, 129, 0.12)";case"shared":return"rgba(244, 114, 182, 0.12)";default:return"rgba(100, 116, 139, 0.1)"}},U=g.useCallback(D=>{a(D)},[]),T=g.useCallback(()=>{a(null)},[]),z=()=>{r.current&&r.current.zoom(r.current.zoom()*1.2,400)},L=()=>{r.current&&r.current.zoom(r.current.zoom()/1.2,400)},H=()=>{r.current&&r.current.zoomToFit(400,50)};return c.jsxs("div",{ref:n,className:"relative h-full w-full overflow-hidden",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-3",children:[c.jsxs("div",{className:"relative w-80",children:[c.jsx(QE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Nt,{type:"text",placeholder:"Search for nodes...",value:l,onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),120),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),w(E[0])),D.key==="Escape"&&(u(""),m(!1))},onChange:D=>u(D.target.value),className:"pl-10 bg-background/95 backdrop-blur-sm border-border"}),f&&E.length>0&&c.jsx("div",{className:"absolute left-0 top-11 w-full rounded-xl border border-border/70 bg-background/95 backdrop-blur-sm shadow-lg",children:c.jsx("div",{className:"py-1",children:E.map(D=>c.jsxs("button",{onMouseDown:$=>{$.preventDefault(),w(D),u(D.label??D.id),m(!1)},className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-muted/40 flex flex-col gap-0.5",children:[c.jsx("span",{className:"font-medium",children:D.label}),c.jsx("span",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:D.type})]},D.id))})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:z,children:c.jsx(R$,{className:"h-4 w-4"})}),c.jsx(le,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:L,children:c.jsx(I$,{className:"h-4 w-4"})}),c.jsx(le,{size:"icon",variant:"outline",className:"bg-background/95 backdrop-blur-sm border-border",onClick:H,children:c.jsx(m$,{className:"h-4 w-4"})})]})]}),o&&c.jsx(It,{className:"absolute top-24 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 space-y-2 w-72 animate-fade-in",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-foreground",children:o.label}),c.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:o.type})]}),c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${o.status==="new"?"bg-purple-500/20 text-purple-400":o.status==="forgotten"?"bg-red-500/20 text-red-400":"bg-muted text-muted-foreground"}`,children:o.status})]})}),i&&c.jsxs(It,{className:"absolute bottom-6 left-6 z-10 bg-background/95 backdrop-blur-sm border-border p-4 w-96 animate-fade-in",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold text-foreground",children:i.label}),c.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:i.type})]}),c.jsx("button",{onClick:()=>a(null),className:"text-muted-foreground hover:text-foreground",children:""})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status:"}),c.jsx("span",{className:"text-foreground capitalize",children:i.status})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Connections:"}),c.jsx("span",{className:"text-foreground",children:x.links.filter(D=>{const $=typeof D.source=="string"?D.source:D.source.id,M=typeof D.target=="string"?D.target:D.target.id;return $===i.id||M===i.id}).length})]}),((F=i.metadata)==null?void 0:F.createdBy)&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Created by:"}),c.jsx("span",{className:"text-foreground",children:((R=x.nodes.find(D=>{var $;return D.id===(($=i.metadata)==null?void 0:$.createdBy)}))==null?void 0:R.label)??((A=i.metadata)==null?void 0:A.createdBy)})]}),i.type==="memory"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Memory type:"}),c.jsx("span",{className:"text-foreground capitalize",children:v==="short_term"?"Short-term":v==="long_term"?"Long-term":"Unknown"})]}),y&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Expires:"}),c.jsx("span",{className:"text-foreground",children:new Date(y).toLocaleString()})]}),(b==null?void 0:b.reason)&&typeof b.reason=="string"&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground block",children:"Retention logic:"}),c.jsx("span",{className:"text-foreground italic",children:b.reason})]})]})]})]}),c.jsx(w1,{ref:r,graphData:x,width:d.width,height:d.height,nodeLabel:"label",nodeColor:D=>_(D),nodeVal:D=>I(D),nodeCanvasObject:(D,$,M)=>{var De;const Y=D,Z=Y.label,re=10/M,Q=I(Y),ce=_(Y),fe=Y.type==="agent",me=typeof D.x=="number"&&Number.isFinite(D.x)?D.x:0,ke=typeof D.y=="number"&&Number.isFinite(D.y)?D.y:0;if(fe){$.save();const he=Q*2.4,je=$.createRadialGradient(me,ke,Q*.25,me,ke,he);je.addColorStop(0,"rgba(255, 255, 255, 1)"),je.addColorStop(.35,"rgba(255, 255, 255, 0.85)"),je.addColorStop(.7,"rgba(255, 255, 255, 0.2)"),je.addColorStop(1,"rgba(255, 255, 255, 0)"),$.fillStyle=je,$.beginPath(),$.arc(me,ke,he,0,2*Math.PI),$.fill(),$.restore()}$.shadowBlur=fe?26:15,$.shadowColor=fe?"rgba(255, 255, 255, 0.85)":ce,$.beginPath(),$.arc(me,ke,Q,0,2*Math.PI),$.fillStyle=ce,$.fill(),fe&&($.shadowBlur=0,$.beginPath(),$.arc(me,ke,Q*.65,0,2*Math.PI),$.fillStyle="rgba(255, 255, 255, 0.9)",$.fill()),$.shadowBlur=0,$.strokeStyle=fe?"rgba(255, 255, 255, 0.85)":ce,$.lineWidth=fe?.9:.5,$.beginPath(),$.arc(me,ke,Q+(fe?.2:0),0,2*Math.PI),$.stroke();const ie=N?(Z==null?void 0:Z.toLowerCase().includes(N))||((De=Y.type)==null?void 0:De.toLowerCase().includes(N)):!1,Le=j===Y.id||P===Y.id;ie&&($.beginPath(),$.arc(me,ke,Q+1.3,0,2*Math.PI),$.strokeStyle="rgba(250, 204, 21, 0.9)",$.lineWidth=1,$.stroke()),!!Z&&(ie||Le||M>=1.8)&&($.shadowBlur=0,$.font=`${re}px Inter, sans-serif`,$.textAlign="center",$.textBaseline="middle",$.fillStyle="rgba(255, 255, 255, 0.7)",$.fillText(Z,me,ke+Q+re+2))},linkColor:O,linkWidth:D=>D.strength*.8,linkCurvature:.15,linkDirectionalParticles:D=>D.relation==="derived"||D.relation==="shared"?1:0,linkDirectionalParticleWidth:1.5,linkDirectionalParticleSpeed:.003,onNodeClick:U,onBackgroundClick:T,onNodeHover:D=>s(D),cooldownTicks:150,d3AlphaDecay:.015,d3VelocityDecay:.4,backgroundColor:"#0B0D17",nodeCanvasObjectMode:()=>"replace",onRenderFramePre:D=>{const Y="rgba(148, 163, 184, 0.08)",Z=D.canvas.width,re=D.canvas.height;D.fillStyle=Y;for(let Q=0;Q<Z;Q+=40)for(let ce=0;ce<re;ce+=40)D.beginPath(),D.arc(Q,ce,.5,0,2*Math.PI),D.fill()},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0})]})}function Gae({data:e}){const n={memories:e.nodes.filter(r=>r.type==="memory").length,documents:e.nodes.filter(r=>r.type==="document").length,connections:e.links.length};return c.jsxs(It,{className:"bg-card border-border w-80 h-full overflow-y-auto",children:[c.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Legend"}),c.jsx(Xs,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Statistics"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-atlas-glow"}),c.jsxs("span",{className:"text-foreground",children:[n.memories," memories"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-orange-500"}),c.jsxs("span",{className:"text-foreground",children:[n.documents," documents"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),c.jsxs("span",{className:"text-foreground",children:[e.nodes.filter(r=>r.type==="agent").length," agents"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 bg-atlas-glow/30 rounded"}),c.jsxs("span",{className:"text-foreground",children:[n.connections," connections"]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Nodes"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-orange-500/80"}),c.jsx("span",{className:"text-foreground",children:"Document"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-sky-400"}),c.jsx("span",{className:"text-foreground",children:"Memory (STM)"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),c.jsx("span",{className:"text-foreground",children:"Memory (LTM)"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-3 h-3 rotate-45 bg-green-500"}),c.jsx("span",{className:"text-foreground",children:"Agent"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Status"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-foreground",children:"Forgotten"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),c.jsx("span",{className:"text-foreground",children:"Expiring soon"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow animate-pulse-glow"}),c.jsx("span",{className:"text-foreground",children:"New memory"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Connections"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow"}),c.jsx("span",{className:"text-foreground",children:"Doc  Memory"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-atlas-glow/50",style:{borderTop:"1px dashed"}}),c.jsx("span",{className:"text-foreground",children:"Doc similarity"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-pink-400/70"}),c.jsx("span",{className:"text-foreground",children:"Shared memory links"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Relations"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-blue-400"}),c.jsx("span",{className:"text-foreground",children:"Updates"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-purple-400"}),c.jsx("span",{className:"text-foreground",children:"Extends"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-green-400"}),c.jsx("span",{className:"text-foreground",children:"Derives"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-8 h-0.5 bg-pink-400"}),c.jsx("span",{className:"text-foreground",children:"Shared pool"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Similarity"}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow/30"}),c.jsx("span",{className:"text-foreground",children:"Weak"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-atlas-glow"}),c.jsx("span",{className:"text-foreground",children:"Strong"})]})]})]})]})]})}function Kae(){const e=Nf(),{user:n}=Ao(),r=(n==null?void 0:n.id)??null,{data:o,isLoading:s}=Ko({queryKey:["memory","graph",r],queryFn:()=>Ye.fetchMemoryGraph(r||void 0),enabled:!0,refetchInterval:6e4}),i=o??{nodes:[],links:[]};return g.useEffect(()=>{if(typeof window>"u"||typeof window.EventSource>"u")return;const a="/memory/stream",l=ga?`${ga}${a}`:a,u=new window.EventSource(l);return u.onmessage=d=>{try{JSON.parse(d.data).type==="memory.created"&&e.invalidateQueries({queryKey:["memory","graph"]})}catch(h){console.error("Failed to parse memory stream payload",h)}},u.onerror=()=>{u.close()},()=>{u.close()}},[e]),c.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[c.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[c.jsx("div",{className:"border-b border-border bg-background/80 backdrop-blur-sm",children:c.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Overview"}),c.jsx(le,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:"Requests"}),c.jsx(le,{variant:"ghost",className:"bg-muted text-foreground",children:"Memory Graph"})]}),c.jsxs(le,{variant:"outline",className:"border-border hover:border-atlas-glow/50 gap-2",children:[c.jsx("span",{className:"text-sm",children:"Latest"}),c.jsx(Xs,{className:"h-4 w-4"})]})]})}),c.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:c.jsx("div",{className:"h-full w-full rounded-3xl border border-border/60 bg-muted/10 relative overflow-hidden",children:s?c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(mo,{className:"h-32 w-32 rounded-full"})}):i.nodes.length===0?c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground gap-2",children:[c.jsx("p",{className:"text-sm",children:"No memory nodes available yet."}),c.jsx("p",{className:"text-xs",children:"Run agents to populate the knowledge graph."})]}):c.jsx(qae,{data:i})})})]}),c.jsx("aside",{className:"w-80 shrink-0 border-l border-border bg-background",children:c.jsx(Gae,{data:i})})]})}const PC=["bg-gradient-to-r from-cyan-500/40 via-cyan-400/40 to-sky-500/20 border-cyan-400/50 text-cyan-100","bg-gradient-to-r from-purple-500/40 via-purple-400/40 to-fuchsia-500/20 border-purple-400/50 text-purple-100","bg-gradient-to-r from-amber-500/40 via-amber-400/40 to-orange-500/20 border-amber-400/50 text-amber-100","bg-gradient-to-r from-emerald-500/40 via-emerald-400/40 to-teal-500/20 border-emerald-400/50 text-emerald-100","bg-gradient-to-r from-rose-500/40 via-rose-400/40 to-pink-500/20 border-rose-400/50 text-rose-100","bg-gradient-to-r from-blue-500/40 via-blue-400/40 to-indigo-500/20 border-blue-400/50 text-blue-100"],Yae=e=>PC[e%PC.length],Xae=10;function Qae(){var j,P;const{toast:e}=xf(),[n,r]=g.useState("Summarize this 5-page contract and propose a fair termination clause."),[o,s]=g.useState([]),[i,a]=g.useState([]),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,m]=g.useState(null),p=g.useRef(null),[v,y]=g.useState(!1);g.useEffect(()=>()=>{var E;(E=p.current)==null||E.close()},[]);const b=g.useMemo(()=>{for(let E=o.length-1;E>=0;E-=1){const _=o[E];if(_.to==="User")return _}return null},[o]);g.useEffect(()=>{b||y(!1)},[b]);const x=()=>{s([]),a([]),u(null),m(null),y(!1)},w=()=>{var E;(E=p.current)==null||E.close(),p.current=null,h(!1)},S=()=>{const E=n.trim();if(E.length<Xae){e({title:"Prompt too short",description:"Share a little more context so the agents can collaborate effectively."});return}try{w(),x(),h(!0);const _=`${ga}/multi-agent/sessions/stream?prompt=${encodeURIComponent(E)}`,I=new EventSource(_);p.current=I,I.addEventListener("agents",O=>{const U=JSON.parse(O.data);a(U.map((T,z)=>({...T,colour:Yae(z)})))}),I.addEventListener("message",O=>{const U=JSON.parse(O.data);s(T=>[...T,U]),U.to==="User"&&y(!0)}),I.addEventListener("memory",O=>{const U=JSON.parse(O.data);u(U)}),I.addEventListener("complete",O=>{const U=JSON.parse(O.data);m(U.sessionId),u(U.memory),h(!1),I.close(),p.current=null}),I.addEventListener("error",O=>{d&&(console.error("[multi-agent] stream error",O),e({variant:"destructive",title:"Collaboration interrupted",description:"The agent stream was interrupted. Please try again."})),I.close(),p.current=null,h(!1)})}catch(_){console.error("[multi-agent] failed to start session",_),e({variant:"destructive",title:"Failed to start collaboration",description:_ instanceof Error?_.message:"Unknown error occurred."}),h(!1)}},k=()=>{b&&y(!0)},C=i.length>0?i.length:"",N=typeof((j=l==null?void 0:l.shared)==null?void 0:j.length)=="number"&&l.shared.length>=0?l.shared.length:"";return c.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[c.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:c.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[c.jsx(C$,{className:"h-3.5 w-3.5"}),"Meta Agent Intercommunication"]}),c.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Collaboration Lab"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Spawn specialised agents, let them debate, cross-verify, and synthesise a final answer in real time."})]}),c.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-border/60 bg-background/50 px-6 py-4 text-xs md:flex",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(M$,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Agents active"}),c.jsx("span",{className:"text-foreground font-semibold",children:C})]}),c.jsx("div",{className:"h-6 w-px bg-border/80"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zE,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Shared insights"}),c.jsx("span",{className:"text-foreground font-semibold",children:N})]})]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[c.jsx(It,{className:"border-border/60 bg-card/80 backdrop-blur px-6 py-5",children:c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsx("label",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"user prompt"}),c.jsx(zn,{value:n,onChange:E=>r(E.target.value),rows:4,placeholder:"Analyse the latest customer feedback from Slack, helpdesk, and NPS to identify the top 3 issues and a plan to fix them.",className:"min-h-[120px]"})]}),c.jsxs("div",{className:"space-y-2 md:w-56",children:[c.jsx(le,{onClick:S,disabled:d,className:"w-full gap-2",children:d?c.jsxs(c.Fragment,{children:[c.jsx(On,{className:"h-4 w-4 animate-spin"}),"Collaborating"]}):c.jsxs(c.Fragment,{children:[c.jsx(cl,{className:"h-4 w-4"}),"Start collaboration"]})}),d&&c.jsxs(le,{variant:"ghost",onClick:w,className:"w-full gap-2 text-destructive",children:[c.jsx(QL,{className:"h-4 w-4"}),"Stop session"]})]})]})}),i.length>0&&c.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:i.map(E=>c.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${E.colour} backdrop-blur transition`,children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground",children:E.name}),c.jsx("p",{className:"text-xs text-white/80",children:E.role})]}),c.jsx(Wt,{variant:"secondary",className:"bg-black/40 text-white",children:E.purpose})]})},E.id))}),c.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[2fr,1fr]",children:[c.jsxs(It,{className:"border-border/60 bg-card/70 backdrop-blur",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"conversation"}),b&&c.jsxs(le,{variant:"ghost",size:"sm",className:"gap-1 text-foreground",onClick:k,children:[c.jsx(qE,{className:"h-4 w-4"}),"View Summary"]})]}),c.jsx("div",{className:"max-h-[520px] space-y-4 overflow-y-auto px-5 py-4",children:o.length===0?c.jsx("div",{className:"rounded-lg border border-dashed border-border/60 bg-muted/10 px-4 py-10 text-center text-sm text-muted-foreground",children:"Agents will appear here once the collaboration starts."}):o.map(E=>c.jsxs("div",{className:"rounded-xl border border-border/60 bg-background/60 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"font-semibold text-foreground",children:[E.from,"  ",E.to]}),c.jsx("span",{children:new Date(E.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsx("p",{className:"mt-2 whitespace-pre-line text-sm text-foreground",children:E.content}),E.reasoning&&c.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),c.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:E.reasoning})]}),E.references&&E.references.length>0&&c.jsxs("div",{className:"mt-3 rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"References"}),c.jsx("ul",{className:"mt-1 space-y-1",children:E.references.map(_=>c.jsx("li",{children:_},_))})]})]},E.id))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(It,{className:"border-border/60 bg-card/70 backdrop-blur",children:[c.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:c.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Shared memory"})}),c.jsx("div",{className:"space-y-3 px-5 py-4 text-sm text-muted-foreground",children:(P=l==null?void 0:l.shared)!=null&&P.length?l.shared.map(E=>c.jsxs("div",{className:"rounded-lg border border-border/60 bg-background/50 p-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground/80",children:new Date(E.timestamp).toLocaleString()}),c.jsx("p",{className:"mt-1 text-foreground",children:E.content}),c.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Agents: ",E.agentsInvolved.join(", ")]})]},E.id)):c.jsx("p",{children:"No shared memory recorded yet."})})]}),c.jsxs(It,{className:"border-border/60 bg-card/70 backdrop-blur",children:[c.jsx("div",{className:"border-b border-border/60 px-5 py-4",children:c.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Session metadata"})}),c.jsxs("div",{className:"space-y-2 px-5 py-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Session ID"}),c.jsx("span",{className:"text-foreground font-medium",children:f??""})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Status"}),c.jsx("span",{className:"text-foreground font-medium",children:d?"Streaming":"Idle"})]})]})]})]})]}),v&&b&&c.jsxs("div",{className:"rounded-2xl border border-border/60 bg-card/80 backdrop-blur",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 px-5 py-4",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Final summary"}),c.jsx(le,{variant:"ghost",size:"icon",onClick:()=>y(!1),"aria-label":"Close summary",children:c.jsx(ul,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"space-y-4 px-5 py-4 text-sm",children:[c.jsx("p",{className:"whitespace-pre-line text-foreground",children:b.content}),b.reasoning&&c.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/40 p-3 text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Reasoning"}),c.jsx("p",{className:"mt-1 whitespace-pre-line leading-relaxed",children:b.reasoning})]})]})]})]})})]})}function Jae(e,n){return g.useReducer((r,o)=>n[r][o]??r,e)}var b1="ScrollArea",[TR,Ice]=Fr(b1),[Zae,Po]=TR(b1),AR=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:o="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,u]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState(null),[y,b]=g.useState(null),[x,w]=g.useState(0),[S,k]=g.useState(0),[C,N]=g.useState(!1),[j,P]=g.useState(!1),E=ft(n,I=>u(I)),_=jf(s);return c.jsx(Zae,{scope:r,type:o,dir:_,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:k,children:c.jsx(Ue.div,{dir:_,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});AR.displayName=b1;var PR="ScrollAreaViewport",MR=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:o,nonce:s,...i}=e,a=Po(PR,r),l=g.useRef(null),u=ft(n,l,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});MR.displayName=PR;var Ps="ScrollAreaScrollbar",S1=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Po(Ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?c.jsx(ele,{...o,ref:n,forceMount:r}):s.type==="scroll"?c.jsx(tle,{...o,ref:n,forceMount:r}):s.type==="auto"?c.jsx(RR,{...o,ref:n,forceMount:r}):s.type==="always"?c.jsx(k1,{...o,ref:n}):null});S1.displayName=Ps;var ele=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Po(Ps,e.__scopeScrollArea),[i,a]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),a(!0)},h=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(ar,{present:r||i,children:c.jsx(RR,{"data-state":i?"visible":"hidden",...o,ref:n})})}),tle=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=Po(Ps,e.__scopeScrollArea),i=e.orientation==="horizontal",a=zg(()=>u("SCROLL_END"),100),[l,u]=Jae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),g.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const m=()=>{const p=d[h];f!==p&&(u("SCROLL"),a()),f=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,u,a]),c.jsx(ar,{present:r||l!=="hidden",children:c.jsx(k1,{"data-state":l==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:Ne(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ne(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),RR=g.forwardRef((e,n)=>{const r=Po(Ps,e.__scopeScrollArea),{forceMount:o,...s}=e,[i,a]=g.useState(!1),l=e.orientation==="horizontal",u=zg(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?d:h)}},10);return Jc(r.viewport,u),Jc(r.content,u),c.jsx(ar,{present:o||i,children:c.jsx(k1,{"data-state":i?"visible":"hidden",...s,ref:n})})}),k1=g.forwardRef((e,n)=>{const{orientation:r="vertical",...o}=e,s=Po(Ps,e.__scopeScrollArea),i=g.useRef(null),a=g.useRef(0),[l,u]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=$R(l.viewport,l.content),h={...o,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,p){return ale(m,a.current,l,p)}return r==="horizontal"?c.jsx(nle,{...h,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=MC(m,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?c.jsx(rle,{...h,ref:n,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=MC(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),nle=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...s}=e,i=Po(Ps,e.__scopeScrollArea),[a,l]=g.useState(),u=g.useRef(null),d=ft(n,u,i.onScrollbarXChange);return g.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),c.jsx(OR,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$g(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),FR(m,f)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&o({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Nm(a.paddingLeft),paddingEnd:Nm(a.paddingRight)}})}})}),rle=g.forwardRef((e,n)=>{const{sizes:r,onSizesChange:o,...s}=e,i=Po(Ps,e.__scopeScrollArea),[a,l]=g.useState(),u=g.useRef(null),d=ft(n,u,i.onScrollbarYChange);return g.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),c.jsx(OR,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$g(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),FR(m,f)&&h.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&o({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Nm(a.paddingTop),paddingEnd:Nm(a.paddingBottom)}})}})}),[ole,IR]=TR(Ps),OR=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:f,...m}=e,p=Po(Ps,r),[v,y]=g.useState(null),b=ft(n,E=>y(E)),x=g.useRef(null),w=g.useRef(""),S=p.viewport,k=o.content-o.viewport,C=Nn(h),N=Nn(u),j=zg(f,10);function P(E){if(x.current){const _=E.clientX-x.current.left,I=E.clientY-x.current.top;d({x:_,y:I})}}return g.useEffect(()=>{const E=_=>{const I=_.target;(v==null?void 0:v.contains(I))&&C(_,k)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[S,v,k,C]),g.useEffect(N,[o,N]),Jc(v,j),Jc(p.content,j),c.jsx(ole,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:Nn(i),onThumbPointerUp:Nn(a),onThumbPositionChange:N,onThumbPointerDown:Nn(l),children:c.jsx(Ue.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Ne(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(E))}),onPointerMove:Ne(e.onPointerMove,P),onPointerUp:Ne(e.onPointerUp,E=>{const _=E.target;_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),km="ScrollAreaThumb",DR=g.forwardRef((e,n)=>{const{forceMount:r,...o}=e,s=IR(km,e.__scopeScrollArea);return c.jsx(ar,{present:r||s.hasThumb,children:c.jsx(sle,{ref:n,...o})})}),sle=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:o,...s}=e,i=Po(km,r),a=IR(km,r),{onThumbPositionChange:l}=a,u=ft(n,f=>a.onThumbChange(f)),d=g.useRef(void 0),h=zg(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!d.current){const p=lle(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),c.jsx(Ue.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Ne(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,y=f.clientY-p.top;a.onThumbPointerDown({x:v,y})}),onPointerUp:Ne(e.onPointerUp,a.onThumbPointerUp)})});DR.displayName=km;var N1="ScrollAreaCorner",LR=g.forwardRef((e,n)=>{const r=Po(N1,e.__scopeScrollArea),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?c.jsx(ile,{...e,ref:n}):null});LR.displayName=N1;var ile=g.forwardRef((e,n)=>{const{__scopeScrollArea:r,...o}=e,s=Po(N1,r),[i,a]=g.useState(0),[l,u]=g.useState(0),d=!!(i&&l);return Jc(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),u(h)}),Jc(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),d?c.jsx(Ue.div,{...o,ref:n,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Nm(e){return e?parseInt(e,10):0}function $R(e,n){const r=e/n;return isNaN(r)?0:r}function $g(e){const n=$R(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*n;return Math.max(o,18)}function ale(e,n,r,o="ltr"){const s=$g(r),i=s/2,a=n||i,l=s-a,u=r.scrollbar.paddingStart+a,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=o==="ltr"?[0,h]:[h*-1,0];return zR([u,d],f)(e)}function MC(e,n,r="ltr"){const o=$g(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=n.scrollbar.size-s,a=n.content-n.viewport,l=i-o,u=r==="ltr"?[0,a]:[a*-1,0],d=sv(e,u);return zR([0,a],[0,l])(d)}function zR(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(e[1]-e[0]);return n[0]+o*(r-e[0])}}function FR(e,n){return e>0&&e<n}var lle=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},o=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=r.left!==i.left,l=r.top!==i.top;(a||l)&&n(),r=i,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function zg(e,n){const r=Nn(e),o=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),g.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,n)},[r,n])}function Jc(e,n){const r=Nn(n);Bn(()=>{let o=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(o),s.unobserve(e)}}},[e,r])}var UR=AR,cle=MR,ule=LR;const ms=g.forwardRef(({className:e,children:n,...r},o)=>c.jsxs(UR,{ref:o,className:de("relative overflow-hidden",e),...r,children:[c.jsx(cle,{className:"h-full w-full rounded-[inherit]",children:n}),c.jsx(BR,{}),c.jsx(ule,{})]}));ms.displayName=UR.displayName;const BR=g.forwardRef(({className:e,orientation:n="vertical",...r},o)=>c.jsx(S1,{ref:o,orientation:n,className:de("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c.jsx(DR,{className:"relative flex-1 rounded-full bg-border"})}));BR.displayName=S1.displayName;const HR=()=>{const e={},n=localStorage.getItem("forge_license_key");return n&&(e["x-license-key"]=n),e},dle=async()=>{const e=await fetch(`${ga}/multi-agent/tool-agents`,{headers:HR()});if(!e.ok)throw new Error(await e.text());return(await e.json()).items??[]},RC=async(e,n=200)=>{const r=await fetch(`${ga}/multi-agent/tool-agents/${e}/logs?limit=${n}`,{headers:HR()});if(!r.ok)throw new Error(await r.text());return(await r.json()).items??[]};function fle(){const[e,n]=g.useState([]),[r,o]=g.useState(null),[s,i]=g.useState(!1),[a,l]=g.useState(null),[u,d]=g.useState([]),[h,f]=g.useState(!1),[m,p]=g.useState(null),v=async()=>{i(!0),o(null);try{const w=await dle();n(w)}catch(w){const S=w instanceof Error?w.message:"Failed to load tool agents";o(S)}finally{i(!1)}};g.useEffect(()=>{v()},[]);const y=async w=>{l(w),d([]),p(null),f(!0);try{const S=await RC(w.id);d(S)}catch(S){p(S instanceof Error?S.message:"Failed to load agent logs")}finally{f(!1)}},b=async()=>{if(a){f(!0),p(null);try{const w=await RC(a.id);d(w)}catch(w){p(w instanceof Error?w.message:"Failed to load agent logs")}finally{f(!1)}}},x=()=>{l(null),d([]),p(null)};return c.jsxs("div",{className:"flex h-full flex-col bg-[#06070c]",children:[c.jsx("header",{className:"border-b border-border/60 bg-gradient-to-br from-background via-background to-background/40",children:c.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-6",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:[c.jsx(Uc,{className:"h-3.5 w-3.5"}),"Tool Agent Runtime"]}),c.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Tool Agents"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor connected tool agents, verify their status, and confirm they are registered with the runtime."})]}),c.jsxs(le,{onClick:v,disabled:s,className:"gap-2",children:[s?c.jsx(On,{className:"h-4 w-4 animate-spin"}):c.jsx(XE,{className:"h-4 w-4"}),"Refresh"]})]})}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 py-8",children:[r&&c.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:[c.jsx(ok,{className:"h-4 w-4"}),c.jsx("span",{children:r})]}),!s&&e.length===0&&!r&&c.jsx("div",{className:"rounded-lg border border-border/60 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",children:"No tool agents are currently registered. Configure and save credentials for an agent to see it here."}),s&&e.length===0&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[c.jsx(On,{className:"h-4 w-4 animate-spin"}),"Loading tool agents"]}),a?c.jsxs("div",{className:"rounded-lg border border-border/60 bg-[#050609]",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/60 bg-background/80 px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold text-foreground",children:[c.jsxs(le,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:x,children:[c.jsx(Ow,{className:"h-4 w-4"}),"Back to agents"]}),c.jsx("span",{children:`${a.name} Logs`})]}),c.jsxs(le,{variant:"secondary",size:"sm",className:"gap-2 border border-border/50 bg-background/60 text-foreground hover:bg-background",onClick:()=>void b(),disabled:h,children:[h?c.jsx(On,{className:"h-4 w-4 animate-spin"}):c.jsx(k$,{className:"h-4 w-4"}),"Refresh"]})]}),m&&c.jsxs("div",{className:"mx-6 mt-4 flex items-center gap-2 rounded border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive",children:[c.jsx(ok,{className:"h-3.5 w-3.5"}),m]}),c.jsx(ms,{className:"h-[28rem] px-6 py-4",children:c.jsx("div",{className:"flex flex-col gap-3 font-mono text-xs",children:h&&u.length===0?c.jsxs("div",{className:"flex items-center justify-center gap-2 rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:[c.jsx(On,{className:"h-4 w-4 animate-spin"}),"Loading logs"]}):u.length===0?c.jsx("div",{className:"rounded border border-border/50 bg-background/60 p-4 text-muted-foreground",children:"No recent messages for this agent."}):u.map(w=>{const S=new Date(w.timestamp),k=Number.isNaN(S.getTime())?w.timestamp:S.toLocaleTimeString(void 0,{hour12:!1}),C=Object.keys(w.metadata??{}).length?JSON.stringify(w.metadata,null,2):null;return c.jsxs("div",{className:"rounded border border-border/30 bg-black/50 px-4 py-3 leading-relaxed text-slate-200",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-wide text-slate-400",children:[c.jsx("span",{className:"text-sky-300",children:k}),c.jsx("span",{className:w.direction==="outgoing"?"text-emerald-400":"text-amber-300",children:w.direction==="outgoing"?"OUT":"IN"}),c.jsx("span",{className:"text-slate-400",children:""}),c.jsx("span",{className:"text-slate-300",children:w.counterpart}),c.jsx("span",{className:"rounded border border-slate-500/60 px-1 py-[1px] text-[10px] text-slate-200",children:w.type.toUpperCase()})]}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-slate-100",children:w.content}),C&&c.jsx("pre",{className:"mt-3 rounded border border-slate-500/30 bg-slate-900/80 p-3 text-[11px] text-slate-300",children:C})]},`${w.id}-${w.timestamp}`)})})})]}):c.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-3",children:e.map(w=>c.jsx(It,{className:"h-full border-border/60 bg-card/70 backdrop-blur",children:c.jsxs("div",{className:"space-y-4 p-5",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:w.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:w.agentType}),c.jsxs("div",{className:"text-[10px] uppercase text-muted-foreground/70",children:["#",w.id.slice(0,8)]})]}),c.jsxs(Wt,{variant:w.isTalking?"default":"secondary",className:"gap-1",children:[w.isTalking?c.jsx(Dw,{className:"h-3.5 w-3.5"}):c.jsx(Uc,{className:"h-3.5 w-3.5"}),w.isTalking?"Active":"Idle"]})]}),c.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[c.jsx("div",{className:"font-medium text-foreground",children:"Role"}),c.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:w.role})]}),w.description&&c.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[c.jsx("div",{className:"font-medium text-foreground",children:"Description"}),c.jsx("p",{className:"mt-1 whitespace-pre-wrap leading-relaxed",children:w.description})]}),c.jsxs("div",{className:"rounded-lg border border-border/50 bg-background/60 p-3 text-xs text-muted-foreground",children:[c.jsx("div",{className:"font-medium text-foreground",children:"Connections"}),w.connections.length===0?c.jsx("p",{className:"mt-1",children:"No linked agents."}):c.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-4",children:w.connections.map(S=>c.jsx("li",{children:S},S))})]}),c.jsxs(le,{variant:"outline",size:"sm",className:"w-full border-border/60 bg-background/60 text-foreground hover:bg-background",onClick:()=>void y(w),children:[c.jsx(Uw,{className:"mr-2 h-4 w-4"}),"View Logs"]})]})},w.id))})]})})]})}function hle(){var Te;const{user:e}=Ao(),n=((Te=e==null?void 0:e.user_metadata)==null?void 0:Te.org_id)??(e==null?void 0:e.id)??"",[r,o]=g.useState(null),[s,i]=g.useState(!1),[a,l]=g.useState(()=>localStorage.getItem("forge_license_key")??""),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,p]=g.useState(""),[v,y]=g.useState(""),[b,x]=g.useState(!1),[w,S]=g.useState(null),[k,C]=g.useState("general"),[N,j]=g.useState(!0),[P,E]=g.useState(!1),_=g.useMemo(()=>Un.getState(),[]),I=Un(X=>X.setBranding),[O,U]=g.useState(_.companyName||"Atlas"),[T,z]=g.useState(_.shortName||_.companyName||"Atlas"),L=g.useRef(null),[H,F]=g.useState("#00A8FF"),[R,A]=g.useState("solid"),[D,$]=g.useState(null),[M,Y]=g.useState(null),[Z,re]=g.useState(null),[Q,ce]=g.useState(null),[fe,me]=g.useState(_.logoUrl||"/icon.png"),[ke,ie]=g.useState(_.sidebarLogoUrl||_.logoUrl||"/icon.png"),[Le,Ce]=g.useState(_.faviconUrl||"/favicon.ico"),[De,he]=g.useState(_.loginLogoUrl||_.logoUrl||"/icon.png"),[je,se]=g.useState(_.showSidebarText??!0),Ve=(O||_.companyName||"Atlas").trim(),et=`${Ve} Engine`;g.useEffect(()=>{Ye.fetchBranding().then(X=>{U(X.companyName),z(X.shortName||X.companyName),me(X.logoData||_.logoUrl||"/icon.png"),ie(X.sidebarLogoData||X.logoData||_.sidebarLogoUrl||"/icon.png"),Ce(X.faviconData||_.faviconUrl||"/favicon.ico"),he(X.loginLogoData||X.logoData||_.loginLogoUrl||"/icon.png"),se(X.showSidebarText??!0),I({companyName:X.companyName,shortName:X.shortName,logoUrl:X.logoData||_.logoUrl||"/icon.png",sidebarLogoUrl:X.sidebarLogoData||X.logoData||_.sidebarLogoUrl||"/icon.png",faviconUrl:X.faviconData||_.faviconUrl||"/favicon.ico",loginLogoUrl:X.loginLogoData||X.logoData||_.loginLogoUrl||"/icon.png",showSidebarText:X.showSidebarText??!0})}).catch(X=>console.warn("[branding] load failed",X))},[]);const nt=g.useCallback(()=>{const X=(e==null?void 0:e.user_metadata)??{},ye=(e==null?void 0:e.first_name)??(X==null?void 0:X.first_name)??(X==null?void 0:X.given_name)??"",Pe=(e==null?void 0:e.last_name)??(X==null?void 0:X.last_name)??(X==null?void 0:X.family_name)??"";return{resolvedFirst:ye??"",resolvedLast:Pe??""}},[e]),ht=async()=>{if(n){i(!0);try{const X=await Ye.fetchLicenseStatus(n,a||void 0);o(X),X.license_key&&localStorage.setItem("forge_license_key",X.license_key)}catch(X){console.warn("[settings] license status",X),o(null)}finally{i(!1)}}};g.useEffect(()=>{n&&Ye.fetchUsageSummary(n).then(X=>{f(Number((X==null?void 0:X.total_tokens)??0))}).catch(X=>{console.warn("[settings] usage summary",X),f(null)})},[n]),g.useEffect(()=>{ht()},[n]),g.useEffect(()=>{const{resolvedFirst:X,resolvedLast:ye}=nt();p(X),y(ye)},[nt]);const Tt=async()=>{if(e){x(!0),S(null);try{const X=m.trim(),ye=v.trim(),Pe=`${X} ${ye}`.trim(),{error:at}=await vs.auth.updateUser({data:{first_name:X||void 0,last_name:ye||void 0,full_name:Pe||void 0}});if(at)throw at;kt.success("Profile updated")}catch(X){const ye=X instanceof Error?X.message:"Failed to update profile";S(ye),kt.error(ye)}finally{x(!1)}}},Re=X=>new Promise(ye=>{if(!X)return ye(null);const Pe=new FileReader;Pe.onload=()=>ye(typeof Pe.result=="string"?Pe.result:null),Pe.onerror=()=>ye(null),Pe.readAsDataURL(X)}),An=async()=>{const X=O.trim()||"Atlas",ye=T.trim()||X,[Pe,at,ct,Je]=await Promise.all([Re(D),Re(M),Re(Z),Re(Q)]),Et=Pe||fe||_.logoUrl||"/icon.png",Ft=at||ke||Et,Jn=ct||Le||_.faviconUrl||"/favicon.ico",Kt=Je||De||Et;try{const Jt=await Ye.saveBranding({companyName:X,shortName:ye,logoData:Et,sidebarLogoData:Ft,faviconData:Jn,loginLogoData:Kt,showSidebarText:je});I({companyName:Jt.companyName,shortName:Jt.shortName,logoUrl:Jt.logoData||Et,sidebarLogoUrl:Jt.sidebarLogoData||Ft,faviconUrl:Jt.faviconData||Jn,loginLogoUrl:Jt.loginLogoData||Kt,showSidebarText:Jt.showSidebarText??je}),kt.success("Branding saved")}catch(Jt){const Zt=Jt instanceof Error?Jt.message:"Failed to save branding";kt.error(Zt)}},te=async()=>{const X=e==null?void 0:e.email;if(!X){kt.error("No email on file for password reset.");return}const ye=`${window.location.origin}/auth/callback`,{error:Pe}=await vs.auth.resetPasswordForEmail(X,{redirectTo:ye});if(Pe){kt.error(Pe.message);return}kt.success("Password reset email sent.")},ge=X=>X?`${X.name}  ${(X.size/1024).toFixed(1)} KB`:"No file selected",Ae=(X,ye,Pe,at)=>{ye(X);const ct=X?URL.createObjectURL(X):at;Pe(Je=>(Je&&Je.startsWith("blob:")&&URL.revokeObjectURL(Je),ct))},ze=X=>Ae(X,$,me,_.logoUrl||"/icon.png"),Qe=X=>Ae(X,Y,ie,fe||_.sidebarLogoUrl||_.logoUrl||"/icon.png"),gt=X=>Ae(X,re,Ce,_.faviconUrl||"/favicon.ico"),_t=X=>Ae(X,ce,he,fe||_.loginLogoUrl||_.logoUrl||"/icon.png");g.useEffect(()=>()=>{[fe,ke,Le,De].forEach(X=>{X&&X.startsWith("blob:")&&URL.revokeObjectURL(X)})},[fe,ke,Le,De]);const tt=g.useMemo(()=>(e==null?void 0:e.email)??"Not set",[e]),Gt="bg-card border border-border rounded-2xl shadow-sm",xt=()=>{const X=[{id:"general",label:"General"},{id:"branding",label:"Branding"},{id:"license",label:"License"}];return c.jsx("div",{className:"flex items-center gap-2 rounded-2xl bg-white/5 p-1 border border-white/10 shadow-inner",children:X.map(ye=>{const Pe=k===ye.id;return c.jsx("button",{onClick:()=>C(ye.id),className:de("px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ease-out",Pe?"bg-[#0b1a26]/90 text-white shadow-[0_10px_30px_rgba(0,168,255,0.25)] border border-[#00A8FF]/50":"text-white/70 hover:text-white hover:bg-white/5"),children:ye.label},ye.id)})})},st=({title:X,description:ye,children:Pe})=>c.jsxs(It,{className:Gt,children:[c.jsxs(wo,{className:"pb-3",children:[c.jsxs(bo,{className:"flex items-center justify-between text-lg text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-xs text-white/50 uppercase tracking-[0.08em]",children:Ve})]}),ye?c.jsx("p",{className:"text-sm text-white/60",children:ye}):null]}),c.jsx(rr,{className:"space-y-4",children:Pe})]}),yt=({label:X,helper:ye,children:Pe})=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm text-white/80",children:X}),ye?c.jsx("span",{className:"text-xs text-white/50",children:ye}):null]}),Pe]}),$e=({label:X,helper:ye,file:Pe,onChange:at})=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-white/80",children:X}),ye?c.jsx("span",{className:"text-xs text-white/50",children:ye}):null]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 h-20 rounded-xl border border-dashed border-white/15 bg-white/5 flex items-center justify-center text-xs text-white/60",children:ge(Pe)}),c.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-white/10 bg-white/10 text-sm text-white cursor-pointer hover:border-white/30 transition",children:["Upload",c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ct=>{var Je;return at(((Je=ct.target.files)==null?void 0:Je[0])??null)}})]})]})]}),lo=async()=>{if(!(!a||!n)){i(!0);try{await Ye.applyLicense(n,a.trim()),await ht(),kt.success("License applied"),d(!1),localStorage.setItem("forge_license_key",a.trim())}catch(X){console.error(X),kt.error("Failed to apply license")}finally{i(!1)}}},Qn=async()=>{const X=(r==null?void 0:r.license_key)||a;if(X){i(!0);try{await Ye.validateLicense(X),await ht(),kt.success("License validated")}catch(ye){console.error(ye),kt.error("Validation failed")}finally{i(!1)}}},Nr=async()=>{const X=(r==null?void 0:r.license_key)||a;if(X){i(!0);try{await Ye.refreshLicense(X),await ht(),kt.success("License refreshed")}catch(ye){console.error(ye),kt.error("Refresh failed")}finally{i(!1)}}},Cr=r!=null&&r.valid?"Active":r?"Invalid":"Not set",Bt=r!=null&&r.valid?"default":r?"destructive":"secondary",vt=Number((r==null?void 0:r.seats_used)??0),Ke=Number((r==null?void 0:r.max_seats)??0),pt=Number((r==null?void 0:r.tokens_used)??0),it=h??pt,Ht=Number((r==null?void 0:r.max_tokens)??0),q=Ke?Math.max(Ke-vt,0):0,xe=Ht?Math.max(Ht-it,0):0,Ee=Ht?Math.min(it/Ht,1):0;return c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] p-8 space-y-6 text-white animate-fade-in",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-semibold mb-1",children:"Settings"}),c.jsx("p",{className:"text-sm text-white/70",children:"Manage your profile, company branding, and license settings."})]}),c.jsx("div",{className:"hidden md:flex items-center gap-3",children:c.jsxs("div",{className:"h-10 px-4 rounded-full bg-white/5 border border-white/10 flex items-center text-xs text-white/70",children:[et,"  Secure Workspace"]})})]}),c.jsx(xt,{}),c.jsxs("div",{className:"space-y-4",children:[k==="general"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs(st,{title:"Profile",description:"Control your identity and personal details.",children:[c.jsx(yt,{label:"First name",children:c.jsx(Nt,{value:m,onChange:X=>p(X.target.value),className:"bg-white/5 border-white/10 text-white"})}),c.jsx(yt,{label:"Last name",children:c.jsx(Nt,{value:v,onChange:X=>y(X.target.value),className:"bg-white/5 border-white/10 text-white"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{onClick:Tt,disabled:b,children:b?"Saving":"Save profile"}),c.jsx(le,{variant:"ghost",onClick:()=>{const{resolvedFirst:X,resolvedLast:ye}=nt();p(X),y(ye)},children:"Reset"})]}),w?c.jsx("p",{className:"text-sm text-destructive",children:w}):null]}),c.jsxs(st,{title:"Account & Security",description:"Account email, password, and notification preferences.",children:[c.jsx(yt,{label:"Email",children:c.jsx(Nt,{value:tt,readOnly:!0,className:"bg-white/5 border-white/10 text-white"})}),c.jsx(yt,{label:"Password",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nt,{value:"",readOnly:!0,className:"bg-white/5 border-white/10 text-white/60"}),c.jsx(le,{variant:"outline",onClick:te,children:"Send reset"})]})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsx(yt,{label:"Notifications",children:c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 px-3 py-2",children:[c.jsx("span",{className:"text-sm text-white/80",children:"Real-time alerts"}),c.jsx(ci,{checked:N,onCheckedChange:X=>j(X)})]})}),c.jsx(yt,{label:"Digest",children:c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 px-3 py-2",children:[c.jsx("span",{className:"text-sm text-white/80",children:"Daily summary"}),c.jsx(ci,{checked:P,onCheckedChange:X=>E(X)})]})})]})]})]}),k==="branding"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(st,{title:"Company Identity",description:`Set how your organization shows up across ${et}.`,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(yt,{label:"Company Name",children:c.jsx(Nt,{ref:L,value:O,onChange:X=>{var at;const ye=X.target.value,Pe=((at=L.current)==null?void 0:at.selectionStart)??ye.length;U(ye),requestAnimationFrame(()=>{const ct=L.current;if(ct){ct.focus();try{const Je=Math.min(ye.length,Pe+(ye.length-O.length));ct.setSelectionRange(Je,Je)}catch{}}})},className:"bg-white/5 border-white/10 text-white",placeholder:"Atlas"})}),c.jsx(yt,{label:"Short Name",helper:"Used in emails and alerts",children:c.jsx(Nt,{value:T,onChange:X=>{const ye=X.target.value;z(ye)},className:"bg-white/5 border-white/10 text-white",placeholder:"Atlas"})})]})}),c.jsx(st,{title:"Logo & Icon",description:"Upload brand assets for app chrome and navigation.",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx($e,{label:"Upload Logo",helper:"SVG preferred",file:D,onChange:ze}),c.jsx($e,{label:"Upload Sidebar Logo",helper:"Displayed in navigation",file:M,onChange:Qe}),c.jsx($e,{label:"Upload Favicon",helper:"ICO or PNG",file:Z,onChange:gt}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-sm text-white/80",children:"Preview"}),c.jsx("div",{className:"h-20 rounded-xl border border-white/15 bg-white/5 flex items-center justify-center text-xs text-white/60",children:fe?c.jsx("img",{src:fe,alt:`${Ve} logo preview`,className:"h-full w-full object-contain p-2"}):ge(D)})]}),c.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[c.jsx("input",{id:"toggle-sidebar-text",type:"checkbox",className:"h-4 w-4 rounded border-white/20 bg-transparent accent-[#00A8FF]",checked:je,onChange:X=>se(X.target.checked)}),c.jsx("label",{htmlFor:"toggle-sidebar-text",className:"text-sm text-white/80",children:"Show sidebar brand text"})]})]})}),c.jsx(st,{title:"Login Page Branding",description:"Tune the first impression for users signing in.",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx($e,{label:"Login Page Logo",file:Q,onChange:_t}),c.jsx(yt,{label:"Login Accent Color",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nt,{type:"color",value:H,onChange:X=>F(X.target.value),className:"h-10 w-16 p-1 bg-white/5 border-white/10"}),c.jsx(Nt,{value:H,onChange:X=>F(X.target.value),className:"bg-white/5 border-white/10 text-white"})]})}),c.jsx(yt,{label:"Background Style",children:c.jsxs(ya,{value:R,onValueChange:X=>A(X),children:[c.jsx(ai,{className:"bg-white/5 border-white/10 text-white",children:c.jsx(va,{})}),c.jsxs(li,{className:"bg-[#0f131c] border-white/10 text-white",children:[c.jsx(sn,{value:"solid",children:"Solid"}),c.jsx(sn,{value:"gradient",children:"Gradient"}),c.jsx(sn,{value:"image",children:"Image Upload"})]})]})})]})}),c.jsx("div",{className:"flex justify-end",children:c.jsx(le,{onClick:An,children:"Save branding"})})]}),k==="license"&&c.jsxs(st,{title:"License & Entitlements",description:"Enterprise license controls and usage visibility.",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Wt,{variant:Bt,className:"text-xs",children:Cr}),c.jsx("span",{className:"text-xs text-white/60",children:r!=null&&r.expires_at?`Expires ${new Date(r.expires_at).toLocaleString()}`:"No expiry loaded"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm text-white/70",children:"License key"}),c.jsx(Nt,{value:(r==null?void 0:r.license_key)??"",readOnly:!0,placeholder:"Not set",className:"bg-white/5 border-white/10 text-white"}),c.jsx("p",{className:"text-xs text-white/50",children:"License keys are read-only once applied."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm text-white/70",children:"Customer"}),c.jsx(Nt,{value:(r==null?void 0:r.customer_name)??"",readOnly:!0,placeholder:"Unknown",className:"bg-white/5 border-white/10 text-white"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm text-white/70",children:"Expiry"}),c.jsx("p",{className:"text-lg font-semibold",children:r!=null&&r.expires_at?new Date(r.expires_at).toLocaleString():""})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm text-white/70",children:"Seats remaining"}),c.jsx("p",{className:"text-lg font-semibold",children:r?`${q} / ${Ke||0}`:""})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm text-white/70",children:"Tokens"}),c.jsx("p",{className:"text-lg font-semibold",children:r?`${it.toLocaleString()} / ${Ht.toLocaleString()}`:""}),c.jsxs("p",{className:"text-xs text-white/60",children:["Remaining: ",xe.toLocaleString()," (",Math.round(Ee*100),"% used)"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[c.jsxs(ui,{open:u,onOpenChange:d,children:[c.jsx(yX,{asChild:!0,children:c.jsx(le,{variant:"secondary",children:"Apply New License"})}),c.jsxs(Ns,{className:"bg-[#0f131c] border-white/10 text-white",children:[c.jsxs(di,{children:[c.jsx(fi,{children:"Apply license"}),c.jsx(_g,{className:"text-white/70",children:"Paste the new license key to replace the current one."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm text-white/70",children:"New license key"}),c.jsx(Nt,{value:a,onChange:X=>l(X.target.value),placeholder:"customerId:expires:signature",className:"bg-white/5 border-white/10 text-white"})]}),c.jsxs(Vb,{className:"gap-2",children:[c.jsx(wX,{asChild:!0,children:c.jsx(le,{variant:"ghost",children:"Cancel"})}),c.jsx(le,{onClick:lo,disabled:s||!a,children:"Apply"})]})]})]}),c.jsx(le,{variant:"outline",onClick:Qn,disabled:s||!(r!=null&&r.license_key),children:"Validate License"}),c.jsx(le,{variant:"secondary",onClick:Nr,disabled:s||!(r!=null&&r.license_key),children:"Refresh License"}),c.jsx(le,{variant:"ghost",onClick:ht,disabled:s,children:"Reload Status"})]}),(r==null?void 0:r.reason)&&!r.valid&&c.jsxs("div",{className:"text-sm text-destructive mt-2",children:["Reason: ",r.reason]})]})]})]})}const ple=[{id:"okta-saml",title:"Okta SAML SSO",description:"Enable secure SAML 2.0 authentication for enterprise customers through Okta.",icon:j$,isNew:!0,actionText:"Configure SAML"},{id:"atlas-auth",title:"Atlas Account Login",description:"Standard Forge login using Atlas OS identity provider.",icon:KE,actionText:"Manage"},{id:"slack",title:"Slack Workspace",description:"Integrate with Slack to send automated messages, notifications, and agent logs.",icon:_$,actionText:"Connect"},{id:"github",title:"GitHub Repos",description:"Allow Forge agents to read repos, create PRs, and manage issues.",icon:a$,actionText:"Connect"},{id:"jira",title:"Jira Cloud",description:"Sync tickets, create tasks, and enrich Jira workflows inside Forge.",icon:i$,actionText:"Connect"},{id:"confluence",title:"Confluence",description:"Allow Atlas Engine to index documentation and use it as reasoning context.",icon:GL,actionText:"Connect"},{id:"notion",title:"Notion",description:"Sync pages and databases for enriched agent context.",icon:$E,comingSoon:!0,actionText:"Coming Soon"},{id:"gdrive",title:"Google Drive",description:"Import PDFs, DOCs, sheets  and allow agents to read & generate updates.",icon:ZL,actionText:"Connect"},{id:"custom-ai",title:"Custom API Connector",description:"Connect any external API to your Agents and Workflows using the custom connector.",icon:LE,actionText:"Configure"},{id:"automations",title:"Workflow Engine",description:"Create workflows, triggers, and sync flows across all integrations.",icon:ZE,actionText:"Open"}];function mle({open:e,onOpenChange:n,orgId:r}){const[o,s]=g.useState({idp_metadata_url:"",idp_certificate:"",idp_sso_url:"",sp_entity_id:"",sp_acs_url:"",sp_metadata_url:"",enforce_sso:!1,domainsText:""}),[i,a]=g.useState(!1),[l,u]=g.useState(!1),d=o.sp_metadata_url||(r?`${hr}/.well-known/saml/metadata/${r}`:""),h=o.sp_acs_url||`${ga}/auth/saml/acs`,f=o.sp_entity_id||"atlas-forge-sp",m=g.useCallback(async()=>{if(!(!e||!r)){a(!0);try{const b=await Ye.fetchSamlConfig(r);s({idp_metadata_url:b.idp_metadata_url??"",idp_certificate:b.idp_certificate??"",idp_sso_url:b.idp_sso_url??"",sp_entity_id:b.sp_entity_id??f,sp_acs_url:b.sp_acs_url??h,sp_metadata_url:b.sp_metadata_url??d,enforce_sso:b.enforce_sso??!1,domainsText:(b.domains??[]).join(", ")})}catch(b){console.warn("[saml] load config failed",b)}finally{a(!1)}}},[e,r,f,h,d]);g.useEffect(()=>{m()},[m]);const p=g.useCallback(b=>{b&&(navigator.clipboard.writeText(b),kt.success("Copied to clipboard"))},[]),v=async()=>{if(r){u(!0);try{const b=o.domainsText.split(",").map(k=>k.trim().toLowerCase()).filter(Boolean),{domainsText:x,...w}=o,S=await Ye.saveSamlConfig(r,{...w,domains:b});s(k=>({...k,...S,sp_entity_id:S.sp_entity_id??k.sp_entity_id,sp_acs_url:S.sp_acs_url??k.sp_acs_url,sp_metadata_url:S.sp_metadata_url??k.sp_metadata_url,domainsText:b.join(", ")})),kt.success("SAML settings saved")}catch(b){console.error(b),kt.error("Failed to save SAML settings")}finally{u(!1)}}},y=async()=>{if(r){u(!0);try{const{redirectUrl:b}=await Ye.startSamlLogin({org_id:r,relayState:window.location.origin});window.location.href=b}catch(b){console.error(b),kt.error("Unable to start SSO test")}finally{u(!1)}}};return c.jsx(ui,{open:e,onOpenChange:n,children:c.jsxs(Ns,{className:"max-w-5xl w-[95vw] rounded-3xl p-8",children:[c.jsxs(di,{className:"space-y-2",children:[c.jsx(fi,{className:"text-2xl",children:"Configure SAML SSO"}),c.jsx(_g,{children:"Provide your IdP metadata URL and share the Service Provider details with your identity team."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"IdP Metadata URL"}),c.jsx(Nt,{placeholder:"https://your-idp/.well-known/saml.xml",value:o.idp_metadata_url,onChange:b=>s(x=>({...x,idp_metadata_url:b.target.value})),disabled:l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"We will fetch the SSO URL and certificate from this XML."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"IdP SSO URL (Entry Point)"}),c.jsx(Nt,{placeholder:"https://your-idp/idp/profile/SAML2/Redirect/SSO",value:o.idp_sso_url,onChange:b=>s(x=>({...x,idp_sso_url:b.target.value})),disabled:l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Direct login URL from your IdP. Required if metadata fetch is blocked."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"Allowed email domains"}),c.jsx(Nt,{placeholder:"company.com, subsidiary.io",value:o.domainsText,onChange:b=>s(x=>({...x,domainsText:b.target.value})),disabled:l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Used to map login emails to this organization automatically."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"IdP Certificate"}),c.jsx(zn,{rows:4,placeholder:"-----BEGIN CERTIFICATE-----",value:o.idp_certificate,onChange:b=>s(x=>({...x,idp_certificate:b.target.value})),disabled:l})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/70 px-4 py-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Enforce SSO"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Disable password or magic-link login for this org."})]}),c.jsx(ci,{checked:o.enforce_sso,onCheckedChange:b=>s(x=>({...x,enforce_sso:b})),disabled:l})]})]}),c.jsxs("div",{className:"space-y-4 rounded-2xl border border-border/70 bg-muted/30 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Service Provider Details"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy these into Okta, Azure AD, or Ping."})]}),c.jsx(le,{variant:"secondary",size:"sm",asChild:!0,children:c.jsxs("a",{href:d,download:!0,children:[c.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Download XML"]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(St,{children:"SP Entity ID"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nt,{value:f,readOnly:!0,className:"font-mono"}),c.jsx(le,{variant:"outline",size:"icon",onClick:()=>p(f),children:c.jsx(Za,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(St,{children:"ACS URL"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nt,{value:h,readOnly:!0,className:"font-mono"}),c.jsx(le,{variant:"outline",size:"icon",onClick:()=>p(h),children:c.jsx(Za,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(St,{children:"SP Metadata URL"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nt,{value:d,readOnly:!0,className:"font-mono"}),c.jsx(le,{variant:"outline",size:"icon",onClick:()=>p(d),children:c.jsx(Za,{className:"h-4 w-4"})})]})]})]}),c.jsx(If,{}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx(le,{onClick:v,disabled:l||i||!r,children:l?"Saving":"Save settings"}),c.jsx(le,{variant:"outline",onClick:y,disabled:l||!r,children:"Test SSO"}),c.jsx(le,{variant:"ghost",onClick:m,disabled:i,children:"Reload"})]})]})]})]})})}function gle(){var b;const{user:e}=Ao(),n=((b=e==null?void 0:e.user_metadata)==null?void 0:b.org_id)??(e==null?void 0:e.id)??null,r=(e==null?void 0:e.id)??null,o=Un(x=>{var w,S;return((w=x.shortName)==null?void 0:w.trim())||((S=x.companyName)==null?void 0:S.trim())||"Atlas"}),s=Un(x=>{var w;return`${((w=x.companyName)==null?void 0:w.trim())||"Atlas"} Engine`}),[i,a]=g.useState(null),[l,u]=g.useState("unknown"),[d,h]=g.useState("unknown"),[f,m]=g.useState(!1),[p,v]=g.useState(!1);g.useEffect(()=>{(async()=>{m(!0);try{const w=await Ye.fetchSlackIntegrationStatus(n??void 0);u(w.status??"inactive");const S=await Ye.fetchJiraIntegrationStatus(n??void 0,r??void 0);h(S.status??"inactive")}catch(w){console.warn("[integrations] slack status lookup failed",w),u("inactive"),h("inactive")}finally{m(!1)}})()},[r,n]);const y=async x=>{if(x.comingSoon){kt.info("This integration is coming soon!");return}const w=typeof window<"u"?localStorage.getItem("forge_license_key"):null,S=E=>{if(!w)return E;const _=E.includes("?");return`${E}${_?"&":"?"}license_key=${encodeURIComponent(w)}`},k=x.id==="slack",C=x.id==="jira",N=k&&l==="active",j=C&&d==="active",P=N||j?"disconnect":"clicked";a(x.id);try{if(await vs.from("integration_logs").insert({profile_id:e==null?void 0:e.id,integration:x.id,action:P}),k&&N)await Ye.disconnectSlackIntegration(n??void 0),u("inactive"),kt.success("Slack disconnected");else if(C&&j)await Ye.disconnectJiraIntegration(n??void 0,r??void 0),h("inactive"),kt.success("Jira disconnected");else if(x.id==="okta-saml")v(!0);else if(x.id==="slack"){const E=n?`?org_id=${encodeURIComponent(n)}`:"";window.location.href=S(`${hr}/connectors/slack/api/install${E}`)}else if(x.id==="jira"){const E=new URLSearchParams;n&&E.set("org_id",n),r&&E.set("account_id",r);const _=E.toString();window.location.href=S(`${hr}/connectors/jira/api/install${_?`?${_}`:""}`)}else x.id==="github"?window.location.href="/oauth/github":kt.success(`${x.title} opened`)}catch(E){console.error(E),kt.error("Something went wrong")}finally{a(null)}};return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Integrations"}),c.jsxs("p",{className:"text-muted-foreground mt-1",children:["Connect external apps and identity providers to ",s]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ple.map(x=>{const w=x.icon,S=i===x.id,k=x.id==="slack",C=x.id==="jira",N=k&&l==="active",j=C&&d==="active",P=x.id==="atlas-auth"?`${o} Account Login`:x.title,E=x.id==="confluence"?`Allow ${s} to index documentation and use it as reasoning context.`:x.id==="atlas-auth"?`Standard login using the ${o} identity provider.`:x.description;return c.jsxs(It,{className:"hover:shadow-md transition-shadow",children:[c.jsx(wo,{className:"pb-3",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(w,{className:"w-5 h-5 text-primary"})}),c.jsxs(bo,{className:"text-lg font-semibold flex items-center gap-2",children:[P,x.isNew&&c.jsx(Wt,{variant:"secondary",className:"bg-green-100 text-green-700 text-xs",children:"NEW"}),x.comingSoon&&c.jsx(Wt,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 text-xs",children:"SOON"}),(k||C)&&c.jsx(Wt,{variant:k?N?"default":"outline":j?"default":"outline",className:`text-xs ${j||N?"bg-blue-100 text-blue-700":""}`,children:(k?N:j)?"Connected":f?"Checking...":"Not connected"})]})]})})}),c.jsxs(rr,{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:E}),c.jsx(le,{variant:x.comingSoon?"secondary":"outline",disabled:S||x.comingSoon||f,className:"w-full",onClick:()=>y(x),children:S?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Loading..."]}):N||j?"Disconnect":x.actionText})]})]},x.id)})}),c.jsx(mle,{open:p,onOpenChange:v,orgId:n})]})}function C1({status:e}){const n={active:"bg-emerald-500/10 text-emerald-400 border-emerald-500/30",waiting:"bg-amber-500/10 text-amber-400 border-amber-500/30",disconnected:"bg-red-500/10 text-red-400 border-red-500/30"},r={active:"Active",waiting:"Waiting",disconnected:"Disconnected"};return c.jsxs("span",{className:de("inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium border",n[e]),children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-80"}),r[e]]})}const VR=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:de("w-full caption-bottom text-sm",e),...n})}));VR.displayName="Table";const WR=g.forwardRef(({className:e,...n},r)=>c.jsx("thead",{ref:r,className:de("[&_tr]:border-b",e),...n}));WR.displayName="TableHeader";const qR=g.forwardRef(({className:e,...n},r)=>c.jsx("tbody",{ref:r,className:de("[&_tr:last-child]:border-0",e),...n}));qR.displayName="TableBody";const xle=g.forwardRef(({className:e,...n},r)=>c.jsx("tfoot",{ref:r,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));xle.displayName="TableFooter";const fp=g.forwardRef(({className:e,...n},r)=>c.jsx("tr",{ref:r,className:de("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...n}));fp.displayName="TableRow";const Ra=g.forwardRef(({className:e,...n},r)=>c.jsx("th",{ref:r,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));Ra.displayName="TableHead";const Ai=g.forwardRef(({className:e,...n},r)=>c.jsx("td",{ref:r,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));Ai.displayName="TableCell";const yle=g.forwardRef(({className:e,...n},r)=>c.jsx("caption",{ref:r,className:de("mt-4 text-sm text-muted-foreground",e),...n}));yle.displayName="TableCaption";function vle({streams:e,onViewStream:n,onDeleteStream:r}){const o=s=>{const i=`curl -X POST ${s.streamUrl} -H "Authorization: Bearer ${s.token}" --data-binary @/path/to/logfile.log`;navigator.clipboard.writeText(i),kt.success("Command copied to clipboard")};return c.jsx("div",{className:"rounded-xl border border-border/50 bg-card/30 overflow-hidden",children:c.jsxs(VR,{children:[c.jsx(WR,{children:c.jsxs(fp,{className:"border-border/50 hover:bg-transparent",children:[c.jsx(Ra,{className:"text-muted-foreground font-medium",children:"Stream Name"}),c.jsx(Ra,{className:"text-muted-foreground font-medium",children:"Status"}),c.jsx(Ra,{className:"text-muted-foreground font-medium",children:"Linked Ticket"}),c.jsx(Ra,{className:"text-muted-foreground font-medium",children:"Created By"}),c.jsx(Ra,{className:"text-muted-foreground font-medium",children:"Last Activity"}),c.jsx(Ra,{className:"text-muted-foreground font-medium text-right",children:"Actions"})]})}),c.jsx(qR,{children:e.length===0?c.jsx(fp,{children:c.jsx(Ai,{colSpan:6,className:"h-32 text-center",children:c.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-muted/20 flex items-center justify-center mb-3",children:c.jsx(rk,{className:"w-6 h-6 opacity-50"})}),c.jsx("p",{className:"text-sm",children:"No log streams yet"}),c.jsx("p",{className:"text-xs opacity-60 mt-1",children:"Create your first stream to get started"})]})})}):e.map(s=>c.jsxs(fp,{className:"border-border/50 cursor-pointer hover:bg-muted/20 transition-colors",onClick:()=>n(s),children:[c.jsx(Ai,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-mono text-violet-400",children:s.name.slice(0,2).toUpperCase()})}),c.jsx("span",{className:"font-medium",children:s.name})]})}),c.jsx(Ai,{children:c.jsx(C1,{status:s.status})}),c.jsx(Ai,{children:s.ticketKey?c.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[c.jsx("span",{className:"font-mono text-muted-foreground",children:s.ticketKey}),c.jsx(Lw,{className:"w-3 h-3 text-muted-foreground/50"})]}):c.jsx("span",{className:"text-muted-foreground/50 text-sm",children:""})}),c.jsx(Ai,{className:"text-sm text-muted-foreground",children:s.createdBy}),c.jsx(Ai,{className:"text-sm text-muted-foreground",children:gA(new Date(s.lastActivity),{addSuffix:!0})}),c.jsx(Ai,{className:"text-right",children:c.jsxs(TP,{children:[c.jsx(AP,{asChild:!0,onClick:i=>i.stopPropagation(),children:c.jsx(le,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:c.jsx(WE,{className:"w-4 h-4"})})}),c.jsxs(xb,{align:"end",className:"w-48",children:[c.jsxs(xc,{onClick:i=>{i.stopPropagation(),n(s)},children:[c.jsx(rk,{className:"w-4 h-4 mr-2"}),"View Stream"]}),c.jsxs(xc,{onClick:i=>{i.stopPropagation(),o(s)},children:[c.jsx(Za,{className:"w-4 h-4 mr-2"}),"Copy Command"]}),c.jsxs(xc,{className:"text-red-400 focus:text-red-400",onClick:i=>{i.stopPropagation(),r(s.id)},children:[c.jsx(Sf,{className:"w-4 h-4 mr-2"}),"Delete Stream"]})]})]})})]},s.id))})]})})}function GR({streamUrl:e,token:n,className:r}){const[o,s]=g.useState(null),i=`curl -X POST ${e} \\
  -H "Authorization: Bearer ${n}" \\
  --data-binary @/path/to/logfile.log`,a=async(u,d)=>{await navigator.clipboard.writeText(u),s(d),kt.success(`${d} copied to clipboard`),setTimeout(()=>s(null),2e3)},l=({text:u,field:d})=>c.jsx(le,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>a(u,d),children:o===d?c.jsxs(c.Fragment,{children:[c.jsx(qm,{className:"w-3.5 h-3.5 mr-1 text-emerald-400"}),"Copied"]}):c.jsxs(c.Fragment,{children:[c.jsx(Za,{className:"w-3.5 h-3.5 mr-1"}),"Copy"]})});return c.jsxs("div",{className:de("space-y-4",r),children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Stream URL"}),c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[c.jsx("code",{className:"flex-1 text-sm font-mono text-foreground/80 break-all whitespace-pre-wrap",children:e}),c.jsx(l,{text:e,field:"URL"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"One-Time Token"}),c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[c.jsx("code",{className:"flex-1 text-sm font-mono text-foreground/80 break-all whitespace-pre-wrap",children:n}),c.jsx(l,{text:n,field:"Token"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide flex items-center gap-2",children:[c.jsx(Uw,{className:"w-3.5 h-3.5"}),"CLI Command"]}),c.jsxs("div",{className:"relative rounded-lg bg-[#0d0d12] border border-border/50 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-card/30 border-b border-border/50",children:[c.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"bash"}),c.jsx(l,{text:i.replace(/\\\n\s*/g," "),field:"Command"})]}),c.jsx("pre",{className:"p-4 overflow-x-auto",children:c.jsx("code",{className:"text-sm font-mono text-emerald-400 whitespace-pre-wrap break-all",children:i})})]})]})]})}const wle=[{id:"1",key:"SUP-1",title:"Atlas Issue URGENT",description:"Not able to process payments. need help ASAP!",priority:"P1",status:"open",reporter:"Zaid Mallik",createdAt:"2024-12-03",source:"Portal"},{id:"2",key:"SUP-2",title:"Login page not loading",description:"Users report blank screen on login attempt.",priority:"P1",status:"open",reporter:"Sarah Chen",createdAt:"2024-12-02",source:"Email"},{id:"3",key:"SUP-3",title:"Dashboard performance slow",description:"Dashboard takes 10+ seconds to load.",priority:"P2",status:"in-progress",reporter:"Mike Johnson",createdAt:"2024-12-01",source:"Portal"},{id:"4",key:"SUP-4",title:"Export feature broken",description:"CSV export returns empty file.",priority:"P2",status:"open",reporter:"Emma Wilson",createdAt:"2024-11-30",source:"Slack"},{id:"5",key:"SUP-5",title:"Update documentation",description:"API docs need updating for v2.",priority:"P3",status:"open",reporter:"Alex Brown",createdAt:"2024-11-29",source:"Portal"},{id:"6",key:"SUP-6",title:"Minor UI alignment issue",description:"Button spacing off on mobile.",priority:"P4",status:"closed",reporter:"Lisa Park",createdAt:"2024-11-28",source:"Email"}],ble=({open:e,onOpenChange:n,onCreateStream:r})=>{const[o,s]=g.useState(""),[i,a]=g.useState(""),[l,u]=g.useState(!1),[d,h]=g.useState(!1),[f,m]=g.useState("custom"),[p,v]=g.useState(""),[y,b]=g.useState(""),x=p||(o?`https://atlas.exhaust.io/stream/${o.toLowerCase().replace(/\s+/g,"-")}`:""),w=y||`exh_live_${Math.random().toString(36).substring(2,22)}`,S=async()=>{const N=o.trim();if(N){u(!0);try{const j=await r(N,i||null,f);j&&(v(j.ingest_url||j.lss_ingest_url||""),b(j.lss_secret||"")),h(!0)}finally{u(!1)}}},k=()=>{n(!1),setTimeout(()=>{s(""),a(""),h(!1),v(""),b(""),m("custom")},200)},C=()=>{k()};return c.jsx(ui,{open:e,onOpenChange:k,children:c.jsxs(Ns,{className:"sm:max-w-[600px] bg-card border-border/50",children:[c.jsx(di,{children:c.jsx(fi,{className:"text-xl font-semibold",children:d?"Stream Created":"Create New Log Stream"})}),c.jsx("div",{className:"space-y-6 py-4",children:d?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/20 flex items-center justify-center",children:c.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:c.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:o}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(C1,{status:"waiting"}),i&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Linked to ",i]})]})]})]}),f==="zscaler_lss"?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20",children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"LSS Ingest URL"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("code",{className:"flex-1 text-sm text-foreground/80 break-all whitespace-normal",children:p}),c.jsx(le,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(p),children:"Copy URL"})]})]}),c.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/20",children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Secret Token"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("code",{className:"flex-1 text-sm text-foreground/80 break-all whitespace-normal",children:y}),c.jsx(le,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(y),children:"Copy Token"})]})]}),c.jsx("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5 text-sm text-muted-foreground",children:"How to configure: Zscaler Admin  Log Streaming  Add Stream  Paste the URL and secret token."})]}):c.jsx(GR,{streamUrl:x,token:w}),c.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500/20 flex items-center justify-center shrink-0 mt-0.5",children:c.jsx("span",{className:"text-blue-400 text-xs",children:"i"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Share the command above with your user. Once they run it, logs will start streaming in real-time."})]}),c.jsx(le,{className:"w-full",onClick:C,children:"Done"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{children:"Exhaust Type"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{className:de("border rounded-lg p-3 text-left hover:border-border",f==="custom"?"border-border bg-muted/20":"border-border/60"),onClick:()=>m("custom"),children:[c.jsx("div",{className:"font-semibold",children:"Custom Log Stream"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Generic JSON/NDJSON ingestion."})]}),c.jsxs("button",{className:de("border rounded-lg p-3 text-left hover:border-border",f==="zscaler_lss"?"border-border bg-muted/20":"border-border/60"),onClick:()=>m("zscaler_lss"),children:[c.jsx("div",{className:"font-semibold",children:"Zscaler LSS"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use LSS URL + secret in Zscaler admin."})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"stream-name",children:"Stream Name"}),c.jsx(Nt,{id:"stream-name",placeholder:"e.g., prod-api-logs",value:o,onChange:N=>s(N.target.value),className:"bg-muted/30"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(St,{htmlFor:"linked-ticket",children:"Link to Ticket (Optional)"}),c.jsxs(ya,{value:i,onValueChange:a,children:[c.jsx(ai,{className:"bg-muted/30",children:c.jsx(va,{placeholder:"Select a ticket..."})}),c.jsx(li,{children:wle.map(N=>c.jsx(sn,{value:N.key,children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:N.key}),c.jsx("span",{className:"truncate",children:N.title})]})},N.id))})]})]}),o&&c.jsxs("div",{className:"space-y-2 p-4 rounded-lg bg-muted/20 border border-border/50",children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Preview"}),c.jsx("p",{className:"text-sm font-mono text-foreground/80 truncate",children:x})]}),c.jsx(le,{className:"w-full",onClick:S,disabled:!o.trim()||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Stream..."]}):"Create Stream"})]})})]})})},Sle={ERROR:"text-red-400",WARN:"text-amber-400",INFO:"text-blue-400",DEBUG:"text-muted-foreground"},kle={ERROR:"bg-red-500/10",WARN:"bg-amber-500/10",INFO:"bg-blue-500/10",DEBUG:"bg-muted/30"};function Nle({logs:e,className:n}){const[r,o]=g.useState(!1),[s,i]=g.useState(!0),a=g.useRef(null);g.useEffect(()=>{s&&!r&&a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e,s,r]);const l=u=>{if(!u)return"-";let d=null;if(typeof u=="number"){const m=u<1e10?u*1e3:u;d=new Date(m)}else if(typeof u=="string"){const m=Number(u);if(!Number.isNaN(m)&&m!==0){const p=m<1e10?m*1e3:m;d=new Date(p)}else{const p=new Date(u);d=Number.isNaN(p.getTime())?null:p}}if(!d||Number.isNaN(d.getTime()))return"-";const h=d.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=d.getMilliseconds().toString().padStart(3,"0");return`${h}.${f}`};return c.jsxs("div",{className:de("flex flex-col rounded-xl border border-border/50 bg-[#0d0d12] overflow-hidden h-full",n),children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-card/50 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500/80"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500/80"})]}),c.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"live-stream.log"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(le,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>i(!s),children:[c.jsx(qL,{className:de("w-3.5 h-3.5 mr-1",s&&"text-emerald-400")}),"Auto-scroll"]}),c.jsx(le,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>o(!r),children:r?c.jsxs(c.Fragment,{children:[c.jsx(wf,{className:"w-3.5 h-3.5 mr-1 text-emerald-400"}),"Resume"]}):c.jsxs(c.Fragment,{children:[c.jsx(v$,{className:"w-3.5 h-3.5 mr-1"}),"Pause"]})})]})]}),c.jsxs("div",{ref:a,className:"overflow-y-auto p-4 font-mono text-sm space-y-1 h-full",children:[e.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-muted/20 flex items-center justify-center mx-auto mb-3",children:c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"})}),c.jsx("p",{className:"text-sm",children:"Waiting for logs..."}),c.jsx("p",{className:"text-xs mt-1 opacity-60",children:"Logs will appear here in real-time"})]})}):e.map(u=>c.jsxs("div",{className:de("flex items-start gap-3 px-2 py-1 rounded",kle[u.level]),children:[c.jsx("span",{className:"text-muted-foreground text-xs shrink-0 opacity-60",children:l(u.timestamp)}),c.jsx("span",{className:de("text-xs font-semibold uppercase w-12 shrink-0",Sle[u.level]),children:u.level}),u.source&&c.jsxs("span",{className:"text-xs text-muted-foreground shrink-0 opacity-60",children:["[",u.source,"]"]}),c.jsx("span",{className:"text-foreground/90 break-all",children:u.message})]},u.id)),!r&&e.length>0&&c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs pt-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Streaming..."]})]})]})}function Cle({streamId:e}){const[n,r]=g.useState([]);return g.useEffect(()=>{let o=!0;const s=async()=>{try{const a=await fetch(`${la}/exhausts/${e}/errors`);if(!a.ok)return;const l=await a.json();if(!o)return;r(l.items||[])}catch{}};s();const i=setInterval(s,1e4);return()=>{o=!1,clearInterval(i)}},[e]),n.length?c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zd,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{className:"text-sm font-semibold text-foreground",children:"AI Error Summaries"})]}),n.map((o,s)=>c.jsxs("div",{className:"border border-border/50 rounded-lg p-3 bg-card/40",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[c.jsx(d$,{className:"w-3.5 h-3.5 text-amber-400"}),c.jsx("span",{children:o.created_at?new Date(o.created_at).toLocaleString():"Just now"})]}),c.jsx("div",{className:"text-sm whitespace-pre-wrap text-foreground",children:o.summary}),o.log_excerpt&&c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-muted/20 p-2 rounded",children:[c.jsx("span",{className:"font-semibold text-foreground/80",children:"Excerpt:"})," ",o.log_excerpt]})]},s))]}):c.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zd,{className:"w-4 h-4"}),c.jsx("span",{children:"No recent error patterns detected."})]})})}function jle({streamId:e}){var h;const[n,r]=g.useState(""),[o,s]=g.useState(!1),[i,a]=g.useState(null),[l,u]=g.useState(null),d=async()=>{if(n.trim()){s(!0),u(null);try{const f=new AbortController,m=setTimeout(()=>f.abort(),15e3),p=await fetch(`${la}/logs/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamId:e,question:n}),signal:f.signal});if(clearTimeout(m),!p.ok)throw new Error(await p.text());const v=await p.json();a(v)}catch(f){const m=typeof(f==null?void 0:f.message)=="string"?f.message:"Error querying logs.";u(m),a(null)}finally{s(!1)}}};return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-border/50 flex items-center gap-2",children:[c.jsx(YE,{className:"w-4 h-4 text-primary"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Log Chat"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Ask questions about the latest logs."})]})]}),c.jsxs("div",{className:"p-4 space-y-3 flex-1 overflow-y-auto",children:[c.jsx(zn,{value:n,onChange:f=>r(f.target.value),placeholder:"e.g., Why are requests failing?",className:"min-h-[120px]"}),c.jsxs(le,{onClick:d,disabled:o||!n.trim(),className:"gap-2",children:[o?c.jsx(On,{className:"w-4 h-4 animate-spin"}):c.jsx(JE,{className:"w-4 h-4"}),"Ask"]}),l&&c.jsx("div",{className:"text-xs text-destructive",children:l}),i&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-sm text-foreground whitespace-pre-wrap",children:i.answer}),((h=i.citations)==null?void 0:h.length)>0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.jsx("div",{className:"font-semibold text-foreground mb-1",children:"Citations"}),c.jsx("ul",{className:"space-y-1 list-disc list-inside",children:i.citations.map((f,m)=>c.jsxs("li",{children:[c.jsx("span",{className:"font-mono text-foreground",children:f.logId}),": ",f.excerpt]},`${f.logId}-${m}`))})]})]})]})]})}function _le({stream:e,onBack:n,onDisconnect:r,onDelete:o}){const{user:s}=Ao(),[i,a]=g.useState(e.logs||[]),[l,u]=g.useState(e.logs.length===0),[d,h]=g.useState(null),[f,m]=g.useState("analysis"),p=g.useMemo(()=>{var w;const y={},b=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");b&&(y.Authorization=`Bearer ${b}`);const x=((w=s==null?void 0:s.user_metadata)==null?void 0:w.org_id)??(s==null?void 0:s.id);return x&&(y["x-org-id"]=x),y},[s]);g.useEffect(()=>{a(e.logs||[]),u((e.logs||[]).length===0);const y=async()=>{var x;try{const w=await fetch(`${la}/exhausts/${e.id}/logs?limit=200`,{headers:p});if(!w.ok)return;const k=((x=(await w.json()).items)==null?void 0:x.map(C=>({id:C.id,timestamp:C.timestamp||C.created_at,level:(C.level||"INFO").toString().toUpperCase(),message:C.message||C.normalized_text||"",raw:C.raw||C.raw_json})))??[];a(k.reverse()),u(k.length===0)}catch{}};y();const b=setInterval(y,5e3);return h(b),()=>{b&&clearInterval(b)}},[e.id,e.logs,p]);const v=()=>{const y=`curl -X POST ${e.streamUrl} -H "Authorization: Bearer ${e.token}" --data-binary @/path/to/logfile.log`;navigator.clipboard.writeText(y),kt.success("Command copied to clipboard")};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(le,{variant:"ghost",size:"sm",onClick:n,className:"gap-2",children:[c.jsx(Ow,{className:"w-4 h-4"}),"Back"]}),c.jsx("div",{className:"h-6 w-px bg-border/50"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h1",{className:"text-lg font-semibold",children:e.name}),c.jsx(C1,{status:e.status})]}),e.ticketKey&&c.jsxs("a",{href:"#",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors mt-0.5",children:[c.jsx("span",{className:"font-mono",children:e.ticketKey}),c.jsx(Lw,{className:"w-3 h-3"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(le,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[c.jsx(Za,{className:"w-4 h-4"}),"Copy Command"]}),c.jsxs(le,{variant:"outline",size:"sm",onClick:r,className:"gap-2 text-amber-400 border-amber-500/30 hover:bg-amber-500/10",children:[c.jsx(P$,{className:"w-4 h-4"}),"Disconnect"]}),c.jsx(le,{variant:"outline",size:"sm",onClick:()=>m(f==="analysis"?"chat":"analysis"),className:"gap-2",children:"Chat"}),c.jsxs(le,{variant:"outline",size:"sm",onClick:o,className:"gap-2 text-red-400 border-red-500/30 hover:bg-red-500/10",children:[c.jsx(Sf,{className:"w-4 h-4"}),"Delete"]})]})]}),c.jsx("div",{className:"flex-1 flex overflow-hidden",children:l?c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-md text-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center mx-auto mb-6",children:c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500/30 to-blue-500/30 flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 animate-pulse"})})}),c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No logs yet"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Ask your user to run the command below to begin streaming logs."}),c.jsx("div",{className:"text-left",children:c.jsx(GR,{streamUrl:e.streamUrl,token:e.token})})]})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex-1 p-6 overflow-hidden flex flex-col min-w-0",children:c.jsx(Nle,{logs:i,className:"max-h-[90vh] min-h-[70vh]"})}),c.jsx("div",{className:"w-[400px] border-l border-border/50 bg-card/20 flex flex-col shrink-0",children:f==="analysis"?c.jsx(Cle,{streamId:e.id}):c.jsx(jle,{streamId:e.id})})]})})]})}function IC(){const{user:e}=Ao(),n=Es(),{streamId:r}=lA(),[o,s]=g.useState([]),[i,a]=g.useState(null),[l,u]=g.useState(!1),d=g.useMemo(()=>{var S;return((S=e==null?void 0:e.user_metadata)==null?void 0:S.org_id)??(e==null?void 0:e.id)??null},[e]),h=g.useMemo(()=>{const S={"Content-Type":"application/json"},k=localStorage.getItem("access_token")||localStorage.getItem("sb-access-token")||localStorage.getItem("sb-auth-token");k&&(S.Authorization=`Bearer ${k}`),d&&(S["x-org-id"]=d);const C=localStorage.getItem("forge_license_key");return C&&(S["x-license-key"]=C),S},[e,d]),f=async()=>{var S;try{const k=await fetch(`${la}/exhausts${d?`?org_id=${d}`:""}`,{headers:h,credentials:"include"});if(!k.ok)throw new Error(await k.text());const N=((S=(await k.json()).items)==null?void 0:S.map(j=>({id:j.id,name:j.name,status:"waiting",linkedTicket:null,ticketKey:null,createdBy:j.created_by??"You",createdAt:j.created_at,lastActivity:j.created_at,streamUrl:j.ingest_url,token:j.secret_token,logs:[]})))??[];if(s(N),r){const j=N.find(P=>P.id===r);j&&a(j)}}catch(k){console.error("[exhaust] failed to load streams",k),kt.error("Failed to load streams")}};g.useEffect(()=>{f()},[h,r]);const m=async(S,k,C)=>{const N=await fetch(`${la}/exhausts/create`,{method:"POST",headers:h,credentials:"include",body:JSON.stringify({name:S,org_id:d,type:C})});if(!N.ok)throw new Error(await N.text());const j=await N.json(),P={id:j.exhaust_id,name:S,status:"waiting",linkedTicket:k?`Ticket ${k}`:null,ticketKey:k,createdBy:(e==null?void 0:e.email)||"You",createdAt:new Date().toISOString(),lastActivity:new Date().toISOString(),streamUrl:j.ingest_url||j.lss_ingest_url||"",token:j.lss_secret||j.secret_token||"",logs:[]};return s(E=>[P,...E]),n(`/exhausts/${P.id}`),kt.success("Stream created successfully"),j},p=S=>{fetch(`${la}/exhausts/${S}`,{method:"DELETE",headers:h,credentials:"include"}).then(()=>{s(k=>k.filter(C=>C.id!==S)),(i==null?void 0:i.id)===S&&a(null),n("/exhausts"),kt.success("Stream deleted")}).catch(k=>{console.error("[exhaust] failed to delete stream",k),kt.error("Failed to delete stream")})},v=()=>{i&&(s(S=>S.map(k=>k.id===i.id?{...k,status:"disconnected"}:k)),a({...i,status:"disconnected"}),kt.success("Stream disconnected"))},y=S=>{a(S),n(`/exhausts/${S.id}`)},b=o.filter(S=>S.status==="active").length,x=o.filter(S=>S.status==="waiting").length,w=o.filter(S=>S.status==="disconnected").length;return c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[i?c.jsx(_le,{stream:i,onBack:()=>a(null),onDisconnect:v,onDelete:()=>p(i.id)}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center",children:c.jsx(Uc,{className:"w-5 h-5 text-violet-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-semibold",children:"Exhausts"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-Time Log Streams"})]})]}),c.jsxs(le,{onClick:()=>u(!0),className:"gap-2",children:[c.jsx(bf,{className:"w-4 h-4"}),"Create New Log Stream"]})]}),c.jsxs("div",{className:"px-6 py-4 flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:b})," Active"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:x})," Waiting"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-foreground",children:w})," Disconnected"]})]})]}),c.jsx("div",{className:"flex-1 px-6 pb-6 overflow-auto",children:c.jsx(vle,{streams:o,onViewStream:y,onDeleteStream:p})})]}),c.jsx(ble,{open:l,onOpenChange:u,onCreateStream:m})]})}var j1="Progress",_1=100,[Ele,Oce]=Fr(j1),[Tle,Ale]=Ele(j1),KR=g.forwardRef((e,n)=>{const{__scopeProgress:r,value:o=null,max:s,getValueLabel:i=Ple,...a}=e;(s||s===0)&&!OC(s)&&console.error(Mle(`${s}`,"Progress"));const l=OC(s)?s:_1;o!==null&&!DC(o,l)&&console.error(Rle(`${o}`,"Progress"));const u=DC(o,l)?o:null,d=Cm(u)?i(u,l):void 0;return c.jsx(Tle,{scope:r,value:u,max:l,children:c.jsx(Ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Cm(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":QR(u,l),"data-value":u??void 0,"data-max":l,...a,ref:n})})});KR.displayName=j1;var YR="ProgressIndicator",XR=g.forwardRef((e,n)=>{const{__scopeProgress:r,...o}=e,s=Ale(YR,r);return c.jsx(Ue.div,{"data-state":QR(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...o,ref:n})});XR.displayName=YR;function Ple(e,n){return`${Math.round(e/n*100)}%`}function QR(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function Cm(e){return typeof e=="number"}function OC(e){return Cm(e)&&!isNaN(e)&&e>0}function DC(e,n){return Cm(e)&&!isNaN(e)&&e<=n&&e>=0}function Mle(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_1}\`.`}function Rle(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var JR=KR,Ile=XR;const ZR=g.forwardRef(({className:e,value:n,...r},o)=>c.jsx(JR,{ref:o,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(Ile,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));ZR.displayName=JR.displayName;const Bl=e=>typeof e=="string"?e:e==null?"":JSON.stringify(e);function Ole(){var w;const{user:e}=Ao(),n=((w=e==null?void 0:e.user_metadata)==null?void 0:w.org_id)??(e==null?void 0:e.id)??null,r=Un(S=>{var k;return`${((k=S.companyName)==null?void 0:k.trim())||"Atlas"} Engine`}),[o,s]=g.useState(""),[i,a]=g.useState([]),[l,u]=g.useState(null),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[p,v]=g.useState([]);g.useState(""),g.useState(!1),g.useState([]),g.useEffect(()=>{y()},[]),g.useEffect(()=>{if(!n)return;const S=setInterval(()=>{y()},5e3);return()=>clearInterval(S)},[n]);const y=async()=>{if(!n)return;const S=await Ye.listImportJobs(n);a(S||[])},b=async()=>{if(!o.trim()){kt.error("Please enter a valid URL");return}h(!0);try{await Ye.createImportJob(n,o),kt.success("Ingestion started in background!"),s(""),y()}catch(S){console.error(S),kt.error("Failed to start ingestion")}finally{h(!1)}},x=async S=>{var j;if(!((j=S.target.files)!=null&&j.length)||!n)return;m(!0);const k=S.target.files[0],C=`${n}/${Date.now()}-${k.name}`,{error:N}=await vs.storage.from("documents").upload(C,k);if(N){kt.error("Upload failed"),m(!1);return}v(P=>[...P,k]),kt.success("Document uploaded & queued for ingestion"),m(!1)};return c.jsxs("div",{className:"p-6 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Data Sources"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all your company-wide knowledge sources  websites, documents, logs & more."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(It,{className:"shadow-sm hover:shadow-md transition-all",children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-3",children:[c.jsx(h$,{className:"w-5 h-5 text-primary"}),"Knowledge Base Website Ingestion"]})}),c.jsxs(rr,{className:"space-y-6",children:[c.jsxs("p",{className:"text-muted-foreground text-sm leading-relaxed",children:["Add your documentation base URL and ",r," will crawl, extract, chunk, embed and index all pages in the background. Perfect for product docs, help centers, or wikis."]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Nt,{placeholder:"https://docs.yourcompany.com",value:o,onChange:S=>s(S.target.value)}),c.jsx(le,{onClick:b,disabled:d,children:d?"Starting...":"Ingest"})]}),c.jsx("h3",{className:"text-sm font-semibold mt-6",children:"Recent Ingestion Jobs"}),c.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-1",children:i.map(S=>{var k,C,N;return c.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium truncate",children:Bl(S.url)||Bl(S.source)||"Job"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:async()=>{if(n)try{await Ye.deleteImportJob(n,S.id),kt.success("Job deleted"),y()}catch(j){console.error(j),kt.error("Failed to delete job")}},"aria-label":"Delete job",children:c.jsx(Sf,{className:"h-4 w-4"})}),c.jsx(le,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u(l===S.id?null:S.id),"aria-label":"Show crawl info",children:c.jsx(GE,{className:"h-4 w-4"})}),c.jsx(Wt,{variant:"secondary",className:S.status==="completed"?"bg-green-100 text-green-700":S.status==="failed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700",children:Bl(S.status??"queued")})]})]}),c.jsx(ZR,{value:S.progress??0,className:"h-2"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsxs("span",{children:[Bl(S.progress??0),"%"]}),c.jsx("span",{children:S.created_at?new Date(S.created_at).toLocaleString():""})]}),(()=>{const j=S.metadata||{},P=S.processed_records??j.processed_records??0,E=S.total_records??j.total_records??j.pages??void 0,_=j.current_url??"",I=typeof E=="number"?Math.max(0,E-P):null;return c.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"URLs processed"}),c.jsxs("span",{className:"font-medium",children:[P,typeof E=="number"?` / ${E}`:" / ?"]})]}),I!==null&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Remaining"}),c.jsx("span",{className:"font-medium",children:I})]}),_&&c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-[11px] text-muted-foreground",children:"Current URL"}),c.jsx("span",{className:"font-medium break-all text-[11px] text-foreground",children:_})]})]})})(),l===S.id&&c.jsxs("div",{className:"rounded-md border bg-muted/30 p-3 text-xs space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Current URL"}),c.jsx("span",{className:"font-medium break-all",children:Bl(((k=S.metadata)==null?void 0:k.current_url)||S.source||S.url)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Last Error"}),c.jsx("span",{className:"font-medium break-all",children:Bl(((C=S.metadata)==null?void 0:C.error)||((N=S.metadata)==null?void 0:N.reason)||"")})]})]})]},S.id)})})]})]}),c.jsxs(It,{className:"shadow-sm hover:shadow-md transition-all",children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-3",children:[c.jsx(JL,{className:"w-5 h-5 text-primary"}),"Upload Documents (PDF / PPT / DOCX)"]})}),c.jsxs(rr,{className:"space-y-6",children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload files to be processed & indexed by the global ingestion pipeline."}),c.jsxs("div",{className:"w-full border-2 border-dashed border-primary/30 rounded-xl p-6 text-center hover:bg-primary/5 transition-all",children:[c.jsx(Nt,{type:"file",className:"cursor-pointer",onChange:x,disabled:f}),f&&c.jsx("p",{className:"text-primary mt-2 text-sm animate-pulse",children:"Uploading"})]}),c.jsx("div",{className:"space-y-2",children:p.map((S,k)=>c.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qE,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:S.name})]}),c.jsx(Wt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Uploaded"})]},k))})]})]})]}),c.jsxs(It,{className:"shadow-sm hover:shadow-md transition-all",children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-3",children:[c.jsx(Sx,{className:"w-5 h-5 text-primary"}),"Exhaust Systems (Logs, Events, Metrics)"]})}),c.jsxs(rr,{className:"space-y-6",children:[c.jsx("p",{className:"text-muted-foreground text-sm",children:"Connect internal logs, system exhausts, security events, or analytics streams to give your agents live operational awareness."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[c.jsx(VE,{className:"w-4 h-4 text-primary"}),"Syslog Feed"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ingest logs from your core systems, routers, or firewalls."})]}),c.jsx(le,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]}),c.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[c.jsx(Sx,{className:"w-4 h-4 text-primary"}),"App Logs"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Connect production logging systems (ELK, Datadog, CloudWatch)."})]}),c.jsx(le,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]}),c.jsxs("div",{className:"border rounded-lg p-4 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-base flex items-center gap-2",children:[c.jsx(Sx,{className:"w-4 h-4 text-primary"}),"Trace & Telemetry"]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Stream tracing and span data for deep agent visibility."})]}),c.jsx(le,{variant:"outline",className:"w-full mt-4",disabled:!0,children:"Coming Soon"})]})]})]})]})]})}const Dle=[{label:"24h",value:"24h"},{label:"7d",value:"7d"},{label:"30d",value:"30d"},{label:"All",value:"all"}];function Hl(e){return e.toLocaleString()}function $h(e){return`$${e.toFixed(2)}`}const Ov={aiTokensPerMillion:70,embeddingTokensPerMillion:2,vectorStoragePerGb:3,imageGen512:.05,imageGen1024:.1},zh=e=>Number(e||0)/1e6*Ov.aiTokensPerMillion;function Lle(){var j,P;const{user:e,loading:n}=Ao(),r=((j=e==null?void 0:e.user_metadata)==null?void 0:j.org_id)??(e==null?void 0:e.id)??"",[o,s]=g.useState(null),[i,a]=g.useState(null),[l,u]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(null),[p,v]=g.useState("30d"),[y,b]=g.useState(!0),x=ca(E=>E.setUsage);g.useEffect(()=>{if(!r||n)return;(async()=>{b(!0);try{const[_,I,O,U,T]=await Promise.all([Ye.fetchUsageSummary(r),Ye.fetchUsageDaily(r),Ye.fetchUsageBreakdown(r),Ye.fetchUsageModels(r),Ye.fetchUsageAgents(r)]);s(_),a(I),h(O),u(U),m(T),(_==null?void 0:_.total_tokens)!==void 0&&x({total:Number(_.total_tokens)||0,byAgent:{}})}finally{b(!1)}})()},[r,n]);const w=g.useMemo(()=>{if(!l)return[];const E=new Map;return l.forEach(_=>{const I=E.get(_.model_provider)??{tokens:0,cost:0};I.tokens+=Number(_.total_tokens??0),I.cost+=zh(_.total_tokens??0),E.set(_.model_provider,I)}),Array.from(E.entries()).map(([_,I])=>({provider:_,...I}))},[l]),S=g.useMemo(()=>{if(!i)return[];if(p==="all")return i;const E=new Date,_=p==="24h"?1:p==="7d"?7:30;return i.filter(I=>{const O=new Date(I.bucket);return(E.getTime()-O.getTime())/(1e3*60*60*24)<=_})},[i,p]),k=g.useMemo(()=>p==="24h"?"Last 24 Hours":p==="7d"?"This Week":p==="30d"?"This Month":"All Time",[p]),C=g.useMemo(()=>Number((o==null?void 0:o.total_tokens)??0)/1e6*Ov.aiTokensPerMillion,[o]),N=()=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:Array.from({length:6}).map((E,_)=>c.jsx(It,{children:c.jsxs(rr,{className:"p-6 space-y-3",children:[c.jsx(mo,{className:"h-4 w-1/3"}),c.jsx(mo,{className:"h-8 w-1/2"}),c.jsx(mo,{className:"h-3 w-2/3"})]})},_))});return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Billing & Usage"}),c.jsx("p",{className:"text-muted-foreground",children:"See tokens, cost, and breakdowns across all models."})]}),c.jsx("div",{className:"flex items-center gap-2",children:Dle.map(E=>c.jsx(le,{variant:E.value===p?"default":"outline",size:"sm",onClick:()=>v(E.value),children:E.label},E.value))})]}),c.jsxs(It,{className:"border-dashed",children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-2",children:[c.jsx(s$,{className:"w-4 h-4 text-primary"})," Subscription"]})}),c.jsxs(rr,{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[c.jsx("div",{children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your plan and payment method."})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{variant:"outline",children:"View Plans"}),c.jsx(le,{children:"Upgrade"})]})]})]}),y||!o?N():c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[c.jsx(It,{children:c.jsxs(rr,{className:"p-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[c.jsx(DE,{className:"h-4 w-4"})," Today's Tokens"]}),c.jsx("div",{className:"text-3xl font-bold",children:Hl(((P=S[0])==null?void 0:P.total_tokens)??0)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Rolling window based on filter."})]})}),c.jsx(It,{children:c.jsxs(rr,{className:"p-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[c.jsx(A$,{className:"h-4 w-4"})," ",k]}),c.jsx("div",{className:"text-3xl font-bold",children:Hl(S.reduce((E,_)=>E+Number(_.total_tokens??0),0))}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total tokens for selected window."})]})}),c.jsx(It,{children:c.jsxs(rr,{className:"p-6 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[c.jsx(HE,{className:"h-4 w-4"})," Total Cost"]}),c.jsx("div",{className:"text-3xl font-bold",children:$h(C)}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Calculated at $",Ov.aiTokensPerMillion," per 1M AI tokens; embeddings, storage, and images are 0 until tracked."]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs(It,{className:"lg:col-span-2",children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-2",children:[c.jsx(KL,{className:"h-4 w-4 text-primary"})," Daily Tokens"]})}),c.jsx(rr,{children:y||!i?c.jsx(mo,{className:"h-32 w-full"}):c.jsx("div",{className:"space-y-2",children:S.map(E=>{var _;return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:new Date(E.bucket).toLocaleDateString()}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-2 w-24 bg-primary/10 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-2 bg-primary rounded-full",style:{width:`${Math.min(100,Number(E.total_tokens??0)/(((_=S[0])==null?void 0:_.total_tokens)||1)*100)}%`}})}),c.jsx("span",{className:"font-medium",children:Hl(Number(E.total_tokens??0))})]})]},E.bucket)})})})]}),c.jsxs(It,{children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-2",children:[c.jsx(wx,{className:"h-4 w-4 text-primary"})," Provider Breakdown"]})}),c.jsx(rr,{className:"space-y-3",children:y||!w.length?c.jsx(mo,{className:"h-32 w-full"}):w.map(E=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"font-medium capitalize",children:E.provider}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{children:[Hl(E.tokens)," tokens"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:$h(zh(E.tokens))})]})]},E.provider))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs(It,{children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-2",children:[c.jsx(wx,{className:"h-4 w-4 text-primary"})," Connector Breakdown"]})}),c.jsx(rr,{className:"space-y-3",children:y||!d?c.jsx(mo,{className:"h-24 w-full"}):d.map(E=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"capitalize",children:E.source??"unknown"}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{children:[Hl(Number(E.total_tokens??0))," tokens"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:$h(zh(Number(E.total_tokens??0)))})]})]},E.source??"unknown"))})]}),c.jsxs(It,{children:[c.jsx(wo,{children:c.jsxs(bo,{className:"flex items-center gap-2",children:[c.jsx(wx,{className:"h-4 w-4 text-primary"})," Top Agents"]})}),c.jsx(rr,{className:"space-y-3",children:y||!f?c.jsx(mo,{className:"h-24 w-full"}):f.map(E=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{children:E.agent_name??"unknown"}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{children:[Hl(Number(E.total_tokens??0))," tokens"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:$h(zh(Number(E.total_tokens??0)))})]})]},E.agent_name??"unknown"))})]})]})]})}const $le=({connector:e,isSelected:n,onClick:r,onInstall:o,compact:s=!1})=>{const i={security:"bg-red-500/20 text-red-400 border-red-500/30",itsm:"bg-blue-500/20 text-blue-400 border-blue-500/30",devops:"bg-purple-500/20 text-purple-400 border-purple-500/30",monitoring:"bg-green-500/20 text-green-400 border-green-500/30",hr:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",custom:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return c.jsxs("div",{onClick:r,className:de("group relative p-4 rounded-xl border cursor-pointer transition-all duration-200","bg-card/50 hover:bg-card/80 backdrop-blur-sm","border-border/50 hover:border-primary/50",n&&"ring-2 ring-primary border-primary bg-card/80",s&&"p-3"),children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-2xl border border-border/50",children:e.icon}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold text-foreground truncate",children:e.name}),e.verified&&c.jsx(Fw,{className:"w-4 h-4 text-primary flex-shrink-0"})]}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.shortDescription}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[c.jsx(Wt,{variant:"outline",className:de("text-xs",i[e.category]||"bg-muted/40 text-muted-foreground border-border/50"),children:e.category.toUpperCase()}),c.jsx("span",{className:"text-xs text-muted-foreground",children:e.publisher}),c.jsx("span",{className:"text-xs text-muted-foreground",children:""}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["v",e.version]})]})]}),!s&&c.jsx("div",{className:"flex-shrink-0",children:e.installed?c.jsxs(Wt,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:[c.jsx(sa,{className:"w-3 h-3 mr-1"}),"Installed"]}):c.jsxs(le,{size:"sm",variant:"outline",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),o==null||o()},children:[c.jsx(Fd,{className:"w-3 h-3 mr-1"}),"Install"]})})]}),!s&&c.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-border/30",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.jsx(Fd,{className:"w-3 h-3 inline mr-1"}),(e.downloads??0).toLocaleString()," installs"]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["Updated ",e.lastUpdated||""]})]}),e.hasUpdate&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"})})]})},zle=({connector:e,onInstall:n,onClose:r})=>{const o={security:"bg-red-500/20 text-red-400 border-red-500/30",itsm:"bg-blue-500/20 text-blue-400 border-blue-500/30",devops:"bg-purple-500/20 text-purple-400 border-purple-500/30",monitoring:"bg-green-500/20 text-green-400 border-green-500/30",hr:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",custom:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return c.jsxs("div",{className:"h-full flex flex-col bg-card/50 backdrop-blur-sm border-l border-border/50",children:[c.jsxs("div",{className:"p-6 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-3xl border border-border/50",children:e.icon}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-xl font-bold text-foreground",children:e.name}),e.verified&&c.jsx(Fw,{className:"w-5 h-5 text-primary"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["by ",e.publisher]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(Wt,{variant:"outline",className:de("text-xs",o[e.category]||"bg-muted/40 text-muted-foreground border-border/50"),children:e.category.toUpperCase()}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["v",e.version]})]})]})]}),r&&c.jsx(le,{variant:"ghost",size:"icon",onClick:r,children:c.jsx(ul,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[e.installed?c.jsxs(le,{disabled:!0,className:"flex-1 bg-green-500/20 text-green-400 hover:bg-green-500/30",children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),"Installed"]}):c.jsxs(le,{onClick:n,className:"flex-1 bg-primary hover:bg-primary/90",children:[c.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Install Connector"]}),e.openSource&&c.jsx(le,{variant:"outline",size:"icon",children:c.jsx(e$,{className:"w-4 h-4"})})]})]}),c.jsx(ms,{className:"flex-1",children:c.jsxs(jg,{defaultValue:"overview",className:"p-6",children:[c.jsxs(Of,{className:"bg-muted/50 p-1 h-auto",children:[c.jsx(Zr,{value:"overview",className:"text-xs",children:"Overview"}),c.jsx(Zr,{value:"actions",className:"text-xs",children:"Actions"}),c.jsx(Zr,{value:"triggers",className:"text-xs",children:"Triggers"}),c.jsx(Zr,{value:"changelog",className:"text-xs",children:"Changelog"})]}),c.jsxs(eo,{value:"overview",className:"mt-4 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Description"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-medium text-foreground mb-2 flex items-center gap-2",children:[c.jsx($w,{className:"w-4 h-4"}),"Authentication"]}),c.jsx(Wt,{variant:"outline",className:"capitalize",children:e.authType.replace("_"," ")})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Permissions Required"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.permissions.map(s=>c.jsx(Wt,{variant:"secondary",className:"text-xs font-mono",children:s},s))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Downloads"}),c.jsx("p",{className:"text-lg font-semibold text-foreground",children:(e.downloads??0).toLocaleString()})]}),c.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Updated"}),c.jsx("p",{className:"text-lg font-semibold text-foreground",children:e.lastUpdated||""})]})]})]}),c.jsx(eo,{value:"actions",className:"mt-4 space-y-3",children:(e.actions||[]).map(s=>c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(zp,{className:"w-4 h-4 text-primary"}),c.jsx("h4",{className:"font-medium text-foreground",children:s.name}),c.jsx(Wt,{variant:"outline",className:"text-xs font-mono",children:s.method})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),c.jsx("code",{className:"text-xs text-muted-foreground block mt-2 p-2 bg-background/50 rounded",children:s.endpoint})]},s.id))}),c.jsx(eo,{value:"triggers",className:"mt-4 space-y-3",children:(e.triggers||[]).length>0?(e.triggers||[]).map(s=>c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(zp,{className:"w-4 h-4 text-yellow-400"}),c.jsx("h4",{className:"font-medium text-foreground",children:s.name})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),c.jsxs("code",{className:"text-xs text-muted-foreground block mt-2 p-2 bg-background/50 rounded",children:["Event: ",s.event]})]},s.id)):c.jsx("p",{className:"text-sm text-muted-foreground",children:"No triggers available"})}),c.jsx(eo,{value:"changelog",className:"mt-4",children:c.jsx("div",{className:"space-y-3",children:(e.changelog||[]).map((s,i)=>c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(c$,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:s})]},i))})})]})})]})},eI=({open:e,onClose:n,onComplete:r})=>{const[o,s]=g.useState(1),[i,a]=g.useState(""),[l,u]=g.useState(!1),[d,h]=g.useState(""),[f,m]=g.useState(null),[p,v]=g.useState(null),[y,b]=g.useState([]),x=()=>{u(!0),setTimeout(()=>{m({platform:"ServiceNow",actions:["Create Incident","Get Incident Details","Update Incident","Close Incident"],triggers:["Incident Created","Incident Resolved"],authType:"OAuth 2.0",fields:["short_description","description","priority","urgency","assignment_group"]}),u(!1),s(2)},2e3)},w=()=>{u(!0),setTimeout(()=>{v({name:"ServiceNow ITSM",description:"Create, manage, and track incidents in ServiceNow.",actions:[{name:"Create Incident",endpoint:"/api/now/table/incident",method:"POST"},{name:"Get Incident",endpoint:"/api/now/table/incident/{sys_id}",method:"GET"},{name:"Update Incident",endpoint:"/api/now/table/incident/{sys_id}",method:"PUT"},{name:"Close Incident",endpoint:"/api/now/table/incident/{sys_id}",method:"PATCH"}],triggers:[{name:"Incident Created",event:"incident.created"},{name:"Incident Resolved",event:"incident.resolved"}],authType:"oauth2"}),u(!1),s(3)},1500)},S=()=>{u(!0),b([]),setTimeout(()=>{b([{success:!0,message:"Authentication successful"},{success:!0,message:"Create Incident endpoint accessible"},{success:!0,message:"Get Incident endpoint accessible"},{success:!1,message:"Update Incident: Permission denied (check scopes)"}]),u(!1)},2e3)},k=()=>{r(),n(),s(1),a(""),m(null),v(null),b([]),h("")},C=["Build a ServiceNow connector that can create and fetch incidents","Create a Jira integration for managing issues and sprints","Build a Slack connector to send messages and manage channels","Create a GitHub connector for managing repos and pull requests"];return c.jsx(ui,{open:e,onOpenChange:n,children:c.jsxs(Ns,{className:"max-w-3xl max-h-[90vh] p-0 bg-card border-border/50 overflow-hidden",children:[c.jsxs(di,{className:"p-6 pb-4 border-b border-border/30",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-purple-500 flex items-center justify-center",children:c.jsx(cl,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx(fi,{className:"text-xl font-bold",children:"AI Connector Generator"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe what you need, AI builds it for you"})]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-4",children:[1,2,3,4,5].map(N=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:de("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors",o>=N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:o>N?c.jsx(sa,{className:"w-4 h-4"}):N}),N<5&&c.jsx("div",{className:de("w-12 h-0.5 transition-colors",o>N?"bg-primary":"bg-muted")})]},N))})]}),c.jsx(ms,{className:"flex-1 max-h-[60vh]",children:c.jsxs("div",{className:"p-6",children:[o===1&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Describe the connector you want to build"}),c.jsx(zn,{value:i,onChange:N=>a(N.target.value),placeholder:"e.g., Build me a ServiceNow connector that can create incidents and fetch details",className:"min-h-[120px] bg-muted/30 border-border/50"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Try one of these examples:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((N,j)=>c.jsx("button",{onClick:()=>a(N),className:"px-3 py-1.5 text-xs rounded-full bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground transition-colors",children:N},j))})]})]}),o===2&&f&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-primary/10 border border-primary/20",children:[c.jsx("p",{className:"text-sm text-primary font-medium mb-2",children:" AI understood your request"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Review the extracted goals below and edit if needed."})]}),c.jsxs("div",{className:"grid gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Platform Detected"}),c.jsx("p",{className:"text-lg font-semibold text-foreground mt-1",children:f.platform})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Actions"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.actions.map((N,j)=>c.jsxs(Wt,{variant:"secondary",className:"flex items-center gap-1",children:[c.jsx(zp,{className:"w-3 h-3"}),N,c.jsx("button",{className:"ml-1 hover:text-foreground",children:c.jsx(ul,{className:"w-3 h-3"})})]},j))})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Triggers"}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.triggers.map((N,j)=>c.jsxs(Wt,{variant:"secondary",className:"flex items-center gap-1",children:[c.jsx(Uc,{className:"w-3 h-3"}),N]},j))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Auth Type"}),c.jsxs("p",{className:"text-foreground font-medium mt-1 flex items-center gap-2",children:[c.jsx($w,{className:"w-4 h-4"}),f.authType]})]}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Fields Detected"}),c.jsxs("p",{className:"text-foreground font-medium mt-1",children:[f.fields.length," fields"]})]})]})]})]}),o===3&&p&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"AI Generated"}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Name"}),c.jsx("p",{className:"text-foreground font-medium",children:p.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Description"}),c.jsx("p",{className:"text-foreground text-sm",children:p.description})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Actions"}),c.jsx("div",{className:"space-y-1 mt-1",children:p.actions.map((N,j)=>c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Wt,{variant:"outline",className:"font-mono text-xs",children:N.method}),c.jsx("span",{className:"text-foreground",children:N.name})]},j))})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[c.jsx(w$,{className:"w-4 h-4"})," Editable"]}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-primary/30 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Name"}),c.jsx(Nt,{defaultValue:p.name,className:"bg-background/50 border-border/50 mt-1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-muted-foreground",children:"Description"}),c.jsx(zn,{defaultValue:p.description,className:"bg-background/50 border-border/50 mt-1 min-h-[80px]"})]})]})]})]})}),o===4&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/30",children:[c.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Test your connector"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Optionally provide API credentials to test the connector with live data."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:"API Key or Token (optional)"}),c.jsx(Nt,{type:"password",value:d,onChange:N=>h(N.target.value),placeholder:"Enter your API key...",className:"bg-background/50 border-border/50"})]}),c.jsxs(le,{onClick:S,disabled:l,className:"w-full",children:[l?c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx(wf,{className:"w-4 h-4 mr-2"}),"Run Tests"]})]})]}),y.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Test Results"}),y.map((N,j)=>c.jsxs("div",{className:de("p-3 rounded-lg flex items-center gap-2 text-sm",N.success?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"),children:[N.success?c.jsx(sa,{className:"w-4 h-4"}):c.jsx(ul,{className:"w-4 h-4"}),N.message]},j))]})]}),o===5&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:c.jsx(sa,{className:"w-8 h-8 text-green-400"})}),c.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Connector Ready!"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Your connector has been generated and is ready for final review in the Builder."}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30 inline-block",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Generated files:"}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx(Wt,{variant:"secondary",children:"connector.json"}),c.jsx(Wt,{variant:"secondary",children:"4 actions"}),c.jsx(Wt,{variant:"secondary",children:"2 triggers"}),c.jsx(Wt,{variant:"secondary",children:"2 transforms"})]})]})]})]})}),c.jsxs("div",{className:"p-4 border-t border-border/30 flex items-center justify-between bg-muted/10",children:[c.jsxs(le,{variant:"ghost",onClick:()=>o>1?s(o-1):n(),children:[c.jsx(Ow,{className:"w-4 h-4 mr-2"}),o===1?"Cancel":"Back"]}),o===1&&c.jsxs(le,{onClick:x,disabled:!i||l,children:[l&&c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}),"Generate",c.jsx(Vl,{className:"w-4 h-4 ml-2"})]}),o===2&&c.jsxs(le,{onClick:w,disabled:l,children:[l&&c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Draft",c.jsx(Vl,{className:"w-4 h-4 ml-2"})]}),o===3&&c.jsxs(le,{onClick:()=>s(4),children:["Test Connector",c.jsx(Vl,{className:"w-4 h-4 ml-2"})]}),o===4&&c.jsxs(le,{onClick:()=>s(5),children:["Finalize",c.jsx(Vl,{className:"w-4 h-4 ml-2"})]}),o===5&&c.jsxs(le,{onClick:k,className:"bg-green-600 hover:bg-green-700",children:["Open in Builder",c.jsx(Vl,{className:"w-4 h-4 ml-2"})]})]})]})})},LC={step:1,prompt:"",extractedGoals:null,draftConnector:null,testResults:[]};function Fle(e,n){return{id:e,name:(n==null?void 0:n.name)||e,description:(n==null?void 0:n.description)||(n==null?void 0:n.path)||"",endpoint:(n==null?void 0:n.path)||"",method:(n==null?void 0:n.method)||"GET",fields:Object.entries((n==null?void 0:n.body)||{}).map(([r,o])=>({name:r,type:typeof o,required:!0,description:""}))}}function Ule(e,n){return{id:e,name:(n==null?void 0:n.name)||e,description:(n==null?void 0:n.description)||"",event:(n==null?void 0:n.type)||"event"}}function yy(e,n){var i,a,l,u,d,h,f,m,p;const r=e.updatedAt?new Date(e.updatedAt).toISOString().split("T")[0]:"",o=Object.entries(e.actions||{}).map(([v,y])=>Fle(v,y)),s=Object.entries(e.triggers||{}).map(([v,y])=>Ule(v,y));return{id:e.id,backendId:e.id,name:((i=e.manifest)==null?void 0:i.name)||e.id,description:((a=e.manifest)==null?void 0:a.description)||"",shortDescription:((l=e.manifest)==null?void 0:l.description)||"",icon:((u=e.manifest)==null?void 0:u.icon)||"",publisher:((d=e.manifest)==null?void 0:d.publisher)||"atlas",publisherType:"atlas",category:((h=e.manifest)==null?void 0:h.category)||"custom",version:((f=e.manifest)==null?void 0:f.version)||"0.0.0",verified:!!e.verified,installed:n==="installed",isDraft:n==="draft",hasUpdate:!1,downloads:e.downloadCount??0,lastUpdated:r,actions:o,triggers:s,authType:((p=(m=e.manifest)==null?void 0:m.auth)==null?void 0:p.type)||"oauth2",permissions:[],changelog:[],openSource:!1,status:n??e.status}}function Ble(e,n){const r=e.name.toLowerCase(),o=n.get(r);return o?{...o,downloads:e.downloadCount??o.downloads}:{id:e.id,backendId:e.id,name:e.name,description:e.description||"",shortDescription:e.description||"",icon:e.icon||"",publisher:e.publisher||"community",publisherType:"community",category:e.category||"custom",version:e.version||"0.0.0",verified:!!e.verified,installed:!1,isDraft:!1,hasUpdate:!1,downloads:e.downloadCount??0,lastUpdated:"",actions:[],triggers:[],authType:"oauth2",permissions:[],changelog:[],openSource:!1,status:"marketplace"}}const tI=kl((e,n)=>({connectors:[],selectedConnector:null,aiGenerator:LC,searchQuery:"",filters:{category:null,publisher:null,verified:!1},sortBy:"popular",setConnectors:r=>e({connectors:r}),selectConnector:r=>e({selectedConnector:r}),installConnector:async r=>{try{const o=await Ye.installConnector(r),s=yy(o,"installed");e(i=>({connectors:[...i.connectors.filter(l=>l.name.toLowerCase()!==s.name.toLowerCase()),s]}))}catch(o){console.error("Failed to install connector",o)}},uninstallConnector:r=>e(o=>({connectors:o.connectors.map(s=>s.id===r?{...s,installed:!1}:s)})),setSearchQuery:r=>e({searchQuery:r}),setFilters:r=>e(o=>({filters:{...o.filters,...r}})),setSortBy:r=>e({sortBy:r}),loadConnectors:async()=>{try{const[r,o,s]=await Promise.all([Ye.listInstalledConnectors(),Ye.listDraftConnectors(),Ye.listMarketplaceConnectors()]),i=r.map(h=>yy(h,"installed")),a=o.map(h=>yy(h,"draft")),l=new Map;[...i,...a].forEach(h=>l.set(h.name.toLowerCase(),h));const u=s.map(h=>Ble(h,l)),d=[...l.values()];u.forEach(h=>{const f=h.name.toLowerCase();l.has(f)||d.push(h)}),e({connectors:d})}catch(r){console.error("Failed to load connectors",r),e({connectors:[]})}},setAIStep:r=>e(o=>({aiGenerator:{...o.aiGenerator,step:r}})),setAIPrompt:r=>e(o=>({aiGenerator:{...o.aiGenerator,prompt:r}})),setExtractedGoals:r=>e(o=>({aiGenerator:{...o.aiGenerator,extractedGoals:r}})),setDraftConnector:r=>e(o=>({aiGenerator:{...o.aiGenerator,draftConnector:r}})),addTestResult:r=>e(o=>({aiGenerator:{...o.aiGenerator,testResults:[...o.aiGenerator.testResults,r]}})),resetAIGenerator:()=>e({aiGenerator:LC}),getFilteredConnectors:()=>{const{connectors:r,searchQuery:o,filters:s,sortBy:i}=n();let a=r.filter(l=>!l.isDraft);if(o){const l=o.toLowerCase();a=a.filter(u=>u.name.toLowerCase().includes(l)||u.description.toLowerCase().includes(l))}switch(s.category&&(a=a.filter(l=>l.category===s.category)),s.publisher&&(a=a.filter(l=>l.publisherType===s.publisher)),s.verified&&(a=a.filter(l=>l.verified)),i){case"popular":a.sort((l,u)=>u.downloads-l.downloads);break;case"recent":a.sort((l,u)=>new Date(u.lastUpdated).getTime()-new Date(l.lastUpdated).getTime());break;case"verified":a.sort((l,u)=>(u.verified?1:0)-(l.verified?1:0));break;case"community":a=a.filter(l=>l.publisherType==="community");break}return a},getInstalledConnectors:()=>n().connectors.filter(r=>r.installed&&!r.isDraft),getDraftConnectors:()=>n().connectors.filter(r=>r.isDraft),getConnectorsWithUpdates:()=>n().connectors.filter(r=>r.installed&&r.hasUpdate)})),Hle=()=>{const e=Es(),[n,r]=g.useState(!1),{selectedConnector:o,selectConnector:s,searchQuery:i,setSearchQuery:a,filters:l,setFilters:u,sortBy:d,setSortBy:h,getFilteredConnectors:f,installConnector:m,loadConnectors:p}=tI();g.useEffect(()=>{p()},[p]);const v=f();return c.jsxs("div",{className:"h-full flex bg-background",children:[c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsxs("div",{className:"p-6 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Connector Marketplace"}),c.jsx("p",{className:"text-muted-foreground",children:"Discover and install integrations for Atlas"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(le,{variant:"outline",onClick:()=>r(!0),className:"border-primary/50 text-primary hover:bg-primary/10",children:[c.jsx(cl,{className:"w-4 h-4 mr-2"}),"AI Generator"]}),c.jsxs(le,{onClick:()=>e("/my-connectors"),className:"bg-primary hover:bg-primary/90",children:[c.jsx(bf,{className:"w-4 h-4 mr-2"}),"My Connectors"]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(QE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),c.jsx(Nt,{value:i,onChange:y=>a(y.target.value),placeholder:"Search connectors...",className:"pl-10 bg-muted/30 border-border/50"})]}),c.jsxs(ya,{value:l.category||"all",onValueChange:y=>u({category:y==="all"?null:y}),children:[c.jsx(ai,{className:"w-[140px] bg-muted/30 border-border/50",children:c.jsx(va,{placeholder:"Category"})}),c.jsxs(li,{children:[c.jsx(sn,{value:"all",children:"All Categories"}),c.jsx(sn,{value:"security",children:"Security"}),c.jsx(sn,{value:"itsm",children:"ITSM"}),c.jsx(sn,{value:"devops",children:"DevOps"}),c.jsx(sn,{value:"monitoring",children:"Monitoring"}),c.jsx(sn,{value:"hr",children:"HR"})]})]}),c.jsxs(ya,{value:d,onValueChange:y=>h(y),children:[c.jsx(ai,{className:"w-[150px] bg-muted/30 border-border/50",children:c.jsx(va,{})}),c.jsxs(li,{children:[c.jsx(sn,{value:"popular",children:"Most Popular"}),c.jsx(sn,{value:"recent",children:"Recently Updated"}),c.jsx(sn,{value:"verified",children:"Verified"}),c.jsx(sn,{value:"community",children:"Community"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ci,{checked:l.verified,onCheckedChange:y=>u({verified:y})}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified only"})]})]})]}),c.jsx(ms,{className:"flex-1",children:c.jsx("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-4",children:v.map(y=>c.jsx($le,{connector:y,isSelected:(o==null?void 0:o.id)===y.id,onClick:()=>s(y),onInstall:()=>m(y.id)},y.id))})})]}),o&&c.jsx("div",{className:"w-[400px] border-l border-border/50",children:c.jsx(zle,{connector:o,onInstall:()=>m(o.id),onClose:()=>s(null)})}),c.jsx(eI,{open:n,onClose:()=>r(!1),onComplete:()=>e("/builder/new")})]})};var Fg="Checkbox",[Vle,Dce]=Fr(Fg),[Wle,E1]=Vle(Fg);function qle(e){const{__scopeCheckbox:n,checked:r,children:o,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:u,required:d,value:h="on",internal_do_not_use_render:f}=e,[m,p]=Ss({prop:r,defaultProp:s??!1,onChange:u,caller:Fg}),[v,y]=g.useState(null),[b,x]=g.useState(null),w=g.useRef(!1),S=v?!!a||!!v.closest("form"):!0,k={checked:m,disabled:i,setChecked:p,control:v,setControl:y,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:da(s)?!1:s,isFormControl:S,bubbleInput:b,setBubbleInput:x};return c.jsx(Wle,{scope:n,...k,children:Gle(f)?f(k):o})}var nI="CheckboxTrigger",rI=g.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:r,...o},s)=>{const{control:i,value:a,disabled:l,checked:u,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:v}=E1(nI,e),y=ft(s,h),b=g.useRef(u);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const w=()=>f(b.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[i,f]),c.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":da(u)?"mixed":u,"aria-required":d,"data-state":lI(u),"data-disabled":l?"":void 0,disabled:l,value:a,...o,ref:y,onKeyDown:Ne(n,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ne(r,x=>{f(w=>da(w)?!0:!w),v&&p&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});rI.displayName=nI;var T1=g.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:o,checked:s,defaultChecked:i,required:a,disabled:l,value:u,onCheckedChange:d,form:h,...f}=e;return c.jsx(qle,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:d,name:o,form:h,value:u,internal_do_not_use_render:({isFormControl:m})=>c.jsxs(c.Fragment,{children:[c.jsx(rI,{...f,ref:n,__scopeCheckbox:r}),m&&c.jsx(aI,{__scopeCheckbox:r})]})})});T1.displayName=Fg;var oI="CheckboxIndicator",sI=g.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:o,...s}=e,i=E1(oI,r);return c.jsx(ar,{present:o||da(i.checked)||i.checked===!0,children:c.jsx(Ue.span,{"data-state":lI(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...e.style}})})});sI.displayName=oI;var iI="CheckboxBubbleInput",aI=g.forwardRef(({__scopeCheckbox:e,...n},r)=>{const{control:o,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:u,name:d,value:h,form:f,bubbleInput:m,setBubbleInput:p}=E1(iI,e),v=ft(r,p),y=Lb(i),b=Xw(o);g.useEffect(()=>{const w=m;if(!w)return;const S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set,N=!s.current;if(y!==i&&C){const j=new Event("click",{bubbles:N});w.indeterminate=da(i),C.call(w,da(i)?!1:i),w.dispatchEvent(j)}},[m,y,i,s]);const x=g.useRef(da(i)?!1:i);return c.jsx(Ue.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:l,disabled:u,name:d,value:h,form:f,...n,tabIndex:-1,ref:v,style:{...n.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aI.displayName=iI;function Gle(e){return typeof e=="function"}function da(e){return e==="indeterminate"}function lI(e){return da(e)?"indeterminate":e?"checked":"unchecked"}const cI=g.forwardRef(({className:e,...n},r)=>c.jsx(T1,{ref:r,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:c.jsx(sI,{className:de("flex items-center justify-center text-current"),children:c.jsx(qm,{className:"h-4 w-4"})})}));cI.displayName=T1.displayName;const uI=({open:e,onClose:n,connectorName:r="My Connector"})=>{const[o,s]=g.useState(!1),[i,a]=g.useState(!1),[l,u]=g.useState(!1),[d,h]=g.useState({name:r,version:"1.0.0",publisher:"Acme Corp",description:"",category:"custom",changelog:""}),f=`https://atlas.dev/marketplace/connectors/${d.name.toLowerCase().replace(/\s+/g,"-")}`,m=()=>{if(!l){d0({title:"Confirmation required",description:"Please confirm that this connector contains no sensitive data.",variant:"destructive"});return}s(!0),setTimeout(()=>{s(!1),a(!0)},2e3)},p=()=>{navigator.clipboard.writeText(f),d0({title:"Copied!",description:"Share link copied to clipboard."})},v=()=>{a(!1),u(!1),h({name:r,version:"1.0.0",publisher:"Acme Corp",description:"",category:"custom",changelog:""}),n()};return i?c.jsx(ui,{open:e,onOpenChange:v,children:c.jsx(Ns,{className:"max-w-md bg-card border-border/50",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:c.jsx(sa,{className:"w-8 h-8 text-green-400"})}),c.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Published Successfully!"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Your connector is now live on the marketplace."}),c.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border border-border/30 text-left",children:[c.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Shareable Link"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("code",{className:"flex-1 text-sm text-primary truncate",children:f}),c.jsx(le,{variant:"outline",size:"icon",onClick:p,children:c.jsx(Za,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex gap-2 mt-6",children:[c.jsx(le,{variant:"outline",className:"flex-1",onClick:v,children:"Close"}),c.jsx(le,{className:"flex-1",asChild:!0,children:c.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",children:["View in Marketplace",c.jsx(Lw,{className:"w-4 h-4 ml-2"})]})})]})]})})}):c.jsx(ui,{open:e,onOpenChange:v,children:c.jsxs(Ns,{className:"max-w-lg bg-card border-border/50",children:[c.jsx(di,{children:c.jsxs(fi,{className:"flex items-center gap-2",children:[c.jsx($p,{className:"w-5 h-5 text-primary"}),"Publish Connector"]})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(St,{htmlFor:"name",children:"Connector Name"}),c.jsx(Nt,{id:"name",value:d.name,onChange:y=>h({...d,name:y.target.value}),className:"bg-muted/30 border-border/50 mt-1"})]}),c.jsxs("div",{children:[c.jsx(St,{htmlFor:"version",children:"Version"}),c.jsx(Nt,{id:"version",value:d.version,onChange:y=>h({...d,version:y.target.value}),className:"bg-muted/30 border-border/50 mt-1",placeholder:"1.0.0"})]})]}),c.jsxs("div",{children:[c.jsx(St,{htmlFor:"publisher",children:"Publisher Name"}),c.jsx(Nt,{id:"publisher",value:d.publisher,onChange:y=>h({...d,publisher:y.target.value}),className:"bg-muted/30 border-border/50 mt-1"})]}),c.jsxs("div",{children:[c.jsx(St,{htmlFor:"category",children:"Category"}),c.jsxs(ya,{value:d.category,onValueChange:y=>h({...d,category:y}),children:[c.jsx(ai,{className:"bg-muted/30 border-border/50 mt-1",children:c.jsx(va,{})}),c.jsxs(li,{children:[c.jsx(sn,{value:"security",children:"Security"}),c.jsx(sn,{value:"itsm",children:"ITSM"}),c.jsx(sn,{value:"devops",children:"DevOps"}),c.jsx(sn,{value:"monitoring",children:"Monitoring"}),c.jsx(sn,{value:"hr",children:"HR"}),c.jsx(sn,{value:"custom",children:"Custom API"})]})]})]}),c.jsxs("div",{children:[c.jsx(St,{htmlFor:"description",children:"Description"}),c.jsx(zn,{id:"description",value:d.description,onChange:y=>h({...d,description:y.target.value}),className:"bg-muted/30 border-border/50 mt-1 min-h-[80px]",placeholder:"Describe what your connector does..."})]}),c.jsxs("div",{children:[c.jsx(St,{htmlFor:"changelog",children:"Changelog (this version)"}),c.jsx(zn,{id:"changelog",value:d.changelog,onChange:y=>h({...d,changelog:y.target.value}),className:"bg-muted/30 border-border/50 mt-1 min-h-[60px]",placeholder:`- Initial release
- Added create incident action`})]}),c.jsx("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(cI,{id:"confirm",checked:l,onCheckedChange:y=>u(y),className:"mt-0.5"}),c.jsx(St,{htmlFor:"confirm",className:"text-sm text-yellow-200 leading-relaxed cursor-pointer",children:"I confirm that this connector contains no sensitive data, secrets, or proprietary information that should not be shared publicly."})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(le,{variant:"outline",className:"flex-1",onClick:v,children:"Cancel"}),c.jsxs(le,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:m,disabled:o||!l,children:[o?c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx($p,{className:"w-4 h-4 mr-2"}),"Publish to Marketplace"]})]})]})})},Kle=()=>{const e=Es(),[n,r]=g.useState(!1),[o,s]=g.useState(!1),{getInstalledConnectors:i,getDraftConnectors:a,getConnectorsWithUpdates:l,loadConnectors:u}=tI();g.useEffect(()=>{u()},[u]);const d=i(),h=a(),f=l();return c.jsxs("div",{className:"h-full flex flex-col bg-background",children:[c.jsx("div",{className:"p-6 border-b border-border/50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Connectors"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your installed and custom connectors"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(le,{variant:"outline",onClick:()=>r(!0),className:"border-primary/50 text-primary hover:bg-primary/10",children:[c.jsx(cl,{className:"w-4 h-4 mr-2"}),"AI Build"]}),c.jsxs(le,{onClick:()=>e("/builder/new"),className:"bg-primary hover:bg-primary/90",children:[c.jsx(bf,{className:"w-4 h-4 mr-2"}),"Build Manually"]})]})]})}),c.jsx(ms,{className:"flex-1",children:c.jsx("div",{className:"p-6",children:c.jsxs(jg,{defaultValue:"installed",children:[c.jsxs(Of,{className:"bg-muted/50 p-1",children:[c.jsxs(Zr,{value:"installed",children:["Installed (",d.length,")"]}),c.jsxs(Zr,{value:"drafts",children:["Drafts (",h.length,")"]}),c.jsxs(Zr,{value:"updates",className:"relative",children:["Updates",f.length>0&&c.jsx(Wt,{className:"ml-2 bg-primary text-primary-foreground h-5 w-5 p-0 flex items-center justify-center",children:f.length})]})]}),c.jsx(eo,{value:"installed",className:"mt-6",children:c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:d.map(m=>c.jsxs("div",{className:"p-4 rounded-xl bg-card/50 border border-border/50 space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-2xl border border-border/50",children:m.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:m.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["v",m.version,"  ",m.publisher]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(le,{size:"sm",variant:"outline",className:"flex-1",children:[c.jsx(zw,{className:"w-3 h-3 mr-1"}),"Configure"]}),c.jsxs(le,{size:"sm",variant:"outline",className:"flex-1",children:[c.jsx(wf,{className:"w-3 h-3 mr-1"}),"Test"]}),c.jsx(le,{size:"sm",variant:"ghost",children:c.jsx(Sf,{className:"w-3 h-3"})})]})]},m.id))})}),c.jsx(eo,{value:"drafts",className:"mt-6",children:h.length>0?c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:h.map(m=>c.jsxs("div",{className:"p-4 rounded-xl bg-card/50 border border-border/50 space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center text-2xl border border-border/50",children:m.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:m.name}),c.jsx(Wt,{variant:"outline",className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30 mt-1",children:"Draft"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(le,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>e(`/builder/${m.id}`),children:[c.jsx(E$,{className:"w-3 h-3 mr-1"}),"Edit"]}),c.jsxs(le,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>s(!0),children:[c.jsx($p,{className:"w-3 h-3 mr-1"}),"Publish"]})]})]},m.id))}):c.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No draft connectors. Create one to get started."})}),c.jsx(eo,{value:"updates",className:"mt-6",children:f.length>0?c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:f.map(m=>c.jsxs("div",{className:"p-4 rounded-xl bg-card/50 border border-primary/30 space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-2xl border border-border/50",children:m.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:m.name}),c.jsx(Wt,{variant:"outline",className:"bg-primary/20 text-primary border-primary/30 mt-1",children:"Update Available"})]})]}),c.jsxs(le,{size:"sm",className:"w-full bg-primary hover:bg-primary/90",children:[c.jsx(XE,{className:"w-3 h-3 mr-1"}),"Update to v",m.version]})]},m.id))}):c.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"All connectors are up to date."})})]})})}),c.jsx(eI,{open:n,onClose:()=>r(!1),onComplete:()=>e("/builder/new")}),c.jsx(uI,{open:o,onClose:()=>s(!1)})]})},Yle=[{id:"metadata",name:"Metadata",type:"folder",icon:c.jsx(zw,{className:"w-4 h-4"}),children:[{id:"connector.json",name:"connector.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})}]},{id:"auth",name:"Auth",type:"folder",icon:c.jsx($w,{className:"w-4 h-4"}),children:[{id:"auth-config.json",name:"auth-config.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})}]},{id:"actions",name:"Actions",type:"folder",icon:c.jsx(zp,{className:"w-4 h-4"}),children:[{id:"create-incident.json",name:"create-incident.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})},{id:"get-incident.json",name:"get-incident.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})},{id:"update-incident.json",name:"update-incident.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})}]},{id:"triggers",name:"Triggers",type:"folder",icon:c.jsx(Uc,{className:"w-4 h-4"}),children:[{id:"incident-created.json",name:"incident-created.json",type:"file",icon:c.jsx(Al,{className:"w-4 h-4 text-yellow-400"})}]},{id:"transforms",name:"Transforms",type:"folder",icon:c.jsx(bx,{className:"w-4 h-4"}),children:[{id:"request-transform.js",name:"request-transform.js",type:"file",icon:c.jsx(bx,{className:"w-4 h-4 text-blue-400"})},{id:"response-transform.js",name:"response-transform.js",type:"file",icon:c.jsx(bx,{className:"w-4 h-4 text-blue-400"})}]}],dI=({item:e,level:n=0,onSelect:r,selectedId:o,expandedIds:s,toggleExpand:i})=>{const a=s.has(e.id),l=e.type==="folder",u=e.id===o;return c.jsxs("div",{children:[c.jsxs("div",{onClick:()=>{l?i(e.id):r(e)},className:de("flex items-center gap-2 px-2 py-1.5 cursor-pointer rounded-md text-sm transition-colors","hover:bg-muted/50",u&&"bg-primary/20 text-primary"),style:{paddingLeft:`${n*12+8}px`},children:[l?c.jsxs(c.Fragment,{children:[a?c.jsx(Xs,{className:"w-3 h-3 text-muted-foreground"}):c.jsx(FE,{className:"w-3 h-3 text-muted-foreground"}),a?c.jsx(r$,{className:"w-4 h-4 text-primary"}):c.jsx(o$,{className:"w-4 h-4 text-muted-foreground"})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-3"}),e.icon||c.jsx(t$,{className:"w-4 h-4 text-muted-foreground"})]}),c.jsx("span",{className:de("truncate",l&&"font-medium"),children:e.name})]}),l&&a&&e.children&&c.jsx("div",{children:e.children.map(d=>c.jsx(dI,{item:d,level:n+1,onSelect:r,selectedId:o,expandedIds:s,toggleExpand:i},d.id))})]})},Xle=({onSelect:e,selectedId:n})=>{const[r,o]=g.useState(new Set(["metadata","actions"])),s=i=>{o(a=>{const l=new Set(a);return l.has(i)?l.delete(i):l.add(i),l})};return c.jsxs("div",{className:"p-2",children:[c.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider px-2 py-2",children:"Files"}),Yle.map(i=>c.jsx(dI,{item:i,onSelect:e,selectedId:n,expandedIds:r,toggleExpand:s},i.id))]})},Qle=`{
  "name": "ServiceNow",
  "version": "2.4.1",
  "description": "Enterprise IT Service Management platform",
  "publisher": "Atlas",
  "category": "itsm",
  "icon": "",
  "auth": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://instance.service-now.com/oauth_auth.do",
      "tokenUrl": "https://instance.service-now.com/oauth_token.do",
      "scopes": ["useraccount"]
    }
  },
  "baseUrl": "https://{{instance}}.service-now.com",
  "variables": {
    "instance": {
      "type": "string",
      "required": true,
      "description": "Your ServiceNow instance name"
    }
  }
}`,Jle=`{
  "id": "create-incident",
  "name": "Create Incident",
  "description": "Create a new incident in ServiceNow",
  "method": "POST",
  "endpoint": "/api/now/table/incident",
  "headers": {
    "Content-Type": "application/json",
    "Accept": "application/json"
  },
  "body": {
    "short_description": "{{short_description}}",
    "description": "{{description}}",
    "priority": "{{priority}}",
    "caller_id": "{{caller_id}}"
  },
  "fields": [
    {
      "name": "short_description",
      "type": "string",
      "required": true,
      "description": "Brief summary of the incident"
    },
    {
      "name": "description",
      "type": "text",
      "required": false,
      "description": "Detailed description"
    },
    {
      "name": "priority",
      "type": "select",
      "required": true,
      "options": ["1", "2", "3", "4", "5"],
      "description": "Incident priority (1=Critical, 5=Planning)"
    }
  ],
  "response": {
    "transform": "transforms/response-transform.js"
  }
}`,Zle=`// Response transformation script
// Transform the API response to Atlas format

module.exports = function transform(response) {
  const record = response.result;
  
  return {
    id: record.sys_id,
    number: record.number,
    title: record.short_description,
    description: record.description,
    priority: mapPriority(record.priority),
    status: mapState(record.state),
    createdAt: record.sys_created_on,
    updatedAt: record.sys_updated_on,
    assignee: record.assigned_to?.display_value || null,
    reporter: record.caller_id?.display_value || null
  };
};

function mapPriority(priority) {
  const map = { '1': 'critical', '2': 'high', '3': 'medium', '4': 'low', '5': 'planning' };
  return map[priority] || 'unknown';
}

function mapState(state) {
  const map = { '1': 'new', '2': 'in_progress', '3': 'on_hold', '6': 'resolved', '7': 'closed' };
  return map[state] || 'unknown';
}`,ece=e=>e.includes("connector.json")?Qle:e.includes("action")||e.includes("incident")?Jle:e.includes("transform")?Zle:`{
  
}`,tce=({fileName:e,content:n,onChange:r,language:o="json"})=>{const[s,i]=g.useState(n||ece(e)),a=s.split(`
`),l=d=>{i(d.target.value),r(d.target.value)},u=d=>(o==="json"?(d=d.replace(/"([^"]+)":/g,'<span class="text-purple-400">"$1"</span>:'),d=d.replace(/: "([^"]+)"/g,': <span class="text-green-400">"$1"</span>'),d=d.replace(/: (\d+)/g,': <span class="text-yellow-400">$1</span>'),d=d.replace(/: (true|false)/g,': <span class="text-blue-400">$1</span>'),d=d.replace(/: (null)/g,': <span class="text-gray-500">$1</span>')):o==="javascript"&&(d=d.replace(/\b(const|let|var|function|return|if|else|for|while|module|exports)\b/g,'<span class="text-purple-400">$1</span>'),d=d.replace(/'([^']+)'/g,`<span class="text-green-400">'$1'</span>`),d.trim().startsWith("//")&&(d=`<span class="text-gray-500">${d}</span>`)),d);return c.jsxs("div",{className:"h-full flex flex-col bg-[#1e1e2e] rounded-lg overflow-hidden border border-border/30",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/30 border-b border-border/30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/70"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/70"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/70"})]}),c.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:e}),c.jsx("div",{className:"text-xs text-muted-foreground",children:o.toUpperCase()})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{className:"flex min-h-full",children:[c.jsx("div",{className:"flex-shrink-0 py-4 pr-2 text-right bg-muted/10 select-none",children:a.map((d,h)=>c.jsx("div",{className:"px-3 text-xs font-mono text-muted-foreground/50 leading-6",children:h+1},h))}),c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("div",{className:"absolute inset-0 py-4 px-4 pointer-events-none",children:a.map((d,h)=>c.jsx("div",{className:"text-sm font-mono leading-6 whitespace-pre",dangerouslySetInnerHTML:{__html:u(d)||"&nbsp;"}},h))}),c.jsx("textarea",{value:s,onChange:l,className:de("w-full h-full py-4 px-4 bg-transparent text-transparent caret-white","font-mono text-sm leading-6 resize-none outline-none","selection:bg-primary/30"),spellCheck:!1})]})]})})]})},nce=()=>{const[e,n]=g.useState(!1),[r,o]=g.useState("console"),[s,i]=g.useState([{id:"1",name:"Auth: OAuth2 Token Exchange",status:"success",duration:234,request:{grant_type:"client_credentials",scope:"useraccount"},response:{access_token:"eyJ...",expires_in:3600}},{id:"2",name:"Action: Create Incident",status:"success",duration:456,request:{short_description:"Test incident",priority:"3"},response:{result:{sys_id:"abc123",number:"INC0010001"}}},{id:"3",name:"Action: Get Incident",status:"error",duration:123,error:"Record not found: Invalid sys_id"}]),[a,l]=g.useState(["[INFO] Initializing test runner...","[INFO] Loading connector configuration...","[INFO] Authenticating with OAuth2...","[SUCCESS] Token acquired successfully","[INFO] Testing action: Create Incident","[REQUEST] POST /api/now/table/incident","[RESPONSE] 201 Created (456ms)","[SUCCESS] Create Incident passed","[INFO] Testing action: Get Incident","[REQUEST] GET /api/now/table/incident/invalid-id","[RESPONSE] 404 Not Found (123ms)","[ERROR] Get Incident failed: Record not found"]),u=()=>{n(!0),l(h=>[...h,"[INFO] Running all tests..."]),setTimeout(()=>{l(h=>[...h,"[SUCCESS] Test run complete: 2 passed, 1 failed"]),n(!1)},2e3)},d=s.find(h=>h.status!=="pending");return c.jsxs("div",{className:"h-full flex flex-col bg-card/50 border-t border-border/50",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border/30 bg-muted/20",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[c.jsx(Uw,{className:"w-4 h-4"}),"Test Runner"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(sa,{className:"w-3 h-3 text-green-400"})," 2 passed"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(nk,{className:"w-3 h-3 text-red-400"})," 1 failed"]})]})]}),c.jsxs(le,{size:"sm",onClick:u,disabled:e,className:"bg-primary hover:bg-primary/90",children:[e?c.jsx(On,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx(wf,{className:"w-4 h-4 mr-2"}),"Run Tests"]})]}),c.jsxs("div",{className:"flex-1 flex min-h-0",children:[c.jsx("div",{className:"w-64 border-r border-border/30 flex flex-col",children:c.jsx(ms,{className:"flex-1",children:c.jsx("div",{className:"p-2 space-y-1",children:s.map(h=>c.jsxs("div",{className:de("flex items-center gap-2 px-3 py-2 rounded-lg text-sm cursor-pointer transition-colors","hover:bg-muted/50"),children:[h.status==="running"&&c.jsx(On,{className:"w-4 h-4 text-primary animate-spin"}),h.status==="success"&&c.jsx(sa,{className:"w-4 h-4 text-green-400"}),h.status==="error"&&c.jsx(nk,{className:"w-4 h-4 text-red-400"}),h.status==="pending"&&c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-muted-foreground/30"}),c.jsx("span",{className:"truncate text-foreground",children:h.name}),h.duration&&c.jsxs("span",{className:"ml-auto text-xs text-muted-foreground",children:[h.duration,"ms"]})]},h.id))})})}),c.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:c.jsxs(jg,{value:r,onValueChange:o,className:"flex-1 flex flex-col",children:[c.jsxs(Of,{className:"bg-transparent border-b border-border/30 rounded-none h-auto p-0",children:[c.jsx(Zr,{value:"console",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-4 py-2",children:"Console"}),c.jsx(Zr,{value:"request",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-4 py-2",children:"Request"}),c.jsx(Zr,{value:"response",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-4 py-2",children:"Response"})]}),c.jsx(eo,{value:"console",className:"flex-1 m-0",children:c.jsx(ms,{className:"h-full",children:c.jsx("div",{className:"p-4 font-mono text-xs space-y-1",children:a.map((h,f)=>c.jsx("div",{className:de("whitespace-pre",h.includes("[ERROR]")&&"text-red-400",h.includes("[SUCCESS]")&&"text-green-400",h.includes("[REQUEST]")&&"text-blue-400",h.includes("[RESPONSE]")&&"text-purple-400",h.includes("[INFO]")&&"text-muted-foreground"),children:h},f))})})}),c.jsx(eo,{value:"request",className:"flex-1 m-0",children:c.jsx(ms,{className:"h-full",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm",children:[c.jsx("span",{className:"px-2 py-1 rounded bg-blue-500/20 text-blue-400 font-mono",children:"POST"}),c.jsx("code",{className:"text-muted-foreground",children:"/api/now/table/incident"})]}),c.jsx("pre",{className:"bg-muted/30 rounded-lg p-4 text-xs font-mono text-foreground overflow-auto",children:JSON.stringify((d==null?void 0:d.request)||{},null,2)})]})})}),c.jsx(eo,{value:"response",className:"flex-1 m-0",children:c.jsx(ms,{className:"h-full",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm",children:[c.jsx("span",{className:"px-2 py-1 rounded bg-green-500/20 text-green-400 font-mono",children:"201"}),c.jsx("span",{className:"text-muted-foreground",children:"Created"}),c.jsxs("span",{className:"ml-auto text-xs text-muted-foreground",children:[d==null?void 0:d.duration,"ms"]})]}),c.jsx("pre",{className:"bg-muted/30 rounded-lg p-4 text-xs font-mono text-foreground overflow-auto",children:JSON.stringify((d==null?void 0:d.response)||{},null,2)})]})})})]})})]})]})},rce=()=>{const{id:e}=lA();Es();const[n,r]=g.useState({id:"connector.json",name:"connector.json"}),[o,s]=g.useState(""),[i,a]=g.useState(!0),[l,u]=g.useState(!1),d=n!=null&&n.name.endsWith(".js")?"javascript":"json";return c.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[c.jsxs("div",{className:"h-14 px-4 flex items-center justify-between border-b border-border/50 bg-card/50",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("h1",{className:"font-semibold text-foreground",children:e==="new"?"New Connector":"Edit Connector"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(le,{variant:"outline",size:"sm",children:[c.jsx(N$,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),c.jsxs(le,{variant:"outline",size:"sm",onClick:()=>a(!i),children:[c.jsx(wf,{className:"w-4 h-4 mr-2"}),"Test"]}),c.jsxs(le,{variant:"outline",size:"sm",children:[c.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Export ZIP"]}),c.jsxs(le,{size:"sm",onClick:()=>u(!0),className:"bg-primary hover:bg-primary/90",children:[c.jsx($p,{className:"w-4 h-4 mr-2"}),"Publish"]})]})]}),c.jsxs("div",{className:"flex-1 flex min-h-0",children:[c.jsx("div",{className:"w-64 border-r border-border/50 bg-card/30",children:c.jsx(Xle,{onSelect:h=>r({id:h.id,name:h.name}),selectedId:n==null?void 0:n.id})}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsx("div",{className:de("flex-1 min-h-0",i&&"h-1/2"),children:n&&c.jsx(tce,{fileName:n.name,content:o,onChange:s,language:d})}),i&&c.jsx("div",{className:"h-1/2 min-h-[200px]",children:c.jsx(nce,{})})]})]}),c.jsx(uI,{open:l,onClose:()=>u(!1),connectorName:"My Connector"})]})};function oce(){const e=Un(n=>{var r;return`${((r=n.companyName)==null?void 0:r.trim())||"Atlas"} Engine`});return c.jsxs("div",{className:"p-8 space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Help"}),c.jsxs("p",{className:"text-muted-foreground",children:["Get started with ",e]})]}),c.jsx(It,{className:"bg-card border-border p-6",children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Help documentation coming soon"})})})]})}const sce=()=>{const e=_s();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},ice=ou("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),nd=g.forwardRef(({className:e,variant:n,...r},o)=>c.jsx("div",{ref:o,role:"alert",className:de(ice({variant:n}),e),...r}));nd.displayName="Alert";const ace=g.forwardRef(({className:e,...n},r)=>c.jsx("h5",{ref:r,className:de("mb-1 font-medium leading-none tracking-tight",e),...n}));ace.displayName="AlertTitle";const rd=g.forwardRef(({className:e,...n},r)=>c.jsx("div",{ref:r,className:de("text-sm [&_p]:leading-relaxed",e),...n}));rd.displayName="AlertDescription";const lce="https://atlasos.app/login",cce=e=>{if(!e)return null;try{return decodeURIComponent(e)}catch{return e}},uce=e=>{if(!e||typeof window>"u")return"/";if(e.startsWith("/"))return e;try{const n=new URL(e,window.location.origin);return n.origin!==window.location.origin?"/":`${n.pathname}${n.search}${n.hash}`||"/"}catch{return"/"}};function dce(){const{user:e,loading:n}=Ao(),r=Es(),[o]=w9(),[s,i]=g.useState(null),[a,l]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(""),[m,p]=g.useState(null),[v,y]=g.useState(!1),b=Un(I=>{var O;return((O=I.companyName)==null?void 0:O.trim())||"Atlas"}),x=Un(I=>{var O;return((O=I.shortName)==null?void 0:O.trim())||b}),w=`${b} Engine`,S=Un(I=>I.logoUrl||I.sidebarLogoUrl||"/icon.png"),k=o.get("redirect"),C=g.useMemo(()=>uce(cce(k)),[k]),N=(m==null?void 0:m.enabled)??!1,j=!!(m!=null&&m.enforceSso);g.useEffect(()=>{n||!e||r(C,{replace:!0})},[n,e,C,r]),g.useEffect(()=>{if(!h||!h.includes("@")){p(null);return}const I=setTimeout(()=>{y(!0),Ye.discoverSaml(h).then(O=>{p(O)}).catch(O=>{console.warn("[login] sso discovery failed",O),p(null)}).finally(()=>y(!1))},350);return()=>clearTimeout(I)},[h]);const P=g.useCallback(()=>{if(typeof window>"u")return"/auth/callback";const I=new URL("/auth/callback",window.location.origin);return C&&I.searchParams.set("redirect",C),I.toString()},[C]),E=g.useCallback(()=>{if(m!=null&&m.enforceSso){d("Your organization enforces SSO. Please use Login with SSO.");return}if(typeof window>"u")return;i("atlas"),d(null),l(`Taking you to ${x}`);const I=encodeURIComponent(P());window.location.href=`${lce}?source=forge&redirect=${I}`},[x,P,m==null?void 0:m.enforceSso]),_=g.useCallback(async()=>{if(!h||!h.includes("@")){d("Enter your work email to continue with SSO.");return}i("saml"),d(null),l("Redirecting to your identity provider");try{const I=await Ye.startSamlLogin({email:h,redirect:C});if(!(I!=null&&I.redirectUrl))throw new Error("Unable to start SAML login. Please try again.");window.location.href=I.redirectUrl}catch(I){console.error("[login] SAML failed",I),i(null),l(null);const O=I instanceof Error?I.message:"SAML login failed.";d(O)}},[C,h]);return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md space-y-8",children:[c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"w-full max-w-md space-y-8",children:c.jsx("div",{className:"text-center space-y-6",children:c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("img",{src:S,alt:w,className:"h-12 w-auto rounded-lg bg-muted/30 p-1.5"}),c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"text-2xl font-bold text-foreground",children:w}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Secure sign-in"})]})]})})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wt,{variant:"outline",className:"px-3 py-1 text-xs uppercase tracking-wide",children:"Trusted Access"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Choose how to sign in"})]})]}),c.jsxs(It,{className:"shadow-lg border-border/60",children:[c.jsxs(wo,{className:"space-y-2 text-center",children:[c.jsx("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-primary/10 text-primary",children:c.jsx(Fw,{className:"h-6 w-6"})}),c.jsxs(bo,{className:"text-xl font-semibold",children:[w," Login"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select your authentication provider."})]}),c.jsxs(rr,{className:"space-y-5",children:[j?c.jsx(nd,{children:c.jsx(rd,{children:"Your organization enforces SSO. Use the secure login below."})}):c.jsxs("div",{className:"rounded-2xl border border-border/80 bg-card/70 p-4 space-y-3",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold",children:["Login with ",x]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use your ",x," credentials to continue."]})]}),c.jsx(le,{className:"w-full h-12",onClick:E,disabled:s!==null,children:s==="atlas"?c.jsxs(c.Fragment,{children:[c.jsx(On,{className:"h-4 w-4 animate-spin"}),"Redirecting"]}):c.jsxs(c.Fragment,{children:["Sign In with ",x,c.jsx(Vl,{className:"h-4 w-4"})]})})]}),c.jsx(If,{}),c.jsxs("div",{className:`rounded-2xl border border-border/80 p-4 space-y-3 ${N?"bg-card/70":"bg-muted/30"}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Login with SSO"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise SAML 2.0 using your IdP (Okta, Azure AD, Ping)."})]}),c.jsx(Wt,{variant:N?"default":"outline",children:v?"Checking":N?"Ready":"Domain check"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm text-muted-foreground",children:"Work email"}),c.jsx(Nt,{value:h,onChange:I=>f(I.target.value),placeholder:"you@company.com",disabled:s!==null})]}),c.jsx(le,{variant:"outline",className:"w-full h-12",onClick:_,disabled:s!==null||!N||v||!h,children:s==="saml"?c.jsxs(c.Fragment,{children:[c.jsx(On,{className:"h-4 w-4 animate-spin"}),"Connecting"]}):c.jsxs(c.Fragment,{children:["Login with SSO",c.jsx(KE,{className:"h-4 w-4"})]})}),h&&!v&&!N&&c.jsx(nd,{className:"text-sm",children:c.jsxs(rd,{children:["We couldn't find an SSO configuration for ",c.jsx("strong",{children:h.split("@")[1]}),". Contact your admin."]})})]}),a&&c.jsx(nd,{children:c.jsx(rd,{children:a})}),u&&c.jsx(nd,{variant:"destructive",children:c.jsx(rd,{children:u})})]})]}),c.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Need help? Contact atlas-support@atlasos.app."})]})})}const $C=e=>{if(!e||typeof window>"u")return"/";let n=e;try{n=decodeURIComponent(e)}catch{n=e}if(n.startsWith("/"))return n;try{const r=new URL(n,window.location.origin);return r.origin!==window.location.origin?"/":`${r.pathname}${r.search}${r.hash}`||"/"}catch{return"/"}};function fce(){const e=_s(),n=Es(),[r,o]=g.useState(null);return g.useEffect(()=>{(async()=>{const i=new URLSearchParams(e.search),a=new URLSearchParams(e.hash.replace(/^#/,"")),l=i.get("redirect")||a.get("redirect"),u=i.get("token")||i.get("access_token")||a.get("token")||a.get("access_token"),d=i.get("refresh")||i.get("refresh_token")||a.get("refresh")||a.get("refresh_token");if(!u||!d){const{data:m,error:p}=await vs.auth.getSession();if(p){o(p.message);return}if(m.session){const v=$C(l);n(v,{replace:!0});return}o("Missing access or refresh token.");return}const{error:h}=await vs.auth.setSession({access_token:u,refresh_token:d});if(h){o(h.message);return}const f=$C(l);n(f,{replace:!0})})()},[e.search,e.hash,n]),r?c.jsx("div",{className:"flex h-screen items-center justify-center",children:c.jsxs("div",{className:"rounded-md border border-destructive/50 bg-destructive/10 px-6 py-4 text-destructive",children:["Authentication failed: ",r]})}):c.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Signing you in"})}function hce(){const{user:e,loading:n}=Ao(),r=_s(),o=Es();return g.useEffect(()=>{if(n||e)return;const s=`${r.pathname}${r.search}${r.hash}`,i=s?`?redirect=${encodeURIComponent(s)}`:"";o(`/login${i}`,{replace:!0})},[n,e,r.pathname,r.search,r.hash,o]),n||!e&&typeof window<"u"?c.jsx("div",{className:"flex h-screen items-center justify-center text-muted-foreground",children:"Authenticating"}):e?c.jsx(r9,{}):null}function pce(){g.useEffect(()=>{if(typeof window>"u")return;const e=new URL(window.location.href),n=e.searchParams.get("token"),r=e.searchParams.get("refresh");!n||!r||vs.auth.setSession({access_token:n,refresh_token:r}).then(({error:o})=>{if(o){console.error("[supabase] Failed to restore session from redirect",o);return}const s=e.searchParams;s.delete("token"),s.delete("refresh");const i=s.toString(),a=`${e.pathname}${i?`?${i}`:""}${e.hash}`;window.history.replaceState({},"",a),console.log(" Supabase session restored from Atlas redirect")})},[])}function mce(e){const n=md(a=>a.updateGraph),r=md(a=>a.updateState),o=md(a=>a.pushMessage),s=ca(a=>a.setUsage),i=g.useRef(null);g.useEffect(()=>{const a=`${ga}/multi-agent/events`,l=new EventSource(a);i.current=l;const u=m=>{try{const p=JSON.parse(m.data);n(p)}catch(p){console.error("[agent-graph] failed to parse graph",p)}},d=m=>{try{const p=JSON.parse(m.data);r(p)}catch(p){console.error("[agent-graph] failed to parse state",p)}},h=m=>{try{const p=JSON.parse(m.data);o(p)}catch(p){console.error("[agent-graph] failed to parse message",p)}},f=m=>{try{const p=JSON.parse(m.data);s(p)}catch(p){console.error("[agent-graph] failed to parse token usage",p)}};return l.addEventListener("graph",u),l.addEventListener("state",d),l.addEventListener("message",h),l.addEventListener("tokens",f),l.onerror=m=>{console.error("[agent-graph] stream error",m),l.close(),i.current=null},()=>{l.removeEventListener("graph",u),l.removeEventListener("state",d),l.removeEventListener("message",h),l.removeEventListener("tokens",f),l.close(),i.current=null}},[e,o,s,n,r])}const gce={expired:"bg-destructive text-destructive-foreground",warning:"bg-amber-500 text-amber-950"};function xce({kind:e,message:n}){return c.jsx("div",{className:`w-full px-4 py-2 text-sm font-medium text-center ${gce[e]}`,children:n})}function yce(){var u,d,h;const{user:e}=Ao(),n=g.useMemo(()=>{var f;return((f=e==null?void 0:e.user_metadata)==null?void 0:f.org_id)??(e==null?void 0:e.id)??""},[e]),r=typeof window<"u"?localStorage.getItem("forge_license_key")??void 0:void 0,o=Ko({queryKey:["license-status",n,r],queryFn:async()=>n?Ye.fetchLicenseStatus(n,r):null,refetchInterval:6e4,enabled:!!n,staleTime:3e4}),s=Ko({queryKey:["usage-summary",n],queryFn:async()=>n?Ye.fetchUsageSummary(n):null,refetchInterval:6e4,enabled:!!n,staleTime:3e4}),i=Number(((u=s.data)==null?void 0:u.total_tokens)??0)||Number(((d=o.data)==null?void 0:d.tokens_used)??0)||0,a=Number(((h=o.data)==null?void 0:h.max_tokens)??0),l=a>0?Math.min(1,i/a):0;return{...o,usageRatio:l,isExpired:!!o.data&&(!o.data.valid||i>=a&&a>0),isWarning:!!o.data&&a>0&&l>=.9&&l<1}}const vce=new JF({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),wce=()=>{const e=_s(),n=e.pathname.startsWith("/login")||e.pathname.startsWith("/auth"),{data:r,isExpired:o,isWarning:s}=yce(),i=Un(u=>{var d;return`${((d=u.companyName)==null?void 0:d.trim())||"Atlas"} Engine`}),a=o?{kind:"expired",message:"Important: Licence expired"}:s?{kind:"warning",message:"Important: Licence usage almost full"}:null,l=c.jsxs(s9,{children:[c.jsx(xn,{path:"/login",element:c.jsx(dce,{})}),c.jsx(xn,{path:"/auth/callback",element:c.jsx(fce,{})}),c.jsxs(xn,{element:c.jsx(hce,{}),children:[c.jsx(xn,{path:"/",element:c.jsx(BN,{})}),c.jsx(xn,{path:"/overview",element:c.jsx(HB,{})}),c.jsx(xn,{path:"/network",element:c.jsx(PX,{})}),c.jsx(xn,{path:"/memory",element:c.jsx(Kae,{})}),c.jsx(xn,{path:"/multi-agent",element:c.jsx(Qae,{})}),c.jsx(xn,{path:"/console",element:c.jsx(BN,{})}),c.jsx(xn,{path:"/multi-agent/runtime",element:c.jsx(fle,{})}),c.jsx(xn,{path:"/exhausts",element:c.jsx(IC,{})}),c.jsx(xn,{path:"/exhausts/:streamId",element:c.jsx(IC,{})}),c.jsx(xn,{path:"/settings",element:c.jsx(hle,{})}),c.jsx(xn,{path:"/billing",element:c.jsx(Lle,{})}),c.jsx(xn,{path:"/integrations",element:c.jsx(gle,{})}),c.jsx(xn,{path:"/marketplace",element:c.jsx(Hle,{})}),c.jsx(xn,{path:"/my-connectors",element:c.jsx(Kle,{})}),c.jsx(xn,{path:"/builder/:id",element:c.jsx(rce,{})}),c.jsx(xn,{path:"/data-sources",element:c.jsx(Ole,{})}),c.jsx(xn,{path:"/help",element:c.jsx(oce,{})})]}),c.jsx(xn,{path:"*",element:c.jsx(sce,{})})]});return c.jsxs("div",{className:"flex h-screen w-full flex-col bg-background overflow-hidden",children:[a&&c.jsx(xce,{kind:a.kind,message:a.message}),c.jsxs("div",{className:"flex flex-1 min-h-0",children:[!n&&c.jsx(zB,{}),c.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[o&&c.jsxs("div",{className:"absolute inset-0 z-20 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center gap-3 p-6 text-center",children:[c.jsx("p",{className:"text-lg font-semibold",children:"Important: Liscence expired"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Your token allowance has been exhausted or the license is invalid. Please renew your license to continue using ",i,"."]}),c.jsx("a",{href:"/settings",className:"text-primary underline font-medium",children:"Go to Settings"})]}),c.jsx("div",{className:o?"pointer-events-none opacity-60":"",children:l})]})]})]})},bce=()=>{pce(),mce(!0);const e=Un(n=>n.setBranding);return g.useEffect(()=>{Ye.fetchBranding().then(n=>{e({companyName:n.companyName,shortName:n.shortName,logoUrl:n.logoData||void 0,sidebarLogoUrl:n.sidebarLogoData||void 0,faviconUrl:n.faviconData||void 0,loginLogoUrl:n.loginLogoData||void 0,showSidebarText:n.showSidebarText??!0})}).catch(n=>console.warn("[branding] hydrate failed",n))},[e]),c.jsx(r8,{client:vce,children:c.jsxs(IF,{children:[c.jsx(g6,{}),c.jsx(K6,{}),c.jsx(p9,{children:c.jsx(wce,{})})]})})};lE(document.getElementById("root")).render(c.jsx(yU,{children:c.jsx(bce,{})}));
